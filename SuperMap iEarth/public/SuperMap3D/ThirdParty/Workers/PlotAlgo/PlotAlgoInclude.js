/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

﻿/* COPYRIGHT 2012 SUPERMAP
 * 本程序只能在有效的授权许可下使用。
 * 未经许可，不得以任何手段擅自使用或传播。*/

/**
 * @requires SuperMap/BaseTypes.js
 */

/**
 * Namespace: SuperMap.Lang
 * 国际化的命名空间，包含多种语言和方法库来设置和获取当前的语言。
 */
var SuperMapAlgoPlot = window.SuperMapAlgoPlot = window.SuperMapAlgoPlot || {};

/***
 * @private
 * @type {{translate: SuperMap.PlotLang.translate}}
 */
SuperMapAlgoPlot.PlotLang = {
    /**
     * APIMethod: translate
     * 从当前语言字符串的字典查找key。
     *     getCode获取的值用来判断合适的字典。字典存储在 <SuperMap.Lang> 方法中。
     *
     * Parameters:
     * key - {String} 字典中i18n字符串值的关键字.
     * context - {Object} <SuperMap.String.format> 使用此参数。
     *
     * Returns:
     * {String} 国际化的字符串。
     */
    translate: function (key, context) {
        var dictionary = SuperMapAlgoPlot.PlotLang["zh-CN"];
        var message = dictionary && dictionary[key];
        if (!message) {
            // Message not found, fall back to message key
            message = key;
        }
        if (context) {
            message = SuperMapAlgoPlot.String.format(message, context);
        }
        return message;
    }

};


/**
 * @private
 * APIMethod: SuperMap.plotI18n
 *  <SuperMap.Lang.translate> 的别名.  当前语言字符串的字典查找key。
 *  getCode获取的值用来判断合适的字典。字典存储在 <SuperMap.Lang> 方法中。
 *
 * Parameters:
 * key - {String} 字典中i18n字符串值的关键字.
 * context - {Object} <SuperMap.String.format> 使用此参数。
 *
 * Returns:
 * {String} 国际化的字符串。
 */
SuperMapAlgoPlot.plotI18n = SuperMapAlgoPlot.PlotLang.translate;


/**
 * @private
 * */
SuperMapAlgoPlot.PlotLang["zh-CN"] = {
    //字体
    'SongTi': "宋体",
    //text
    'text': "文本",
    'textSizeLabel': "字体大小",
    'textSizeTitle': "字体大小",
    'textFaceNameLabel': "字体",
    'textFaceNameTitle': "字体",
    'textAlignLabel': "水平对齐方式",
    'textAlignTitle': "文本的水平对齐方式",
    'textVerticalAlignmentLabel': "垂直对齐方式",
    'textVerticalAlignmentTitle': "文本的垂直对齐方式",
    'textHaloRadiusLabel': "文本边框宽度",
    'textHaloRadiusTitle': "文本的外围边框的宽度",
    'textHaloColorLabel': "文本边框颜色",
    'textHaloColorTitle': "文本的外围边框的颜色",
    'textFillLabel': "文本颜色",
    'textFillTitle': "文本的颜色值",
    'textOpacityLabel': "透明度",
    'textOpacityTitle': "文本的透明度",
    'textDxLabel': "横向偏移",
    'textDxTitle': "文本的横向偏移值",
    'textDyLabel': "纵向偏移值",
    'textDyTitle': "文本的纵向偏移值",
    'textCompOpLabel': "叠加方式",
    'textCompOpTitle': "文本之间相互叠加里使用的覆盖或者是异或等运算方式",
    'expandingPointContent': "展",
    'volleyPointContent': "齐",
    'rendezvousPointContent': "会",
    'supplyPointContent': "补",
    //symbolAlgo
    //JB
    'symbolAlgo_17703': "加",
    'symbolAlgo_17704': "急",
    'symbolAlgo_21600': "冲",
    'symbolAlgo_28000_1': "危",
    'symbolAlgo_28000_2': "中",
    'symbolAlgo_28000_3': "轻",
    'symbolAlgo_315': "突击",
    'symbolAlgo_31304': "慑阻",
    'symbolAlgo_3010301': "调",
    'symbolAlgo_3010303': "出",
    'symbolAlgo_3010304': "协",

    //WJ
    'symbolAlgo_2121505': "火",
    'symbolAlgo_2121506': "墩",
    'symbolAlgo_2121507': "复",
    'symbolAlgo_2121601': "遥",
    'symbolAlgo_2121602': "障",
    'symbolAlgo_30010': "?",
    'symbolAlgo_3001101': "集",
    'symbolAlgo_3001102': "暴",
    'symbolAlgo_3001103': "骚",
    'symbolAlgo_3001104': "私",
    'symbolAlgo_3001105': "盗",
    'symbolAlgo_30020': "水",
    'symbolAlgo_3002001': "震",
    'symbolAlgo_3002004': "火",
    'symbolAlgo_30025': "滞",
    'symbolAlgo_5010301': "调",
    'symbolAlgo_5010303': "出",
    'symbolAlgo_5010304': "协",
    'symbolAlgo_5010401': "JZ",
    'symbolAlgo_5022001': "ZD0",
    'symbolAlgo_5034801': "催",
    "symbolAlgo_60203": "避",
    'symbolAlgo_60301': "爆",
    'symbolAlgo_6030101': "挖",
    'symbolAlgo_6030102': "浇",
    'symbolAlgo_6030103': "砌",
    'symbolAlgo_6030104': "装",
    'symbolAlgo_6030105': "石",
    'symbolAlgo_6030106': "沙",
    'symbolAlgo_6030107': "练",
    'symbolAlgo_60304': "隧",
    'symbolAlgo_3002501': "踏",
    'symbolAlgo_30026': "灾",
    'symbolAlgo_40104': "缉",
    'symbolAlgo_4030301': "标",
    'symbolAlgo_4030302': "劝",
    'symbolAlgo_4030303': "疏",
    'symbolAlgo_40304': "警",
    'symbolAlgo_4030401': "警",

    //basic symbol
    'polyLine': "折线",
    'parallelogram': "平行四边形",
    'circle': "圆",
    'ellipse': "椭圆",
    'annotation': "注记",
    'regularPolygon': "正多边形",
    'polygon': "多边形",
    'bezier': "贝塞尔曲线",
    'closedBesselCurve': "闭合贝塞尔曲线",
    'kidney': "集结地",
    'brace': "大括号",
    'trapezoid': "梯形",
    'rectangle': "矩形",
    'chord': "弓形",
    'sector': "扇形",
    'arc': "弧线",
    'parallel': "平行线",
    'annoframe': "注记指示框",
    'tooltipBoxM': "多角标注框",
    'runway': "跑道线",
    'curveEight': "八字形",
    'arrowLine': "箭头线",
    'pathText': "沿线注记",
    'concentricCircle': "同心圆",
    'combinedCircle': "组合圆",
    'freeCurve': "自由线",
    'nodeChain': "节点链",
    'lineMarking': "线型标注",
    'symbolTextBox': "标注框",

    'parallelFlatArrow': "平行平耳箭头",
    'multipleArrow': "多箭头",
    'trapezoidalFlatArrow': "梯形平耳箭头",
    'besselPointArrow': "贝塞尔尖耳箭头",
    'besselArrow': "普通贝塞尔箭头",
    'doubleArrow': "钳击箭头",
    'brokenSpaceTriangleArrow': "折线空三角箭头",
    'besselDovetailArrow': "贝塞尔燕尾箭头",
    'ordinaryLineArrow': "普通折线箭头",
    'besselPointedEarsTailArrow': "贝塞尔尖耳燕尾箭头",
    'besselTipArrow': "贝塞尔尖耳单点箭头",
    'besselArrowNoGraph': "普通贝塞尔箭头(不随图)",
    'brokenSpaceTriangleArrowNoGraph': "折线空三角箭头(不随图)",
    'besselPointedEarsTailArrowNoGraph': "贝塞尔尖耳燕尾箭头(不随图)",
    'ordinaryLineArrowNoGraph': "普通折线箭头(不随图)",
    'combianationArrow': "组合箭头",
    'symbolAlgo_311': '进攻方向',
    'symbolAlgo_317': '钳击',

    //new obj
    'airDeployment': "空军兵力部署",
    'airRoute': "空军航线",
    'arcRegion': "扇形区域",
    'flagGroup': "多旗",
    'lineRelation': "对象间连线",
    'polygonRegion': "多边形区域管理",
    'navyRoute': "海军航线",
    'missileRoute': "导弹航线",
    'navyDeployment': "海军兵力部署",
    'satelliteTimeWindows': "卫星时间窗",
    'satellite': "卫星",
    'symbolText': "对象标注",
    'symbolText1': "对象标注(带指示线)",
    'interferenceBeam': "干扰波束",
    'groupObject': "组合对象",

    //routeNodeTypeName
    'RENDEZVOUS': "会合点",
    'EXPANDING': "展开点",
    'VOLLEY': "齐射点",
    'STANDBY': "待机点",
    'SUPPLY': "补给点",
    'TAKEOFF': "起飞点",
    'INITIAL': "初始点",
    'VISUALINITAL': "可视初始点",
    'LANCH': "发射点",
    'TURNING': "转弯点",
    'AIMING': "瞄准点",
    'COMMONROUTE': "普通航路点",
    'WEAPONLAUNCH': "武器发射点",
    'TARGET': "目标点",
    'ATTACK': "攻击点",
    'SUPPRESS': "压制点",
    'EIGHTSPIRAL': "八字盘旋点",
    'HAPPYVALLEY': "跑马圈点",

    'LITERATESIGN': "标牌文字",

    'undoStackOverflow': '撤销的栈溢出',

    //Mapviewer
    'noContent': '无内容',
    'lableTitle': '_标签图层',
    "Distance": '距离',
    "Area": '面积:',
    "SpaceDistance": '空间距离',
    "VerticalHeight": '垂直高度',
    "LevelDistance": '水平距离',
	
	"SYMBOL_Model": '模型',
	"SYMBOL_POINT": '点图元',

};



/***/ }),
/* 1 */
/***/ (function(module, exports) {

!function(){"use strict";function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var l,r=n(e);if(o){var i=n(this).constructor;l=Reflect.construct(r,arguments,i)}else l=r.apply(this,arguments);return function(e,o){if(o&&("object"===t(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,l)}}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,SuperMapAlgoPlot.AlgoSymbol);var n,r,i,a=l(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),0===(e=a.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return n=u,(r=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.03));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0];this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var l=this.scaleValues[1]*e,n=o*e,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,n);if(-1!==r.index){for(var i=r.pt,a=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[i,new SuperMapAlgoPlot.Point(i.x+l,i.y)]),u=0;u<t.length-1;u++){var p,s=t[u],c=t[u+1],P=SuperMapAlgoPlot.PlottingUtil.distance(i,s),f=SuperMapAlgoPlot.PlottingUtil.distance(i,c);if(!(P<l&&f<l))if(P>l&&f<l||P<l&&f>l){var g;g=P>l?s:c,(p=this.getLineAddCircleIntersectPts(s,c,a)).length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p[0],g])}else{var y=SuperMapAlgoPlot.PlottingUtil.projectPoint(i,s,c);if(SuperMapAlgoPlot.PlottingUtil.distance(i,y)>=l)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c]);else if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(y,s,c)){if((p=this.getLineAddCircleIntersectPts(s,c,a)).length>0){p.unshift(s),p.push(c);for(var h=0;h<p.length-1;h++)this.isLineInCircle(p[h],p[h+1],i,l)||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p[h],p[h+1]])}}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c])}}this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[i,new SuperMapAlgoPlot.Point(i.x+l,i.y)]),this.scalePoints=[];var S=i;S.isScalePoint=!0,S.tag=0,this.scalePoints.push(S);var b=new SuperMapAlgoPlot.Point(i.x+l,i.y);b.isScalePoint=!0,b.tag=1,this.scalePoints.push(b),this.finish()}}}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return l>SuperMapAlgoPlot.PlottingUtil.distance(n,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var l=o.slice();l[0].x===l[l.length-1].x&&l[0].y===l[l.length-1].y||l.push(l[0]);for(var n,r=[],i=0;i<l.length-1;i++){var a=l[i],u=l[i+1],p=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,a,u);p.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,a,u)&&r.push(p.intersectPoint)}for(var s=0;s<r.length-1;s++)SuperMapAlgoPlot.PlottingUtil.isSamePt(r[s],r[s+1])&&(r.splice(s,1),s--);if(t.x>e.x)for(var c=0;c<r.length&&c!=r.length-1;c++)r[c].x<r[c+1].x&&(n=r[c],r[c]=r[c+1],r[c+1]=n);else if(t.x<e.x)for(var P=0;P<r.length&&P!=r.length-1;P++)r[P].x>r[P+1].x&&(n=r[P],r[P]=r[P+1],r[P+1]=n);else if(t.y>e.y)for(var f=0;f<r.length&&f!=r.length-1;f++)r[f].y<r[f+1].y&&(n=r[f],r[f]=r[f+1],r[f+1]=n);else if(t.y<e.y)for(var g=0;g<r.length&&g!=r.length-1;g++)r[g].y>r[g+1].y&&(n=r[g],r[g]=r[g+1],r[g+1]=n);return r}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){for(var n=0,r=-1,i=null,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.projectPoint,o[a],o[a+1])){var p=SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e);0==n?(n=p,r=a,i=u.projectPoint):p<n&&(n=p,r=a,i=u.projectPoint)}}if(-1==r)return;for(var s=0,c=0;c<r;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[c],o[c+1]);var P=(s+=SuperMapAlgoPlot.PlottingUtil.distance(i,o[r]))/l;P>1&&(P=1),this.scaleValues[0]=P}if(1===t){var f=this.scaleValues[0]*l,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);if(-1===g.index)return;var y=SuperMapAlgoPlot.PlottingUtil.distance(g.pt,e)/l;y>.4&&(y=.4),this.scaleValues[1]=y}}}}])&&e(n.prototype,r),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),u}();function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=s(t);if(e){var n=s(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12500=r;var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.03),e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();this.scaleValues[0]=e,this.scaleValues[1]=.5*e,this.scaleValues[3]=.5*e}var o=this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);var i=this.GetCurvePts(t,o,l);if(0!==i.pt.length){var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r)*n,u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,a);if(-1!==u.index){for(var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],s=[],c=0;c<360;c+=12)s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,p,p,c));s.push(s[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var P=[],f=[],g=0;g<i.pt.length;g++)SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(s,i.pt[g])?f.length>1&&(P.push(f),f=[]):f.push(i.pt[g]);f.length>1&&P.push(f);for(var y=0;y<P.length;y++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[y]);var h=new SuperMapAlgoPlot.Point(i.pt[0].x,i.pt[0].y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h);var S=new SuperMapAlgoPlot.Point(i.scalePt.x,i.scalePt.y);S.isScalePoint=!0,S.tag=1,this.scalePoints.push(S);var b=new SuperMapAlgoPlot.Point(u.pt.x,u.pt.y);b.isScalePoint=!0,b.tag=2,this.scalePoints.push(b);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(u.pt.x,u.pt.y),p,p,0),A=new SuperMapAlgoPlot.Point(d.x,d.y);A.isScalePoint=!0,A.tag=3,this.scalePoints.push(A),this.finish()}else this.finish()}else this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(null!=e&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(4>this.scaleValues.length)return;var l,n,r,i,a,u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),s=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var c=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),P=SuperMapAlgoPlot.PlottingUtil.distance(c,s);n=2*P/u,this.scaleValues[1]=n}else if(1===t)c=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),l=(P=SuperMapAlgoPlot.PlottingUtil.distance(c,s))/u,this.scaleValues[0]=l;else if(2==t){var f=-1,g=0;a=new SuperMapAlgoPlot.Point(0,0),l=this.scaleValues[0],n=this.scaleValues[1];for(var y=0;y<p.length-1;y++){var h=p[y],S=p[y+1],b=SuperMapAlgoPlot.PlottingUtil.projectPoint(s,h,S);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(b,h,S)){var d=SuperMapAlgoPlot.PlottingUtil.distance(s,b);-1==f?(f=y,a=b,g=d):g>d&&(f=y,a=b,g=d)}}if(-1==f||f>p.length-1)return;i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);for(var A=[],M=0;M<f;M++)A.push(p[M]);A.push(a);var m=SuperMapAlgoPlot.PlottingUtil.polylineDistance(A);if(m<0||m>i)return;r=m/i,this.scaleValues[2]=r}else if(3===t){l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2];var v=(i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p))*r;if(-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,v)).index)return;var O=SuperMapAlgoPlot.PlottingUtil.distance(a.pt,e)/u;O>.4&&(O=.4),this.scaleValues[3]=O}}}},{key:"GetCurvePts",value:function(t,e,o){for(var l,n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=r*e,a=r*o/2,u=[],p=[],s=n[0],c=!1,P=n[0],f=1;f<n.length;f++){var g=n[f],y=SuperMapAlgoPlot.PlottingUtil.distance(s,g);if(!(y<i&&f!==n.length-1)){for(var h,S=parseInt(y/i),b=0;b<S;b++){h=SuperMapAlgoPlot.PlottingUtil.linePnt(s,g,i),c||(l=h,c=!0);var d=this.GetCosPts2D(s,h,i,a);u=p.length>1&&0===b?this.ClearCurvePts2D(P,s,g,p,d,u):u.concat(d),p=(p=[]).concat(d),P=s,s=h}f===n.length-1&&(h=n[n.length-1],d=this.GetCosPts2D(s,h,i,a),u=p.length>1&&d.length>1?this.ClearCurvePts2D(P,s,g,p,d,u):u.concat(d))}}return{pt:u,scalePt:l}}},{key:"GetCosPts2D",value:function(t,e,o,l){for(var n=[],r=SuperMapAlgoPlot.PlottingUtil.distance(t,e),i=o/30,a=0;a<r;a+=i){var u=a*(2*Math.PI/o),p=l*Math.cos(u),s=new SuperMapAlgoPlot.Point(a,p),c=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,c);n.push(P)}return n}},{key:"ClearCurvePts2D",value:function(t,e,o,l,n,r){for(var i=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,a=180*SuperMapAlgoPlot.PlottingUtil.radian(e,t)/Math.PI-i;a<=0;)a+=360;var u=a/2,p=o;p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,u*Math.PI/180,p);for(var s=SuperMapAlgoPlot.PlottingUtil.linePnt(e,p,1),c=0,P=0;P<l.length;P++)if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,l[P])){c=P;break}if(0!=c)for(var f=0;f<l.length-c;f++)r.slice(f,r.length-1);for(var g=0;g<n.length;g++)SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,n[g])&&r.push(n[g]);return r}}])&&a(e.prototype,o),l&&a(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function P(t){"@babel/helpers - typeof";return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=h(t);if(e){var n=h(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12501=c;var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol12500);var e,o,l,n=y(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.03));for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0];this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var n=this.scaleValues[1]*e,r=l*e,i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,r);if(-1!==i.index){for(var a,u=i.pt,p=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[u,new SuperMapAlgoPlot.Point(u.x+n,u.y)]),s=0;s<t.length-1;s++){var c,P=t[s];a=t[s+1];var f=SuperMapAlgoPlot.PlottingUtil.distance(u,P),g=SuperMapAlgoPlot.PlottingUtil.distance(u,a);if(!(f<n&&g<n))if(f>n&&g<n||f<n&&g>n){var y;y=f>n?P:a,(c=this.getLineAddCircleIntersectPts(P,a,p)).length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c[0],y])}else{var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(u,P,a);if(SuperMapAlgoPlot.PlottingUtil.distance(u,h)>=n)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,a]);else if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(h,P,a)){if((c=this.getLineAddCircleIntersectPts(P,a,p)).length>0){c.unshift(P),c.push(a);for(var S=0;S<c.length-1;S++)this.isLineInCircle(c[S],c[S+1],u,n)||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c[S],c[S+1]])}}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,a])}}var b=0;c&&(b=SuperMapAlgoPlot.PlottingUtil.radian(u,c[c.length-1])*SuperMapAlgoPlot.PlottingUtil.RTOD);var d=[];a=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,-n,-n,b),d.push(a,u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var A=SuperMapAlgoPlot.PlottingUtil.radian(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,M=[],m=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.8*n,.8*n,A+170),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.8*n,.8*n,A-170);M.push(m),M.push(v),M.push(u);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[u,new SuperMapAlgoPlot.Point(u.x+n,u.y)]),this.addScalePoint(u,0),this.addScalePoint(new SuperMapAlgoPlot.Point(u.x+n,u.y),1),this.finish()}}}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return l>SuperMapAlgoPlot.PlottingUtil.distance(n,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var l=o.slice();l[0].x===l[l.length-1].x&&l[0].y===l[l.length-1].y||l.push(l[0]);for(var n,r=[],i=0;i<l.length-1;i++){var a=l[i],u=l[i+1],p=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,a,u);p.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,a,u)&&r.push(p.intersectPoint)}for(var s=0;s<r.length-1;s++)SuperMapAlgoPlot.PlottingUtil.isSamePt(r[s],r[s+1])&&(r.splice(s,1),s--);if(t.x>e.x)for(var c=0;c<r.length&&c!=r.length-1;c++)r[c].x<r[c+1].x&&(n=r[c],r[c]=r[c+1],r[c+1]=n);else if(t.x<e.x)for(var P=0;P<r.length&&P!=r.length-1;P++)r[P].x>r[P+1].x&&(n=r[P],r[P]=r[P+1],r[P+1]=n);else if(t.y>e.y)for(var f=0;f<r.length&&f!=r.length-1;f++)r[f].y<r[f+1].y&&(n=r[f],r[f]=r[f+1],r[f+1]=n);else if(t.y<e.y)for(var g=0;g<r.length&&g!=r.length-1;g++)r[g].y>r[g+1].y&&(n=r[g],r[g]=r[g+1],r[g+1]=n);return r}}])&&f(e.prototype,o),l&&f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function b(t){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function A(t,e){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=m(t);if(e){var n=m(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12502=S;var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=M(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e;if(2===t.length)e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);else if(3===t.length){var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0>=r)return;this.scaleValues=[];var i=SuperMapAlgoPlot.PlottingUtil.distance(o,l)/r;this.scaleValues.push(i);var a=180*SuperMapAlgoPlot.PlottingUtil.radian(o,l)/Math.PI;a>90?a-=90:a=270+a,this.scaleValues.push(a*(Math.PI/180));var u=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI;u>90?u-=90:u=270+u,this.scaleValues.push(u*(Math.PI/180)),e=this.scaleValues[0]*r;var p=this.scaleValues[1]*(180/Math.PI)+90,s=this.scaleValues[2]*(180/Math.PI)+90;p<s&&(p+=360);for(var c,P=[],f=p;f>=s;f-=4)c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,f),P.push(c);f!=s&&(c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,s),P.push(c)),this.controlPoints[2]=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P)}this.finish()}}}])&&d(e.prototype,o),l&&d(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function O(t){"@babel/helpers - typeof";return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function L(t,e){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=V(t);if(e){var n=V(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol13700=v;var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=U(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);for(var o=0,l=0,n=e.length-1;l<n;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);for(var r=0,i=0,a=t.length-1;i<a;i++)r+=SuperMapAlgoPlot.PlottingUtil.distance(t[i],t[i+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());for(var u=this.scaleValues[0]*r,p=this.scaleValues[1],s=this.scaleValues[2]*r,c=.3*s,P=s;P<o;P+=s){var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e);if(-1===f.index)return void this.finish();var g=P+c,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,e);if(-1===y.index)return void this.finish();var h=[],S=[];h.push(f.pts);var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[f.index],f.pts);0===p?h.push(new SuperMapAlgoPlot.Point(b.pntLeft.x,b.pntLeft.y)):h.push(new SuperMapAlgoPlot.Point(b.pntRight.x,b.pntRight.y)),S.push(y.pts);var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[y.index],y.pts);if(0===p?S.push(new SuperMapAlgoPlot.Point(d.pntLeft.x,d.pntLeft.y)):S.push(new SuperMapAlgoPlot.Point(d.pntRight.x,d.pntRight.y)),s===P){this.scalePoints=[];var A=new SuperMapAlgoPlot.Point(h[1].x,h[1].y);A.isScalePoint=!0,A.tag=0,this.scalePoints.push(A),(A=new SuperMapAlgoPlot.Point(h[0].x,h[0].y)).isScalePoint=!0,A.tag=1,this.scalePoints.push(A)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;for(var l=0,n=0,r=o.length-1;n<r;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),a=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,l*this.scaleValues[2]);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.distance(u.pt,a)/l,s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i[0],i[1],e);this.scaleValues[1]=s?1:0,this.scaleValues[0]=p}else if(1===t){for(var c=0,P=-1,f=[],g=0,y=i.length-1;g<y;g++){var h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i[g],i[g+1]);if(h.isOnline){var S=SuperMapAlgoPlot.PlottingUtil.distance(h.projectPoint,this.controlPoints[1]);0==c?(c=S,P=g,f=e):S<c&&(c=S,P=g,f=e)}}if(-1==P)return;for(var b=0,d=0,A=P-1;d<A;d++)b+=SuperMapAlgoPlot.PlottingUtil.distance(i[d],i[d+1]);var M=(b+=SuperMapAlgoPlot.PlottingUtil.distance(f,i[P]))/l;M>.7&&(M=.7),this.scaleValues[2]=M}}}}])&&w(e.prototype,o),l&&w(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function T(t){"@babel/helpers - typeof";return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_(t);if(e){var n=_(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15200=j;var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=E(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&R(e.prototype,o),l&&R(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Y(t){"@babel/helpers - typeof";return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function I(t,e){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=D(t);if(e){var n=D(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15201=B;var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=N(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(parseFloat(.1732)),e.scaleValues.push(.1),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0]*l,r=this.scaleValues[1]*l,i=this.scaleValues[2],a=null;if(1===i){var u=SuperMapAlgoPlot.PlottingUtil.linePnt(o,e,l+n);a=new SuperMapAlgoPlot.Point(u.x,u.y)}else u=SuperMapAlgoPlot.PlottingUtil.linePnt(o,e,l-n),a=new SuperMapAlgoPlot.Point(u.x,u.y);var p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*r,t[0],a),s=[];s.push(p.pntRight),s.push(t[0]),s.push(p.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=[],P=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(1===i){var f=new SuperMapAlgoPlot.Point(2*P.x-p.pntLeft.x,2*P.y-p.pntLeft.y);c.push(f),c.push(t[1]);var g=new SuperMapAlgoPlot.Point(2*P.x-p.pntRight.x,2*P.y-p.pntRight.y);c.push(g)}else f=new SuperMapAlgoPlot.Point(2*P.x-p.pntRight.x,2*P.y-p.pntRight.y),c.push(f),c.push(t[1]),g=new SuperMapAlgoPlot.Point(2*P.x-p.pntLeft.x,2*P.y-p.pntLeft.y),c.push(g);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.finish()}}}])&&C(e.prototype,o),l&&C(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function z(t){"@babel/helpers - typeof";return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function G(t,e){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=K(t);if(e){var n=K(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15202=k;var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=W(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.04),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=0;y<f-1;++y){var h=new SuperMapAlgoPlot.Point(u[y].x,u[y].y),S=new SuperMapAlgoPlot.Point(u[y+1].x,u[y+1].y);g=.3*SuperMapAlgoPlot.PlottingUtil.distance(h,S);var b=[],d=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,u[y],u[y+1]),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*g,u[y],d);b.push(A.pntLeft),b.push(A.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?1:0}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f.isOnline){p=f.projectPoint,s=c;break}}if(-1===s)return void(this.scaleValues[2]=.05);for(var g=[],y=0,h=s;y<=h;y++)g.push(l[y]);g.push(p);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g)/n;if(S>=1)return;this.scaleValues[2]=S}}}}])&&F(e.prototype,o),l&&F(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function H(t){"@babel/helpers - typeof";return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Z(t,e){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Q(t);if(e){var n=Q(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15800=q;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=X(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=new SuperMapAlgoPlot.Point(0,0),p=[],s=0;s<=a;s+=r){var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s);if(!(c.index<0)){var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt);if(i?p.push(P.pntRight):p.push(P.pntLeft),Math.abs(s)<=1e-6){this.scalePoints=[];var f=new SuperMapAlgoPlot.Point(p[0].x,p[0].y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f)}else Math.abs(2*r-s)<=1e-6&&((f=new SuperMapAlgoPlot.Point(c.pt.x,c.pt.y)).isScalePoint=!0,f.tag=1,this.scalePoints.push(f));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);for(var g=p.length,y=0,h=0;h<g-1;++h){var S=new SuperMapAlgoPlot.Point(p[h].x,p[h].y),b=new SuperMapAlgoPlot.Point(p[h+1].x,p[h+1].y);y=.3*SuperMapAlgoPlot.PlottingUtil.distance(S,b);var d=[],A=[],M=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.35,p[h],p[h+1]);u=new SuperMapAlgoPlot.Point((p[h].x+p[h+1].x)/2,(p[h].y+p[h+1].y)/2);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*y,p[h],M);d.push(m.pntLeft),d.push(m.pntRight),A.push(new SuperMapAlgoPlot.Point(2*u.x-m.pntLeft.x,2*u.y-m.pntLeft.y)),A.push(new SuperMapAlgoPlot.Point(2*u.x-m.pntRight.x,2*u.y-m.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A)}this.finish()}}}}])&&J(e.prototype,o),l&&J(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tt(t){"@babel/helpers - typeof";return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ot(t,e){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nt(t);if(e){var n=nt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15801=$;var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=lt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u,p=[],s=0;s<=a;s+=r){var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s);if(!(c.index<0)){var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt);if(i?p.push(P.pntRight):p.push(P.pntLeft),Math.abs(s)<=1e-6){this.scalePoints=[];var f=new SuperMapAlgoPlot.Point(p[0].x,p[0].y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f)}else Math.abs(2*r-s)<=1e-6&&((f=new SuperMapAlgoPlot.Point(c.pt.x,c.pt.y)).isScalePoint=!0,f.tag=1,this.scalePoints.push(f));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);for(var g=p.length,y=0,h=0;h<g-1;++h){var S=new SuperMapAlgoPlot.Point(p[h].x,p[h].y),b=new SuperMapAlgoPlot.Point(p[h+1].x,p[h+1].y);y=.3*SuperMapAlgoPlot.PlottingUtil.distance(S,b);var d=[],A=[],M=[],m=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.35,p[h],p[h+1]);u=new SuperMapAlgoPlot.Point((p[h].x+p[h+1].x)/2,(p[h].y+p[h+1].y)/2);var v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*y,p[h],u);A.push(v.pntLeft,v.pntRight);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*y,p[h],m);d.push(O.pntLeft,O.pntRight),M.push(new SuperMapAlgoPlot.Point(2*u.x-O.pntLeft.x,2*u.y-O.pntLeft.y)),M.push(new SuperMapAlgoPlot.Point(2*u.x-O.pntRight.x,2*u.y-O.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M)}this.finish()}}}}])&&et(e.prototype,o),l&&et(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function it(t){"@babel/helpers - typeof";return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ut(t,e){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=st(t);if(e){var n=st(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15802=rt;var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=pt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=0;y<f-1;++y){var h=new SuperMapAlgoPlot.Point(u[y].x,u[y].y),S=new SuperMapAlgoPlot.Point(u[y+1].x,u[y+1].y);g=.3*SuperMapAlgoPlot.PlottingUtil.distance(h,S);var b=[],d=[];if(y!==f-2){var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*g,u[y],u[y+1]);b.push(A.pntLeft),b.push(A.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}if(0!==y){var M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*g,u[y+1],u[y]);d.push(M.pntLeft),d.push(M.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d)}}this.finish()}}}}])&&at(e.prototype,o),l&&at(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pt(t){"@babel/helpers - typeof";return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gt(t,e){return(gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ht(t);if(e){var n=ht(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15803=ct;var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=yt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.029615),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=0;y<f-1;++y){var h=new SuperMapAlgoPlot.Point(u[y].x,u[y].y),S=new SuperMapAlgoPlot.Point(u[y+1].x,u[y+1].y);g=.3*SuperMapAlgoPlot.PlottingUtil.distance(h,S);var b=[],d=new SuperMapAlgoPlot.Point(.5*(h.x+S.x),.5*(h.y+S.y)),A=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,M=SuperMapAlgoPlot.PlottingUtil.circlePoint(d,g,g,A+90),m=1.5*g,v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,m,m,A+260),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,m,m,A+280);b.push(v),b.push(M),b.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.finish()}}}}])&&ft(e.prototype,o),l&&ft(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bt(t){"@babel/helpers - typeof";return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function At(t,e){return(At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=mt(t);if(e){var n=mt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15804=St;var vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&At(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=Mt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=45*Math.PI/180,h=45*Math.PI/180,S=0;S<f-1;S+=2){var b=[],d=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.3,u[S],u[S+1]);b.push(d);var A=new SuperMapAlgoPlot.Point(u[S].x,u[S].y),M=new SuperMapAlgoPlot.Point(u[S+1].x,u[S+1].y);g=SuperMapAlgoPlot.PlottingUtil.distance(A,M);var m=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.6,u[S],u[S+1]),v=new SuperMapAlgoPlot.Point(m.x,m.y);v=SuperMapAlgoPlot.PlottingUtil.rotateAngle(d,y,m),b.push(v);var O=.15*g;m=SuperMapAlgoPlot.PlottingUtil.linePnt(b[1],b[0],O);var w=new SuperMapAlgoPlot.Point(m.x,m.y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(v,h,w),b.push(w);var L=new SuperMapAlgoPlot.Point(b[1].x-b[0].x+b[2].x,b[1].y-b[0].y+b[2].y);b.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.finish()}}}}])&&dt(e.prototype,o),l&&dt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ot(t){"@babel/helpers - typeof";return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Lt(t,e){return(Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vt(t);if(e){var n=Vt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15805=vt;var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ut(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.06),e.scaleValues.push(1),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(t.length>=this.minEditPts){this.scalePoints=[];var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=.6*n,i=this.scaleValues[2]*l,a=0===this.scaleValues[1],u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===u)return;for(var p=[],s=0;s<=u;s+=i){var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s);if(!(c.index<0)){var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt);if(a?p.push(P.pntRight):p.push(P.pntLeft),!((c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.65*i)).index<0||(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[c.index+1],c.pt),a?p.push(P.pntRight):p.push(P.pntLeft),(c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.8*i)).index<0||(p.push(c.pt),(c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.5*i)).index<0||(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt),a?p.push(P.pntLeft):p.push(P.pntRight),c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.2*i),p.push(c.pt),(c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.35*i)).index<0||(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[c.index+1],c.pt),a?p.push(P.pntRight):p.push(P.pntLeft),(c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+i)).index<0||(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt),a?p.push(P.pntRight):p.push(P.pntLeft),!(Math.abs(s)<=1e-6)))))))){this.scalePoints=[];var f=new SuperMapAlgoPlot.Point(p[0].x,p[0].y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f),(f=new SuperMapAlgoPlot.Point(c.pt.x,c.pt.y)).isScalePoint=!0,f.tag=1,this.scalePoints.push(f)}}}var g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(p);SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l,n,r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,r[1],r[0]),l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(new SuperMapAlgoPlot.Point(e.x,e.y),n.pntRight,n.pntLeft);var a=SuperMapAlgoPlot.PlottingUtil.distance(l.projectPoint,o[0])/i;this.scaleValues[0]=a;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(r[0],r[1],new SuperMapAlgoPlot.Point(e.x,e.y));this.scaleValues[1]=u?1:0}else{for(var p,s=-1,c=0;c<r.length-1;c++)if((l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(new SuperMapAlgoPlot.Point(e.x,e.y),r[c],r[c+1])).isOnline){p=l.projectPoint,s=c;break}if(-1===s)return void(this.scaleValues[2]=.05);for(var P=[],f=0;f<=s;f++)P.push(r[f]);P.push(p);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P);this.scaleValues[2]=g/i}}}}])&&wt(e.prototype,o),l&&wt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Tt(t){"@babel/helpers - typeof";return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xt(t,e){return(xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_t(t);if(e){var n=_t(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15806=jt;var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Et(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(1),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,l=0;l<t.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1]);var n=o*this.scaleValues[0],r=o*this.scaleValues[2],i=!1;i=0===this.scaleValues[0];for(var a=0,u=0;u<e.length-1;u++)a+=SuperMapAlgoPlot.PlottingUtil.distance(e[u],e[u+1]);if(0!==a){for(var p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(-1!==s.index){var c=[],P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);i?c.push(P.pntRight):c.push(P.pntLeft);var f=p+r,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,f);if(-1!==g.index){var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[g.index+1],g.pt);i?c.push(y.pntLeft):c.push(y.pntRight),Math.abs(p)<1e-6&&(this.addScalePoint(c[0],0),this.addScalePoint(g.pt,1)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}}}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?1:0}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f.isOnline){p=f.projectPoint,s=c;break}}if(-1===s)return;for(var g=[],y=0,h=s;y<=h;y++)g.push(l[y]);g.push(p);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g);this.scaleValues[2]=S/n}}}}])&&Rt(e.prototype,o),l&&Rt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Yt(t){"@babel/helpers - typeof";return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function It(t,e){return(It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Dt(t);if(e){var n=Dt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15900=Bt;var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Nt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=.05*SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var i=[];i=this.scaleValues[0]<0?i.concat(r):i.concat(n);for(var a=0,u=0;u<i.length-1;u++)a+=SuperMapAlgoPlot.PlottingUtil.distance(i[u],i[u+1]);for(var p=this.getSubSymbolScaleValue(),s=a*p*.5,c=a*p*.125,P=.1*a,f=a*p*.5,g=0;g<=a;g+=P){var y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,g+f);if(-1!==y.index){var h,S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,i[y.index],y.pt);h=this.scaleValues[0]>0?new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y):new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y);var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,h,y.pt),d=[];if(d.push(b.pntRight),d.push(h),d.push(b.pntLeft),0===g){var A=new SuperMapAlgoPlot.Point(h.x,h.y);A.isScalePoint=!0,A.tag=0,this.scalePoints.push(A)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,d,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0})}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e);this.scaleValues[0]=l?-1:1}}}])&&Ct(e.prototype,o),l&&Ct(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zt(t){"@babel/helpers - typeof";return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ft(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gt(t,e){return(Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kt(t);if(e){var n=Kt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16000=kt;var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Wt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=.05*SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);for(var i=0,a=0;a<n.length-1;a++)i+=SuperMapAlgoPlot.PlottingUtil.distance(n[a],n[a+1]);for(var u,p,s,c,P,f,g=i*this.getSubSymbolScaleValue()*.5,y=6*g,h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},S=g;S<=i-g/2;S+=y)-1!==(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,S)).index&&(p=180*SuperMapAlgoPlot.PlottingUtil.radian(n[u.index],n[u.index+1])/Math.PI,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,g,g,p+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,.25*g,.25*g,p),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,.25*g,.25*g,p+180),(f=[]).push(s),f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,h));for(var b=g;b<=i-g/2;b+=y)-1!==(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,b)).index&&(p=180*SuperMapAlgoPlot.PlottingUtil.radian(r[u.index],r[u.index+1])/Math.PI,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,g,g,p+270),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,.25*g,.25*g,p),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,.25*g,.25*g,p+180),(f=[]).push(s),f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,h));this.finish()}}}])&&Ft(e.prototype,o),l&&Ft(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ht(t){"@babel/helpers - typeof";return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zt(t,e){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Qt(t);if(e){var n=Qt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16001=qt;var $t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Xt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){if(this.init(),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts)this.calAssistantLine();else{var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);t.push(t[0]);for(var o=!0,l=e.x,n=e.x+.8,r={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1};o;){o=!1;for(var i,a,u,p,s,c,P=[],f=[],g=new SuperMapAlgoPlot.Point(l,e.y),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,10,10,45),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,10,10,135),S=0;S<t.length-1;S++)(u=SuperMapAlgoPlot.PlottingUtil.intersectLines(g,y,t[S],t[S+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,t[S],t[S+1])&&P.push(u.intersectPoint),(p=SuperMapAlgoPlot.PlottingUtil.intersectLines(g,h,t[S],t[S+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,t[S],t[S+1])&&f.push(p.intersectPoint);if(1<P.length){s=[],s=this.sortPts2D(P);for(var b=0;b<s.length-1;b++)i=new SuperMapAlgoPlot.Point((s[b].x+s[b+1].x)/2,(s[b].y+s[b+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,i)&&((a=[]).push(s[b]),a.push(s[b+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,r,!0))}if(1<f.length){c=[],c=this.sortPts2D(f);for(var d=0;d<c.length-1;d++)i=new SuperMapAlgoPlot.Point((c[d].x+c[d+1].x)/2,(c[d].y+c[d+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,i)&&((a=[]).push(c[d]),a.push(c[d+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,r,!0))}(P.length>0||f.length>0)&&(o=!0),P=[],f=[];for(var A=new SuperMapAlgoPlot.Point(n,e.y),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,10,10,45),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,10,10,135),v=0;v<t.length-1;v++)(u=SuperMapAlgoPlot.PlottingUtil.intersectLines(A,M,t[v],t[v+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,t[v],t[v+1])&&P.push(u.intersectPoint),(p=SuperMapAlgoPlot.PlottingUtil.intersectLines(A,m,t[v],t[v+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,t[v],t[v+1])&&f.push(p.intersectPoint);if(1<P.length){s=[],s=this.sortPts2D(P);for(var O=0;O<s.length-1;O++)i=new SuperMapAlgoPlot.Point((s[O].x+s[O+1].x)/2,(s[O].y+s[O+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,i)&&((a=[]).push(s[O]),a.push(s[O+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,r,!0))}if(1<f.length){c=[],c=this.sortPts2D(f);for(var w=0;w<c.length-1;w++)i=new SuperMapAlgoPlot.Point((c[w].x+c[w+1].x)/2,(c[w].y+c[w+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,i)&&((a=[]).push(c[w]),a.push(c[w+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,r,!0))}(P.length>0||f.length>0)&&(o=!0),l-=.8,n+=.8}this.finish()}}}},{key:"sortPts2D",value:function(t){for(var e,o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=tempPt11):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&Jt(e.prototype,o),l&&Jt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function te(t){"@babel/helpers - typeof";return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oe(t,e){return(oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ne(t);if(e){var n=ne(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16100=$t;var re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=le(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.getSubSymbolScaleValue();this.isEdit||(this.scaleValues[0]=.5*l);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!1);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);for(var a=e*this.scaleValues[1],u=.5*n,p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=u,c=0;s<p;s+=a,c++){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,s);if(-1!==P.index){var f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,o[P.index+1],P.pt),g=[];g.push(f.pntLeft),g.push(f.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),0===c?this.addScalePoint(f.pntRight,0):1===c&&this.addScalePoint(P.pt,1)}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),0==t){r=.5*(l*this.scaleValues[0]);var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===a.index)return;var u=SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=u/l}else if(1===t){r=.5*(l*this.scaleValues[0]);var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===p.index)return;var s=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,i);if(-1==s.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,i[p.index+1]),P=p.index+1;P<s.index;P++)c+=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(i[s.index],s.pt),this.scaleValues[1]=c/l}}}}])&&ee(e.prototype,o),l&&ee(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ie(t){"@babel/helpers - typeof";return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ue(t,e){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=se(t);if(e){var n=se(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16200=re;var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pe(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues.push(.02),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(.01)):3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*l,!1);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n),r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);for(var i=e*this.scaleValues[1],a=e*this.scaleValues[3],u=0,p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=a,c=0;s<=p-a;s+=i,c++){u=s+a;var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,u);if(-1!==P.index){var f=new SuperMapAlgoPlot.Point(P.pt.x,P.pt.y+.5*l),g=[];g.push(P.pt),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,g),0===c?this.addScalePoint(f):1===c&&this.addScalePoint(P.pt)}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),0==t){r=l*this.scaleValues[3];var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===a.index)return;var u=2*SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=u/l}else if(1===t){r=l*this.scaleValues[3];var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===p.index)return;var s=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,i);if(-1==s.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,i[p.index+1]),P=p.index+1;P<s.index;P++)c+=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(i[s.index],s.pt),this.scaleValues[1]=c/l,this.scaleValues[1]>.9&&(this.scaleValues[1]=.9)}}}}])&&ae(e.prototype,o),l&&ae(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pe(t){"@babel/helpers - typeof";return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ge(t,e){return(ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=he(t);if(e){var n=he(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16201=ce;var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ye(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l,n,r=this.scaleValues[0]*e;l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!1);var i=new SuperMapAlgoPlot.Point(l[0].x,l[0].y);i.isScalePoint=!0,i.tag=0,this.scalePoints.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);var a=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),u=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),p=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,s=new SuperMapAlgoPlot.Point(.3*e,0),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,s,p),P=new SuperMapAlgoPlot.Point(0,.4*r),f=new SuperMapAlgoPlot.Point(0,.2*r),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,P,p),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,f,p),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,h);var S=new SuperMapAlgoPlot.Point(0,.2*r),b=new SuperMapAlgoPlot.Point(0,-.4*r),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,S,p),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,b,p);(h=[]).push(d),h.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var M=new SuperMapAlgoPlot.Point(.2*r,-.2*r),m=new SuperMapAlgoPlot.Point(-.2*r,-.6*r),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,M,p),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,m,p);(h=[]).push(v),h.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var w=new SuperMapAlgoPlot.Point(-.2*r,-.2*r),L=new SuperMapAlgoPlot.Point(.2*r,-.6*r),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,w,p),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,L,p);(h=[]).push(U),h.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var j=new SuperMapAlgoPlot.Point(.7*e,0),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,j,p),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,P,p),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,f,p);(h=[]).push(R),h.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,h);var E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,S,p),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,b,p);(h=[]).push(E),h.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,M,p),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,m,p);(h=[]).push(B),h.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,w,p),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,L,p);(h=[]).push(C),h.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;this.scaleValues[0]=r}}}}])&&fe(e.prototype,o),l&&fe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function be(t){"@babel/helpers - typeof";return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ae(t,e){return(Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=me(t);if(e){var n=me(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16202=Se;var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ae(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Me(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o),this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());for(var l=this.scaleValues[0]*e,n=this.scaleValues[1]*e,r=.01*e,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=0,u={surroundLineFlag:!1,fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},p=r,s=0;p<=i;p+=n,s++){a=p+r;var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,a);if(-1===c.index)return;for(var P=SuperMapAlgoPlot.PlottingUtil.radian(c.pt,o[c.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,f=this.getSubSymbolPts(l),g=[],y=0,h=f.length;y<h;y++)g.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c.pt,f[y],P));if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,u),0===s){var S=new SuperMapAlgoPlot.Point((g[0].x+g[1].x)/2,(g[0].y+g[1].y)/2);this.addScalePoint(S,0)}else 1===s&&this.addScalePoint(c.pt,1);this.finish()}}}},{key:"getSubSymbolPts",value:function(t){var e=.5*t,o=[];return o.push(new SuperMapAlgoPlot.Point(.5*e,2*e)),o.push(new SuperMapAlgoPlot.Point(.5*-e,2*e)),o.push(new SuperMapAlgoPlot.Point(.5*-e,-2*e)),o.push(new SuperMapAlgoPlot.Point(.5*e,-2*e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=.01*l;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);if(-1===i.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt);this.scaleValues[0]=a/l}else if(1===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n);if(-1===p.index)return;for(var s=0,c=u.index+1;c<p.index;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(n[c],n[c+1]);s+=SuperMapAlgoPlot.PlottingUtil.distance(n[p.index],p.pt),s-=r,this.scaleValues[1]=s/l,s>l-l*this.scaleValues[0]-r&&(this.scaleValues[1]=(l-l*this.scaleValues[0]-r)/l)}}}}])&&de(e.prototype,o),l&&de(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Oe(t){"@babel/helpers - typeof";return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Le(t,e){return(Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ve(t);if(e){var n=Ve(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ve(t){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16203=ve;var je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ue(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e}return e=r,(o=[{key:"calculateParts",value:function(){if(this.init(),this.controlPoints.length>=this.minEditPts){var t,e=[];if(2===this.controlPoints.length){for(var o=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]),l=this.scaleValues[0]*o,n=SuperMapAlgoPlot.PlottingUtil.parallel(this.controlPoints,l/2),r=SuperMapAlgoPlot.PlottingUtil.parallel(this.controlPoints,-l/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(this.controlPoints[0],this.controlPoints[1])/Math.PI,a=[],u=i+90;u<=i+270;u+=10)t=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],l/2,l/2,u),a.push(t);for(var p=[],s=i-90;s<=i+90;s+=10)t=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[1],l/2,l/2,s),p.push(t);e=(e=(e=(e=e.concat(a)).concat(r)).concat(p)).concat(n)}else this.controlPoints.length<=3?e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,this.controlPoints):this.controlPoints.length>3&&!0===this.polylineConnectLocationPoint?e=this.controlPoints:(this.controlPoints.push(this.controlPoints[0]),e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(this.controlPoints));e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var c=e[0].x,P=e[0].x,f=e[0].y,g=e[0].y;for(u=0;u<e.length;u++)c>e[u].x&&(c=e[u].x),P<e[u].x&&(P=e[u].x),f>e[u].y&&(f=e[u].y),g<e[u].y&&(g=e[u].y);for(var y=new SuperMapAlgoPlot.Point((P+c)/2,(g+f)/2),h=(P-c)/5,S={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1},b=!0,d=y.x,A=y.x;b;){b=!1;for(var M,m,v,O=[],w=[],L=new SuperMapAlgoPlot.Point(d,y.y),U=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,10,10,45),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,10,10,135),j=0;j<e.length-1;j++)(m=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,U,e[j],e[j+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(m.intersectPoint,e[j],e[j+1])&&O.push(m.intersectPoint),(v=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,V,e[j],e[j+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(v.intersectPoint,e[j],e[j+1])&&w.push(v.intersectPoint);if(1<O.length){O=this.sortPts2D(O);for(var T=0;T<O.length-1;T++)if(t=new SuperMapAlgoPlot.Point((O[T].x+O[T+1].x)/2,(O[T].y+O[T+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,t)){var R=[];R.push(O[T]),R.push(O[T+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,S,!0)}}if(1<w.length){w=this.sortPts2D(w);for(var x=0;x<w.length-1;x++)t=new SuperMapAlgoPlot.Point((w[x].x+w[x+1].x)/2,(w[x].y+w[x+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,t)&&((M=[]).push(w[x]),M.push(w[x+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,S,!0))}(O.length>0||w.length>0)&&(b=!0),O=[],w=[];for(var E=new SuperMapAlgoPlot.Point(A,y.y),_=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,5,5,45),B=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,5,5,135),Y=0;Y<e.length-1;Y++)(m=SuperMapAlgoPlot.PlottingUtil.intersectLines(E,_,e[Y],e[Y+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(m.intersectPoint,e[Y],e[Y+1])&&O.push(m.intersectPoint),(v=SuperMapAlgoPlot.PlottingUtil.intersectLines(E,B,e[Y],e[Y+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(v.intersectPoint,e[Y],e[Y+1])&&w.push(v.intersectPoint);if(1<O.length){O=this.sortPts2D(O);for(var C=0;C<O.length-1;C+=2)t=new SuperMapAlgoPlot.Point((O[C].x+O[C+1].x)/2,(O[C].y+O[C+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,t)&&((M=[]).push(O[C]),M.push(O[C+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,S,!0))}if(1<w.length){w=this.sortPts2D(w);for(var I=0;I<w.length-1;I++)t=new SuperMapAlgoPlot.Point((w[I].x+w[I+1].x)/2,(w[I].y+w[I+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,t)&&((M=[]).push(w[I]),M.push(w[I+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,S,!0))}(O.length>0||w.length>0)&&(b=!0),d-=h,A+=h}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e,o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&we(e.prototype,o),l&&we(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Te(t){"@babel/helpers - typeof";return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xe(t,e){return(xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_e(t);if(e){var n=_e(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _e(t){return(_e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16500=je;var Be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xe(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ee(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n=this.scaleValues[1]*e,r=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),i=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),a=180*SuperMapAlgoPlot.PlottingUtil.radian(r,i)/Math.PI,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,n,n,a+90),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,a+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,a+90),P=[];P.push(p),P.push(u),P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P)),(P=[]).push(p),P.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P)),(P=[]).push(c),P.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P));var f=new SuperMapAlgoPlot.Point(u.x,u.y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f);var g=new SuperMapAlgoPlot.Point(p.x,p.y);g.isScalePoint=!0,g.tag=1,this.scalePoints.push(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(this.isEdit=!0,!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(r<this.scaleValues[1])return;this.scaleValues[0]=r}else if(1==t){var i=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(this.scaleValues[0]<i)return;this.scaleValues[1]=i}}}}])&&Re(e.prototype,o),l&&Re(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ye(t){"@babel/helpers - typeof";return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ce(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ie(t,e){return(Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=De(t);if(e){var n=De(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16700=Be;var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ne(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l,n,r=this.scaleValues[0]*e,i=t[0],a=t[1],u=180*SuperMapAlgoPlot.PlottingUtil.radian(i,a)/Math.PI;l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!1);var p=.15*e,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[0],p,p,u+165),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(n[0],p,p,u-165),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[l.length-1],p,p,u+15),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(n[n.length-1],p,p,u-15),g=SuperMapAlgoPlot.PlottingUtil.linePnt(l[0],l[l.length-1],3*e/11),y=SuperMapAlgoPlot.PlottingUtil.linePnt(l[0],l[l.length-1],4*e/11),h=SuperMapAlgoPlot.PlottingUtil.linePnt(l[0],l[l.length-1],7*e/11),S=SuperMapAlgoPlot.PlottingUtil.linePnt(l[0],l[l.length-1],8*e/11),b=[];b.push(s),b.push(l[0]),b.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b),(b=[]).push(y),b.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b),(b=[]).push(S),b.push(l[l.length-1]),b.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var d=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[n.length-1],3*e/11),A=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[n.length-1],4*e/11),M=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[n.length-1],7*e/11),m=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[n.length-1],8*e/11),v=[];if(v.push(c),v.push(n[0]),v.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v),(v=[]).push(A),v.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v),(v=[]).push(m),v.push(n[n.length-1]),v.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v),90<u&&u<270){var O=i;i=a,a=O,u=180*SuperMapAlgoPlot.PlottingUtil.radian(i,a)/Math.PI}var w=new SuperMapAlgoPlot.Point(.25*e,r+.2*e),L=new SuperMapAlgoPlot.Point(.35*e,r+.2*e+.1*e),U=new SuperMapAlgoPlot.Point(.35*e,r+.2*e-.1*e),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,w,u),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,L,u),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,U,u),R=[];R.push(new SuperMapAlgoPlot.Point(j.x,j.y)),R.push(new SuperMapAlgoPlot.Point(V.x,V.y)),R.push(new SuperMapAlgoPlot.Point(T.x,T.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R);var x=new SuperMapAlgoPlot.Point(.35*e,r+.2*e),E=new SuperMapAlgoPlot.Point(.4*e,r+.2*e+.05*e),_=new SuperMapAlgoPlot.Point(.4*e,r+.2*e-.05*e),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,x,u),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,E,u),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,_,u);(R=[]).push(new SuperMapAlgoPlot.Point(Y.x,Y.y)),R.push(new SuperMapAlgoPlot.Point(B.x,B.y)),R.push(new SuperMapAlgoPlot.Point(C.x,C.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R);var I=new SuperMapAlgoPlot.Point(.7*e,r+.2*e),N=new SuperMapAlgoPlot.Point(.8*e,r+.2*e+.1*e),D=new SuperMapAlgoPlot.Point(.8*e,r+.2*e-.1*e),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,I,u),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,N,u),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,D,u);(R=[]).push(new SuperMapAlgoPlot.Point(z.x,z.y)),R.push(new SuperMapAlgoPlot.Point(k.x,k.y)),R.push(new SuperMapAlgoPlot.Point(F.x,F.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R);var G=new SuperMapAlgoPlot.Point(.8*e,r+.2*e),W=new SuperMapAlgoPlot.Point(.85*e,r+.2*e+.05*e),K=new SuperMapAlgoPlot.Point(.85*e,r+.2*e-.05*e),q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,G,u),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,W,u),J=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,K,u);(R=[]).push(new SuperMapAlgoPlot.Point(H.x,H.y)),R.push(new SuperMapAlgoPlot.Point(q.x,q.y)),R.push(new SuperMapAlgoPlot.Point(J.x,J.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R);var Z=new SuperMapAlgoPlot.Point(l[0].x,l[0].y);Z.isScalePoint=!0,Z.tag=0,this.scalePoints.push(Z),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=o[0],i=o[1],a=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,r,i),u=SuperMapAlgoPlot.PlottingUtil.distance(e,a);this.scaleValues[0]=u/l}}}}])&&Ce(e.prototype,o),l&&Ce(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ze(t){"@babel/helpers - typeof";return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ge(t,e){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function We(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ke(t);if(e){var n=Ke(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16900=ke;var qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=We(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,a=[],u=0;u<e.length;u++)l>e[u].x&&(l=e[u].x),n<e[u].x&&(n=e[u].x),r>e[u].y&&(r=e[u].y),i<e[u].y&&(i=e[u].y),a.push(e[u]);for(var p=(n-l)/5,s=.2*p,c=[],P=0;P<360;P+=18){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),s,s,P);c.push(f)}for(var g=0,y=l;y<n;y+=p)for(var h=r;h<i;h+=p){var S,b=new SuperMapAlgoPlot.Point(y,h);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(a,b))0===g?(g=0,this.subSymbols.length>0&&(S=.015*o,this.computeSubSymbol(this.subSymbols[0],b,S,0)),g++):(g=0,this.subSymbols.length>0&&(S=.022*o,this.computeSubSymbol(this.subSymbols[1],b,S,0)))}this.finish()}}}}])&&Fe(e.prototype,o),l&&Fe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function He(t){"@babel/helpers - typeof";return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ze(t,e){return(Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Qe(t);if(e){var n=Qe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17400=qe;var $e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Xe(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=[],a=0;a<e.length;a++)o>e[a].x&&(o=e[a].x),l<e[a].x&&(l=e[a].x),n>e[a].y&&(n=e[a].y),r<e[a].y&&(r=e[a].y),i.push(e[a]);for(var u=(l-o)/5,p=.15*u,s=[],c=0;c<360;c+=18){var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),p,p,c);s.push(P)}for(var f=0,g=o;g<l;g+=u)for(var y=n;y<r;y+=u){var h=new SuperMapAlgoPlot.Point(g,y);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(i,h))if(0===f){f++;for(var S=[],b=0;b<s.length;b++){var d=new SuperMapAlgoPlot.Point(h.x+s[b].x,h.y+s[b].y);S.push(d)}S.push(S[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillColorLimit:!0,fillColor:"#ffff00",surroundLineFlag:!1,fillLimit:!0,fillOpacity:1,lineTypeLimit:!0});var A=[];A.push(S[10]),A.push(new SuperMapAlgoPlot.Point(S[10].x-.5*p,S[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var M=[];M.push(S[0]),M.push(new SuperMapAlgoPlot.Point(S[0].x+.5*p,S[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M)}else 1===f?(f++,null!=this.subSymbols[0]&&this.computeSubSymbol(this.subSymbols[0],h,2*p,0)):(f=0,null!=this.subSymbols[1]&&this.computeSubSymbol(this.subSymbols[1],h,3*p,0))}this.finish()}}}])&&Je(e.prototype,o),l&&Je(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function to(t){"@babel/helpers - typeof";return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oo(t,e){return(oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=no(t);if(e){var n=no(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function no(t){return(no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17401=$e;var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=0;i<e.length;i++)o>e[i].x&&(o=e[i].x),l<e[i].x&&(l=e[i].x),n>e[i].y&&(n=e[i].y),r<e[i].y&&(r=e[i].y);var a={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},u=new SuperMapAlgoPlot.Point((l+o)/2,(r+n)/2),p=l-o,s=r-n,c=.1*p,P=.1*s,f=new SuperMapAlgoPlot.Point(u.x,u.y+P),g=new SuperMapAlgoPlot.Point(u.x-c,u.y-P),y=new SuperMapAlgoPlot.Point(u.x+c,u.y-P);c=.03*p,P=.03*s;var h=new SuperMapAlgoPlot.Point(f.x,f.y+P),S=new SuperMapAlgoPlot.Point(f.x-c,f.y-P),b=new SuperMapAlgoPlot.Point(f.x+c,f.y-P),d=[];d.push(new SuperMapAlgoPlot.Point(h.x,h.y)),d.push(new SuperMapAlgoPlot.Point(S.x,S.y)),d.push(new SuperMapAlgoPlot.Point(b.x,b.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,d,a);var A=new SuperMapAlgoPlot.Point(g.x,g.y+P),M=new SuperMapAlgoPlot.Point(g.x-c,g.y-P),m=new SuperMapAlgoPlot.Point(g.x+c,g.y-P),v=[];v.push(new SuperMapAlgoPlot.Point(A.x,A.y)),v.push(new SuperMapAlgoPlot.Point(M.x,M.y)),v.push(new SuperMapAlgoPlot.Point(m.x,m.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,v,a);var O=new SuperMapAlgoPlot.Point(y.x,y.y+P),w=new SuperMapAlgoPlot.Point(y.x-c,y.y-P),L=new SuperMapAlgoPlot.Point(y.x+c,y.y-P),U=[];U.push(new SuperMapAlgoPlot.Point(O.x,O.y)),U.push(new SuperMapAlgoPlot.Point(w.x,w.y)),U.push(new SuperMapAlgoPlot.Point(L.x,L.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,U,a),this.finish()}}}}])&&eo(e.prototype,o),l&&eo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function io(t){"@babel/helpers - typeof";return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uo(t,e){return(uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=so(t);if(e){var n=so(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17500=ro;var co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=po(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=0;i<e.length;i++)o>e[i].x&&(o=e[i].x),l<e[i].x&&(l=e[i].x),n>e[i].y&&(n=e[i].y),r<e[i].y&&(r=e[i].y);var a=new SuperMapAlgoPlot.Point((l+o)/2,(r+n)/2),u=.33*(l-o),p=.1*(r-n),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,0),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,180),P=[];P.push(new SuperMapAlgoPlot.Point(s.x,s.y)),P.push(new SuperMapAlgoPlot.Point(c.x,c.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=new SuperMapAlgoPlot.Point(a.x-3*u/7,a.y+p),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,p,p,60),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,p,p,120);(P=[]).push(new SuperMapAlgoPlot.Point(g.x,g.y)),P.push(new SuperMapAlgoPlot.Point(f.x,f.y)),P.push(new SuperMapAlgoPlot.Point(y.x,y.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var h=new SuperMapAlgoPlot.Point(a.x+3*u/7,a.y+p),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,60),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,120);(P=[]).push(new SuperMapAlgoPlot.Point(S.x,S.y)),P.push(new SuperMapAlgoPlot.Point(h.x,h.y)),P.push(new SuperMapAlgoPlot.Point(b.x,b.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.finish()}}}}])&&ao(e.prototype,o),l&&ao(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Po(t){"@babel/helpers - typeof";return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function go(t,e){return(go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ho(t);if(e){var n=ho(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ho(t){return(ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17501=co;var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l,n,r={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},i=this.scaleValues[0]*e;l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,i,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,i,!1);var a=new SuperMapAlgoPlot.Point(l[0].x,l[0].y);a.isScalePoint=!0,a.tag=0,this.scalePoints.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);var u=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),p=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),s=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI,c=new SuperMapAlgoPlot.Point(.3*e,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,c,s),f=new SuperMapAlgoPlot.Point(0,.7*i),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,f,s),y=[];y.push(new SuperMapAlgoPlot.Point(P.x,P.y)),y.push(new SuperMapAlgoPlot.Point(g.x,g.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,y,r);var h=new SuperMapAlgoPlot.Point(.7*i,.7*i),S=new SuperMapAlgoPlot.Point(-.7*i,.7*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,h,s),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,S,s);(y=[]).push(new SuperMapAlgoPlot.Point(b.x,b.y)),y.push(new SuperMapAlgoPlot.Point(d.x,d.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var A=new SuperMapAlgoPlot.Point(.7*e,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,A,s),m=new SuperMapAlgoPlot.Point(.7*i,.7*i),v=new SuperMapAlgoPlot.Point(.7*i,-.7*i),O=new SuperMapAlgoPlot.Point(-.7*i,-.7*i),w=new SuperMapAlgoPlot.Point(-.7*i,.7*i),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,m,s),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,v,s),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,O,s),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,w,s);(y=[]).push(new SuperMapAlgoPlot.Point(L.x,L.y)),y.push(new SuperMapAlgoPlot.Point(U.x,U.y)),y.push(new SuperMapAlgoPlot.Point(V.x,V.y)),y.push(new SuperMapAlgoPlot.Point(j.x,j.y)),y.push(new SuperMapAlgoPlot.Point(L.x,L.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var T=new SuperMapAlgoPlot.Point(.3*i,.3*i),R=new SuperMapAlgoPlot.Point(.3*i,-.3*i),x=new SuperMapAlgoPlot.Point(-.3*i,-.3*i),E=new SuperMapAlgoPlot.Point(-.3*i,.3*i),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,T,s),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,R,s),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,x,s),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,E,s);(y=[]).push(new SuperMapAlgoPlot.Point(_.x,_.y)),y.push(new SuperMapAlgoPlot.Point(B.x,B.y)),y.push(new SuperMapAlgoPlot.Point(Y.x,Y.y)),y.push(new SuperMapAlgoPlot.Point(C.x,C.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,y,r),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=o[0],i=o[1],a=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,r,i),u=SuperMapAlgoPlot.PlottingUtil.distance(e,a);this.scaleValues[0]=u/l}}}}])&&fo(e.prototype,o),l&&fo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bo(t){"@babel/helpers - typeof";return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Mo(t,e){return(Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vo(t);if(e){var n=vo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vo(t){return(vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17600=So;var Oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&this.scaleValues.push(.02),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);for(var i={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},a=this.getDashLinePts(r,5*o),u=0;u<a.length;u++){var p=a[u];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,i)}this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}}])&&Ao(e.prototype,o),l&&Ao(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function wo(t){"@babel/helpers - typeof";return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Uo(t,e){return(Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jo(t);if(e){var n=jo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jo(t){return(jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17700=Oo;var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Vo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="加",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.isEdit||(this.scaleValues=[]);var l=[];if(this.scalePoints=[],t.length<3)l.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),l.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y));else{var n=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=n.scaleValues;for(var r=0;r<n.scalePoints.length;r++)this.addScalePoint(n.scalePoints[r]);l=n.beizerPoints}if(!(l.length<2)){var i=e/2;if(-1!==SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,i).index){var a,u;if(a=2==t.length?0:t.length-1,this.isEdit)u=this.scaleValues[4*a]*e,isNaN(u)&&(u=Math.abs(this.scaleValues[4*a-1]*e));else{var p=.5*this.getSubSymbolScaleValue();u=p*e,this.scaleValues.push(p)}var s=i-u,c=i+u,P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,s);if(-1!==P.index){var f=P.pt;this.addScalePoint(new SuperMapAlgoPlot.Point(f.x,f.y));var g=[];if(0==P.index)g.push(l[0]);else for(var y=0;y<P.index;y++)g.push(l[y]);g.push(f);var h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,c);if(-1!==h.index){var S=h.pt,b=[];b.push(S);for(var d=h.index+1;d<l.length;d++)b.push(l[d]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=g[g.length-1],M=b[0],m=180*SuperMapAlgoPlot.PlottingUtil.radian(A,M)/Math.PI,v=SuperMapAlgoPlot.PlottingUtil.distance(A,M),O=new SuperMapAlgoPlot.Point((A.x+M.x)/2,(A.y+M.y)/2),w=this.subText;this.addText(w,O,v,m),this.finish()}}}}}}},{key:"computeBeizer",value:function(t,e){var o,l,n,r=[];if(this.scalePoints=[],this.isEdit){(n=[]).push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),n.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),o=this.scaleValues[0],l=this.scaleValues[1];var i=t[0].x+e*o,a=t[0].y+e*l;n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a));for(var u=1;u<t.length-1;u++)n.push(new SuperMapAlgoPlot.Point(t[u].x,t[u].y)),o=this.scaleValues[4*u-2],l=this.scaleValues[4*u-1],i=t[u].x+e*o,a=t[u].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a)),o=this.scaleValues[4*u],l=this.scaleValues[4*u+1],i=t[u].x+e*o,a=t[u].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a));var p=t.length-1;n.push(new SuperMapAlgoPlot.Point(t[p].x,t[p].y)),o=this.scaleValues[4*p-2],l=this.scaleValues[4*p-1],i=t[p].x+e*o,a=t[p].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a)),n.push(new SuperMapAlgoPlot.Point(t[p].x,t[p].y)),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(n)}else{if(this.scaleValues=[],n=[],(n=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t)).length<3)return r;var s=n[2].x-n[0].x,c=n[2].y-n[0].y;o=s/e,l=c/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[2].x,n[2].y));for(var P=1;P<t.length-1;P++){o=(s=n[3*P+1].x-n[3*P].x)/e,l=(c=n[3*P+1].y-n[3*P].y)/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*P+1].x,n[3*P+1].y));var f=(n[3*P+2].x-n[3*P].x)/e,g=(n[3*P+2].y-n[3*P].y)/e;this.scaleValues.push(f),this.scaleValues.push(g),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*P+2].x,n[3*P+2].y))}o=(s=n[3*(t.length-1)+1].x-n[3*(t.length-1)].x)/e,l=(c=n[3*(t.length-1)+1].y-n[3*(t.length-1)].y)/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*(t.length-1)+1].x,n[3*(t.length-1)+1].y)),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(n)}return r}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),t<0||t>2*o.length-2)return;for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(2*(o.length-1)==t||2==o.length){for(var r=this.computeBeizer(o,l),i=0,a=0;a<r.length-1;a++)i+=SuperMapAlgoPlot.PlottingUtil.distance(r[a],r[a+1]);var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,i/2);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.distance(e,u.pt)/l;p>.45&&(p=.45),2==o.length?this.scaleValues[0]=p:this.scaleValues[2*t]=p}else{var s=-1;s=t%2==0?t/2:(t+1)/2;var c=(e.x-o[s].x)/l,P=(e.y-o[s].y)/l;this.scaleValues[2*t]=c,this.scaleValues[2*t+1]=P}}}}])&&Lo(e.prototype,o),l&&Lo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ro(t){"@babel/helpers - typeof";return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Eo(t,e){return(Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Bo(t);if(e){var n=Bo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ro(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bo(t){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17703=To;var Yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17703);var e,o,l,n=_o(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="急",e}return e=r,o&&xo(e.prototype,o),l&&xo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Co(t){"@babel/helpers - typeof";return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Io(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function No(t,e){return(No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Do(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ko(t);if(e){var n=ko(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17704=Yo;var zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Do(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180),a=[];a.push(r.clone()),a.push(i.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,l+180),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(a=[]).push(u.clone()),a.push(p.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,l),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(a=[]).push(s.clone()),a.push(c.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(a=[]).push(P.clone()),a.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),this.finish()}}}])&&Io(e.prototype,o),l&&Io(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Fo(t){"@babel/helpers - typeof";return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Go(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wo(t,e){return(Wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ko(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=qo(t);if(e){var n=qo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qo(t){return(qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17800=zo;var Ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17800);var e,o,l,n=Ko(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=[],i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,0);r.push(t[0].clone()),r.push(i.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,r);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180);(r=[]).push(a.clone()),r.push(u.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(r=[]).push(p.clone()),r.push(s.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(r=[]).push(c.clone()),r.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(r=[]).push(f.clone()),r.push(g.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.finish()}}}])&&Go(e.prototype,o),l&&Go(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Jo(t){"@babel/helpers - typeof";return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xo(t,e){return(Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=$o(t);if(e){var n=$o(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $o(t){return($o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17801=Ho;var tl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17800);var e,o,l,n=Qo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=[],i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.08*n,.08*n,l+90),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.08*n,.08*n,l+270);r.push(i.clone()),r.push(a.clone()),r.push(u.clone()),r.push(p.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180);(r=[]).push(s.clone()),r.push(c.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(r=[]).push(P.clone()),r.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(r=[]).push(g.clone()),r.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(r=[]).push(h.clone()),r.push(S.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.finish()}}}])&&Zo(e.prototype,o),l&&Zo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function el(t){"@babel/helpers - typeof";return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ol(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ll(t,e){return(ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=rl(t);if(e){var n=rl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===el(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17802=tl;var il=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ll(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=nl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.2)),2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=2==t.length?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=o*r,u=new SuperMapAlgoPlot.Point(-.5*a,.25*a),p=new SuperMapAlgoPlot.Point(-.4*a,.125*a),s=new SuperMapAlgoPlot.Point(.4*a,.125*a),c=new SuperMapAlgoPlot.Point(.5*a,.25*a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,0),h=[];h.push(P.clone()),h.push(f.clone()),h.push(g.clone()),h.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=new SuperMapAlgoPlot.Point(-.5*a,-.25*a),b=new SuperMapAlgoPlot.Point(-.4*a,-.125*a),d=new SuperMapAlgoPlot.Point(.4*a,-.125*a),A=new SuperMapAlgoPlot.Point(.5*a,-.25*a),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,S,0),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,d,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,A,0);(h=[]).push(M.clone()),h.push(m.clone()),h.push(v.clone()),h.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.scalePoints=[];var w=new SuperMapAlgoPlot.Point(i.x+.1*a,i.y);w.isScalePoint=!0,w.tag=0,this.scalePoints.push(w);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.25*a,.25*a,90);L.isScalePoint=!0,L.tag=1,this.scalePoints.push(L),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*r-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);n=4*(r=SuperMapAlgoPlot.PlottingUtil.distance(p,e))/u,this.scaleValues[2]=n}}}}])&&ol(e.prototype,o),l&&ol(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function al(t){"@babel/helpers - typeof";return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ul(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function pl(t,e){return(pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=cl(t);if(e){var n=cl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===al(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function cl(t){return(cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17803=il;var Pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=sl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1)),t.length==this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=t.length==this.minEditPts?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=o*r,u=3*a,p=new SuperMapAlgoPlot.Point(-.5*u,.5*a),s=new SuperMapAlgoPlot.Point(.5*u,.5*a),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),f=[];f.push(c.clone()),f.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=new SuperMapAlgoPlot.Point(-.5*u,-.5*a),y=new SuperMapAlgoPlot.Point(.5*u,-.5*a),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,g,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,y,0);(f=[]).push(h.clone()),f.push(S.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var b=new SuperMapAlgoPlot.Point(-.1*u,.5*a),d=new SuperMapAlgoPlot.Point(-.15*u,-.5*a),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,d,0);(f=[]).push(A.clone()),f.push(M.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var m=new SuperMapAlgoPlot.Point(.15*u,.5*a),v=new SuperMapAlgoPlot.Point(.1*u,-.5*a),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,m,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,v,0);(f=[]).push(O.clone()),f.push(w.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.scalePoints=[];var L=new SuperMapAlgoPlot.Point(i.x+.1*u,i.y);L.isScalePoint=!0,L.tag=0,this.scalePoints.push(L);var U=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.5*u,.5*u,90);U.isScalePoint=!0,U.tag=1,this.scalePoints.push(U),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*r-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);n=2*(r=SuperMapAlgoPlot.PlottingUtil.distance(p,e))/u/3,this.scaleValues[2]=n}}}}])&&ul(e.prototype,o),l&&ul(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function fl(t){"@babel/helpers - typeof";return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function yl(t,e){return(yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function hl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Sl(t);if(e){var n=Sl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Sl(t){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17804=Pl;var bl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17804);var e,o,l,n=hl(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1)),t.length==this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=t.length==this.minEditPts?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=3*(o*r),u=new SuperMapAlgoPlot.Point(-.5*a,.3*a),p=new SuperMapAlgoPlot.Point(-.5*a,-.3*a),s=new SuperMapAlgoPlot.Point(.5*a,-.3*a),c=new SuperMapAlgoPlot.Point(.5*a,.3*a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,0),h=[];h.push(P.clone()),h.push(f.clone()),h.push(g.clone()),h.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h);var S=new SuperMapAlgoPlot.Point(-.3*a,.3*a),b=new SuperMapAlgoPlot.Point(-.3*a,.5*a),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,S,0),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0);(h=[]).push(d.clone()),h.push(A.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var M=new SuperMapAlgoPlot.Point(-.3*a,-.3*a),m=new SuperMapAlgoPlot.Point(-.3*a,-.5*a),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,M,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,m,0);(h=[]).push(v.clone()),h.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var w=new SuperMapAlgoPlot.Point(.3*a,.3*a),L=new SuperMapAlgoPlot.Point(.3*a,.5*a),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,w,0),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,L,0);(h=[]).push(U.clone()),h.push(V.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var j=new SuperMapAlgoPlot.Point(.3*a,-.3*a),T=new SuperMapAlgoPlot.Point(.3*a,-.5*a),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,j,0),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,T,0);(h=[]).push(R.clone()),h.push(x.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.scalePoints=[];var E=new SuperMapAlgoPlot.Point(i.x+.1*a,i.y);E.isScalePoint=!0,E.tag=0,this.scalePoints.push(E);var _=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.5*a,.5*a,90);_.isScalePoint=!0,_.tag=1,this.scalePoints.push(_),this.finish()}}}}])&&gl(e.prototype,o),l&&gl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function dl(t){"@babel/helpers - typeof";return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Al(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ml(t,e){return(Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ml(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vl(t);if(e){var n=vl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vl(t){return(vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17805=bl;var Ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ml(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17804);var e,o,l,n=ml(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var e,o,l,n,r,i=this.scaleValues[0],a=this.scaleValues[1],u=this.scaleValues[2],p=0,s=0;if(t.length==this.minEditPts){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);var c=SuperMapAlgoPlot.PlottingUtil.distance(o,l);p=2*c,e=new SuperMapAlgoPlot.Point(o.x+p*i,o.y+p*a);var P=2*c*u/.28/2;s=P,n=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,P,P,0),(r=[]).push(e.clone()),r.push(n.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,r)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),p=SuperMapAlgoPlot.PlottingUtil.distance(o,l)+SuperMapAlgoPlot.PlottingUtil.distance(o,n),e=new SuperMapAlgoPlot.Point(o.x+p*i,o.y+p*a);var f=p*u/.21/2,g=p*u/.38/2;s=f;var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,f,f,0),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,90);(r=[]).push(e.clone()),r.push(y.clone()),r.push(h.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,r)}this.scalePoints=[];var S=new SuperMapAlgoPlot.Point(e.x+.1*p,e.y);S.isScalePoint=!0,S.tag=0,this.scalePoints.push(S);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,s,s,90);b.isScalePoint=!0,b.tag=1,this.scalePoints.push(b),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*u-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);r=SuperMapAlgoPlot.PlottingUtil.distance(p,e),n=.1,n=2===i.length?.56*r/u:.42*r/u,this.scaleValues[2]=n}}}}])&&Al(e.prototype,o),l&&Al(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function wl(t){"@babel/helpers - typeof";return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ll(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ul(t,e){return(Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jl(t);if(e){var n=jl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jl(t){return(jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17806=Ol;var Tl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ul(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Vl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){1!==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1)),this.components.length=0,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,this.controlPoints);var e=this.scaleValues[0],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=o*e,n=.01*o;l<2*n&&(n=.5*l);for(var r={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},i=0,a=l;a<o-n;a+=l){var u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,t);if(u.bfind){var p=u.pts,s=[];s.push(p);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,n,n,90);if(s.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,s,r),0===i){var P=new SuperMapAlgoPlot.Point(p.x,p.y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}i++}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;for(var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0),a=0;a<o.length-1;a++){var u,p=[];p.push(o[a]),p.push(o[a+1]);var s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(s.isOnline&&(u=s.projectPoint),!s.isOnline&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(e,o[a],o[a+1])&&(u=e),void 0===u)return;if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,p).isOnPolyLine){var c=SuperMapAlgoPlot.PlottingUtil.distance(e,u);-1===n?(n=a,i=u,r=c):r>c&&(n=a,i=u,r=c)}}if(-1===n||n>o.length-1)return;for(var P=0,f=0;f<n;f++){var g=new SuperMapAlgoPlot.Point(o[f].x,o[f].y),y=new SuperMapAlgoPlot.Point(o[f+1].x,o[f+1].y);P+=SuperMapAlgoPlot.PlottingUtil.distance(g,y)}var h=new SuperMapAlgoPlot.Point(o[n].x,o[n].y);if((P+=SuperMapAlgoPlot.PlottingUtil.distance(h,i))<0||P>l)return;var S=P/l;S>.95?S=.95:S<.1&&(S=.1),this.scaleValues[0]=S}}}])&&Ll(e.prototype,o),l&&Ll(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Rl(t){"@babel/helpers - typeof";return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function El(t,e){return(El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Bl(t);if(e){var n=Bl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bl(t){return(Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol20300=Tl;var Yl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&El(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=_l(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length!==this.minEditPts&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(0)),this.components.length=0,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,this.controlPoints);var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,i=new SuperMapAlgoPlot.Point((l.x+n.x)/2,(l.y+n.y)/2),a=this.scaleValues[0]*o;e=0==this.scaleValues[1]?SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,r+90):SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,r+270);var u={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i,e]);var p=.02*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1]),s=new SuperMapAlgoPlot.Point((l.x+i.x)/2,(l.y+i.y)/2),c=[s,new SuperMapAlgoPlot.Point(s.x,s.y+p)];this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,u,!0);var P=new SuperMapAlgoPlot.Point((n.x+i.x)/2,(n.y+i.y)/2);c=[P,new SuperMapAlgoPlot.Point(P.x,P.y+p)],this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,u,!0);var f=new SuperMapAlgoPlot.Point(e.x,e.y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0===r)return;var i=new SuperMapAlgoPlot.Point((l.x+n.x)/2,(l.y+n.y)/2);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i)/r;this.scaleValues[0]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,n,e)?this.scaleValues[1]=1:this.scaleValues[1]=0}}}}])&&xl(e.prototype,o),l&&xl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Cl(t){"@babel/helpers - typeof";return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Il(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nl(t,e){return(Nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=kl(t);if(e){var n=kl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function kl(t){return(kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol20301=Yl;var zl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Dl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(this.controlPoints<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.02));[].push(e[e.length-1]),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=o*this.scaleValues[0],n=t[t.length-1],r=SuperMapAlgoPlot.PlottingUtil.distance(n,e[e.length-1]);r<1.5*l;)e.pop(),r=SuperMapAlgoPlot.PlottingUtil.distance(n,e[e.length-1]);e.push(n),this.addArrow(e,this.scaleValues[0]);var i=e[e.length-2],a=180*SuperMapAlgoPlot.PlottingUtil.radian(n,i)/Math.PI,u=o*this.scaleValues[0],p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e[e.length-1],u,u,a+180);p.isScalePoint=!0,p.tag=0,this.scalePoints.push(p),this.finish()}}}])&&Il(e.prototype,o),l&&Il(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Fl(t){"@babel/helpers - typeof";return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wl(t,e){return(Wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ql(t);if(e){var n=ql(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ql(t){return(ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21400=zl;var Hl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Kl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.03),e.scaleValues.push(.4),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues.push(.03),this.scaleValues.push(.4),this.scaleValues.push(0)):3===this.scaleValues.length&&this.scaleValues.push(.02);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=this.scaleValues[1],n=o*(1-l)*.5,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(r.bfind){this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(),this.scaleValues[this.scaleValues.length-1]=.5*this.getSubSymbolScaleValue());var i,a=this.scaleValues[0],u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*a,p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[r.index],r.pts),s=this.scaleValues[2];1===s?i=new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y):0===s&&(i=new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y));var c=[];c.push(i),c.push(r.pts);var P;this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{lineTypeLimit:!0,surroundLineLimit:!0});var f=o*(.5+.5*l),g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e);if(g.bfind){var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[g.index],g.pts);1===s?P=new SuperMapAlgoPlot.Point(y.pntRight.x,y.pntRight.y):0===s&&(P=new SuperMapAlgoPlot.Point(y.pntLeft.x,y.pntLeft.y)),this.addArrow(e,this.scaleValues[this.scaleValues.length-1]),this.addScalePoint(P,0);var h=[];h.push(P),h.push(g.pts);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=n*(.5+.5*this.scaleValues[1]),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,l);if(!i.bfind)return;var a,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[i.index],i.pts),p=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[i.index],l[i.index+1],e);this.scaleValues[2]=p?0:1,a=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,new SuperMapAlgoPlot.Point(u.pntLeft.x,u.pntLeft.y),new SuperMapAlgoPlot.Point(u.pntRight.x,u.pntRight.y));var s=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,new SuperMapAlgoPlot.Point(i.pts.x,i.pts.y));this.scaleValues[0]=s/n}}}])&&Gl(e.prototype,o),l&&Gl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Jl(t){"@babel/helpers - typeof";return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xl(t,e){return(Xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ql(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=$l(t);if(e){var n=$l(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $l(t){return($l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21401=Hl;var tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ql(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues.push(.02),this.scaleValues.push(.1),this.scaleValues.push(0)):3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);if(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addArrow(e,this.scaleValues[this.scaleValues.length-1]),0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)){if(!this.isEdit){var o=this.getSubSymbolScaleValue();this.scaleValues[0]=.5*o,this.scaleValues[this.scaleValues.length-1]=.5*this.getSubSymbolScaleValue()}for(var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[1]*n,a=0,u=.01*n,p=u,s=0;p<=n;p+=i,s++){a=p+u;var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,a);if(-1===c.index)return;var P=[],f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[c.index],c.pt);P.push(new SuperMapAlgoPlot.Point(f.pntLeft.x,f.pntLeft.y)),P.push(new SuperMapAlgoPlot.Point(f.pntRight.x,f.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),0===s?this.addScalePoint(P[0],0):1===s&&this.addScalePoint(c.pt,1)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=.01*n;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);if(-1===i.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt);this.scaleValues[0]=a/n}else if(1===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,l);if(-1===p.index)return;for(var s=0,c=u.index+1;c<p.index;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(l[c],l[c+1]);s+=SuperMapAlgoPlot.PlottingUtil.distance(l[p.index],p.pt),s-=r,this.scaleValues[1]=s/n,this.scaleValues[1]>.93&&(this.scaleValues[1]=.93)}}}}])&&Zl(e.prototype,o),l&&Zl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function en(t){"@babel/helpers - typeof";return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ln(t,e){return(ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=rn(t);if(e){var n=rn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===en(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21500=tn;var an=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ln(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=nn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue()),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=.5*this.getSubSymbolScaleValue()}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.addSubSymbols(r,a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p,this.scaleValues[1])}var P=o*this.scaleValues[0]*.5,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,P,P,i+90);this.addScalePoint(f,0),this.finish()}}},{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-180)}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&on(e.prototype,o),l&&on(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function un(t){"@babel/helpers - typeof";return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sn(t,e){return(sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pn(t);if(e){var n=Pn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21501=an;var fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=cn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,o&&pn(e.prototype,o),l&&pn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function gn(t){"@babel/helpers - typeof";return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hn(t,e){return(hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bn(t);if(e){var n=bn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21502=fn;var dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=Sn(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-90)}}])&&yn(e.prototype,o),l&&yn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function An(t){"@babel/helpers - typeof";return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function mn(t,e){return(mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=On(t);if(e){var n=On(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===An(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function On(t){return(On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21503=dn;var wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=vn(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-90)}}])&&Mn(e.prototype,o),l&&Mn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ln(t){"@babel/helpers - typeof";return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vn(t,e){return(Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tn(t);if(e){var n=Tn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21504=wn;var Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=jn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e.subText="",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){1==this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=.6*this.getSubSymbolScaleValue(),this.scaleValues[1]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,l=0;l<e.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);var n=.5*o,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==r.index){for(var i=r.pt,a=[],u=0,p=0;p<r.index+1;p++)a.push(e[p]),p>0&&(u+=SuperMapAlgoPlot.PlottingUtil.distance(a[p],a[p-1]));var s,c,P=n-u,f=o*this.scaleValues[1],g=[];if(P>=f){s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[r.index],f),a.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[r.index+1],f),g.push(c);for(var y=e.length,h=r.index+1;h<y;++h)g.push(e[h]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}else{for(var S,b,d=-1,A=a.length-1;A>=0;A--)if(S=new SuperMapAlgoPlot.Point(a[A].x,a[A].y),b=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(S,b)>f){d=A;break}if(-1==d)return;a.splice(d+1,a.length-1-d),s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[d],f),a.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);for(var M=-1,m=r.index;m<e.length;m++)if(S=new SuperMapAlgoPlot.Point(e[m].x,e[m].y),b=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(S,b)>f){M=m;break}if(-1==M)return;c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[M],f),g.push(c);for(var v=M+1;v<e.length;++v)g.push(e[v]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}if(!(a.length<2)){for(var O=0,w=0;w<t.length-1;w++)O+=SuperMapAlgoPlot.PlottingUtil.distance(t[w],t[w+1]);var L=O*this.scaleValues[0],U=new SuperMapAlgoPlot.Point(a[0].x,a[0].y),V=new SuperMapAlgoPlot.Point(a[1].x,a[1].y),j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(L,V,U),T=[];if(T.push(j.pntLeft),T.push(j.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0}),!(g.length<2)){var R=new SuperMapAlgoPlot.Point(g[g.length-1].x,g[g.length-1].y),x=new SuperMapAlgoPlot.Point(g[g.length-2].x,g[g.length-2].y),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(L,x,R);(T=[]).push(E.pntLeft),T.push(E.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0});var _=s,B=c,Y=180*SuperMapAlgoPlot.PlottingUtil.radian(_,B)/Math.PI,C=SuperMapAlgoPlot.PlottingUtil.distance(_,B),I=new SuperMapAlgoPlot.Point((s.x+c.x)/2,(s.y+c.y)/2),N=this.subText;this.addText(N,I,C,Y),this.addScalePoint(j.pntLeft),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&Un(e.prototype,o),l&&Un(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xn(t){"@babel/helpers - typeof";return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _n(t,e){return(_n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Yn(t);if(e){var n=Yn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Yn(t){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21600=Rn;var Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_n(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.2));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=.5*e,l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+270),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,o,o,r),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,o,o,r),s=[];s.push(p),s.push(a),s.push(i),s.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+270),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,o,o,r+180),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,o,o,r+180);(s=[]).push(f),s.push(c),s.push(P),s.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addScalePoint(i),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&En(e.prototype,o),l&&En(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function In(t){"@babel/helpers - typeof";return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Dn(t,e){return(Dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zn(t);if(e){var n=zn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21800=Cn;var Fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=kn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05,e.scaleValues[2]=.01,e.scaleValues[3]=.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=.02,this.scaleValues[2]=.01,this.scaleValues[3]=.02):1===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.01),this.scaleValues.push(.25*this.getSubSymbolScaleValue())),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[3]=.5*l}for(var n=this.getLinePts(e,this.scaleValues[0]),r=[],i=[],a=0;a<=n.startIndex;a++)r.push(e[a]);if(r.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),n.endIndex<=e.length){i.push(n.endPt);for(var u=n.endIndex+1;u<=e.length-1;u++)i.push(e[u]);this.addArrow(i,this.scaleValues[this.scaleValues.length-1])}var p,s,c,P,f,g,y,h,S,b,d,A,M,m=n.startPt.clone(),v=n.endPt.clone(),O=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),w=SuperMapAlgoPlot.PlottingUtil.distance(m,v),L=SuperMapAlgoPlot.PlottingUtil.radian(m,v)*SuperMapAlgoPlot.PlottingUtil.RTOD;p=new SuperMapAlgoPlot.Point(0,0),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0),g=new SuperMapAlgoPlot.Point(0,0),y=new SuperMapAlgoPlot.Point(0,0),h=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),b=new SuperMapAlgoPlot.Point(0,0),d=new SuperMapAlgoPlot.Point(0,0),A=new SuperMapAlgoPlot.Point(0,0),M=new SuperMapAlgoPlot.Point(0,0),m.x>=v.x?(p.x=.25*w,p.y=.25*-w,s.x=.5*-w,s.y=.25*-w,c.x=.5*-w,c.y=.25*w,P.x=.5*w,P.y=.25*w,f.x=.5*w,f.y=0,g.x=.25*-w,g.y=.125*-w,y.x=0,y.y=.125*w,h.x=0,h.y=.125*-w,S.x=.25*w,S.y=.2*w,b.x=.25*-w,b.y=.25*-w,d.x=.375*-w,d.y=.5*-w,A.x=.02*-w,A.y=.25*-w,M.x=.1*w,M.y=.5*-w):(p.x=.25*w,p.y=.25*w,s.x=.5*-w,s.y=.25*w,c.x=.5*-w,c.y=.25*-w,P.x=.5*w,P.y=.25*-w,f.x=.5*w,f.y=0,g.x=.25*w,g.y=.125*-w,y.x=0,y.y=.125*w,h.x=0,h.y=.125*-w,S.x=.25*-w,S.y=.125*w,b.x=.25*-w,b.y=.25*w,d.x=.375*-w,d.y=.5*w,A.x=.02*w,A.y=.25*w,M.x=.15*w,M.y=.5*w);var U=[],V=[],j=[],T=[],R=[],x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,p,L),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,s,L),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,c,L),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,P,L),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,f,L),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,g,L),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,y,L),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,h,L),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,S,L),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,b,L),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,d,L),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,A,L),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,M,L);U.push(x),U.push(E),U.push(_),U.push(B),U.push(Y),V.push(C),V.push(I),V.push(N),V.push(D),j.push(k),j.push(z),T.push(F),T.push(G),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0},!0);var W=.3*SuperMapAlgoPlot.PlottingUtil.distance(N,D),K=SuperMapAlgoPlot.PlottingUtil.linePnt(D,N,W),q=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*W,D,K);R.push(q.pntLeft),R.push(D),R.push(q.pntRight);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,R,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0);var H=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),J=SuperMapAlgoPlot.PlottingUtil.circlePoint(H.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,L+90);this.addScalePoint(J,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Nn(e.prototype,o),l&&Nn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gn(t){"@babel/helpers - typeof";return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Kn(t,e){return(Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hn(t);if(e){var n=Hn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21900=Fn;var Jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.03):1===this.scaleValues.length&&(this.scaleValues[1]=.02),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=.6*this.getSubSymbolScaleValue()}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,a,i);var u=e[0],p=e[1],s=e[e.length-2],c=e[e.length-1],P=o*this.scaleValues[1],f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,p,u),g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,s,c),y=f.pntLeft,h=g.pntLeft,S=[],b=[];S.push(y);for(var d=0;d<=n.startIndex;d++)S.push(e[d]);if(S.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),n.endIndex<=e.length){b.push(n.endPt);for(var A=n.endIndex+1;A<=e.length-1;A++)b.push(e[A]);b.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}var M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(M.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i);this.addScalePoint(m,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Wn(e.prototype,o),l&&Wn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zn(t){"@babel/helpers - typeof";return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qn(t,e){return(Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tr(t);if(e){var n=tr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22000=Jn;var er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol22000);var e,o,l,n=$n(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.025)),e}return e=r,o&&Xn(e.prototype,o),l&&Xn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function or(t){"@babel/helpers - typeof";return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nr(t,e){return(nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ir(t);if(e){var n=ir(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22103=er;var ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05));var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.35*this.getSubSymbolScaleValue());var n=l*this.scaleValues[0],r=[];r.push(new SuperMapAlgoPlot.Point(o.x,o.y)),r.push(new SuperMapAlgoPlot.Point(o.x+n,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,r,{lineTypeLimit:!0,surroundLineLimit:!0});var i=[];i.push(new SuperMapAlgoPlot.Point(o.x,o.y+.8*n)),i.push(new SuperMapAlgoPlot.Point(o.x,o.y-.8*n)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{lineTypeLimit:!0,surroundLineLimit:!0});var a=[];a.push(new SuperMapAlgoPlot.Point(o.x+.8*n,o.y)),a.push(new SuperMapAlgoPlot.Point(o.x-.8*n,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&lr(e.prototype,o),l&&lr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ur(t){"@babel/helpers - typeof";return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sr(t,e){return(sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pr(t);if(e){var n=Pr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pr(t){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22200=ar;var fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e),this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var o=this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=i*n,u=new SuperMapAlgoPlot.Point(r.x+i*o,r.y+i*l);if(this.subSymbols.length>0){if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],u,a,0),this.addScalePoint(u);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,a,a,0);this.addScalePoint(p)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[0]=n,r=(e.y-i.y)/a,this.scaleValues[1]=r;else if(1===t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[2]=p}}}}])&&pr(e.prototype,o),l&&pr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gr(t){"@babel/helpers - typeof";return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hr(t,e){return(hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=br(t);if(e){var n=br(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23400=fr;var dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,{fillLimit:!0,fill:!1,surroundLineFlag:!1});var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0),this.addScalePoint(p);var s=u,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[2]=n,r=(e.y-i.y)/a,this.scaleValues[3]=r;else if(1===t){n=this.scaleValues[2],r=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[0]=p}}}}])&&yr(e.prototype,o),l&&yr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ar(t){"@babel/helpers - typeof";return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function mr(t,e){return(mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Or(t);if(e){var n=Or(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Or(t){return(Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23500=dr;var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=vr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(-.1),e.scaleValues.push(0),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[0]=n/l*.8,this.scaleValues[3]=n/l*.8}var r=this.scaleValues[0],i=this.scaleValues[1],a=this.scaleValues[3],u=this.scaleValues[4],p=this.scaleValues[6],s=this.scaleValues[7],c=this.scaleValues[8],P=this.scaleValues[9],f=new SuperMapAlgoPlot.Point(o.x+l*p,o.y+l*s),g=new SuperMapAlgoPlot.Point(o.x+l*c,o.y+l*P),y=[],h=.15*SuperMapAlgoPlot.PlottingUtil.distance(f,g),S=SuperMapAlgoPlot.PlottingUtil.linePnt(f,g,h),b=SuperMapAlgoPlot.PlottingUtil.linePnt(g,f,h);y.push(S),y.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0});var d=l*r,A=i;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,d,A);var M=l*a,m=u;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],g,M,m),this.addScalePoint(f);var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,d,d,A);this.addScalePoint(v),this.addScalePoint(g);var O=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,M,M,m);this.addScalePoint(O),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),s=e;if(0==t)n=(s.x-u.x)/p,this.scaleValues[6]=n,r=(s.y-u.y)/p,this.scaleValues[7]=r;else if(1==t){n=this.scaleValues[6],r=this.scaleValues[7];var c=new SuperMapAlgoPlot.Point(u.x+p*n,u.y+p*r),P=SuperMapAlgoPlot.PlottingUtil.distance(c,s)/p;this.scaleValues[0]=P;var f=180*SuperMapAlgoPlot.PlottingUtil.radian(c,s)/Math.PI;this.scaleValues[1]=f,this.scaleValues[2]=0<=f&&f<90?1:90<=f&&f<180?2:180<=f&&f<270?3:4}else if(2==t)i=(s.x-u.x)/p,this.scaleValues[8]=i,a=(s.y-u.y)/p,this.scaleValues[9]=a;else if(3==t){i=this.scaleValues[8],a=this.scaleValues[9];var g=new SuperMapAlgoPlot.Point(u.x+p*i,u.y+p*a),y=SuperMapAlgoPlot.PlottingUtil.distance(g,s)/p;this.scaleValues[3]=y;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(g,s)/Math.PI;this.scaleValues[4]=h,this.scaleValues[5]=0<=h&&h<90?1:90<=h&&h<180?2:180<=h&&h<270?3:4}}}}])&&Mr(e.prototype,o),l&&Mr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Lr(t){"@babel/helpers - typeof";return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vr(t,e){return(Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tr(t);if(e){var n=Tr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tr(t){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23600=wr;var Rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=jr(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];3>=t.length?(e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)):e=t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n}var r=l*this.scaleValues[0]*.15,i=[];i.push(new SuperMapAlgoPlot.Point(0,r)),i.push(new SuperMapAlgoPlot.Point(-r,0)),i.push(new SuperMapAlgoPlot.Point(0,-r));var a=[];a.push(new SuperMapAlgoPlot.Point(r,r)),a.push(new SuperMapAlgoPlot.Point(0,0)),a.push(new SuperMapAlgoPlot.Point(r,-r));for(var u=new SuperMapAlgoPlot.Point(-3*r,2*r),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,u,0),s=[],c=[],P=0;P<3;P++)s.push(new SuperMapAlgoPlot.Point(i[P].x+p.x,i[P].y+p.y)),c.push(new SuperMapAlgoPlot.Point(a[P].x+p.x,a[P].y+p.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{lineTypeLimit:!0,surroundLineLimit:!0});for(var f=new SuperMapAlgoPlot.Point(3*r,2*r),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,f,0),y=[],h=[],S=0;S<3;S++)y.push(new SuperMapAlgoPlot.Point(i[S].x+g.x,i[S].y+g.y)),h.push(new SuperMapAlgoPlot.Point(a[S].x+g.x,a[S].y+g.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0});var b=new SuperMapAlgoPlot.Point(-4*r,-2*r),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,b,0);y=[],h=[];for(var A=0;A<3;A++)y.push(new SuperMapAlgoPlot.Point(i[A].x+d.x,i[A].y+d.y)),h.push(new SuperMapAlgoPlot.Point(a[A].x+d.x,a[A].y+d.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0});var M=new SuperMapAlgoPlot.Point(0,-2*r),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,M,0);y=[],h=[];for(var v=0;v<3;v++)y.push(new SuperMapAlgoPlot.Point(i[v].x+m.x,i[v].y+m.y)),h.push(new SuperMapAlgoPlot.Point(a[v].x+m.x,a[v].y+m.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0});var O=new SuperMapAlgoPlot.Point(4*r,-2*r),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,O,0);y=[],h=[];for(var L=0;L<3;L++)y.push(new SuperMapAlgoPlot.Point(i[L].x+w.x,i[L].y+w.y)),h.push(new SuperMapAlgoPlot.Point(a[L].x+w.x,a[L].y+w.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&Ur(e.prototype,o),l&&Ur(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xr(t){"@babel/helpers - typeof";return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Er(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _r(t,e){return(_r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Yr(t);if(e){var n=Yr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Yr(t){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23700=Rr;var Cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_r(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Br(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.333333),e.scaleValues.push(.333333),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=[];if(2==t.length){var l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n);e=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI;var i=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,r,r,e+60);o.push(t[0]),o.push(n),o.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);for(var a=0;a<t.length;a++)o.push(t[a])}o.push(o[0]);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(!this.isEdit){this.scaleValues[0]=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[2]=2*p*this.getSubSymbolScaleValue()/u}var s=this.scaleValues[2],c=this.scaleValues[3],P=this.scaleValues[0],f=u*s;e=c-90,0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],P,f,e),this.addScalePoint(this.scaleValues[0]);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,f,f,c);this.addScalePoint(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i=[];if(2==o.length){l=o[0],n=o[1];var a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),u=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI;r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,u+60),i.push(l),i.push(n),i.push(r)}else i=i.concat(o);l=i[0],n=i[1],r=i[2];SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(i);i.push(i[0]);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),s=e;if(0==t)this.scaleValues[0]=e;else if(1==t){var c=this.scaleValues[0],P=SuperMapAlgoPlot.PlottingUtil.distance(c,s)/p;this.scaleValues[2]=P;var f=180*SuperMapAlgoPlot.PlottingUtil.radian(c,s)/Math.PI;this.scaleValues[3]=f}}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,l){var n,r,i=o[0],a=o[1],u=o[2],p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(u,i,a)*t,s=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,i,u)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,a,l)?((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!1)):((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,u,l)?((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!1)):((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!0)),2>c.length||2>r.length)return l;var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],r[0],r[1]);return P.isIntersectLines?P.intersectPoint:l}}])&&Er(e.prototype,o),l&&Er(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ir(t){"@babel/helpers - typeof";return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Dr(t,e){return(Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zr(t);if(e){var n=zr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zr(t){return(zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23901=Cr;var Fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=kr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,l,n,r=[];if(2==t.length){e=t[0],o=t[1];var i=SuperMapAlgoPlot.PlottingUtil.distance(e,o);n=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,l=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,i,i,n+60),r.push(e),r.push(l),r.push(o)}else r=r.concat(t);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r),r.push(r[0]);var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),u=this.scaleValues[0],p=this.scaleValues[1],s=this.scaleValues[2],c=this.scaleValues[4],P=a*u;e=r[0],o=r[1],l=r[2];var f,g=a*p,y=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(e,o,l)/Math.PI*s,h=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,S=h-y,b=h+y,d=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,S),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,b);f=SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(r,d)?d:A;var M=a*this.scaleValues[3];n=c,0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],f,M,n-90);var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,P,P,h+180);this.addScalePoint(m),this.addScalePoint(f);var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.5*M,.5*M,n);this.addScalePoint(v),this.createArcPts(r,P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i,a,u,p,s=[];2==o.length?(l=o[0],n=o[1],a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),i=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,i+60),s.push(l),s.push(n),s.push(r)):s=s.concat(o),l=s[0],n=s[1],r=s[2],s.push(s[0]);var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s),P=e;if(0===t)a=SuperMapAlgoPlot.PlottingUtil.distance(P,s[0]),this.scaleValues[0]=a/c;else if(1===t){u=SuperMapAlgoPlot.PlottingUtil.distance(P,s[0])/c,this.scaleValues[1]=u,i=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,r)/Math.PI,0<=(p=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,P)/Math.PI/i)&&1>=p&&(this.scaleValues[2]=p)}else if(2===t){u=this.scaleValues[1],p=this.scaleValues[2];var f,g=c*u,y=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,r)/Math.PI*p,h=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,S=h-y,b=h+y,d=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,g,g,S),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,g,g,b);f=SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(s,d)?d:A;var M=2*SuperMapAlgoPlot.PlottingUtil.distance(P,f)/c;this.scaleValues[3]=M;var m=180*SuperMapAlgoPlot.PlottingUtil.radian(f,P)/Math.PI;this.scaleValues[4]=m}}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,l){var n,r,i=o[0],a=o[1],u=o[2],p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(u,i,a)*t,s=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,i,u)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,a,l)?((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!1)):((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,u,l)?((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!1)):((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!0)),2>c.length||2>r.length)return l;var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],r[0],r[1]);return P.isIntersectLines?P.intersectPoint:l}},{key:"createArcPts",value:function(t,e){for(var o=[],l=[],n=0;n<t.length;n++)l.push(e),o.push([{Start:0,End:360}]);for(var r=0;r<t.length;r++)if(0!==o[r].length&&(0!==o[r][0].Start||0!==o[r][0].End))for(var i=r+1;i<t.length;i++)if(0!==o[i].length&&(0!==o[i][0].Start||0!==o[i][0].End)){var a=SuperMapAlgoPlot.PlottingUtil.distance(t[r],t[i]);if(a<l[r]+l[i])if(a>Math.abs(l[r]-l[i]))for(var u=0;u<2;u++){var p,s,c;0==u?(c=r,p=SuperMapAlgoPlot.PlottingUtil.radian(t[r],t[i])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((a*a+l[r]*l[r]-l[i]*l[i])/(2*a*l[r]))*SuperMapAlgoPlot.PlottingUtil.RTOD):(c=i,p=SuperMapAlgoPlot.PlottingUtil.radian(t[i],t[r])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((a*a+l[i]*l[i]-l[r]*l[r])/(2*a*l[i]))*SuperMapAlgoPlot.PlottingUtil.RTOD);var P=p-s,f=p+s,g=P<0&&f>0||P>360||f>360;P=this.adjustAngle(P),f=this.adjustAngle(f);for(var y=o[c].length-1;y>=0;y--)if(g){if(f>o[c][y].End||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(f,o[c][y].End)){o[c].splice(y,1);continue}if(f>o[c][y].Start&&(o[c][y].Start=f),P<o[c][y].Start||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(P,o[c][y].Start)){o[c].splice(y,1);continue}P<o[c][y].End&&(o[c][y].End=P)}else if(P<o[c][y].Start&&f>o[c][y].End)o[c].splice(y,1);else if(P>o[c][y].Start&&f<o[c][y].End)o[c].push({Start:o[c][y].Start,End:P}),o[c].push({Start:f,End:o[c][y].End}),o[c].splice(y,1);else{if(P>o[c][y].End)continue;if(P>o[c][y].Start&&(o[c][y].End=P),f<o[c][y].Start)continue;f<o[c][y].End&&(o[c][y].Start=f)}}else{if(l[r]<l[i]){o[r][0].Start=0,o[r][0].End=0;break}o[i][0].Start=0,o[i][0].End=0}}for(var h=0;h<t.length;h++)if(0!==o[h].length&&(0!==o[h][0].Start||0!==o[h][0].End))for(var S=o[h].length-1;S>=0;S--){for(var b=this.adjustAngle(o[h][S].Start),d=this.adjustAngle(o[h][S].End);d<b;)d+=360;for(var A=[],M=(d-b)/72,m=b;m<d+M/2;m+=M){var v=t[h].x+l[h]*Math.cos(m*SuperMapAlgoPlot.PlottingUtil.DTOR),O=t[h].y+l[h]*Math.sin(m*SuperMapAlgoPlot.PlottingUtil.DTOR);A.push(new SuperMapAlgoPlot.Point(v,O))}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A)}}},{key:"adjustAngle",value:function(t){for(;t>360;)t-=360;for(;t<0;)t+=360;return t}},{key:"GetCirclePts",value:function(t,e,o,l){var n=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,r=180*SuperMapAlgoPlot.PlottingUtil.radian(t,o)/Math.PI,i=n;r>n&&(i=r);for(var a=[],u=i;u<360+i;u+=4)90==u&&(u=91),a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,l,l,u));return a.push[0],a}},{key:"CreatArc",value:function(t,e,o){for(var l=[],n=[],r=0;r<t.length;r++){var i=t[r];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,i)||SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,i)?(n.length>1&&l.push(n),n=[]):n.push(i)}n.length>1&&l.push(n);for(var a=0;a<l.length;a++){var u=l[a];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}}},{key:"GetArcPts3D",value:function(t,e,o){for(var l=[],n=[],r=0;r<t.length;r++){var i=t[r];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,i)||SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,i)?(n.length>1&&l.push(n),n=[]):n.push(i)}n.length>1&&l.push(n);for(var a=[],u=0;u<l.length;u++)a=a.concat(l[u]);return a}},{key:"sortPts",value:function(t,e){t=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);for(var o=0;o<e.length;o++)for(var l=e[o],n=180*SuperMapAlgoPlot.PlottingUtil.radian(t,l)/Math.PI,r=0;r<e.length;r++){var i=e[r],a=180*SuperMapAlgoPlot.PlottingUtil.radian(t,i)/Math.PI;if(n>a){var u=new SuperMapAlgoPlot.Point(l.x,l.y);l=new SuperMapAlgoPlot.Point(i.x,i.y),i=new SuperMapAlgoPlot.Point(u.x,u.y),n=a,e[o]=l,e[r]=i}}return e}}])&&Nr(e.prototype,o),l&&Nr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gr(t){"@babel/helpers - typeof";return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Kr(t,e){return(Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hr(t);if(e){var n=Hr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hr(t){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23902=Fr;var Jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.025),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e;0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(.025),this.scaleValues.push(0)),e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=new SuperMapAlgoPlot.Point(0,0),l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),r=l*n;if(!this.isEdit){var i=this.getDefaultSubSymbolSize()/n;(i>.3||i<=0)&&(i=.3),this.scaleValues[1]=i}var a=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),u=0,p=.3*r;this.ComputeDashLine(3*n/19,n/19,e);var s=e[1].clone(),c=e[0].clone(),P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,s,c),f=P.pntRight,g=P.pntLeft,y=[];y.push(g.clone()),y.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0});for(var h=3*p,S=e[0].clone(),b=0;b<=n;b+=h){u=b+2*p;var d=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,e);if(d.bfind){if(o=d.pts,d.index>=e.length)break;var A,M,m,v,O,w,L,U=[];if(U.push(S.clone()),U.push(o.clone()),0==b){var V=o.clone();V.isScalePoint=!0,V.tag=0,this.scalePoints.push(V);var j=f.clone();j.isScalePoint=!0,j.tag=1,this.scalePoints.push(j)}if(0==this.scaleValues[2]){A=new SuperMapAlgoPlot.Point((S.x+o.x)/2,(S.y+o.y)/2),M=S.clone(),m=A.clone(),c=o.clone();var T=(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,M,m)).pntLeft;v=SuperMapAlgoPlot.PlottingUtil.linePnt(A,M,.3*a),O=SuperMapAlgoPlot.PlottingUtil.linePnt(A,c,.3*a),0==b&&((w=T.clone()).isScalePoint=!0,w.tag=2,this.scalePoints.push(w)),(L=[]).push(T.clone()),L.push(v.clone()),L.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0})}else{A=new SuperMapAlgoPlot.Point((S.x+o.x)/2,(S.y+o.y)/2),M=S.clone(),m=A.clone(),c=o.clone();var R=(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,M,m)).pntRight;v=SuperMapAlgoPlot.PlottingUtil.linePnt(A,M,.3*p),O=SuperMapAlgoPlot.PlottingUtil.linePnt(A,c,.3*p),0==b&&((w=R.clone()).isScalePoint=!0,w.tag=2,this.scalePoints.push(w)),(L=[]).push(R.clone()),L.push(v.clone()),L.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0})}if(u=b+3*p,(d=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,e)).bfind){if(o=d.pts,!(d.index<e.length))break;S=o}}}s=e[e.length-2].clone(),c=e[e.length-1].clone(),P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,s,c),(y=[]).push(P.pntLeft.clone()),y.push(P.pntRight.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t&&1!=t&&2!=t)return;var o,l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(l),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=e.clone(),a=o[0].clone();if(0==t)n=SuperMapAlgoPlot.PlottingUtil.distance(i,a)/.6/r,this.scaleValues[0]=n;else if(1==t)n=SuperMapAlgoPlot.PlottingUtil.distance(i,a)/r,this.scaleValues[1]=n;else if(2==t){var u=this.scaleValues[0]*r,p=.01*r,s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,o);if(!s.bfind)return;var c=s.index,P=s.pts.clone();if(!(s.index<o.length))return;var f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,o[c],P).pntLeft.clone(),g=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,f,P);(f.x-P.x)*(g.x-P.x)+(f.y-P.y)*(g.y-P.y)>=0?this.scaleValues[2]=0:this.scaleValues[2]=1}}}},{key:"ComputeDashLine",value:function(t,e,o){for(var l,n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=o[0].clone(),a=1,u=0,p=!0,s=!0;u<r;){var c;(n=[]).push(i),u+=t;var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,o);if(c=P.index,l=P.pts,!(p=P.bfind))break;if(a<c)for(var f=a;f<c;f++)n.push(o[f]);n.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),u+=e;var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,o);if(c=g.index,i=g.pts,a=c+1,!(s=g.bfind))break}if(!p){(n=[]).push(i);for(var y=a;y<o.length;y++)n.push(o[y]);2===n.length&&0===SuperMapAlgoPlot.PlottingUtil.distance(n[0],n[1])||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}if(!s){var h=o[o.length-1],S=SuperMapAlgoPlot.PlottingUtil.distance(l,h);if(S*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(S,0)){var b=SuperMapAlgoPlot.PlottingUtil.linePnt(h,l,S);(n=[]).push(b),n.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}}}}])&&Wr(e.prototype,o),l&&Wr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zr(t){"@babel/helpers - typeof";return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qr(t,e){return(Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ti(t);if(e){var n=ti(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol24700=Jr;var ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$r(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.222222),e.scaleValues.push(.5),e.scaleValues.push(.5),e.scaleValues.push(.5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.222222),this.scaleValues.push(.5),this.scaleValues.push(.5),this.scaleValues.push(.5));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o),S=[];S.push(r),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(i);for(var b=[],d=0;d<S.length;d++){var A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[d],h*SuperMapAlgoPlot.PlottingUtil.RTOD);b.push(A)}for(var M=[],m=b.length-1;m>=0;--m)M.push(b[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.scalePoints=[];var v=b[0].clone();v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);var O=b[1].clone();O.isScalePoint=!0,O.tag=1,this.scalePoints.push(O);var w=b[2].clone();w.isScalePoint=!0,w.tag=2,this.scalePoints.push(w),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&Xr(e.prototype,o),l&&Xr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oi(t){"@babel/helpers - typeof";return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function li(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ni(t,e){return(ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ii(t);if(e){var n=ii(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25000=ei;var ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol25000);var e,o,l,n=ri(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.285714),e.scaleValues.push(.5),e.scaleValues.push(.333333),e.scaleValues.push(.333333)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.285714),this.scaleValues.push(.285714),this.scaleValues.push(.5),this.scaleValues.push(.333333),this.scaleValues.push(.333333));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o),S=[];S.push(r),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(i);for(var b,d=[],A=0;A<S.length;A++)b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[A],h*SuperMapAlgoPlot.PlottingUtil.RTOD),d.push(b);for(var M=[],m=d.length-1;m>=0;--m)M.push(d[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.scalePoints=[];var v=d[0].clone();v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);var O=d[1].clone();O.isScalePoint=!0,O.tag=1,this.scalePoints.push(O);var w=d[2].clone();w.isScalePoint=!0,w.tag=2,this.scalePoints.push(w);var L=.04*l,U=.0475*l,V=new SuperMapAlgoPlot.Point(y.x-L,0),j=new SuperMapAlgoPlot.Point(f.x,f.y+U),T=SuperMapAlgoPlot.PlottingUtil.intersectLines(p,f,V,j),R=T.intersectPoint;if(0!=T.isIntersectLines){var x=new SuperMapAlgoPlot.Point(g.x,g.y-U),E=(T=SuperMapAlgoPlot.PlottingUtil.intersectLines(g,s,V,x)).intersectPoint;if(0!=T.isIntersectLines){var _=[];_.push(R),_.push(V),_.push(E);for(var B=[],Y=0;Y<_.length;Y++)b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,_[Y],h*SuperMapAlgoPlot.PlottingUtil.RTOD),B.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B),this.finish()}}}}}])&&li(e.prototype,o),l&&li(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ui(t){"@babel/helpers - typeof";return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function si(t,e){return(si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ci(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pi(t);if(e){var n=Pi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25100=ai;var fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&si(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol25000);var e,o,l,n=ci(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.105263),e.scaleValues.push(.105263),e.scaleValues.push(.181818),e.scaleValues.push(.285714),e.scaleValues.push(.285714)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=this.GetGoPts();if(0!=t.length){0==this.scaleValues.length&&(this.scaleValues.push(.105263),this.scaleValues.push(.105263),this.scaleValues.push(.181818),this.scaleValues.push(.285714),this.scaleValues.push(.285714));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o),S=[];S.push(r),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(i);for(var b,d=[],A=0;A<S.length;A++)b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[A],h*SuperMapAlgoPlot.PlottingUtil.RTOD),d.push(b);for(var M=[],m=d.length-1;m>=0;--m)M.push(d[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.scalePoints=[];var v=d[0].clone();v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);var O=d[1].clone();O.isScalePoint=!0,O.tag=1,this.scalePoints.push(O);var w=d[2].clone();w.isScalePoint=!0,w.tag=2,this.scalePoints.push(w);var L=.08125*l,U=new SuperMapAlgoPlot.Point(y.x-L,0),V=new SuperMapAlgoPlot.Point(U.x-L/2,0),j=new SuperMapAlgoPlot.Point(U.x+L/2,0),T=[];b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,V,h*SuperMapAlgoPlot.PlottingUtil.RTOD),T.push(b.clone()),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,j,h*SuperMapAlgoPlot.PlottingUtil.RTOD),T.push(b.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var R=new SuperMapAlgoPlot.Point(U.x,U.y-L/2),x=new SuperMapAlgoPlot.Point(U.x,U.y+L/2),E=[];b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,x,h*SuperMapAlgoPlot.PlottingUtil.RTOD),E.push(b.clone()),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,R,h*SuperMapAlgoPlot.PlottingUtil.RTOD),E.push(b.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E),this.finish()}}},{key:"GetGoPts",value:function(){var t=[];return this.controlPoints.length<this.minEditPts?t:(t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),1==(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length&&(t=[]),t)}}])&&pi(e.prototype,o),l&&pi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gi(t){"@babel/helpers - typeof";return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hi(t,e){return(hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bi(t);if(e){var n=bi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bi(t){return(bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25101=fi;var di=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Si(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=Math.max(this.subSymbols[0].symbolData.symbolSize.x,this.subSymbols[0].symbolData.symbolSize.y);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=100*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o,s=new SuperMapAlgoPlot.Point((a.pts.x+i.pts.x)/2,(i.pts.y+a.pts.y)/2);if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],s,p,u),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(3===t&&null==r.pt&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&yi(e.prototype,o),l&&yi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ai(t){"@babel/helpers - typeof";return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function mi(t,e){return(mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Oi(t);if(e){var n=Oi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ai(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oi(t){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25200=di;var wi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=vi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=o*this.scaleValues[0],n=e[e.length-1];if(e.length>2){for(var r=-1,i=e.length-2;i>=0;i--)if(l<SuperMapAlgoPlot.PlottingUtil.distance(n,e[i])){r=i;break}e.splice(r+1,e.length-r),e.push(n)}this.addArrow(e,this.scaleValues[0]);var a=e[e.length-2],u=e[e.length-1],p=l,s=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s-180);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/l;if(n>.2)return;this.scaleValues[0]=n}}}])&&Mi(e.prototype,o),l&&Mi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Li(t){"@babel/helpers - typeof";return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ui(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vi(t,e){return(Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ji(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ti(t);if(e){var n=Ti(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ti(t){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25201=wi;var Ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ji(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.025),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var o,l=e*this.scaleValues[0];o=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0);var n;n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1),this.addScalePoint(n[0]);var r=n[n.length-1],i=o[o.length-1],a=SuperMapAlgoPlot.PlottingUtil.distance(r,i),u=.3*a,p=o[o.length-2],s=o[o.length-1],c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,p,s).pntLeft;p=n[n.length-2],s=n[n.length-1];var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,p,s).pntRight,f=a;p=n[n.length-1],s=t[t.length-1];var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,p,s).pntRight,y=[];y.push(c),y.push(g),y.push(P);var h=[];h=(h=h.concat(o)).concat(y);for(var S=n.length-1;S>=0;--S)h.push(n[S]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;if(n>.5)return;this.scaleValues[0]=n}}}])&&Ui(e.prototype,o),l&&Ui(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xi(t){"@babel/helpers - typeof";return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ei(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _i(t,e){return(_i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Yi(t);if(e){var n=Yi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Yi(t){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25202=Ri;var Ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_i(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.068),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0],l=o*e,n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(e/2,r);if(i.bfind){var a=i.pts.clone(),u=i.index,p=(o=this.scaleValues[0])*e,s=[];s.push(a);for(var c=u;c>=0;c--)s.push(r[c]);if((i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,s)).bfind){var P=i.index,f=i.pts.clone(),g=[];g.push(f);for(var y=P+1;y<s.length;y++)g.push(s[y].clone());var h={surroundLineFlag:!1,fillLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,h);var S=[];S.push(a);for(var b=u+1;b<r.length;b++)S.push(r[b]);if((i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,S)).bfind){var d=i.index,A=i.pts.clone();(g=[]).push(A);for(var M=d+1;M<S.length;M++)g.push(S[M].clone());this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1});var m=SuperMapAlgoPlot.PlottingUtil.radian(f,A)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=new SuperMapAlgoPlot.Point((f.x+A.x)/2,(f.y+A.y)/2);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],v,p,m);var O=s[s.length-1].clone(),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,.3*l,.3*l,m+30),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,.3*l,.3*l,m+180),U=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,.3*l,.3*l,m+330);(g=[]).push(w),g.push(L),g.push(U);var V={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,V,!0),e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),(i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(e/2,n)).bfind){var j=i.index,T=i.pts.clone(),R=[];R.push(T);for(var x=j;x>=0;x--)R.push(n[x]);if((i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,R)).bfind){var E=i.index,_=i.pts.clone(),B=[];B.push(_);for(var Y=E+1;Y<R.length;Y++)B.push(R[Y]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B);var C=[];C.push(T);for(var I=j+1;I<n.length;I++)C.push(n[I]);if((i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,C)).bfind){var N=i.index,D=i.pts.clone();(B=[]).push(D);for(var k=N+1;k<C.length;k++)B.push(C[k]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,h);var z=SuperMapAlgoPlot.PlottingUtil.radian(_,D)*SuperMapAlgoPlot.PlottingUtil.RTOD,F=new SuperMapAlgoPlot.Point((_.x+D.x)/2,(_.y+D.y)/2);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[1],F,p,z+90);var G=R[R.length-1].clone(),W=SuperMapAlgoPlot.PlottingUtil.circlePoint(G,.3*l,.3*l,m+30),K=SuperMapAlgoPlot.PlottingUtil.circlePoint(G,.3*l,.3*l,m+180),q=SuperMapAlgoPlot.PlottingUtil.circlePoint(G,.3*l,.3*l,m+330);(g=[]).push(W),g.push(K),g.push(q),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,V,!0);var H=SuperMapAlgoPlot.PlottingUtil.linePnt(K,L,3*l),J=SuperMapAlgoPlot.PlottingUtil.linePnt(L,K,3*l);(B=[]).push(H),B.push(J),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,{surroundLineLimit:!0,lineTypeLimit:!0});var Z=SuperMapAlgoPlot.PlottingUtil.linePnt(S[S.length-1],C[C.length-1],3*l),X=SuperMapAlgoPlot.PlottingUtil.linePnt(C[C.length-1],S[S.length-1],3*l);(B=[]).push(Z),B.push(X),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,{surroundLineLimit:!0,lineTypeLimit:!0}),this.scalePoints=[],this.addScalePoint(H.clone()),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l/2;n>=.45&&(n=.45),this.scaleValues[0]=n}}}])&&Ei(e.prototype,o),l&&Ei(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ii(t){"@babel/helpers - typeof";return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ni(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Di(t,e){return(Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ki(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zi(t);if(e){var n=zi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zi(t){return(zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25300=Ci;var Fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Di(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ki(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.068),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&this.scaleValues.push(.068),0==this.subSymbols.length&&(this.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(100,300)),this.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(100,6200)));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0],l=o*e,n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(e/2,r);if(i.bfind){var a=i.pts.clone(),u=i.index,p=(o=this.scaleValues[0])*e,s=[];s.push(a);for(var c=u;c>=0;c--)s.push(r[c]);if((i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,s)).bfind){var P=i.index,f=i.pts.clone(),g=[];g.push(f);for(var y=P+1;y<s.length;y++)g.push(s[y].clone());var h={surroundLineFlag:!1,fillLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,h);var S=[];S.push(a);for(var b=u+1;b<r.length;b++)S.push(r[b]);if((i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,S)).bfind){var d=i.index,A=i.pts.clone();(g=[]).push(A);for(var M=d+1;M<S.length;M++)g.push(S[M].clone());this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1});var m=SuperMapAlgoPlot.PlottingUtil.radian(f,A)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=new SuperMapAlgoPlot.Point((f.x+A.x)/2,(f.y+A.y)/2);if(this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],v,p,m+90),e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),(i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(e/2,n)).bfind){var O=i.index,w=i.pts.clone(),L=[];L.push(w);for(var U=O;U>=0;U--)L.push(n[U]);if((i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,L)).bfind){var V=i.index,j=i.pts.clone(),T=[];T.push(j);for(var R=V+1;R<L.length;R++)T.push(L[R]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var x=[];x.push(w);for(var E=O+1;E<n.length;E++)x.push(n[E]);if((i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,x)).bfind){var _=i.index,B=i.pts.clone();(T=[]).push(B);for(var Y=_+1;Y<x.length;Y++)T.push(x[Y]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,h);var C=SuperMapAlgoPlot.PlottingUtil.radian(j,B)*SuperMapAlgoPlot.PlottingUtil.RTOD,I=new SuperMapAlgoPlot.Point((j.x+B.x)/2,(j.y+B.y)/2);this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],I,p,C);var N=SuperMapAlgoPlot.PlottingUtil.linePnt(s[s.length-1],L[L.length-1],3*l),D=SuperMapAlgoPlot.PlottingUtil.linePnt(L[L.length-1],s[s.length-1],3*l);(T=[]).push(N),T.push(D),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{surroundLineLimit:!0,lineTypeLimit:!0});var k=SuperMapAlgoPlot.PlottingUtil.linePnt(S[S.length-1],x[x.length-1],3*l),z=SuperMapAlgoPlot.PlottingUtil.linePnt(x[x.length-1],S[S.length-1],3*l);(T=[]).push(k),T.push(z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{surroundLineLimit:!0,lineTypeLimit:!0}),this.scalePoints=[],this.addScalePoint(N.clone()),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l/2;n>=.4&&(n=.4),this.scaleValues[0]=n}}}])&&Ni(e.prototype,o),l&&Ni(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gi(t){"@babel/helpers - typeof";return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ki(t,e){return(Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hi(t);if(e){var n=Hi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hi(t){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25301=Fi;var Ji=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ki(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5));var n=this.getLinePts(e,this.scaleValues[0]),r=this.getLinePts(e,this.scaleValues[0]),i=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt),a=e[0],u=e[1],p=e[e.length-2],s=e[e.length-1],c=.3*i,P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,u,a),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,p,s),g=P.pntLeft,y=f.pntLeft,h=[];h.push(s),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[],b=[];S.push(g);for(var d=0;d<=r.startIndex;d++)S.push(e[d]);if(S.push(r.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),r.endIndex<=e.length){b.push(r.endPt);for(var A=r.endIndex+1;A<=e.length-1;A++)b.push(e[A]);b.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}var M=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,m=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),v=new SuperMapAlgoPlot.Point(-.5*i,0),O=new SuperMapAlgoPlot.Point(.1*i,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,v,M),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,O,M),U=[];U.push(w),U.push(L);var V={surroundLineFlag:!1,lineTypeLimit:!0,fillLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,V);var j=new SuperMapAlgoPlot.Point(-.3*i,0),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,-.3*i,-.3*i,135),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,-.3*i,-.3*i,225),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,j,M),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,T,M),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,R,M);(U=[]).push(E),U.push(x),U.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,V);var B=new SuperMapAlgoPlot.Point(.1*i,0),Y=new SuperMapAlgoPlot.Point(.5*i,-.2*i),C=new SuperMapAlgoPlot.Point(.5*i,.2*i),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,B,M),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,Y,M),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,C,M);(U=[]).push(I),U.push(N),U.push(D),U.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,V);var k=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),z=SuperMapAlgoPlot.PlottingUtil.circlePoint(k.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,M);this.addScalePoint(z,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Wi(e.prototype,o),l&&Wi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zi(t){"@babel/helpers - typeof";return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qi(t,e){return(Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ta(t);if(e){var n=ta(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ta(t){return(ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25400=Ji;var ea=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$i(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.02));for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50,i=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!1),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),u=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!0),p={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1};a>SuperMapAlgoPlot.PlottingUtil.polylineDistance(u)?(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,p)):(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,p),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u));var s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=.25*this.getSubSymbolScaleValue(c));var P=this.scaleValues[0],f=this.scaleValues[1],g=this.scaleValues[2],y=new SuperMapAlgoPlot.Point(s.x+c*P,s.y+c*f),h=g*c,S=new SuperMapAlgoPlot.Point(y.x-4*h,y.y+h/2),b=new SuperMapAlgoPlot.Point(y.x-4*h,y.y-h/2),d=[];d.push(S),d.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0});var A=new SuperMapAlgoPlot.Point(y.x-4*h,y.y),M=new SuperMapAlgoPlot.Point(y.x-1.5*h,y.y);(d=[]).push(A),d.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0});for(var m=new SuperMapAlgoPlot.Point(y.x,y.y-h),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,2*h,2*h,60),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,2*h,2*h,120),w=new SuperMapAlgoPlot.Point((v.x+O.x)/2,v.y),L=[],U=0;U<=180;U+=3)L.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(w,h,h,U));d=[];for(var V=0;V<L.length;V++)d.push(L[V].clone());d.push(O.clone()),d.push(m.clone()),d.push(v.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0});var j=new SuperMapAlgoPlot.Point(y.x+4*h,y.y),T=new SuperMapAlgoPlot.Point(y.x+1.5*h,y.y);(d=[]).push(j.clone()),d.push(T.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0});var R=new SuperMapAlgoPlot.Point(y.x+4*h,y.y+h/2),x=new SuperMapAlgoPlot.Point(y.x+4*h,y.y-h/2);(d=[]).push(R.clone()),d.push(x.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(y.clone());var E=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,h,h,90);this.addScalePoint(E.clone()),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t&&1!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n,r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(0==t)l=(e.x-r.x)/i,this.scaleValues[0]=l,n=(e.y-r.y)/i,this.scaleValues[1]=n;else if(1==t){l=this.scaleValues[0],n=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(r.x+i*l,r.y+i*n),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e)/i;this.scaleValues[2]=u}}}}])&&Xi(e.prototype,o),l&&Xi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oa(t){"@babel/helpers - typeof";return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function la(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function na(t,e){return(na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ia(t);if(e){var n=ia(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25500=ea;var aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&na(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol25500);var e,o,l,n=ra(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.05)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=.5*this.getSubSymbolScaleValue(l));var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=new SuperMapAlgoPlot.Point(o.x+l*n,o.y+l*r),u=i*l,p=.25*u,s=[];s.push(new SuperMapAlgoPlot.Point(a.x-u,a.y+p)),s.push(new SuperMapAlgoPlot.Point(a.x+u,a.y+p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,{lineTypeLimit:!0,surroundLineLimit:!0});var c=[];c.push(new SuperMapAlgoPlot.Point(a.x+u,a.y-p)),c.push(new SuperMapAlgoPlot.Point(a.x-u,a.y-p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{lineTypeLimit:!0,surroundLineLimit:!0});var P=[];P.push(new SuperMapAlgoPlot.Point(a.x+u,a.y+2*p)),P.push(new SuperMapAlgoPlot.Point(a.x+u,a.y-2*p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0});var f=[];f.push(new SuperMapAlgoPlot.Point(a.x-u,a.y+2*p)),f.push(new SuperMapAlgoPlot.Point(a.x-u,a.y-2*p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(a);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(g),this.finish()}}}])&&la(e.prototype,o),l&&la(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ua(t){"@babel/helpers - typeof";return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pa(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sa(t,e){return(sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ca(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pa(t);if(e){var n=Pa(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pa(t){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25501=aa;var fa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sa(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ca(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.08)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue(l));var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=new SuperMapAlgoPlot.Point(o.x+l*n,o.y+l*r),u=i*l/2.5,p=.7*u,s=[];s.push(new SuperMapAlgoPlot.Point(a.x,a.y)),s.push(new SuperMapAlgoPlot.Point(a.x+u,a.y));var c={surroundLineFlag:!1,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,s,c);var P=[];P.push(new SuperMapAlgoPlot.Point(a.x+p,a.y-p/2)),P.push(new SuperMapAlgoPlot.Point(a.x-p,a.y-p/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,c);var f=[];f.push(new SuperMapAlgoPlot.Point(a.x,a.y-p/2)),f.push(new SuperMapAlgoPlot.Point(a.x,a.y+p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,c);var g=[];g.push(new SuperMapAlgoPlot.Point(a.x-p/2,a.y-p/2)),g.push(new SuperMapAlgoPlot.Point(a.x-p,a.y+p/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,c);var y=[];y.push(new SuperMapAlgoPlot.Point(a.x+p/2,a.y-p/2)),y.push(new SuperMapAlgoPlot.Point(a.x+p,a.y+p/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,c),this.scalePoints=[],this.addScalePoint(a.clone());var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,1.25*u,1.25*u,90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t&&1!=t)return;var o,l,n=this.controlPoints,r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(0==t)o=(e.x-r.x)/i,this.scaleValues[0]=o,l=(e.y-r.y)/i,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(r.x+i*o,r.y+i*l),u=2*SuperMapAlgoPlot.PlottingUtil.distance(a,e)/i;this.scaleValues[2]=u}}}}])&&pa(e.prototype,o),l&&pa(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ga(t){"@babel/helpers - typeof";return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ya(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ha(t,e){return(ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ba(t);if(e){var n=ba(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ba(t){return(ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25502=fa;var da=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ha(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sa(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.02)),0==this.subSymbols.length&&this.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(100,8402)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=.25*this.getSubSymbolScaleValue(l));var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=new SuperMapAlgoPlot.Point(o.x+l*n,o.y+l*r),u=i*l,p=[];p.push(new SuperMapAlgoPlot.Point(a.x-4*u,a.y+u/2)),p.push(new SuperMapAlgoPlot.Point(a.x-4*u,a.y-u/2));var s={surroundLineFlag:!1,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,s);var c=[];c.push(new SuperMapAlgoPlot.Point(a.x-4*u,a.y)),c.push(new SuperMapAlgoPlot.Point(a.x-u,a.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,s),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,2*u,0);var P=[];P.push(new SuperMapAlgoPlot.Point(a.x+4*u,a.y)),P.push(new SuperMapAlgoPlot.Point(a.x+u,a.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,s);var f=[];f.push(new SuperMapAlgoPlot.Point(a.x+4*u,a.y+u/2)),f.push(new SuperMapAlgoPlot.Point(a.x+4*u,a.y-u/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,s),this.scalePoints=[],this.addScalePoint(a.clone());var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,2*u,2*u,90);this.addScalePoint(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t&&1!=t)return;var o,l,n=this.controlPoints,r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(0==t)o=(e.x-r.x)/i,this.scaleValues[0]=o,l=(e.y-r.y)/i,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(r.x+i*o,r.y+i*l),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e)/2/i;this.scaleValues[2]=u}}}}])&&ya(e.prototype,o),l&&ya(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Aa(t){"@babel/helpers - typeof";return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ma(t,e){return(ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function va(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Oa(t);if(e){var n=Oa(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Aa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oa(t){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25503=da;var wa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ma(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=va(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.01),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50,i=[],a=[],u=!0;t.length>2?SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(t[0],t[1],t[2])?(i=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!1),a=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!0)):(u=!1,i=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!0),a=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!1)):(i=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!1),a=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!0));var p,s,c,P,f,g,y,h,S;if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1}),t.length>2){var b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(b));var d=this.scaleValues[0]*b*.25;a.push(a[0].clone());for(var A=0;A<a.length-1;A++){p=new SuperMapAlgoPlot.Point((a[A].x+a[A+1].x)/2,(a[A].y+a[A+1].y)/2),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),u?(s.x=0,s.y=1.5*d,c.x=-.5*d,c.y=0,P.x=.5*d,P.y=0):(s.x=0,s.y=-1.5*d,c.x=-.5*d,c.y=0,P.x=.5*d,P.y=0),f=SuperMapAlgoPlot.PlottingUtil.radian(p,a[A+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,s,f),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,c,f),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,P,f),(S=[]).push(g),S.push(y),S.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{surroundLineFlag:!1,surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0,lineWidthLimit:!0})}i.push(i[0].clone());for(var M=0;M<i.length-1;M++){p=new SuperMapAlgoPlot.Point((i[M].x+i[M+1].x)/2,(i[M].y+i[M+1].y)/2),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),u?(s.x=0,s.y=-1.5*d,c.x=-.5*d,c.y=0,P.x=.5*d,P.y=0):(s.x=0,s.y=1.5*d,c.x=-.5*d,c.y=0,P.x=.5*d,P.y=0),f=SuperMapAlgoPlot.PlottingUtil.radian(p,i[M+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,s,f),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,c,f),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,P,f),(S=[]).push(g),S.push(y),S.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{surroundLineFlag:!1,surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0,lineWidthLimit:!0})}}this.finish()}}}])&&Ma(e.prototype,o),l&&Ma(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function La(t){"@babel/helpers - typeof";return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ua(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Va(t,e){return(Va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ta(t);if(e){var n=Ta(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===La(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ta(t){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25600=wa;var Ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Va(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol25600);var e,o,l,n=ja(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(o));var l=this.scaleValues[0]*o*.25,n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);n.push(n[0].clone());for(var r=0;r<n.length-1;r++){var i=new SuperMapAlgoPlot.Point((n[r].x+n[r+1].x)/2,(n[r].y+n[r+1].y)/2),a=new SuperMapAlgoPlot.Point(0,1.5*l),u=new SuperMapAlgoPlot.Point(-.5*l,0),p=new SuperMapAlgoPlot.Point(0,-1.5*l),s=new SuperMapAlgoPlot.Point(.5*l,0),c=SuperMapAlgoPlot.PlottingUtil.radian(i,n[r+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,a,c),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,c),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,c),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,c),h=[];h.push(P),h.push(f),h.push(g),h.push(y),h.push(P.clone());this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{surroundLineFlag:!1,surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0,lineWidthLimit:!0})}this.finish()}}}])&&Ua(e.prototype,o),l&&Ua(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xa(t){"@babel/helpers - typeof";return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _a(t,e){return(_a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ya(t);if(e){var n=Ya(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ya(t){return(Ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25601=Ra;var Ca=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_a(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ba(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r,i,a=(l-o)/50,u=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!0),p=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!1);if(u.length>2&&p.length>0){for(var s=[],c=0;c<u.length;c++)s.push(u[c]);r=p[0],i=[],SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(s,r)||(i=i.concat(u),u=(u=[]).concat(p),p=(p=[]).concat(i))}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1}),p.push(p[0]);for(var P=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),f=10*a,g={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},y=!0,h=P.x,S=P.x;y;){y=!1;for(var b,d,A,M=[],m=new SuperMapAlgoPlot.Point(h,P.y),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,10,10,45),O=0;O<p.length-1;O++){var w=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,p[O],p[O+1]);w.isIntersectLines&&(d=w.intersectPoint,(i=[]).push(p[O]),i.push(p[O+1]),(b=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(d,i)).isOnPolyLine&&M.push(d))}if(1<M.length){this.sortPts2D(M);for(var L=0;L<M.length-1;L++)r=new SuperMapAlgoPlot.Point((M[L].x+M[L+1].x)/2,(M[L].y+M[L+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(p,r)&&((A=[]).push(M[L]),A.push(M[L+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,g))}M.length>0&&(y=!0),M=[];for(var U=new SuperMapAlgoPlot.Point(S,P.y),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,5,5,45),j=0;j<p.length-1;j++)(b=SuperMapAlgoPlot.PlottingUtil.intersectLines(U,V,p[j],p[j+1])).isIntersectLines&&(d=b.intersectPoint,(i=[]).push(p[j]),i.push(p[j+1]),(b=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(d,i)).isOnPolyLine&&M.push(d));if(1<M.length){this.sortPts2D(M);for(var T=0;T<M.length-1;T++)r=new SuperMapAlgoPlot.Point((M[T].x+M[T+1].x)/2,(M[T].y+M[T+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(p,r)&&((A=[]).push(M[T]),A.push(M[T+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,g))}M.length>0&&(y=!0),h-=f,S+=f}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&Ea(e.prototype,o),l&&Ea(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ia(t){"@babel/helpers - typeof";return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Na(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Da(t,e){return(Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ka(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=za(t);if(e){var n=za(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function za(t){return(za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25700=Ca;var Fa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Da(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ka(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},u=10*r;t.push(t[0]);for(var p=!0,s=i.x,c=i.x;p;){p=!1;for(var P,f,g,y,h,S=[],b=new SuperMapAlgoPlot.Point(s,i.y),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,10,10,45),A=0;A<t.length-1;A++){var M=SuperMapAlgoPlot.PlottingUtil.intersectLines(b,d,t[A],t[A+1]);M.isIntersectLines&&(f=M.intersectPoint,(g=[]).push(t[A]),g.push(t[A+1]),(P=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,g)).isOnPolyLine&&S.push(f))}if(1<S.length){this.sortPts2D(S);for(var m=0;m<S.length-1;m++)h=new SuperMapAlgoPlot.Point((S[m].x+S[m+1].x)/2,(S[m].y+S[m+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,h)&&((y=[]).push(S[m]),y.push(S[m+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,a,!0))}S.length>0&&(p=!0),S=[];for(var v=new SuperMapAlgoPlot.Point(c,i.y),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(v,5,5,45),w=0;w<t.length-1;w++)(P=SuperMapAlgoPlot.PlottingUtil.intersectLines(v,O,t[w],t[w+1])).isIntersectLines&&(f=P.intersectPoint,(g=[]).push(t[w]),g.push(t[w+1]),(P=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,g)).isOnPolyLine&&S.push(f));if(1<S.length){this.sortPts2D(S);for(var L=0;L<S.length-1;L++)h=new SuperMapAlgoPlot.Point((S[L].x+S[L+1].x)/2,(S[L].y+S[L+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,h)&&((y=[]).push(S[L]),y.push(S[L+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,a,!0))}S.length>0&&(p=!0),s-=u,c+=u}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&Na(e.prototype,o),l&&Na(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ga(t){"@babel/helpers - typeof";return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wa(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ka(t,e){return(Ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ha(t);if(e){var n=Ha(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ha(t){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25701=Fa;var Ja=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ka(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qa(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.08)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50,i=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!0),a=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!1);if(i.length>2&&a.length>0){for(var u=[],p=new SuperMapAlgoPlot.Point(0,0),s=0;s<i.length;s++)u.push(i[s]);p=a[0];var c=[];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(u,p)||(c=c.concat(i),i=(i=[]).concat(a),a=(a=[]).concat(c))}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1},!0);var P=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue(f));var g=this.scaleValues[0],y=this.scaleValues[1],h=this.scaleValues[2],S=new SuperMapAlgoPlot.Point(P.x+f*g,P.y+f*y),b=h*f/2,d=[];d.push(new SuperMapAlgoPlot.Point(S.x,S.y)),d.push(new SuperMapAlgoPlot.Point(S.x,S.y+b));this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,d,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0);var A=[];A.push(new SuperMapAlgoPlot.Point(S.x-1.5*b,S.y+b)),A.push(new SuperMapAlgoPlot.Point(S.x+1.5*b,S.y+b)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(S);var M=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,b,b,90);this.addScalePoint(M),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0==r)return;if(0==t)l=(e.x-i.x)/r,this.scaleValues[0]=l,n=(e.y-i.y)/r,this.scaleValues[1]=n;else if(1==t){l=this.scaleValues[0],n=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(i.x+r*l,i.y+r*n),u=2*SuperMapAlgoPlot.PlottingUtil.distance(a,e)/r;this.scaleValues[2]=u}}}}])&&Wa(e.prototype,o),l&&Wa(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Za(t){"@babel/helpers - typeof";return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xa(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qa(t,e){return(Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tu(t);if(e){var n=tu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Za(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tu(t){return(tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25800=Ja;var eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qa(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol25800);var e,o,l,n=$a(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue(l));var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=new SuperMapAlgoPlot.Point(o.x+l*n,o.y+l*r),u=i*l/2,p=[];p.push(new SuperMapAlgoPlot.Point(a.x,a.y)),p.push(new SuperMapAlgoPlot.Point(a.x,a.y+u));this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,p,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0);var s=[];s.push(new SuperMapAlgoPlot.Point(a.x-1.5*u,a.y+u)),s.push(new SuperMapAlgoPlot.Point(a.x+1.5*u,a.y+u)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(a);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(c),this.finish()}}}])&&Xa(e.prototype,o),l&&Xa(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ou(t){"@babel/helpers - typeof";return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nu(t,e){return(nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ru(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=iu(t);if(e){var n=iu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ou(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function iu(t){return(iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25801=eu;var au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ru(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50,i=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!0),a=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,r,!1);if(i.length>2&&a.length>0){for(var u=[],p=0;p<i.length;p++)u.push(i[p]);var s=a[0],c=[];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(u,s)||(c=c.concat(i),i=(i=[]).concat(a),a=(a=[]).concat(c))}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1},!0);var P={surroundLineFlag:!1,lineTypeLimit:!0,surroundLineLimit:!0},f=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=2*this.getSubSymbolScaleValue(g));var y=this.scaleValues[0],h=this.scaleValues[1],S=this.scaleValues[2],b=new SuperMapAlgoPlot.Point(f.x+g*y,f.y+g*h),d=S*g/2,A=[];A.push(new SuperMapAlgoPlot.Point(b.x-d,b.y)),A.push(new SuperMapAlgoPlot.Point(b.x+d,b.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,P,!0);var M=.3*d,m=[];m.push(new SuperMapAlgoPlot.Point(b.x-d,b.y+M/2)),m.push(new SuperMapAlgoPlot.Point(b.x-d,b.y-M/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,P,!0);var v=[];v.push(new SuperMapAlgoPlot.Point(b.x+d,b.y+M/2)),v.push(new SuperMapAlgoPlot.Point(b.x+d,b.y-M/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,P,!0);var O=[];O.push(new SuperMapAlgoPlot.Point(b.x,b.y)),O.push(new SuperMapAlgoPlot.Point(b.x,b.y+1.5*M)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O,P,!0);var w=[];w.push(new SuperMapAlgoPlot.Point(b.x-M/2,b.y)),w.push(new SuperMapAlgoPlot.Point(b.x-M,b.y+M)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,P,!0);var L=[];L.push(new SuperMapAlgoPlot.Point(b.x+M/2,b.y)),L.push(new SuperMapAlgoPlot.Point(b.x+M,b.y+M)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,P,!0),this.addScalePoint(b);var U=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,d,d,90);this.addScalePoint(U),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t&&1!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n,r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(0==t)l=(e.x-r.x)/i,this.scaleValues[0]=l,n=(e.y-r.y)/i,this.scaleValues[1]=n;else if(1==t){l=this.scaleValues[0],n=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(r.x+i*l,r.y+i*n),u=2*SuperMapAlgoPlot.PlottingUtil.distance(a,e)/i;this.scaleValues[2]=u}}}}])&&lu(e.prototype,o),l&&lu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function uu(t){"@babel/helpers - typeof";return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function su(t,e){return(su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pu(t);if(e){var n=Pu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pu(t){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25900=au;var fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&su(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol25900);var e,o,l,n=cu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var o={surroundLineFlag:!1,lineTypeLimit:!0,surroundLineLimit:!0},l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=2*this.getSubSymbolScaleValue(n));var r=this.scaleValues[0],i=this.scaleValues[1],a=this.scaleValues[2],u=new SuperMapAlgoPlot.Point(l.x+n*r,l.y+n*i),p=a*n/2,s=[];s.push(new SuperMapAlgoPlot.Point(u.x-p,u.y)),s.push(new SuperMapAlgoPlot.Point(u.x+p,u.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,o,!0);var c=.3*p,P=[];P.push(new SuperMapAlgoPlot.Point(u.x-p,u.y+c/2)),P.push(new SuperMapAlgoPlot.Point(u.x-p,u.y-c/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,o,!0);var f=[];f.push(new SuperMapAlgoPlot.Point(u.x+p,u.y+c/2)),f.push(new SuperMapAlgoPlot.Point(u.x+p,u.y-c/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,o,!0);var g=[];g.push(new SuperMapAlgoPlot.Point(u.x,u.y)),g.push(new SuperMapAlgoPlot.Point(u.x,u.y+1.5*c)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,o,!0);var y=[];y.push(new SuperMapAlgoPlot.Point(u.x-c/2,u.y)),y.push(new SuperMapAlgoPlot.Point(u.x-c,u.y+c)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,o,!0);var h=[];h.push(new SuperMapAlgoPlot.Point(u.x+c/2,u.y)),h.push(new SuperMapAlgoPlot.Point(u.x+c,u.y+c)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,o,!0),this.addScalePoint(u);var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(S),this.finish()}}}])&&pu(e.prototype,o),l&&pu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gu(t){"@babel/helpers - typeof";return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hu(t,e){return(hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Su(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bu(t);if(e){var n=bu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bu(t){return(bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25901=fu;var du=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Su(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(-1.5)),e.arrowHeadType=SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){this.scaleValues=[];for(var e=0;e<t.length;e++)this.scaleValues.splice(e,0,0);var o=this.getSubSymbolScaleValue();this.scaleValues[t.length]=.8*o,this.scaleValues[t.length+1]=o,this.scaleValues[t.length+2]=-1.5;var l=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[t.length+3]=l,this.scaleValues[t.length+4]=o,this.arrowHeadType=3}this.isEdit&&this.scaleValues.length===t.length+3&&(this.scaleValues[t.length+3]=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),this.scaleValues[t.length+4]=.05);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=n*this.scaleValues[this.scaleValues.length-1],i=n*this.scaleValues[this.scaleValues.length-2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i-.5*r);if(-1!==a.index){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i+.5*r);if(-1!==u.index){var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i).pt,s=SuperMapAlgoPlot.PlottingUtil.radian(a.pt,u.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD;0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],p,.6*r,s);for(var c=[],P=[],f=0;f<=a.index;f++)c.push(t[f]);c.push(a.pt),P.push(u.pt);for(var g=a.index+1;g<=t.length-1;g++)P.push(t[g]);var y,h,S,b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),d=this.scaleValues.length,A=b*this.scaleValues[d-5]*.2,M=this.scaleValues[0];if(0===M)y=(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,t[1],t[0])).pntRight;else if(1===M)y=(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,t[1],t[0])).pntLeft;else{if(2!==M)return;y=t[0]}var m,v,O,w,L=[];L.push(y);for(var U=0;U<=a.index;U++)L.push(t[U]);if(L.push(a.pt),this.addScalePoint(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),t.length>this.minEditPts){for(var V,j,T,R,x,E=1;E<t.length-1;E++){var _,B,Y,C=this.scaleValues[E];if(0===C){for(V=t[E],B=t[E+1],Y=t[E-1],j=180*SuperMapAlgoPlot.PlottingUtil.radian(V,B)/Math.PI,T=180*SuperMapAlgoPlot.PlottingUtil.radian(V,Y)/Math.PI-j;T<0;)T+=360;R=T/2,x=t[E+1].clone(),x=SuperMapAlgoPlot.PlottingUtil.rotateAngle(V,R*Math.PI/180,x),_=SuperMapAlgoPlot.PlottingUtil.linePnt(V,x,A)}else if(1===C){for(V=t[E],B=t[E+1],Y=t[E-1],j=180*SuperMapAlgoPlot.PlottingUtil.radian(V,B)/Math.PI,T=180*SuperMapAlgoPlot.PlottingUtil.radian(V,Y)/Math.PI-j;T<0;)T+=360;R=180-T/2,x=t[E-1].clone(),x=SuperMapAlgoPlot.PlottingUtil.rotateAngle(V,R*Math.PI/180,x),_=SuperMapAlgoPlot.PlottingUtil.linePnt(V,x,A)}else{if(2!==C)continue;_=t[E]}(m=[]).push(t[E]),m.push(_),this.addScalePoint(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,{surroundLineLimit:!0,lineTypeLimit:!0})}var I=t.length,N=this.scaleValues[I-1];if(0===N)v=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,t[I-2],t[I-1])).pntLeft,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*A,t[I-2],t[I-1]).pntLeft;else if(1===N)v=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,t[I-2],t[I-1])).pntRight,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*A,t[I-2],t[I-1]).pntRight;else{if(2!==N)return;v=t[I-1].clone(),O=t[I-1].clone()}(m=[]).push(u.pt);for(var D=a.index+1;D<=t.length-1;D++)m.push(t[D]);m.push(v),this.addScalePoint(v),this.addScalePoint(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m)}else{var k=this.scaleValues[1];if(0===k)v=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,t[0],t[1])).pntLeft,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*A,t[0],t[1]).pntLeft;else if(1===k)v=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,t[0],t[1])).pntRight,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*A,t[0],t[1]).pntRight;else{if(2!==k)return;v=t[1].clone(),O=t[1].clone()}(m=[]).push(u.pt);for(var z=a.index+1;z<=t.length-1;z++)m.push(t[z]);m.push(v),this.addScalePoint(v),this.addScalePoint(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m)}var F=this.scaleValues.length,G=this.scaleValues[F-4],W=Math.abs(b*G),K=this.scaleValues[F-3],q=5*Math.abs(A*K);if(-1!==(h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,W)).index){var H=h.index,J=h.pt;w=K>=0?(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(q,t[H],J)).pntRight:(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(q,t[H],J)).pntLeft;var Z=SuperMapAlgoPlot.PlottingUtil.linePnt(J,w,q),X=.3*q,Q=SuperMapAlgoPlot.PlottingUtil.linePnt(Z,J,X);(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*X,Z,Q)).pntLeft,S.pntRight;(m=[]).push(Z),m.push(J),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,{surroundLineLimit:!0,lineTypeLimit:!0});var $=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(m,.3*q,this.arrowHeadType),tt=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL;this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW||(tt=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL);this.addCell(tt,$,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(Z),this.addScalePoint(p);var et=SuperMapAlgoPlot.PlottingUtil.radian(a.pt,u.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,ot=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,.5*r,.5*r,et);this.addScalePoint(ot),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i,a,u,p,s,c,P,f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),g=o.length,y=e;if(t>=0&&t<g){var h=!1;if(0==t)h=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],y);else if(t==g-1)h=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],y);else{var S=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],o[t+1]),b=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],y);if(S!=b)h=b;else{var d=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],y);h=d==b?b:d}}this.scaleValues[t]=h?1:0}else if(t==g){l=SuperMapAlgoPlot.PlottingUtil.distance(o[g-1],y);var A=(l/=2)/f/.2;this.scaleValues[t]=A}else if(t===g+1){n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0);for(var M=0;M<o.length-1;M++)(a=[]).push(o[M]),a.push(o[M+1]),p=SuperMapAlgoPlot.PlottingUtil.projectPoint(y,o[M],o[M+1]),(u=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(p,a)).isOnPolyLine&&(P=SuperMapAlgoPlot.PlottingUtil.distance(y,p),-1==n?(n=M,i=p,r=P):r>P&&(n=M,i=p,r=P));if(-1==n||n>o.length-1)return;s=0;for(var m=0;m<n;m++){var v=o[m],O=o[m+1];s+=SuperMapAlgoPlot.PlottingUtil.distance(v,O)}if(c=o[n],(s+=SuperMapAlgoPlot.PlottingUtil.distance(c,i))<0||s>f)return;var w=s/f;this.scaleValues[g+1]=w;var L,U=this.scaleValues.length;l=f*this.scaleValues[U-5],L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[n],o[n+1],y)?r/l:-Math.abs(r/l),this.scaleValues[g+2]=L}else if(t===g+2){n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0);for(var V=0;V<o.length-1;V++)(a=[]).push(o[V]),a.push(o[V+1]),p=SuperMapAlgoPlot.PlottingUtil.projectPoint(y,o[V],o[V+1]),(u=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(p,a)).isOnPolyLine&&(P=SuperMapAlgoPlot.PlottingUtil.distance(y,p),-1===n?(n=V,i=p,r=P):r>P&&(n=V,i=p,r=P));if(-1===n||n>o.length-1)return;s=0;for(var j=0;j<n;j++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[j],o[j+1]);if(c=o[n],(s+=SuperMapAlgoPlot.PlottingUtil.distance(c,i))<0||s>f)return;.1*f<s&&.9*f>s&&(this.scaleValues[this.scaleValues.length-2]=s/f)}else if(t===g+3){var T=this.scaleValues[this.scaleValues.length-2]*f;if(-1===(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,T)).index)return;var R=2*SuperMapAlgoPlot.PlottingUtil.distance(u.pt,e)/f;R>.15&&(R=.15),this.scaleValues[this.scaleValues.length-1]=R}}}}])&&yu(e.prototype,o),l&&yu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Au(t){"@babel/helpers - typeof";return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function mu(t,e){return(mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ou(t);if(e){var n=Ou(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Au(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ou(t){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26400=du;var wu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=vu(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,o/2);if(-1!==l.index){var n=l.pt,r=this.getDefaultSubSymbolSize()/o;(r>.3||r<=0)&&(r=.3),this.scaleValues[0]=r;var i=1.5*this.scaleValues[0]*o,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[l.index],n),u=[];u.push(a.pntLeft),u.push(n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,null,!0),this.finish()}}}}])&&Mu(e.prototype,o),l&&Mu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Lu(t){"@babel/helpers - typeof";return(Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vu(t,e){return(Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ju(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tu(t);if(e){var n=Tu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Lu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tu(t){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26500=wu;var Ru=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ju(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i);this.addScalePoint(f,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Uu(e.prototype,o),l&&Uu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xu(t){"@babel/helpers - typeof";return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _u(t,e){return(_u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Yu(t);if(e){var n=Yu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Yu(t){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26501=Ru;var Cu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_u(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol22000);var e,o,l,n=Bu(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.01)),e}return e=r,o&&Eu(e.prototype,o),l&&Eu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Iu(t){"@babel/helpers - typeof";return(Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Du(t,e){return(Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ku(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zu(t);if(e){var n=zu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26502=Cu;var Fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Du(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol22000);var e,o,l,n=ku(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}for(var n=o*this.scaleValues[0],r=this.getLinePts(e,this.scaleValues[0]),i=[],a=[],u=0;u<=r.startIndex;u++)i.push(e[u]);if(i.push(r.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),r.endIndex<=e.length){a.push(r.endPt);for(var p=r.endIndex+1;p<=e.length-1;p++)a.push(e[p]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a)}var s=.5*n,c=new SuperMapAlgoPlot.Point(r.endPt.x,r.endPt.y),P=new SuperMapAlgoPlot.Point(r.startPt.x,r.startPt.y),f=SuperMapAlgoPlot.PlottingUtil.distance(c,P),g=0*f,y=SuperMapAlgoPlot.PlottingUtil.linePnt(c,P,g),h=SuperMapAlgoPlot.PlottingUtil.linePnt(P,c,g),S=.5*f,b=SuperMapAlgoPlot.PlottingUtil.linePnt(c,P,S),d=new SuperMapAlgoPlot.Point((h.x+b.x)/2,(h.y+b.y)/2),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,h,d),M=A.pntLeft,m=A.pntRight,v=[];v.push(m),v.push(h),v.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.ARCSYMBOL,v,null,!0);var O=.1*f,w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O,h,b),L=w.pntLeft,U=w.pntRight,V=[];V.push(h),V.push(L),V.push(U);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,V,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},!0);var j=[];j.push(b),j.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,null,!0);var T=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),R=180*SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)/Math.PI,x=.5*o*this.scaleValues[0],E=SuperMapAlgoPlot.PlottingUtil.circlePoint(T,x,x,R+90),_=e[0],B=e[1],Y=e[e.length-2],C=e[e.length-1],I=.5*n,N=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,B,_),D=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,Y,C),k=N.pntLeft,z=D.pntLeft,F=[];F.push(_),F.push(k),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,F);var G=[];G.push(C),G.push(z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,G),this.addScalePoint(E),this.finish()}}}])&&Nu(e.prototype,o),l&&Nu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gu(t){"@babel/helpers - typeof";return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ku(t,e){return(Ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hu(t);if(e){var n=Hu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hu(t){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26503=Fu;var Ju=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ku(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=.1*SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=.5*o;this.computeDashLine(o,l,e),this.finish()}}},{key:"computeDashLine",value:function(t,e,o){for(var l,n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=o[0].clone(),a=1,u=0,p=!0,s=!0;u<r;){var c;(n=[]).push(i),u+=t;var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,o);if(c=P.index,l=P.pts,!(p=P.bfind))break;if(a<c)for(var f=a;f<c;f++)n.push(o[f]);n.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),u+=e;var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,o);if(c=g.index,i=g.pts,a=c+1,!(s=g.bfind))break}if(!p){(n=[]).push(i);for(var y=a;y<o.length;y++)n.push(o[y]);2===n.length&&0===SuperMapAlgoPlot.PlottingUtil.distance(n[0],n[1])||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}if(!s){var h=o[o.length-1],S=SuperMapAlgoPlot.PlottingUtil.distance(l,h);if(S*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(S,0)){var b=SuperMapAlgoPlot.PlottingUtil.linePnt(h,l,S);(n=[]).push(b),n.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}}}}])&&Wu(e.prototype,o),l&&Wu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zu(t){"@babel/helpers - typeof";return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qu(t,e){return(Qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tp(t);if(e){var n=tp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tp(t){return(tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26600=Ju;var ep=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$u(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o,l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),r=.1*n,i=.5*r,a=this.computeDashLine(r,i,e),u=.01*n,p=0;p<a.length;p++)o=SuperMapAlgoPlot.PlottingUtil.paraLine(a[p],u,!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o),l=SuperMapAlgoPlot.PlottingUtil.paraLine(a[p],u,!1),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);this.finish()}}},{key:"computeDashLine",value:function(t,e,o){for(var l,n,r=[],i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=o[0].clone(),u=1,p=0,s=!0,c=!0;p<i;){var P;(n=[]).push(a),p+=t;var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,o);if(P=f.index,l=f.pts,!(s=f.bfind))break;if(u<P)for(var g=u;g<P;g++)n.push(o[g]);n.push(l),r.push(n),p+=e;var y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,o);if(P=y.index,a=y.pts,u=P+1,!(c=y.bfind))break}if(!s){(n=[]).push(a);for(var h=u;h<o.length;h++)n.push(o[h]);2===n.length&&0===SuperMapAlgoPlot.PlottingUtil.distance(n[0],n[1])||r.push(n)}if(!c){var S=o[o.length-1],b=SuperMapAlgoPlot.PlottingUtil.distance(l,S);if(b*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b,0)){var d=SuperMapAlgoPlot.PlottingUtil.linePnt(S,l,b);(n=[]).push(d),n.push(S),r.push(n)}}return r}}])&&Xu(e.prototype,o),l&&Xu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function op(t){"@babel/helpers - typeof";return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function np(t,e){return(np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ip(t);if(e){var n=ip(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===op(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ip(t){return(ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26601=ep;var ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&np(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=2*l*.8,u=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,a,u),0===this.scaleValues[1]?this.addScalePoint(n[0]):this.addScalePoint(r[0]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===l)return;if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}}])&&lp(e.prototype,o),l&&lp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function up(t){"@babel/helpers - typeof";return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sp(t,e){return(sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pp(t);if(e){var n=Pp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pp(t){return(Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26700=ap;var fp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2===this.controlPoints.length)this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);else if(3===this.controlPoints.length){var e=new SuperMapAlgoPlot.Point(this.controlPoints[0].x,this.controlPoints[0].y),o=new SuperMapAlgoPlot.Point(this.controlPoints[1].x,this.controlPoints[1].y),l=new SuperMapAlgoPlot.Point(this.controlPoints[2].x,this.controlPoints[2].y),n=SuperMapAlgoPlot.PlottingUtil.distance(o,l);if(0>=n)return;this.scaleValues=[];var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o)/n;this.scaleValues.push(r);var i=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD;i>90?i-=90:i=270+i,this.scaleValues.push(i*SuperMapAlgoPlot.PlottingUtil.DTOR);var a=SuperMapAlgoPlot.PlottingUtil.radian(e,l)*SuperMapAlgoPlot.PlottingUtil.RTOD;a>90?a-=90:a=270+a,this.scaleValues.push(a*SuperMapAlgoPlot.PlottingUtil.DTOR);var u=this.scaleValues[0]*n,p=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD+90,s=this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD+90;p<s&&(p+=360);for(var c,P=[],f=p;f>=s;f-=4)c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],u,u,f),P.push(c);f!=s&&(c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],u,u,s),P.push(c)),P.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,P)}this.finish()}}}])&&pp(e.prototype,o),l&&pp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gp(t){"@babel/helpers - typeof";return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hp(t,e){return(hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bp(t);if(e){var n=bp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bp(t){return(bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26800=fp;var dp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[0].x+p[p.length-1].x)/2,(u[0].y+p[p.length-1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],.5*(l-1.2*s)),g=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=[];y.push(P),y.push.apply(y,u),y.push.apply(y,p),y.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(y)),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,.9*s,g-90),this.scalePoints=[],this.addScalePoint(u[u.length-1]);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,g+90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90+i),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90+i),p=new SuperMapAlgoPlot.Point((a.x+u.x)/2,(a.y+u.y)/2),s=SuperMapAlgoPlot.PlottingUtil.distance(p,e)/l;s>=.8&&(s=.8),this.scaleValues[1]=s}}}}])&&yp(e.prototype,o),l&&yp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ap(t){"@babel/helpers - typeof";return(Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function mp(t,e){return(mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Op(t);if(e){var n=Op(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ap(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Op(t){return(Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27100=dp;var wp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=vp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),n=new SuperMapAlgoPlot.Point(l.x,0);if(!1===this.polylineConnectLocationPoint){for(var r=0,i=-1,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.intersectLines(l,new SuperMapAlgoPlot.Point(l.x,l.y+1),o[a],o[a+1]);u.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,o[a],o[a+1])&&n.x===u.intersectPoint.x&&(0==r?(n.y=u.intersectPoint.y,i=a):n.y<u.intersectPoint.y&&(n.y=u.intersectPoint.y,i=a),r++))}var p=this.getSubSymbolScaleValue()*e,s=[];s.push(n);for(var c=i+1;c<o.length-1;c++)s.push(new SuperMapAlgoPlot.Point(o[c].x,o[c].y));for(var P=0;P<=i;P++)s.push(new SuperMapAlgoPlot.Point(o[P].x,o[P].y));var f=.8*p,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(s,f);if(-1===g.index)return;var y=[];y.push(g.pt);for(var h=g.index+1;h<s.length-1;h++)y.push(s[h]);s=[];for(var S=y.length-1;S>0;S--)s.push(y[S]);var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(s,f);if(-1===b.index)return;(y=[]).push(b.pt);for(var d=b.index+1;d<s.length-1;d++)y.push(s[d]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],n,p,0)}else{var A=t[0],M=t[1],m=SuperMapAlgoPlot.PlottingUtil.distance(A,M),v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.2*m,[A,M]);if(-1===v.index)return;var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*m,[A,M]);if(-1===O.index)return;var w=[];w.push(t[0]),w.push(v.pts),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),(w=[]).push(O.pts);for(var L=1;L<t.length;L++)w.push(t[L]);w.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w);var U=new SuperMapAlgoPlot.Point((v.pts.x+O.pts.x)/2,(v.pts.y+O.pts.y)/2);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],U,.1*m,0)}this.finish()}}}])&&Mp(e.prototype,o),l&&Mp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Lp(t){"@babel/helpers - typeof";return(Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Up(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vp(t,e){return(Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tp(t);if(e){var n=Tp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Lp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tp(t){return(Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27300=wp;var Rp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=jp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var i=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),a=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),u=180*SuperMapAlgoPlot.PlottingUtil.radian(i,a)/Math.PI;if(90<u&&u<270){var p=i;i=a,a=p,u=180*SuperMapAlgoPlot.PlottingUtil.radian(i,a)/Math.PI}var s=new SuperMapAlgoPlot.Point(.25*e,0),c=new SuperMapAlgoPlot.Point(.25*e+.2*l,.3*l),P=new SuperMapAlgoPlot.Point(.25*e+.2*l,-.3*l),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,u),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,u),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,P,u),h=[];h.push(new SuperMapAlgoPlot.Point(g.x,g.y)),h.push(new SuperMapAlgoPlot.Point(f.x,f.y)),h.push(new SuperMapAlgoPlot.Point(y.x,y.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{surroundLineLimit:!0,lineTypeLimit:!0});var S=new SuperMapAlgoPlot.Point(.3*e,0),b=new SuperMapAlgoPlot.Point(.3*e+.2*l,.3*l),d=new SuperMapAlgoPlot.Point(.3*e+.2*l,-.3*l),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,S,u),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,u),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,d,u);(h=[]).push(new SuperMapAlgoPlot.Point(M.x,M.y)),h.push(new SuperMapAlgoPlot.Point(A.x,A.y)),h.push(new SuperMapAlgoPlot.Point(m.x,m.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{surroundLineLimit:!0,lineTypeLimit:!0});var v=new SuperMapAlgoPlot.Point(.7*e,0),O=new SuperMapAlgoPlot.Point(.7*e+.2*l,.3*l),w=new SuperMapAlgoPlot.Point(.7*e+.2*l,-.3*l),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,v,u),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,O,u),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,w,u);(h=[]).push(new SuperMapAlgoPlot.Point(U.x,U.y)),h.push(new SuperMapAlgoPlot.Point(L.x,L.y)),h.push(new SuperMapAlgoPlot.Point(V.x,V.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{surroundLineLimit:!0,lineTypeLimit:!0});var j=new SuperMapAlgoPlot.Point(.75*e,0),T=new SuperMapAlgoPlot.Point(.75*e+.2*l,.3*l),R=new SuperMapAlgoPlot.Point(.75*e+.2*l,-.3*l),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,j,u),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,T,u),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,R,u);(h=[]).push(new SuperMapAlgoPlot.Point(E.x,E.y)),h.push(new SuperMapAlgoPlot.Point(x.x,x.y)),h.push(new SuperMapAlgoPlot.Point(_.x,_.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(n[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){for(var o=0,l=0;l<this.controlPoints.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[l],this.controlPoints[l+1]);var n=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],e)/o;this.scaleValues[0]=n}}}])&&Up(e.prototype,o),l&&Up(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xp(t){"@babel/helpers - typeof";return(xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ep(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _p(t,e){return(_p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Yp(t);if(e){var n=Yp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Yp(t){return(Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27700=Rp;var Cp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_p(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&this.scaleValues.push(.03);for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=[];l=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());var r=this.scaleValues[0]*e*2,i=this.scaleValues[0]*e,a=new SuperMapAlgoPlot.Point(n.x-r-i,n.y),u=new SuperMapAlgoPlot.Point(n.x-r,n.y),p=new SuperMapAlgoPlot.Point(n.x-r+i,n.y),s=new SuperMapAlgoPlot.Point(n.x+r,n.y),c=new SuperMapAlgoPlot.Point(n.x+r+i,n.y),P=new SuperMapAlgoPlot.Point(n.x+r+2*i,n.y),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,a,u),g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,u,p),y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,s,c),h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,c,P),S=[];S.push(new SuperMapAlgoPlot.Point(f.pntLeft.x,f.pntLeft.y)),S.push(new SuperMapAlgoPlot.Point(a.x,a.y)),S.push(new SuperMapAlgoPlot.Point(f.pntRight.x,f.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{surroundLineLimit:!0,lineTypeLimit:!0}),(S=[]).push(new SuperMapAlgoPlot.Point(g.pntLeft.x,g.pntLeft.y)),S.push(new SuperMapAlgoPlot.Point(u.x,u.y)),S.push(new SuperMapAlgoPlot.Point(g.pntRight.x,g.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{surroundLineLimit:!0,lineTypeLimit:!0}),(S=[]).push(new SuperMapAlgoPlot.Point(y.pntLeft.x,y.pntLeft.y)),S.push(new SuperMapAlgoPlot.Point(s.x,s.y)),S.push(new SuperMapAlgoPlot.Point(y.pntRight.x,y.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{surroundLineLimit:!0,lineTypeLimit:!0}),(S=[]).push(new SuperMapAlgoPlot.Point(h.pntLeft.x,h.pntLeft.y)),S.push(new SuperMapAlgoPlot.Point(c.x,c.y)),S.push(new SuperMapAlgoPlot.Point(h.pntRight.x,h.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{surroundLineLimit:!0,lineTypeLimit:!0}),this.finish()}}}])&&Ep(e.prototype,o),l&&Ep(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ip(t){"@babel/helpers - typeof";return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Np(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Dp(t,e){return(Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zp(t);if(e){var n=zp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ip(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zp(t){return(zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27701=Cp;var Fp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=kp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[t[0],new SuperMapAlgoPlot.Point(t[0].x-e*this.scaleValues[0],t[0].y)],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#ffff00",fillOpacity:1,lineTypeLimit:!0,surroundLineLimit:!0});var o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[0],e*this.scaleValues[0],90);this.addScalePoint(o,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=new SuperMapAlgoPlot.Point(this.controlPoints[0].x,this.controlPoints[0].y),l=new SuperMapAlgoPlot.Point(this.controlPoints[1].x,this.controlPoints[1].y),n=new SuperMapAlgoPlot.Point(e.x,e.y),r=SuperMapAlgoPlot.PlottingUtil.distance(o,n)/SuperMapAlgoPlot.PlottingUtil.distance(o,l);.9<r&&(r=.9),this.scaleValues[0]=r}}}])&&Np(e.prototype,o),l&&Np(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gp(t){"@babel/helpers - typeof";return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Kp(t,e){return(Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hp(t);if(e){var n=Hp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hp(t){return(Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27900=Fp;var Jp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol27900);var e,o,l,n=qp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#ffff00",fillOpacity:1,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[t[0],new SuperMapAlgoPlot.Point(t[0].x-e*this.scaleValues[0],t[0].y)],o),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[new SuperMapAlgoPlot.Point(t[0].x+e*(this.scaleValues[0]+.1),t[0].y-e*this.scaleValues[0]),new SuperMapAlgoPlot.Point(t[0].x-e*(this.scaleValues[0]+.1),t[0].y-e*this.scaleValues[0])],o);var l=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[0],e*this.scaleValues[0],90);this.addScalePoint(l,0),this.finish()}}}])&&Wp(e.prototype,o),l&&Wp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zp(t){"@babel/helpers - typeof";return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qp(t,e){return(Qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ts(t);if(e){var n=ts(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ts(t){return(ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27901=Jp;var es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol27900);var e,o,l,n=$p(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#ffff00",fillOpacity:1,lineTypeLimit:!0,surroundLineType:!0};this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[t[0],new SuperMapAlgoPlot.Point(t[0].x-e*this.scaleValues[0],t[0].y)],o),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[new SuperMapAlgoPlot.Point(t[0].x+e*(this.scaleValues[0]+.1),t[0].y+e*this.scaleValues[0]),new SuperMapAlgoPlot.Point(t[0].x-e*(this.scaleValues[0]+.1),t[0].y+e*this.scaleValues[0])],o);var l=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[0],e*this.scaleValues[0],90);this.addScalePoint(l,0),this.finish()}}}])&&Xp(e.prototype,o),l&&Xp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function os(t){"@babel/helpers - typeof";return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ls(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ns(t,e){return(ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=is(t);if(e){var n=is(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===os(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function is(t){return(is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27902=es;var as=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ns(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.349066)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,l,n,r,i,a,u=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,p=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),s=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=new SuperMapAlgoPlot.Point(0,0);if(2<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n))),(r=[]).push(t[0]);for(var f=e.length-1;f>=0;f--)r.push(new SuperMapAlgoPlot.Point(e[f].x,e[f].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),P=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(t[0]),a.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}var g=new SuperMapAlgoPlot.Point(0,0);if(3<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n)));var y=[];if(0==e.length)return void(y.length>0&&(y=[]));(r=[]).push(t[0]);for(var h=e.length-1;h>=0;h--)r.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});for(var S=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),b=SuperMapAlgoPlot.PlottingUtil.distance(p,S)*this.scaleValues[0],d=[],A=90;A<=270;A+=3)d.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,b,b,c+A));r=[];for(var M=d.length-1;M>=0;M--)r.push(new SuperMapAlgoPlot.Point(d[M].x,d[M].y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),(r=[]).push(new SuperMapAlgoPlot.Point(d[0].x,d[0].y)),r.push(new SuperMapAlgoPlot.Point(e[e.length-1].x,e[e.length-1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),(r=[]).push(new SuperMapAlgoPlot.Point(e[0].x,e[0].y)),r.push(new SuperMapAlgoPlot.Point(d[d.length-1].x,d[d.length-1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),g=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(P),a.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}var m=new SuperMapAlgoPlot.Point(0,0);if(4<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[3].x,t[3].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<=c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n))),(r=[]).push(t[0]);for(var v=e.length-1;v>=0;v--)r.push(new SuperMapAlgoPlot.Point(e[v].x,e[v].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),m=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(g),a.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}if(3>t.length)this.addScalePoint(t[0]);else{var O=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],w=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,O,O,c+180);this.addScalePoint(w,0)}var L=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1]),U=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,L,L,c+u);this.addScalePoint(U,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o,l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),0==t){if(3>l.length)return;var n=new SuperMapAlgoPlot.Point(l[0].x,l[0].y),r=new SuperMapAlgoPlot.Point(e.x,e.y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r),a=new SuperMapAlgoPlot.Point(l[1].x,l[1].y);if((o=i/SuperMapAlgoPlot.PlottingUtil.distance(n,a))>=2.5)return;this.scaleValues[0]=o}else if(1==t){var u=new SuperMapAlgoPlot.Point(l[0].x,l[0].y),p=new SuperMapAlgoPlot.Point(l[l.length-1].x,l[l.length-1].y),s=SuperMapAlgoPlot.PlottingUtil.radian(u,p),c=new SuperMapAlgoPlot.Point(e.x,e.y);if(o=SuperMapAlgoPlot.PlottingUtil.radian(u,c)-s,(o=Math.abs(o))>Math.PI/2&&o<3*Math.PI/2)return;o>3*Math.PI/2&&o<=2*Math.PI&&(o=2*Math.PI-o),this.scaleValues[1]=Math.abs(o)}}}}])&&ls(e.prototype,o),l&&ls(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function us(t){"@babel/helpers - typeof";return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ps(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ss(t,e){return(ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ps(t);if(e){var n=Ps(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28000=as;var fs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ss(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.349066)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,n=0,r=0;r<t.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(e,o);var i={surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER},a=this.scaleValues[0]*n;this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[e,new SuperMapAlgoPlot.Point(e.x+a,e.y)],i);var u=180*this.scaleValues[1]/Math.PI,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,n,n,l-u),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,n,n,l+u);this.addCell(SuperMapAlgoPlot.SymbolType.ARCSYMBOL,[p,o,s],i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[0],t[1]],i);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l-90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,c],i);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,s],i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,P],i);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l+180);this.addScalePoint(new SuperMapAlgoPlot.Point(f.x,f.y),0),this.addScalePoint(s,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(l,e)/i;this.scaleValues[0]=a}if(1===t){var u=180*SuperMapAlgoPlot.PlottingUtil.radian(l,e)/Math.PI,p=Math.abs(u-r);if(p>270&&p<360&&(p=360-p),p>90)return;this.scaleValues[1]=p*Math.PI/180}}}}])&&ps(e.prototype,o),l&&ps(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gs(t){"@babel/helpers - typeof";return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ys(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hs(t,e){return(hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ss(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bs(t);if(e){var n=bs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28100=fs;var ds=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ss(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,o),this.finish()}}}])&&ys(e.prototype,o),l&&ys(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function As(t){"@babel/helpers - typeof";return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ms(t,e){return(ms=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Os(t);if(e){var n=Os(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===As(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28200=ds;var ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ms(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=vs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o/2,t[0],t[1]),n=l.pntRight,r=l.pntLeft,i=SuperMapAlgoPlot.PlottingUtil.radian(n,r)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,o/6,o/6,i-170),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,o/6,o/6,i+10),p=[];p.push(a),p.push(n),p.push(r),p.push(u),this.scalePoints=[],this.addScalePoint(n);var s=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(p);s=SuperMapAlgoPlot.PlottingUtil.clearSamePts(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,e,!0),P=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(c);P=SuperMapAlgoPlot.PlottingUtil.clearSamePts(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=2*SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/l;this.scaleValues[0]=n}}}}])&&Ms(e.prototype,o),l&&Ms(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ls(t){"@babel/helpers - typeof";return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Us(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vs(t,e){return(Vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function js(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ts(t);if(e){var n=Ts(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ls(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ts(t){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28201=ws;var Rs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=js(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var n=o*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],l,n,0),this.scalePoints=[];var r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,n,n,0);this.addScalePoint(r),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=[];l=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/n;this.scaleValues[0]=i}}}}])&&Us(e.prototype,o),l&&Us(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xs(t){"@babel/helpers - typeof";return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Es(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _s(t,e){return(_s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ys(t);if(e){var n=Ys(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ys(t){return(Ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28300=Rs;var Cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_s(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.3),this.scaleValues.push(1)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var e,o,l=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n),i=this.scaleValues[0],a=this.scaleValues[1];if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(1,a))e=SuperMapAlgoPlot.PlottingUtil.radian(l,n)+270*SuperMapAlgoPlot.PlottingUtil.DTOR;else e=SuperMapAlgoPlot.PlottingUtil.radian(l,n)+90*SuperMapAlgoPlot.PlottingUtil.DTOR,o=l,l=n,n=o;var u=r*i*.67,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,u,u,e*SuperMapAlgoPlot.PlottingUtil.RTOD);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,r*i,e*SuperMapAlgoPlot.PlottingUtil.RTOD);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,u,u,e*SuperMapAlgoPlot.PlottingUtil.RTOD);this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],s,r*i,e*SuperMapAlgoPlot.PlottingUtil.RTOD),this.scalePoints=[];var c=e*SuperMapAlgoPlot.PlottingUtil.RTOD,P=r*i,f=t[0].clone(),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,P,P,c);this.addScalePoint(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o))[0].clone(),n=o[1].clone(),r=e.clone(),i=SuperMapAlgoPlot.PlottingUtil.distance(l,n),a=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(r,l,n)/i;if(a<0||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0))return;this.scaleValues[0]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,n,r)?this.scaleValues[1]=1:this.scaleValues[1]=0}}}])&&Es(e.prototype,o),l&&Es(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Is(t){"@babel/helpers - typeof";return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ns(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ds(t,e){return(Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zs(t);if(e){var n=zs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zs(t){return(zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28301=Cs;var Fs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ds(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ks(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.087081),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.087081),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],o),s=new SuperMapAlgoPlot.Point(o.x+l*i-p,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],s,u,180),this.addScalePoint(s);var c=u,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,c,c,0);this.addScalePoint(P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),u=.5*SuperMapAlgoPlot.PlottingUtil.distance(o[0],i);if(0===t)n=(e.x+u-i.x)/a,this.scaleValues[2]=n,r=(e.y-i.y)/a,this.scaleValues[3]=r;else if(1===t){n=this.scaleValues[2],r=this.scaleValues[3];var p=new SuperMapAlgoPlot.Point(i.x-u+a*n,i.y+a*r),s=SuperMapAlgoPlot.PlottingUtil.distance(p,e)/a;this.scaleValues[0]=s}}}}])&&Ns(e.prototype,o),l&&Ns(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gs(t){"@babel/helpers - typeof";return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ws(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ks(t,e){return(Ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hs(t);if(e){var n=Hs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28400=Fs;var Js=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ks(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=e[0],r=e[1],i=e[e.length-2],a=e[e.length-1],u=o*this.scaleValues[0]*.6,p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,r,n),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,i,a),c=p.pntLeft,P=s.pntRight,f=[];f.push(n),f.push(c);for(var g=new SuperMapAlgoPlot.Point((n.x+c.x)/2,(n.y+c.y)/2),y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f)/2,h=[],S=180*SuperMapAlgoPlot.PlottingUtil.radian(r,n)/Math.PI,b=360+S;b>=270+S;b-=3)h.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(g,y,y,b));var d=[];d.push(a),d.push(P);var A=[];A.push(a),A.push(P);for(var M=new SuperMapAlgoPlot.Point((a.x+P.x)/2,(a.y+P.y)/2),m=SuperMapAlgoPlot.PlottingUtil.polylineDistance(A)/2,v=[],O=180*SuperMapAlgoPlot.PlottingUtil.radian(a,P)/Math.PI,w=180+O;w>=90+O;w-=3)v.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(M,m,m,w));var L=[];L=(L=(L=L.concat(h)).concat(e)).concat(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.finish()}}}])&&Ws(e.prototype,o),l&&Ws(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zs(t){"@babel/helpers - typeof";return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xs(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qs(t,e){return(Qs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tc(t);if(e){var n=tc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tc(t){return(tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28900=Js;var ec=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$s(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=t.length,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=[];2==o?(e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t),r.push.apply(r,e)):3==o&&(e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),r=r.concat(e)),r=SuperMapAlgoPlot.PlottingUtil.inverse(r);var i,a=new SuperMapAlgoPlot.Point(.8*l,.1*l),u=new SuperMapAlgoPlot.Point(1.2*l,.1*l),p=new SuperMapAlgoPlot.Point(1.2*l,.1*-l),s=new SuperMapAlgoPlot.Point(.9*l,.1*-l),c=[];c.push(a),c.push(u),c.push(p),c.push(s);var P=[],f=0;for(f=0;f<4;f++)i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],c[f],n),P.push(i);var g=new SuperMapAlgoPlot.Point(-.8*l,.1*l),y=new SuperMapAlgoPlot.Point(-1.2*l,.1*l),h=new SuperMapAlgoPlot.Point(-1.1*l,.1*-l),S=new SuperMapAlgoPlot.Point(-.8*l,.1*-l);(c=[]).push(g),c.push(y),c.push(h),c.push(S);var b=[];for(f=0;f<4;f++)i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],c[f],n),b.push(i);var d,A=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],3*l),M=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],2*l),m=[];for(f=0;f<r.length-1;f++){var v=SuperMapAlgoPlot.PlottingUtil.intersectLines(r[f],r[f+1],A,M);v.isIntersectLines&&(d=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(v.intersectPoint,r)).isOnPolyLine&&m.push(v.intersectPoint)}if(!(0>=m.length)&&(d=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(m[0],r)).isOnPolyLine){var O=[];for(f=d.index+1;f<r.length;f++)O.push(r[f]);for(f=0;f<=d.index;f++)O.push(r[f]);var w=[],L=[];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(P,m[0])?(w.push.apply(w,P),L.push.apply(L,b)):(w.push.apply(w,b),L.push.apply(L,P));var U=[],V=[];for(d=-1,f=0;f<O.length;f++)if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(w,O[f])){if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(L,O[f])){d=f;break}U.push(O[f])}if(-1!==d)for(f=d;f<O.length;f++)if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(L,O[f])){if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(w,O[f]))break;V.push(O[f])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V),this.addLine(U),this.addLine(V),this.finish()}}}},{key:"addLine",value:function(t){for(var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=0;o<t.length-2;o++){var l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.02*e,t);if(-1!==l.index){var n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*e,t);if(-1!==n.index){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.92*e,t);if(-1!==r.index&&(o===l.index||o===l.index+1||o===r.index||o===r.index+1||o===n.index||o===n.index+1)){var i=SuperMapAlgoPlot.PlottingUtil.radian(t[o+1],t[o])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[o+1],.02*e,.02*e,i+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[o+1],a],{surroundLineLimit:!0,lineTypeLimit:!0})}}}}}}])&&Xs(e.prototype,o),l&&Xs(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oc(t){"@babel/helpers - typeof";return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nc(t,e){return(nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ic(t);if(e){var n=ic(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ic(t){return(ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29000=ec;var ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rc(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t.length,o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),l=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,n=.3*o,r=t[1].clone(),i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],2*o);this.subSymbols.length>1&&(this.computeSubSymbol(this.subSymbols[0],r,n,l),this.computeSubSymbol(this.subSymbols[1],i,n,l));var a,u=[];2==e?(a=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t),u.push.apply(u,a)):3==e&&(a=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),u=u.concat(a)),u=SuperMapAlgoPlot.PlottingUtil.inverse(u);var p,s=new SuperMapAlgoPlot.Point(.8*o,.1*o),c=new SuperMapAlgoPlot.Point(1.2*o,.1*o),P=new SuperMapAlgoPlot.Point(1.2*o,.1*-o),f=new SuperMapAlgoPlot.Point(.9*o,.1*-o),g=[];g.push(s),g.push(c),g.push(P),g.push(f);var y=[],h=0;for(h=0;h<4;h++)p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],g[h],l),y.push(p);var S=new SuperMapAlgoPlot.Point(-.8*o,.1*o),b=new SuperMapAlgoPlot.Point(-1.2*o,.1*o),d=new SuperMapAlgoPlot.Point(-1.1*o,.1*-o),A=new SuperMapAlgoPlot.Point(-.8*o,.1*-o);(g=[]).push(S),g.push(b),g.push(d),g.push(A);var M=[];for(h=0;h<4;h++)p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],g[h],l),M.push(p);for(var m,v=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],3*o),O=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],2*o),w=[],L=0;L<u.length-1;L++){var U=SuperMapAlgoPlot.PlottingUtil.intersectLines(u[L],u[L+1],v,O);U.isIntersectLines&&(m=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(U.intersectPoint,u)).isOnPolyLine&&w.push(U.intersectPoint)}if(!(0>=w.length)&&(m=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(w[0],u)).isOnPolyLine){var V=[];for(h=m.index+1;h<u.length;h++)V.push(u[h]);for(h=0;h<=m.index;h++)V.push(u[h]);var j=[],T=[];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(y,w[0])?(j.push.apply(j,y),T.push.apply(T,M)):(j.push.apply(j,M),T.push.apply(T,y));var R=[],x=[];for(m=-1,h=0;h<V.length;h++)if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(j,V[h])){if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(T,V[h])){m=h;break}R.push(V[h])}if(-1!=m)for(h=m;h<V.length;h++)if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(T,V[h])){if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(j,V[h]))break;x.push(V[h])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x),this.finish()}}}}])&&lc(e.prototype,o),l&&lc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function uc(t){"@babel/helpers - typeof";return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sc(){return(sc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fc(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function cc(t,e){return(cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Pc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=fc(t);if(e){var n=fc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fc(t){return(fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29001=ac;var gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29001);var e,o,l,n=Pc(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){sc(fc(r.prototype),"calculateParts",this).call(this)}}])&&pc(e.prototype,o),l&&pc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function yc(t){"@babel/helpers - typeof";return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Sc(t,e){return(Sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dc(t);if(e){var n=dc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dc(t){return(dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29002=gc;var Ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=bc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.02),this.scaleValues.push(0)),this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);for(var o,l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),r=this.scaleValues[0],i=this.scaleValues[1],a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),u=r*a,p=.083*a,s=0,c=.01*a,P=0,f=0;f<=n;f+=p){if(1==P||11==P||6==P){s=f+c;var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,e);if(!g.bfind)return;o=g.index,l=g.pts;var y=[],h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[o],l);0==i?y.push(h.pntLeft):y.push(h.pntRight),1==P&&(this.scalePoints=[],this.addScalePoint(y[0])),y.push(l);var S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,y[0],y[1]),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,y[1],y[0]),d=[];d.push(S.pntLeft),d.push(S.pntRight),d.push(b.pntLeft),d.push(b.pntRight),d.push(S.pntLeft.clone());this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,d,{SurroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0,surroundLineLimit:!0})}P++}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;if(0==t){var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=n*r,a=.01*r,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,l);if(!u.bfind)return;var p=u.pts,s=u.index,c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,l[s],p).pntLeft,P=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,c,p),f=SuperMapAlgoPlot.PlottingUtil.distance(P,p),g=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(P,p,e);this.scaleValues[1]=g?1:0,this.scaleValues[0]=f/r}}}}])&&hc(e.prototype,o),l&&hc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Mc(t){"@babel/helpers - typeof";return(Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vc(t,e){return(vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Oc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=wc(t);if(e){var n=wc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Mc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function wc(t){return(wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29003=Ac;var Lc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Oc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var n=Math.floor(l*o.length/4),r=new SuperMapAlgoPlot.Point(o[n].x,o[n].y),i=new SuperMapAlgoPlot.Point(o[n+1].x,o[n+1].y),a=new SuperMapAlgoPlot.Point((r.x+i.x)/2,(r.y+i.y)/2),u=SuperMapAlgoPlot.PlottingUtil.radian(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=this.scaleValues[0]*e/2,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,4*p,4*p,u+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c,P],{lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&mc(e.prototype,o),l&&mc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Uc(t){"@babel/helpers - typeof";return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function jc(t,e){return(jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Rc(t);if(e){var n=Rc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Rc(t){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29100=Lc;var xc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,l,n=Tc(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var n=l*(o.length-1)/4,r=new SuperMapAlgoPlot.Point(o[n].x,o[n].y),i=new SuperMapAlgoPlot.Point(o[n+1].x,o[n+1].y),a=new SuperMapAlgoPlot.Point((r.x+i.x)/2,(r.y+i.y)/2),u=SuperMapAlgoPlot.PlottingUtil.radian(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=this.scaleValues[0]*e/2,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,4*p,4*p,u+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c,P],{surroundLineLimit:!0,lineTypeLimit:!0})}this.finish()}}}])&&Vc(e.prototype,o),l&&Vc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ec(t){"@babel/helpers - typeof";return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _c(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Bc(t,e){return(Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cc(t);if(e){var n=Cc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ec(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cc(t){return(Cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29101=xc;var Ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,l,n=Yc(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=[];l=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l);for(var n=0;n<4;n++){var r=n*(l.length-1)/4,i=new SuperMapAlgoPlot.Point(l[r].x,l[r].y),a=new SuperMapAlgoPlot.Point(l[r+1].x,l[r+1].y),u=new SuperMapAlgoPlot.Point((i.x+a.x)/2,(i.y+a.y)/2),p=180*SuperMapAlgoPlot.PlottingUtil.radian(u,a)/Math.PI,s=e*this.scaleValues[0]/2,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,s,s,p),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,4*s,4*s,p+270),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,s,s,p+180);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[c,P,f],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&_c(e.prototype,o),l&&_c(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Nc(t){"@babel/helpers - typeof";return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function kc(t,e){return(kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Fc(t);if(e){var n=Fc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Nc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Fc(t){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29103=Ic;var Gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=zc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var i=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),a=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),u=180*SuperMapAlgoPlot.PlottingUtil.radian(i,a)/Math.PI,p=i,s=n[0],c=[];c.push(p),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var P=new SuperMapAlgoPlot.Point(0,.8*l),f=new SuperMapAlgoPlot.Point(0,-.8*l),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,P,u),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,f,u);(c=[]).push(g),c.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var h=new SuperMapAlgoPlot.Point(-.3*l,.4*l),S=new SuperMapAlgoPlot.Point(-.3*l,-.4*l),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,h,u),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,S,u);(c=[]).push(b),c.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var A=new SuperMapAlgoPlot.Point(.3*l,.4*l),M=new SuperMapAlgoPlot.Point(.3*l,-.4*l),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,A,u),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,M,u);(c=[]).push(m),c.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var O=new SuperMapAlgoPlot.Point((i.x+a.x)/2,(i.y+a.y)/2),w=new SuperMapAlgoPlot.Point((n[0].x+n[n.length-1].x)/2,(n[n.length-1].y+n[0].y)/2);(c=[]).push(O),c.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,P,u),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,f,u);(c=[]).push(L),c.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,h,u),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,S,u);(c=[]).push(V),c.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,A,u),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,M,u);(c=[]).push(T),c.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var x=a,E=n[n.length-1];(c=[]).push(x),c.push(E),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var _=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(x,P,u),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(x,f,u);(c=[]).push(_),c.push(B),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(x,h,u),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(x,S,u);(c=[]).push(Y),c.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(x,A,u),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(x,M,u);(c=[]).push(I),c.push(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(n[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),i=new SuperMapAlgoPlot.Point(e.x,e.y),a=SuperMapAlgoPlot.PlottingUtil.distance(r,i)/l;this.scaleValues[0]=a}}}])&&Dc(e.prototype,o),l&&Dc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Wc(t){"@babel/helpers - typeof";return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function qc(t,e){return(qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jc(t);if(e){var n=Jc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jc(t){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29401=Gc;var Zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Hc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),10!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.4),e.scaleValues.push(.4),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(1),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var l,n,r=e*this.scaleValues[4],i=e*this.scaleValues[5],a=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),u=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],a+i);l=0===this.scaleValues[8]?SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],u).pntRight:SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],u).pntLeft;var p=e*this.scaleValues[6],s=e*this.scaleValues[7],c=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],a+s);n=0===this.scaleValues[9]?SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],c).pntLeft:SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],c).pntRight;var P=[];P.push(new SuperMapAlgoPlot.Point(l.x,l.y)),P.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),P.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y)),P.push(new SuperMapAlgoPlot.Point(n.x,n.y));var f=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(P);f=SuperMapAlgoPlot.PlottingUtil.clearSamePts(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.addScalePoint(l,3),this.addScalePoint(n,4),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]);if(t<=2&&SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments),3===t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,i=SuperMapAlgoPlot.PlottingUtil.distance(n,o[0])/l;this.scaleValues[4]=r,this.scaleValues[5]=i,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[8]=1:this.scaleValues[8]=0}if(4===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,u=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1])/l;this.scaleValues[6]=a,this.scaleValues[7]=u,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[9]=1:this.scaleValues[9]=0}}}}])&&Kc(e.prototype,o),l&&Kc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Xc(t){"@babel/helpers - typeof";return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function $c(t,e){return($c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=eP(t);if(e){var n=eP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Xc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function eP(t){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29800=Zc;var oP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$c(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=tP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05,e.scaleValues[2]=.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05,this.scaleValues[2]=.02):1===this.scaleValues.length?(this.scaleValues[1]=this.getSubSymbolScaleValue(),this.scaleValues[2]=.5*this.getSubSymbolScaleValue()):2===this.scaleValues.length&&(this.scaleValues[2]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=this.getSubSymbolScaleValue(),this.scaleValues[2]=.5*this.getSubSymbolScaleValue()}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,a,i-180);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);if(this.addArrow(p,this.scaleValues[2]),p.length>=2){var P=o*this.scaleValues[1],f=.3*P,g=.8*P,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o-g,e),h=1.1*P,S=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o-h,e),b=180*SuperMapAlgoPlot.PlottingUtil.radian(y.pts,S.pts)/Math.PI,d=SuperMapAlgoPlot.PlottingUtil.circlePoint(y.pts,f,f,b+90),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(y.pts,f,f,b+270),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(S.pts,f,f,b+90),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(S.pts,f,f,b+270),v=[];v.push(d),v.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0}),(v=[]).push(M),v.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0})}}var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(O.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(w,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.4?i:.4}}}])&&Qc(e.prototype,o),l&&Qc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function lP(t){"@babel/helpers - typeof";return(lP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function rP(t,e){return(rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=aP(t);if(e){var n=aP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===lP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function aP(t){return(aP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29903=oP;var uP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=iP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=e*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI;if(!this.isEdit){var i=this.getSubSymbolScaleValue();this.scaleValues[2]=i}var a=e*this.scaleValues[2],u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==u.index){var p=u.pt,s=new SuperMapAlgoPlot.Point(l[u.index].x,l[u.index].y),c=new SuperMapAlgoPlot.Point(l[u.index+1].x,l[u.index+1].y),P=180*SuperMapAlgoPlot.PlottingUtil.radian(s,c)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,a,a,P+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,f],{surroundLineLimit:!0,lineTypeLimit:!0});var g=180*SuperMapAlgoPlot.PlottingUtil.radian(p,f)/Math.PI,y=new SuperMapAlgoPlot.Point(-.2*a,.05*a),h=new SuperMapAlgoPlot.Point(-.2*a,-.05*a),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,y,g),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,g);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[f,S,b],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(p,0),this.addScalePoint(f,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=-1,a=0,u=new SuperMapAlgoPlot.Point(0,0),p=0;p<l.length-1;p++){var s=[];s.push(l[p]),s.push(l[p+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[p],l[p+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,s).index){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,c);-1==i?(i=p,u=c,a=P):a>P&&(i=p,u=c,a=P)}}if(-1==i||i>l.length-1)return;n=0;for(var f=0;f<i;f++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[i],u))<0||n>r)return;var g=n/r;this.scaleValues[0]=g}else if(1===t){var y=r*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,y);if(-1===h.index)return;var S=h.pt,b=l[h.index],d=l[h.index+1],A=SuperMapAlgoPlot.PlottingUtil.radian(b,d),M=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-A;this.scaleValues[1]=M;var m=(n=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/r;this.scaleValues[2]=m}}}}])&&nP(e.prototype,o),l&&nP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function pP(t){"@babel/helpers - typeof";return(pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function cP(t,e){return(cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function PP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=fP(t);if(e){var n=fP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===pP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fP(t){return(fP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30000=uP;var gP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=PP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.4)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.2||l<=0)&&(l=.2),this.scaleValues[2]=l,this.scaleValues[4]=l}var n=o*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI,i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==a.index){var u=a.pt,p=new SuperMapAlgoPlot.Point(e[a.index].x,e[a.index].y),s=new SuperMapAlgoPlot.Point(e[a.index+1].x,e[a.index+1].y),c=180*SuperMapAlgoPlot.PlottingUtil.radian(p,s)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,P],{surroundLineLimit:!0,lineTypeLimit:!0});var f=180*SuperMapAlgoPlot.PlottingUtil.radian(u,P)/Math.PI,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f-157.5),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f+157.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,g,y],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var h=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,g,y),S=[];S.push(u),S.push(h);var b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(S),d=b*this.scaleValues[5],A=b*this.scaleValues[0],M=(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(S,A).pt,f);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],u,d,M);d=4.5*(o*this.scaleValues[4])*Math.sin(Math.PI/8);for(var m=this.getLeftSubSymbolPts(d),v=e[0].clone(),O=-1,w=null,L=1;L<e.length;L++)if(SuperMapAlgoPlot.PlottingUtil.distance(v,e[L])>.5*d){O=L-1,w=SuperMapAlgoPlot.PlottingUtil.linePnt(v,e[L],.5*d);break}-1===O&&(O=e.length-1,w=e[e.length-1]);var U=null;if(null!==w){for(var V=180*SuperMapAlgoPlot.PlottingUtil.radian(v,w)/Math.PI,j=[],T=0;T<m.length;T++)j.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,m[T],V));U=j[3].clone(),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{surroundLineLimit:!0,lineTypeLimit:!0})}for(var R=this.getRightSubSymbolPts(d),x=e[e.length-1].clone(),E=-1,_=null,B=e.length-2;B>=0;B--)if(SuperMapAlgoPlot.PlottingUtil.distance(x,e[B])>.5*d){E=B,_=SuperMapAlgoPlot.PlottingUtil.linePnt(x,e[B],.5*d);break}if(-1===E&&(E=0,_=e[0]),null!==_){for(var Y=180*SuperMapAlgoPlot.PlottingUtil.radian(x,_)/Math.PI,C=[],I=0;I<R.length;I++)C.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(x,R[I],Y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C,{surroundLineLimit:!0,lineTypeLimit:!0})}if(O<=E){var N=[];N.push(w);for(var D=O+1;D<=E;D++)N.push(e[D]);N.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N)}this.addScalePoint(u),this.addScalePoint(P),null!==U&&this.addScalePoint(U),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=-1,a=0,u=new SuperMapAlgoPlot.Point(0,0),p=0;p<l.length-1;p++){var s=[];s.push(l[p]),s.push(l[p+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[p],l[p+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,s).index){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,c);isNaN(P)||(-1==i?(i=p,u=c,a=P):a>P&&(i=p,u=c,a=P))}}if(-1===i||i>l.length-1)return;n=0;for(var f=0;f<i;f++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[i],u))<0||n>r)return;var g=n/r;this.scaleValues[0]=g}else if(1===t){var y=r*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,y);if(-1===h.index)return;var S=h.pt,b=l[h.index],d=l[h.index+1],A=SuperMapAlgoPlot.PlottingUtil.radian(b,d),M=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-A;this.scaleValues[1]=M;var m=(n=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/r;this.scaleValues[2]=m}else if(2===t){var v=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/r;v>.35&&(v=.35),this.scaleValues[4]=v}}}},{key:"getLeftSubSymbolPts",value:function(t){var e=.25*t,o=[],l=new SuperMapAlgoPlot.Point(0,0),n=new SuperMapAlgoPlot.Point(e,-2*e),r=new SuperMapAlgoPlot.Point(2*e,0),i=new SuperMapAlgoPlot.Point(e,2*e);return o.push(l),o.push(n),o.push(r),o.push(i),o.push(l),o}},{key:"getRightSubSymbolPts",value:function(t){return this.getLeftSubSymbolPts(t)}}])&&sP(e.prototype,o),l&&sP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function yP(t){"@babel/helpers - typeof";return(yP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function SP(t,e){return(SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dP(t);if(e){var n=dP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===yP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dP(t){return(dP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30001=gP;var AP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30001);var e,o,l,n=bP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getSubSymbolScaleValue();this.scaleValues[2]=l,this.scaleValues[4]=l}var n=o*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI,i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==a.index){var u=a.pt,p=new SuperMapAlgoPlot.Point(e[a.index].x,e[a.index].y),s=new SuperMapAlgoPlot.Point(e[a.index+1].x,e[a.index+1].y),c=180*SuperMapAlgoPlot.PlottingUtil.radian(p,s)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,P],{surroundLineLimit:!0,lineTypeLimit:!0});var f=180*SuperMapAlgoPlot.PlottingUtil.radian(u,P)/Math.PI,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f-157.5),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f+157.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,g,y],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});for(var h=4.5*(o*this.scaleValues[4])*Math.sin(Math.PI/8),S=this.getLeftSubSymbolPts(h),b=e[0].clone(),d=-1,A=null,M=1;M<e.length;M++)if(SuperMapAlgoPlot.PlottingUtil.distance(b,e[M])>.5*h){d=M-1,A=SuperMapAlgoPlot.PlottingUtil.linePnt(b,e[M],.5*h);break}-1===d&&(d=e.length-1,A=e[e.length-1]);var m=null;if(null!==A){for(var v=180*SuperMapAlgoPlot.PlottingUtil.radian(b,A)/Math.PI,O=[],w=0;w<S.length;w++)O.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,S[w],v));m=O[3].clone(),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O,{surroundLineLimit:!0,lineTypeLimit:!0})}for(var L=this.getRightSubSymbolPts(h),U=e[e.length-1].clone(),V=-1,j=null,T=e.length-2;T>=0;T--)if(SuperMapAlgoPlot.PlottingUtil.distance(U,e[T])>.5*h){V=T,j=SuperMapAlgoPlot.PlottingUtil.linePnt(U,e[T],.5*h);break}if(-1===V&&(V=0,j=e[0]),null!==j){for(var R=180*SuperMapAlgoPlot.PlottingUtil.radian(U,j)/Math.PI,x=[],E=0;E<L.length;E++)x.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,L[E],R));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x,{surroundLineLimit:!0,lineTypeLimit:!0})}if(d<=V){var _=[];_.push(A);for(var B=d+1;B<=V;B++)_.push(e[B]);_.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_)}this.addScalePoint(u),this.addScalePoint(P),null!==m&&this.addScalePoint(m),this.finish()}}}},{key:"getRightSubSymbolPts",value:function(t){var e=.25*t,o=[];return o.push(new SuperMapAlgoPlot.Point(0,2*e)),o.push(new SuperMapAlgoPlot.Point(2*e,2*e)),o.push(new SuperMapAlgoPlot.Point(2*e,-e)),o.push(new SuperMapAlgoPlot.Point(0,-2*e)),o.push(new SuperMapAlgoPlot.Point(0,2*e)),o}}])&&hP(e.prototype,o),l&&hP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function MP(t){"@babel/helpers - typeof";return(MP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vP(t,e){return(vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function OP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=wP(t);if(e){var n=wP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===MP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function wP(t){return(wP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30002=AP;var LP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=OP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var n=e*this.scaleValues[0],r=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,i=e*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==a.index){var u=a.pt,p=a.index,s=u,c=l[p],P=l[p+1],f=SuperMapAlgoPlot.PlottingUtil.radian(c,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,1.5*i,1.5*i,f+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,g],{surroundLineLimit:!0,lineTypeLimit:!0});var y=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(-.2*i,.05*i),S=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,h,y),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,S,y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[g,b,d],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var A=new SuperMapAlgoPlot.Point(.6*i,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,A,y),m=.4*i*this.scaleValues[5],v=.4*i*this.scaleValues[6],O=new SuperMapAlgoPlot.Point(0,-.9*(m-.25*v)),w=new SuperMapAlgoPlot.Point(0,.9*(m-.25*v)),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,O,y),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,w,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[L,U],{surroundLineLimit:!0,lineTypeLimit:!0});var V=new SuperMapAlgoPlot.Point(0,m),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,V,y),T=new SuperMapAlgoPlot.Point(0,.25*v),R=new SuperMapAlgoPlot.Point(.5*v,0),x=new SuperMapAlgoPlot.Point(0,-.25*v),E=new SuperMapAlgoPlot.Point(-.5*v,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,T,y),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,R,y),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,x,y),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,E,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[_,B,Y,C,_],{surroundLineLimit:!0,lineTypeLimit:!0});var I=new SuperMapAlgoPlot.Point(0,-m),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,I,y),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(N,T,y),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(N,R,y),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(N,x,y),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(N,E,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[D,k,z,F,D],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(u,0),this.addScalePoint(g,1);var G=new SuperMapAlgoPlot.Point(0,-m),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,G,y);this.addScalePoint(W,2),this.addScalePoint(C,3),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p,s,c,P,f,g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(g=SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),0===t){for(var y=[],h=0;h<g.length;h++)y.push(new SuperMapAlgoPlot.Point(g[h].x,g[h].y));for(var S=-1,b=0,d=new SuperMapAlgoPlot.Point(0,0),A=0;A<y.length-1;A++){var M=[];M.push(y[A]),M.push(y[A+1]);var m=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,y[A],y[A+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(m,M).index){var v=SuperMapAlgoPlot.PlottingUtil.distance(e,m);-1==S?(S=A,d=m,b=v):b>v&&(S=A,d=m,b=v)}}if(-1==S||S>y.length-1)return;r=0;for(var O=0;O<S;O++)r+=SuperMapAlgoPlot.PlottingUtil.distance(g[O],g[O+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(g[S],d))<0||r>l)return;var w=r/l;this.scaleValues[0]=w}else if(1===t){i=l*this.scaleValues[0];var L=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i);if(-1===L.index)return;a=L.pt,u=g[L.index],p=g[L.index+1],s=SuperMapAlgoPlot.PlottingUtil.radian(u,p);var U=(f=SuperMapAlgoPlot.PlottingUtil.radian(a,e))-s;this.scaleValues[1]=U;var V=(r=SuperMapAlgoPlot.PlottingUtil.distance(a,e))/l/1.5;this.scaleValues[2]=V}else if(2===t){if(i=l*this.scaleValues[0],c=180*this.scaleValues[1]/Math.PI,r=l*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i)).index)return;P=a.pt,u=g[a.index],p=g[a.index+1],s=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI;var j=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.4*r,.4*r,s+c),T=SuperMapAlgoPlot.PlottingUtil.distance(e,j)/(.4*r);this.scaleValues[5]=T}else if(3===t){if(i=l*this.scaleValues[0],c=180*this.scaleValues[1]/Math.PI,r=l*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i)).index)return;P=a.pt,u=g[a.index],p=g[a.index+1],f=(s=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI)+c;var R=new SuperMapAlgoPlot.Point(.6*r,0),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,R,f),E=.4*r*this.scaleValues[5],_=new SuperMapAlgoPlot.Point(0,E),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(x,_,f),Y=2*SuperMapAlgoPlot.PlottingUtil.distance(B,e)/(.4*r);this.scaleValues[6]=Y}}}}])&&mP(e.prototype,o),l&&mP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function UP(t){"@babel/helpers - typeof";return(UP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function jP(t,e){return(jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function TP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=RP(t);if(e){var n=RP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===UP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function RP(t){return(RP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30100=LP;var xP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=TP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(1e3),e.scaleValues.push(.2),e.scaleValues.push(.1),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length?(this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.1),this.scaleValues.push(.05)):3==this.scaleValues.length&&(this.scaleValues[3]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=e*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,l);if(-1!==n.index){var r=t[0],i=n.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=new SuperMapAlgoPlot.Point(0,.1*l),p=new SuperMapAlgoPlot.Point(.4*l,.1*l),s=new SuperMapAlgoPlot.Point(.4*l,-.1*l),c=new SuperMapAlgoPlot.Point(0,-.1*l),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,p,a),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,s,a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,c,a),h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,f,g,y,P],h);var S=.1*l,b=new SuperMapAlgoPlot.Point(.3*l,0),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,S,S,135),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,S,S,225),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,b,a),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,d,a),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,A,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[m,M,v],h);var O=new SuperMapAlgoPlot.Point(.9*l,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,O,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[M,w],h);var L=new SuperMapAlgoPlot.Point(.8*l,.025*l),U=new SuperMapAlgoPlot.Point(.8*l,-.025*l),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,L,a),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,U,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[w,V,j],h);var T=[];T.push(n.pt);for(var R=n.index+1;R<o.length;R++)T.push(o[R]);this.addArrow(T,this.scaleValues[3]),this.components[this.components.length-2].style.strokeDashstyle="dash",this.components[this.components.length-2].style.lineSymbolID=1,this.components[this.components.length-2].style.lineTypeLimit=!0;var x=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90);this.addScalePoint(x,0),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r=o[0],i=e,a=SuperMapAlgoPlot.PlottingUtil.distance(i,r);if(0===t){var u=a/l;if(.06>u||.3<u)return;this.scaleValues[1]=u}}}}])&&VP(e.prototype,o),l&&VP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function EP(t){"@babel/helpers - typeof";return(EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _P(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function BP(t,e){return(BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function YP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=CP(t);if(e){var n=CP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===EP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function CP(t){return(CP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30200=xP;var IP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30200);var e,o,l,n=YP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.1)),3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),0==this.scaleValues.length?(this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.1),this.scaleValues.push(.05)):3==this.scaleValues.length&&(this.scaleValues[3]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5*this.getSubSymbolScaleValue());var l=e*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,l);if(-1!==n.index){var r=t[0],i=n.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=new SuperMapAlgoPlot.Point(0,.1*l),p=new SuperMapAlgoPlot.Point(.4*l,.1*l),s=new SuperMapAlgoPlot.Point(.4*l,-.1*l),c=new SuperMapAlgoPlot.Point(0,-.1*l),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,p,a),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,s,a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,c,a),h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,f,g,y,P],h);var S=new SuperMapAlgoPlot.Point(.3*l,.1*l),b=new SuperMapAlgoPlot.Point(.3*l,-.1*l),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,S,a),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,b,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[d,A],h);var M=new SuperMapAlgoPlot.Point(.4*l,0),m=new SuperMapAlgoPlot.Point(.8*l,0),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,M,a),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,m,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[v,O],h);var w=new SuperMapAlgoPlot.Point(.7*l,.025*l),L=new SuperMapAlgoPlot.Point(.7*l,-.025*l),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,w,a),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,L,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[O,U,V],h);var j=[];j.push(n.pt);for(var T=n.index+1;T<o.length;T++)j.push(o[T]);this.addArrow(j,this.scaleValues[3]),this.components[this.components.length-2].style.strokeDashstyle="dash",this.components[this.components.length-2].style.lineSymbolID=1,this.components[this.components.length-2].style.lineTypeLimit=!0;var R=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90);this.addScalePoint(R,0),this.finish()}}}}])&&_P(e.prototype,o),l&&_P(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function NP(t){"@babel/helpers - typeof";return(NP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function kP(t,e){return(kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=FP(t);if(e){var n=FP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===NP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FP(t){return(FP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30201=IP;var GP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=zP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(Math.PI/2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.125),this.scaleValues.push(Math.PI/2)),3===this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),!(t.length<this.minEditPts)){for(var o=0,l=0;l<t.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1]);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[3]=n}var r=this.scaleValues[1],i=180*this.scaleValues[2]/Math.PI,a=o*this.scaleValues[0],u=o*this.scaleValues[3],p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,a);if(-1!==p.index){var s=p.pt,c=e[p.index],P=e[p.index+1],f=SuperMapAlgoPlot.PlottingUtil.radian(c,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,f+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p.pt,g],{surroundLineLimit:!0,lineTypeLimit:!0});var y,h=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=o*r;0<this.subSymbols.length&&(y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,f+i+180),this.computeSubSymbol(this.subSymbols[0],y,.8*S,f+i-180),this.addScalePoint(SuperMapAlgoPlot.PlottingUtil.circlePoint(y,.5*S,.5*S,f+i+90),1)),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+30);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+33),d=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([g,y,b]);d=SuperMapAlgoPlot.PlottingUtil.clearSamePts(d);var A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(d),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*A,d);if(-1!==M.index){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d.slice(0,M.index),{surroundLineLimit:!0,lineTypeLimit:!0});var m=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=new SuperMapAlgoPlot.Point(-.2*u,.05*u),O=new SuperMapAlgoPlot.Point(-.2*u,-.05*u),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,v,m+17),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,O,m+17),U={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,w,L],U);var V=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+330),j=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+327),T=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([g,V,j]);T=SuperMapAlgoPlot.PlottingUtil.clearSamePts(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T.slice(0,M.index),{surroundLineLimit:!0,lineTypeLimit:!0});var R=SuperMapAlgoPlot.PlottingUtil.radian(g,V)*SuperMapAlgoPlot.PlottingUtil.RTOD,x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,v,R-17),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,O,R-17);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[V,x,E],U),this.addScalePoint(s,0),this.addScalePoint(g,2),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(p=SuperMapAlgoPlot.PlottingUtil.clearSamePts(p),0===t){for(var s=[],c=0;c<p.length;c++)s.push(new SuperMapAlgoPlot.Point(p[c].x,p[c].y));for(var P=-1,f=0,g=new SuperMapAlgoPlot.Point(0,0),y=0;y<s.length-1;y++){var h=[];h.push(s[y]),h.push(s[y+1]);var S=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,s[y],s[y+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(S,h).index){var b=SuperMapAlgoPlot.PlottingUtil.distance(e,S);-1==P?(P=y,g=S,f=b):f>b&&(P=y,g=S,f=b)}}if(-1==P||P>s.length-1)return;for(var d=0,A=0;A<P;A++)d+=SuperMapAlgoPlot.PlottingUtil.distance(p[A],p[A+1]);if((d+=SuperMapAlgoPlot.PlottingUtil.distance(p[P],g))<0||d>l)return;var M=d/l;this.scaleValues[0]=M}else if(1===t){var m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,l*this.scaleValues[0]);if(-1===m.index)return;r=m.pt,i=p[m.index],a=p[m.index+1],u=SuperMapAlgoPlot.PlottingUtil.radian(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var v=l*this.scaleValues[3],O=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,v,v,u+this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD+180),w=SuperMapAlgoPlot.PlottingUtil.distance(O,e)/l*2;this.scaleValues[1]=w}else if(2===t){var L=l*this.scaleValues[0],U=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,L);if(-1===U.index)return;r=U.pt,i=p[U.index],a=p[U.index+1],u=SuperMapAlgoPlot.PlottingUtil.radian(i,a);var V=SuperMapAlgoPlot.PlottingUtil.radian(r,e)-u;this.scaleValues[2]=V}}}}])&&DP(e.prototype,o),l&&DP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function WP(t){"@babel/helpers - typeof";return(WP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function KP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function qP(t,e){return(qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function HP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JP(t);if(e){var n=JP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===WP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JP(t){return(JP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30800=GP;var ZP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=HP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(1.570796),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var n=e*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI,i=e*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==a.index){var u=a.index,p=a.pt,s=l[u],c=l[u+1],P=180*SuperMapAlgoPlot.PlottingUtil.radian(s,c)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,i/2,i/2,P+r),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,i,i,P+r+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,g],{surroundLineLimit:!0,lineTypeLimit:!0});var y=180*SuperMapAlgoPlot.PlottingUtil.radian(p,f)/Math.PI,h=new SuperMapAlgoPlot.Point(-.2*i,.05*i),S=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,y),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,S,y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[f,b,d],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var A=.5*i*this.scaleValues[5],M=.4*i*this.scaleValues[6],m=new SuperMapAlgoPlot.Point(0,-.9*(A-.25*M)),v=new SuperMapAlgoPlot.Point(0,.9*(A-.25*M)),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,m,y),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,v,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[O,w],{surroundLineLimit:!0,lineTypeLimit:!0});var L=new SuperMapAlgoPlot.Point(0,A),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,L,y),V=new SuperMapAlgoPlot.Point(.5*M,-.25*M),j=new SuperMapAlgoPlot.Point(-.5*M,-.25*M),T=new SuperMapAlgoPlot.Point(-.5*M,.25*M),R=new SuperMapAlgoPlot.Point(.25*M,.25*M),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,V,y),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,j,y),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,T,y),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,R,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[x,E,_,B,x],{surroundLineLimit:!0,lineTypeLimit:!0});var Y=new SuperMapAlgoPlot.Point(0,-A),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,Y,y),I=new SuperMapAlgoPlot.Point(0,.25*M),N=new SuperMapAlgoPlot.Point(.5*M,0),D=new SuperMapAlgoPlot.Point(0,-.25*M),k=new SuperMapAlgoPlot.Point(-.5*M,0),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,I,y),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,N,y),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,D,y),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,k,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[z,F,G,W,z],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(p,0);var K=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,i,i,P+r);this.addScalePoint(K,1);var q=new SuperMapAlgoPlot.Point(0,-A),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,q,y);this.addScalePoint(H,2);var J=new SuperMapAlgoPlot.Point(-.5*M,0),Z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,J,y);this.addScalePoint(Z,3),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p,s,c,P,f,g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(g=SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),0===t){for(var y=-1,h=0,S=new SuperMapAlgoPlot.Point(0,0),b=0;b<g.length-1;b++){var d=[];d.push(g[b]),d.push(g[b+1]);var A=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,g[b],g[b+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(A,d).index){var M=SuperMapAlgoPlot.PlottingUtil.distance(e,A);-1==y?(y=b,S=A,h=M):h>M&&(y=b,S=A,h=M)}}if(-1==y||y>g.length-1)return;r=0;for(var m=0;m<y;m++)r+=SuperMapAlgoPlot.PlottingUtil.distance(g[m],g[m+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(g[y],S))<0||r>l)return;var v=r/l;this.scaleValues[0]=v}else if(1===t){i=l*this.scaleValues[0];var O=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i);if(-1===O.index)return;u=a=O.pt,p=g[O.index],s=g[O.index+1],c=SuperMapAlgoPlot.PlottingUtil.radian(p,s);var w=SuperMapAlgoPlot.PlottingUtil.radian(u,e)-c;this.scaleValues[1]=w;var L=(r=SuperMapAlgoPlot.PlottingUtil.distance(a,e))/l;this.scaleValues[2]=L}else if(2===t){if(i=l*this.scaleValues[0],P=180*this.scaleValues[1]/Math.PI,r=l*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i)).index)return;u=a.pt,p=g[a.index],s=g[a.index+1],c=180*SuperMapAlgoPlot.PlottingUtil.radian(p,s)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,r,r,c+P-180);var U=SuperMapAlgoPlot.PlottingUtil.distance(e,f)/(.4*r);this.scaleValues[5]=U}else if(3===t){if(i=l*this.scaleValues[0],P=180*this.scaleValues[1]/Math.PI,r=l*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i)).index)return;u=a.pt,p=g[a.index],s=g[a.index+1],c=180*SuperMapAlgoPlot.PlottingUtil.radian(p,s)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,r,r,c+P-180);var V=.4*r*this.scaleValues[5],j=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,V,V,c+P+90),T=2*SuperMapAlgoPlot.PlottingUtil.distance(j,e)/(.4*r);if(this.scaleValues[5]-.25*T<=0)return;this.scaleValues[6]=T}}}}])&&KP(e.prototype,o),l&&KP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function XP(t){"@babel/helpers - typeof";return(XP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function $P(t,e){return($P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ef(t);if(e){var n=ef(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===XP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ef(t){return(ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30102=ZP;var of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$P(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=tf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n.pntLeft,n.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r.pntLeft,r.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(r.pntRight,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0===t){var r=o[0],i=e,a=SuperMapAlgoPlot.PlottingUtil.distance(i,r)/l;this.scaleValues[0]=a}}}}])&&QP(e.prototype,o),l&&QP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function lf(t){"@babel/helpers - typeof";return(lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function rf(t,e){return(rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uf(t);if(e){var n=uf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===lf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uf(t){return(uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31300=of;var pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,l,n=af(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n.pntLeft,n.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r.pntLeft,r.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});var i=[],a=3*l;i.push(t[0]),i.push(t[1]);for(var u=SuperMapAlgoPlot.PlottingUtil.paraLine(i,a,!0),p=SuperMapAlgoPlot.PlottingUtil.paraLine(i,a,!1),s=[],c=0;c<u.length;c++)s.push(u[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,u[1],u[0]),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,u[0],u[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P.pntLeft,P.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f.pntLeft,f.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});for(var g=[],y=0;y<p.length;y++)g.push(p[y]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,p[1],p[0]),S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,p[0],p[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h.pntLeft,h.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S.pntLeft,S.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(r.pntRight,0),this.finish()}}}])&&nf(e.prototype,o),l&&nf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sf(t){"@babel/helpers - typeof";return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pf(t,e){return(Pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gf(t);if(e){var n=gf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gf(t){return(gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31301=pf;var yf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,l,n=ff(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=t[0],n=t[1],r=this.scaleValues[0]*e,i=SuperMapAlgoPlot.PlottingUtil.linePnt(l,n,.5*e),a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[0],t[1]),u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[a.pntLeft,a.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u.pntLeft,u.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});var p=SuperMapAlgoPlot.PlottingUtil.linePnt(i,l,r),s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,n,r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[0],p]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,t[1]]);var c=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,2*r,c),this.addScalePoint(u.pntRight),this.finish()}}}])&&cf(e.prototype,o),l&&cf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hf(t){"@babel/helpers - typeof";return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bf(t,e){return(bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function df(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Af(t);if(e){var n=Af(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Af(t){return(Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31302=yf;var Mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,l,n=df(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e),r=SuperMapAlgoPlot.PlottingUtil.linePnt(n,t[0],l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(n,t[1],l);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[0],r]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i,t[1]]);var a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[1],t[0]),u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[a.pntLeft,a.pntRight]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u.pntLeft,u.pntRight]);var p=[],s=[];p.push(t[0]),p.push(r),s.push(i),s.push(t[1]);for(var c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,l,!0),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,l,!1),f=SuperMapAlgoPlot.PlottingUtil.paraLine(s,l,!0),g=SuperMapAlgoPlot.PlottingUtil.paraLine(s,l,!1),y=[],h=[],S=0;S<c.length;S++)y.push(c[S]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);for(var b=0;b<P.length;b++)h.push(P[b]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);for(var d=[],A=[],M=0;M<f.length;M++)d.push(f[M]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);for(var m=0;m<g.length;m++)A.push(g[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var v=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],n,2*l,v),this.addScalePoint(a.pntRight,0),this.finish()}}}])&&Sf(e.prototype,o),l&&Sf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mf(t){"@babel/helpers - typeof";return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Of(t,e){return(Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Lf(t);if(e){var n=Lf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Lf(t){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31303=Mf;var Uf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Of(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,l,n=wf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),1===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.1),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[1]*e,n=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e),r=SuperMapAlgoPlot.PlottingUtil.linePnt(n,t[0],l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(n,t[1],l),a=this.scaleValues[0]*e,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[1],t[0]),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u.pntLeft,u.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p.pntLeft,p.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});var s=[],c=[];s.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),s.push(new SuperMapAlgoPlot.Point(r.x,r.y)),c.push(new SuperMapAlgoPlot.Point(i.x,i.y)),c.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y));for(var P=this.scaleValues[this.scaleValues.length-1]*e,f=SuperMapAlgoPlot.PlottingUtil.paraLine(s,P,!0),g=SuperMapAlgoPlot.PlottingUtil.paraLine(s,P,!1),y=SuperMapAlgoPlot.PlottingUtil.paraLine(c,P,!0),h=SuperMapAlgoPlot.PlottingUtil.paraLine(c,P,!1),S=[],b=[],d=0;d<f.length;d++)S.push(f[d]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);for(var A=0;A<g.length;A++)b.push(g[A]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);for(var M=[],m=[],v=0;v<y.length;v++)M.push(y[v]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);for(var O=0;O<h.length;O++)m.push(h[O]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m);var w=r,L=i,U=SuperMapAlgoPlot.PlottingUtil.radian(w,L)*SuperMapAlgoPlot.PlottingUtil.RTOD,V=SuperMapAlgoPlot.PlottingUtil.distance(w,L);this.addText("慑阻",n,V,U),this.addScalePoint(u.pntRight,0),this.finish()}}}])&&vf(e.prototype,o),l&&vf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vf(t){"@babel/helpers - typeof";return(Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tf(t,e){return(Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xf(t);if(e){var n=xf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xf(t){return(xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31304=Uf;var Ef=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Rf(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),o=0;o=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var l=new SuperMapAlgoPlot.Point(e.x-o,e.y-o),n=new SuperMapAlgoPlot.Point(e.x+o,e.y+o);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[l,n],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.finish()}}}])&&jf(e.prototype,o),l&&jf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _f(t){"@babel/helpers - typeof";return(_f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Yf(t,e){return(Yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=If(t);if(e){var n=If(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function If(t){return(If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31400=Ef;var Nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31400);var e,o,l,n=Cf(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=0;e=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=new SuperMapAlgoPlot.Point(o.x-e,o.y-e),n=new SuperMapAlgoPlot.Point(o.x+e,o.y-3*e),r={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[l,n],r,!0);var i=new SuperMapAlgoPlot.Point(o.x-e,o.y+e),a=new SuperMapAlgoPlot.Point(o.x-3*e,o.y+3*e);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[i,a],r,!0);var u=new SuperMapAlgoPlot.Point(o.x+e,o.y+e),p=new SuperMapAlgoPlot.Point(o.x+3*e,o.y+3*e);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[u,p],r,!0),this.finish()}}}])&&Bf(e.prototype,o),l&&Bf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Df(t){"@babel/helpers - typeof";return(Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zf(t,e){return(zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gf(t);if(e){var n=Gf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Df(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gf(t){return(Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31401=Nf;var Wf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ff(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues.push(.1),this.scaleValues.push(.1),this.scaleValues.push(0)),this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=Math.abs(t[1].x-t[0].x)*this.getSubSymbolScaleValue()*.5,n=new SuperMapAlgoPlot.Point(e.x-l,e.y+l),r=new SuperMapAlgoPlot.Point(e.x-3*l,e.y-l);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n,r],{surroundLineLimit:!0,lineTypeLimit:!0});var i=new SuperMapAlgoPlot.Point(e.x-l,e.y-l),a=new SuperMapAlgoPlot.Point(e.x-3*l,e.y+l);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i,a],{surroundLineLimit:!0,lineTypeLimit:!0}),!this.isEdit){var u=this.getDefaultSubSymbolSize()/o;(u>.3||u<=0)&&(u=.3),this.scaleValues[0]=u}var p=new SuperMapAlgoPlot.Point(e.x+l,e.y),s=new SuperMapAlgoPlot.Point(e.x+4*l,e.y),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=o*this.scaleValues[0]*2,f=new SuperMapAlgoPlot.Point(e.x+o*this.scaleValues[1],e.y+o*this.scaleValues[2]);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,.8*P,c),this.addScalePoint(f);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,P/2,P/2,90);this.addScalePoint(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;this.scaleValues.lenth<3&&(this.scaleValues.push(.1),this.scaleValues.push(.1),this.scaleValues.push(0));var l,n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===t)l=(e.x-i.x)/r,this.scaleValues[1]=l,n=(e.y-i.y)/r,this.scaleValues[2]=n;else if(1===t){l=this.scaleValues[1],n=this.scaleValues[2];var a=new SuperMapAlgoPlot.Point(i.x+r*l,i.y+r*n),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e)/r;this.scaleValues[0]=u}}}}])&&kf(e.prototype,o),l&&kf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kf(t){"@babel/helpers - typeof";return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hf(t,e){return(Hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zf(t);if(e){var n=Zf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zf(t){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31600=Wf;var Xf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var o=this.getDefaultSubSymbolSize()/e;(o>.3||o<=0)&&(o=.3),this.scaleValues[2]=o}var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=Math.abs(t[1].x-t[0].x)*this.getSubSymbolScaleValue()*.5,r=Math.abs(t[1].y-t[0].y)*this.getSubSymbolScaleValue()*.5;if(t[0].y>t[1].y){var i=new SuperMapAlgoPlot.Point(l.x,t[0].y),a=new SuperMapAlgoPlot.Point(l.x,t[0].y-r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i,a],{surroundLineLimit:!0,lineTypeLimit:!0});var u=new SuperMapAlgoPlot.Point(l.x,t[1].y),p=new SuperMapAlgoPlot.Point(l.x,t[1].y+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,p],{surroundLineLimit:!0,lineTypeLimit:!0})}else{var s=new SuperMapAlgoPlot.Point(l.x,t[1].y),c=new SuperMapAlgoPlot.Point(l.x,t[1].y-r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c],{surroundLineLimit:!0,lineTypeLimit:!0});var P=new SuperMapAlgoPlot.Point(l.x,t[0].y),f=new SuperMapAlgoPlot.Point(l.x,t[0].y+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,f],{surroundLineLimit:!0,lineTypeLimit:!0})}if(t[0].x>t[1].x){var g=new SuperMapAlgoPlot.Point(t[0].x,l.y),y=new SuperMapAlgoPlot.Point(t[0].x-n,l.y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[g,y],{surroundLineLimit:!0,lineTypeLimit:!0});var h=new SuperMapAlgoPlot.Point(t[1].x,l.y),S=new SuperMapAlgoPlot.Point(t[1].x+n,l.y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h,S],{surroundLineLimit:!0,lineTypeLimit:!0})}else{var b=new SuperMapAlgoPlot.Point(t[1].x,l.y),d=new SuperMapAlgoPlot.Point(t[1].x-n,l.y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b,d],{surroundLineLimit:!0,lineTypeLimit:!0});var A=new SuperMapAlgoPlot.Point(t[0].x,l.y),M=new SuperMapAlgoPlot.Point(t[0].x+n,l.y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[A,M],{surroundLineLimit:!0,lineTypeLimit:!0})}this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var m=new SuperMapAlgoPlot.Point(l.x+e*this.scaleValues[0],l.y+e*this.scaleValues[1]),v=e*this.scaleValues[2]*1.2;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],m,v,0),this.addScalePoint(m);var O=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,v/2,v/2,90);this.addScalePoint(O),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;this.scaleValues.lenth<3&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var l,n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===t)l=(e.x-i.x)/r,this.scaleValues[0]=l,n=(e.y-i.y)/r,this.scaleValues[1]=n;else if(1===t){l=this.scaleValues[0],n=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(i.x+r*l,i.y+r*n),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e)/r;this.scaleValues[2]=u}}}}])&&qf(e.prototype,o),l&&qf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qf(t){"@babel/helpers - typeof";return(Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tg(t,e){return(tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=og(t);if(e){var n=og(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function og(t){return(og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31601=Xf;var lg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eg(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=.5*e,r=e*this.getSubSymbolScaleValue(),i=r,a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==a.index){var u=a.pt,p=new SuperMapAlgoPlot.Point(l[a.index].x,l[a.index].y),s=new SuperMapAlgoPlot.Point(l[a.index+1].x,l[a.index+1].y),c=180*SuperMapAlgoPlot.PlottingUtil.radian(p,s)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,r,r,c+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,P],{surroundLineLimit:!0,lineTypeLimit:!0});var f=180*SuperMapAlgoPlot.PlottingUtil.radian(u,P)/Math.PI,g=new SuperMapAlgoPlot.Point(-.2*r,.05*r),y=new SuperMapAlgoPlot.Point(-.2*r,-.05*r),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,g,f),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,y,f);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,h,S],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var b=new SuperMapAlgoPlot.Point(0,-.6*i);b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,b,c),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],b,i,c-90),this.finish()}}}}])&&$f(e.prototype,o),l&&$f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ng(t){"@babel/helpers - typeof";return(ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ig(t,e){return(ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ag(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ug(t);if(e){var n=ug(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ng(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ug(t){return(ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31803=lg;var pg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ig(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ag(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=t[0],l=t[1];e=2==t.length?l:t[2];var n=new SuperMapAlgoPlot.Point((o.x+l.x)/2,(o.y+l.y)/2),r=SuperMapAlgoPlot.PlottingUtil.distance(n,e),i=.5*r,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,e),u=a.pntLeft,p=a.pntRight,s=!(n.x>e.x),c=[];s?(c.push(o),c.push(u)):(c.push(o),c.push(p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var P=[];s?(P.push(l),P.push(p)):(P.push(l),P.push(u)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var f,g,y,h,S=.37*r,b=SuperMapAlgoPlot.PlottingUtil.linePnt(n,e,S),d=.09*r,A=[];A.push(b),A.push(new SuperMapAlgoPlot.Point(b.x,b.y+d)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE}),s?(f=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,n,b)).pntLeft,g=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,n,b)).pntLeft,y=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,f,g)).pntRight,h=a.pntLeft):(f=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,n,b)).pntRight,g=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,n,b)).pntRight,y=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,f,g)).pntRight,h=a.pntLeft);var M=[];M.push(f),M.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE});var m=[];m.push(y),m.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE}),this.finish()}}}])&&rg(e.prototype,o),l&&rg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sg(t){"@babel/helpers - typeof";return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pg(t,e){return(Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gg(t);if(e){var n=gg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gg(t){return(gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol32300=pg;var yg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=l;this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var r=e*this.scaleValues[0],i=this.scaleValues[1],a=i,u=this.scaleValues[3],p=this.scaleValues[4];n.x=l.x+u*e,n.y=l.y+p*e,this.computeSubSymbol(this.subSymbols[0],l,r,a),this.addScalePoint(n,0);var s=new SuperMapAlgoPlot.Point(n.x,n.y),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,r,r,0);this.addScalePoint(c,1);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,2*r,2*r,i);this.addScalePoint(P,2),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t&&(l=(e.x-i.x)/a,this.scaleValues[3]=l,n=(e.y-i.y)/a,this.scaleValues[4]=n),1===t){l=this.scaleValues[3],n=this.scaleValues[4],r=new SuperMapAlgoPlot.Point(i.x+l*a,i.y+n*a);var u=SuperMapAlgoPlot.PlottingUtil.distance(r,e)/a;this.scaleValues[0]=u}if(2===t){l=this.scaleValues[3],n=this.scaleValues[4],r=new SuperMapAlgoPlot.Point(i.x+l*a,i.y+n*a);var p=SuperMapAlgoPlot.PlottingUtil.radian(r,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[1]=p}}}}])&&cg(e.prototype,o),l&&cg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hg(t){"@babel/helpers - typeof";return(hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bg(t,e){return(bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ag(t);if(e){var n=Ag(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ag(t){return(Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol32900=yg;var Mg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125),this.scaleValues.push(0)),this.scaleValues.length<6&&this.scaleValues.push(.1);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o,l,n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(((n=this.getDefaultSubSymbolSize()/r)>.3||n<=0)&&(n=.3),this.scaleValues[5]=n);var i=1.5*this.scaleValues[5];2==t.length?(this.isEdit||(this.scaleValues[3]=this.scaleValues[2]+i),o=this.scaleValues[2],l=this.scaleValues[3]):(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[4],0)&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125)),this.isEdit||(this.scaleValues[4]=this.scaleValues[3]+i,((n=this.getDefaultSubSymbolSize()/r)>.3||n<=0)&&(n=.3),this.scaleValues[5]=n),o=this.scaleValues[3],l=this.scaleValues[4]);var a=r*o,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.index,s=u.pts,c=r*l;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(c,e)).bfind){for(var P=u.index,f=u.pts,g=new SuperMapAlgoPlot.Point(s.x,s.y),y=new SuperMapAlgoPlot.Point(f.x,f.y),h=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[],b=0;b<=p;b++)S.push(e[b]);for(S.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),(S=[]).push(f),b=P+1;b<e.length;b++)S.push(e[b]);this.addArrow(S,.5*this.scaleValues[5]);var d=SuperMapAlgoPlot.PlottingUtil.distance(g,y),A=new SuperMapAlgoPlot.Point(2/3*d,.5/3*d),M=new SuperMapAlgoPlot.Point(0,.5/3*d),m=new SuperMapAlgoPlot.Point(0,-.5/3*d),v=new SuperMapAlgoPlot.Point(2/3*d,-.5/3*d),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,A,h),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,M,h),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,m,h),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,v,h);(S=[]).push(O),S.push(w),S.push(L),S.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{surroundLineLimit:!0,lineTypeLimit:!0});var V=d/3*2,j=SuperMapAlgoPlot.PlottingUtil.radian(y,O)*SuperMapAlgoPlot.PlottingUtil.RTOD,T=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,V,V,j),R=SuperMapAlgoPlot.PlottingUtil.radian(y,U)*SuperMapAlgoPlot.PlottingUtil.RTOD,x=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,V,V,R);(S=[]).push(T),S.push(f),S.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{surroundLineLimit:!0,lineTypeLimit:!0}),this.scalePoints=[],this.addScalePoint(f);var E=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,d/2,d/2,h+90);this.addScalePoint(E),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),a=0,u=0;if(2==o.length?(a=this.scaleValues[2],u=this.scaleValues[3]):(a=this.scaleValues[3],u=this.scaleValues[4]),0==t){for(var p=u-a,s=e.clone(),c=[],P=0;P<l.length;P++)c.push(l[P].clone());for(var f,g=-1,y=0,h=0;h<c.length-1;h++){var S=[];S.push(c[h]),S.push(c[h+1]);var b=SuperMapAlgoPlot.PlottingUtil.projectPoint(s,c[h],c[h+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(b,S).isOnPolyLine){var d=SuperMapAlgoPlot.PlottingUtil.distance(s,b);-1==g?(g=h,f=b,y=d):y>d&&(g=h,f=b,y=d)}}if(-1==g||g>c.length-1)return;n=0;for(var A=0;A<g;A++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[A],l[A+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[g],f))<0||n>i)return;if((r=n/i)>.7||r-p<0)return;2==o.length?(this.scaleValues[2]=r-p,this.scaleValues[3]=r):(this.scaleValues[3]=r-p,this.scaleValues[4]=r)}else if(1==t){n=i*a;var M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,l);if(!M.bfind)return;var m=M.pts;if(.7<(r=(2*SuperMapAlgoPlot.PlottingUtil.distance(m,e)+n)/i))return;2==o.length?this.scaleValues[3]=r:this.scaleValues[4]=r}}}}])&&Sg(e.prototype,o),l&&Sg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mg(t){"@babel/helpers - typeof";return(mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Og(t,e){return(Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Lg(t);if(e){var n=Lg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Lg(t){return(Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol33400=Mg;var Ug=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Og(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wg(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.radian(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=.02*o,a=[];for(e=0;e<360;e+=10)a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),i,i,e));a.push(a[0]);var u=[],p=new SuperMapAlgoPlot.Point(.1*o,0),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,p,r);for(e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+s.x,a[e].y+s.y));var c={lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var P=new SuperMapAlgoPlot.Point(.25*o,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,P,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+f.x,a[e].y+f.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var g=new SuperMapAlgoPlot.Point(.4*o,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,g,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+y.x,a[e].y+y.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var h=new SuperMapAlgoPlot.Point(.6*o,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,h,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+S.x,a[e].y+S.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var b=new SuperMapAlgoPlot.Point(.5*o,.05*o),d=new SuperMapAlgoPlot.Point(.7*o,.05*o),A=new SuperMapAlgoPlot.Point(.75*o,0),M=new SuperMapAlgoPlot.Point(.7*o,-.05*o),m=new SuperMapAlgoPlot.Point(.5*o,-.05*o),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,b,r),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,d,r),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,A,r),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,M,r),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,m,r);(u=[]).push(v),u.push(O),u.push(w),u.push(L),u.push(U),u.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{surroundLineLimit:!0,lineTypeLimit:!0}),this.finish()}}}])&&vg(e.prototype,o),l&&vg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vg(t){"@babel/helpers - typeof";return(Vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tg(t,e){return(Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xg(t);if(e){var n=xg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xg(t){return(xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34300=Ug;var Eg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Rg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.radian(o,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1];if(!(r<0||i<0)){var a=r*e,u=1-i*(5/4);u<0&&(u=0),u>1&&(u=1);var p,s,c=e*u,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,c,c,n),f=[];f.push(t[0].clone()),f.push(P),p=SuperMapAlgoPlot.PlottingUtil.paraLine(f,a,!0),s=SuperMapAlgoPlot.PlottingUtil.paraLine(f,a,!1);var g,y=[];for(g=0;g<p.length;g++)y.push(p[g]);var h=[];for(g=0;g<s.length;g++)h.push(s[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=i*e,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,S/2,S/2,n);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],b,S/2,n+180);for(var d=[],A=.1*c,M=[],m=0;m<y.length;m++)M.push(y[m].clone());var v=[];for(g=0;g<h.length;g++)v.push(h[g].clone());var O=SuperMapAlgoPlot.PlottingUtil.distance(v[0],v[1]);if(!(A>=O)){for(var w=A;w<c-a;w+=A){var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(v[0],w,w,n),U=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,O,O,n+45),V=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,U,M[0],M[1]);if(V.isIntersectLines){var j=V.intersectPoint;if(!SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(j,M).isOnPolyLine)break;(d=[]).push(L),d.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0})}}this.scalePoints=[];var T=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,a,a,n+90);this.addScalePoint(T);var R=S/2,x=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,R,R,n+90);this.addScalePoint(x),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);0==t?(l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n,this.scaleValues[0]=l):1==t&&(l=2*SuperMapAlgoPlot.PlottingUtil.distance(o[1],e)/n,this.scaleValues[1]=l)}}}])&&jg(e.prototype,o),l&&jg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _g(t){"@babel/helpers - typeof";return(_g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Yg(t,e){return(Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ig(t);if(e){var n=Ig(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ig(t){return(Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34400=Eg;var Ng=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Cg(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.radian(o,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=new SuperMapAlgoPlot.Point(0,0),i=new SuperMapAlgoPlot.Point(.475*e,0),a=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,r,n),u=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,i,n),p=[];p.push(a),p.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var s=new SuperMapAlgoPlot.Point(.525*e,0),c=new SuperMapAlgoPlot.Point(.725*e,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,s,n),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,c,n);(p=[]).push(P),p.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var g=new SuperMapAlgoPlot.Point(.775*e,0),y=new SuperMapAlgoPlot.Point(.95*e,0),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,g,n),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,y,n);(p=[]).push(h),p.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var b=new SuperMapAlgoPlot.Point(e,.0125*e),d=new SuperMapAlgoPlot.Point(e,-.0125*e),A=new SuperMapAlgoPlot.Point(.75*e+.2*e,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,b,n),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,d,n),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,A,n);(p=[]).push(M),p.push(v),p.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var O=new SuperMapAlgoPlot.Point(.75*e+.025*e,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,O,n);(p=[]).push(v),p.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var L=new SuperMapAlgoPlot.Point(.75*e+.15*e,0),U=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,.075*e,.1*e,150),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,.075*e,.1*e,210),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,L,n),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,U,n),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,V,n);(p=[]).push(T),p.push(j),p.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var x=new SuperMapAlgoPlot.Point(.75*e+.05*e,.025*e),E=new SuperMapAlgoPlot.Point(.75*e+.05*e,-.025*e),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,x,n),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,E,n);(p=[]).push(_),p.push(B),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var Y=new SuperMapAlgoPlot.Point(.75*e+.0125*e,0),C=new SuperMapAlgoPlot.Point(.75*e+.0125*e,.0125*e),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,Y,n),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,C,n);(p=[]).push(I),p.push(N),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,p,{lineTypeLimit:!0}),this.finish()}}}])&&Bg(e.prototype,o),l&&Bg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Dg(t){"@babel/helpers - typeof";return(Dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zg(t,e){return(zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gg(t);if(e){var n=Gg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gg(t){return(Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34500=Ng;var Wg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fg(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts||t.length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.radian(o,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=new SuperMapAlgoPlot.Point(0,0),i=new SuperMapAlgoPlot.Point(.475*e,0),a=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,r,n),u=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,i,n),p=[];p.push(a),p.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var s=new SuperMapAlgoPlot.Point(.525*e,0),c=new SuperMapAlgoPlot.Point(.725*e,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,s,n),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,c,n);(p=[]).push(P),p.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0});var g=new SuperMapAlgoPlot.Point(.775*e,0),y=new SuperMapAlgoPlot.Point(.95*e,0),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,g,n),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,y,n);if((p=[]).push(h),p.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0}),this.subSymbols.length>0){var b=.2*e,d=new SuperMapAlgoPlot.Point(t[1].x,t[1].y+b/2);this.computeSubSymbol(this.subSymbols[0],d,b,0)}this.finish()}}}])&&kg(e.prototype,o),l&&kg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kg(t){"@babel/helpers - typeof";return(Kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hg(t,e){return(Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zg(t);if(e){var n=Zg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zg(t){return(Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34501=Wg;var Xg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.08,e.scaleValues[1]=.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.08),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.5*e,l=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o,t),r=n.pts,i=n.index,a=(n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o+l,t)).index;if(!(i<0||a<0)){var u,p,s;if(i!=a)u=new SuperMapAlgoPlot.Point(t[i+1].x,t[i+1].y),p=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),(s=SuperMapAlgoPlot.PlottingUtil.distance(u,p))<=2*l?(l=s/2,r.x=(t[i+1].x+t[i].x)/2,r.y=(t[i+1].y+t[i].y)/2):r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[i+1],t[i],l);else if(u=new SuperMapAlgoPlot.Point(t[i+1].x,t[i+1].y),p=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),(s=SuperMapAlgoPlot.PlottingUtil.distance(u,p))<=2*l)l=s/2,r.x=(t[i+1].x+t[i].x)/2,r.y=(t[i+1].y+t[i].y)/2;else u=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),p=new SuperMapAlgoPlot.Point(r.x,r.y),SuperMapAlgoPlot.PlottingUtil.distance(u,p)<l&&(r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[i],t[i],l));var c,P,f,g=[];for(c=0;c<i+1;c++)g.push(t[c]);P=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[i],l),g.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),f=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[i+1],l);var y=[];y.push(f);var h=t.length;for(c=i+1;c<h;++c)y.push(t[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=[],b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l/2,P,f);S.push(P),S.push(b.pntRight),S.push(b.pntLeft);var d=(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,P,r)).pntRight;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{lineTypeLimit:!0,surroundLineLimit:!0});var A,M,m,v,O=t[0].clone(),w=t[1].clone(),L=t[t.length-2].clone(),U=t[t.length-1].clone(),V=e*this.scaleValues[1];M=(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(V,w,O)).pntRight,A=b.pntLeft,v=(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(V,L,U)).pntRight,m=b.pntLeft;var j=[];j.push(M),j.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{lineTypeLimit:!0,surroundLineLimit:!0});var T=[];T.push(v),T.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(d),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var n=.5*l,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,o).pts,i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/l;i>.5&&(i=.5),this.scaleValues[0]=i}}}}])&&qg(e.prototype,o),l&&qg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qg(t){"@babel/helpers - typeof";return(Qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $g(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ty(t,e){return(ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ey(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oy(t);if(e){var n=oy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oy(t){return(oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34700=Xg;var ly=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ty(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ey(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[],o=t[0].clone(),l=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.distance(o,l),r=0;for(r=15;r<=165;r+=4)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,165)&&(r=165,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r)));var i=[];for(r=e.length-1;r>=0;r--)i.push(e[r]);for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),e=[],r=195;r<=345;r+=4)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r));for(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,345)&&(r=345,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r))),i=[],r=e.length-1;r>=0;r--)i.push(e[r]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var a=.8*n;(e=[]).push(new SuperMapAlgoPlot.Point(o.x-a,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x+a,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),(e=[]).push(new SuperMapAlgoPlot.Point(o.x-.4*n,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x-.4*n,o.y+.4*n)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&$g(e.prototype,o),l&&$g(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ny(t){"@babel/helpers - typeof";return(ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ry(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function iy(t,e){return(iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ay(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uy(t);if(e){var n=uy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ny(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uy(t){return(uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34800=ly;var py=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ay(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.4),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[],o=t[0].clone(),l=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.distance(o,l),r=0;for(r=15;r<=165;r+=4)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,165)&&(r=165,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r)));var i=[];for(r=e.length-1;r>=0;r--)i.push(e[r]);for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),e=[],r=195;r<=345;r+=4)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r));for(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,345)&&(r=345,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r))),i=[],r=e.length-1;r>=0;r--)i.push(e[r]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var a=2*this.scaleValues[0]*n;(e=[]).push(new SuperMapAlgoPlot.Point(o.x-a,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x-.4*a,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),(e=[]).push(new SuperMapAlgoPlot.Point(o.x-.2*a,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x+.4*a,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),(e=[]).push(new SuperMapAlgoPlot.Point(o.x+.6*a,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x+a,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),(e=[]).push(new SuperMapAlgoPlot.Point(o.x-this.scaleValues[0]*n,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x-this.scaleValues[0]*n,o.y+this.scaleValues[0]*n)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&ry(e.prototype,o),l&&ry(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sy(t){"@babel/helpers - typeof";return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Py(t,e){return(Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gy(t);if(e){var n=gy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gy(t){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34801=py;var yy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(-1!==SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,o/2).index){if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=.5*l}this.addArrow(e,this.scaleValues[1]);var n=o*this.scaleValues[0],r=new SuperMapAlgoPlot.Point(e[0].x,e[0].y),i=new SuperMapAlgoPlot.Point(e[1].x,e[1].y),a=SuperMapAlgoPlot.PlottingUtil.radian(i,r)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=new SuperMapAlgoPlot.Point(0,.5*n),p=new SuperMapAlgoPlot.Point(n,.5*n),s=new SuperMapAlgoPlot.Point(1.5*n,0),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,p,a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,s,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[e[0],c,P,f],{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}}])&&cy(e.prototype,o),l&&cy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hy(t){"@babel/helpers - typeof";return(hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function by(t,e){return(by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ay(t);if(e){var n=Ay(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ay(t){return(Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34900=yy;var My=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o/2,e);if(l.bfind){var n=l.index,r=l.pts;if(!this.isEdit){var i=this.getDefaultSubSymbolSize()/o;(i>.3||i<=0)&&(i=.3),this.scaleValues[0]=i,this.scaleValues[1]=.5*i}var a,u=o*this.scaleValues[0],p=[];for(p.push(r),a=n;a>=0;a--)p.push(e[a]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,p)).bfind){var s=l.index,c=l.pts,P=[];for(a=p.length-1;a>s;a--)P.push(p[a]);P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=[];for(f.push(r),a=n+1;a<e.length;a++)f.push(e[a]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,f)).bfind){var g=l.index,y=l.pts;for((P=[]).push(y),a=g+1;a<f.length;a++)P.push(f[a]);this.addArrow(P,this.scaleValues[1]);var h=.1*u,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,h,h,0);(P=[]).push(r),P.push(S);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,P,{surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0});var b=e[0].clone(),d=e[1].clone(),A=SuperMapAlgoPlot.PlottingUtil.radian(d,b)*SuperMapAlgoPlot.PlottingUtil.RTOD,M=new SuperMapAlgoPlot.Point(0,.5*u),m=new SuperMapAlgoPlot.Point(u,.5*u),v=new SuperMapAlgoPlot.Point(1.5*u,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,M,A),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,m,A),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,v,A);(P=[]).push(e[0]),P.push(O),P.push(w),P.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}}}}])&&Sy(e.prototype,o),l&&Sy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function my(t){"@babel/helpers - typeof";return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Oy(t,e){return(Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ly(t);if(e){var n=Ly(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===my(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ly(t){return(Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34901=My;var Uy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o/2,e);if(l.bfind){var n=l.index,r=l.pts;if(!this.isEdit){var i=this.getDefaultSubSymbolSize()/o;(i>.3||i<=0)&&(i=.3),this.scaleValues[0]=i,this.scaleValues[1]=.5*i}var a,u=o*this.scaleValues[0],p=[];for(p.push(r),a=n;a>=0;a--)p.push(e[a]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,p)).bfind){var s=l.index,c=l.pts,P=[];for(a=p.length-1;a>s;a--)P.push(p[a]);P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=[];for(f.push(r),a=n+1;a<e.length;a++)f.push(e[a]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,f)).bfind){var g=l.index,y=l.pts;for((P=[]).push(y),a=g+1;a<f.length;a++)P.push(f[a]);this.addArrow(P,this.scaleValues[1]);var h=.1*u,S=c,b=y,d=SuperMapAlgoPlot.PlottingUtil.radian(S,b)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=new SuperMapAlgoPlot.Point((S.x+b.x)/2,(S.y+b.y)/2),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,2*h,2*h,d),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,2*h,2*h,d+180),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,h,h,0);(P=[]).push(M),P.push(v);var O={surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,P,O);var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,h,h,0);(P=[]).push(m),P.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,P,O);var L=e[0].clone(),U=e[1].clone(),V=SuperMapAlgoPlot.PlottingUtil.radian(U,L)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=new SuperMapAlgoPlot.Point(0,.5*u),T=new SuperMapAlgoPlot.Point(u,.5*u),R=new SuperMapAlgoPlot.Point(1.5*u,0),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(L,j,V),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(L,T,V),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(L,R,V);(P=[]).push(e[0]),P.push(x),P.push(E),P.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}}}}])&&vy(e.prototype,o),l&&vy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vy(t){"@babel/helpers - typeof";return(Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ty(t,e){return(Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ry(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xy(t);if(e){var n=xy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xy(t){return(xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34902=Uy;var Ey=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ty(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ry(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.03),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=e[0],r=e[1],i=e[e.length-1],a=e[e.length-2],u=SuperMapAlgoPlot.PlottingUtil.radian(n,r)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=SuperMapAlgoPlot.PlottingUtil.radian(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=this.scaleValues[0],c=o*s,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,c,c,u+90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,c,c,u+270),g=[];g.push(P),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(f);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,c,c,p+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,c,c,p+270);(g=[]).push(y),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineTypeLimit:!0,surroundLineLimit:!0});var S,b,d=t.length;if(this.scaleValues.length<=d){for(this.scaleValues=[],this.scaleValues.push(s),b=1/d,S=0;S<d-1;S++)this.scaleValues.push(b*(S+1));this.scaleValues.push(s)}for(S=0;S<d-1;S++){var A=(b=this.scaleValues[S+1])*o,M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(A,e);if(!M.bfind)return;var m=M.pts,v=M.index,O=o*this.getSubSymbolScaleValue(),w=.3*O,L=SuperMapAlgoPlot.PlottingUtil.radian(e[v],e[v+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,U=new SuperMapAlgoPlot.Point(O,-w),V=new SuperMapAlgoPlot.Point(-O,-w),j=new SuperMapAlgoPlot.Point(-O,0),T=new SuperMapAlgoPlot.Point(O,0),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,U,L),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,V,L),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,j,L),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,T,L);(g=[]).push(R),g.push(x),g.push(E),g.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,{lineTypeLimit:!0,fillLimit:!0,fill:!0,surroundLineLimit:!0}),this.addScalePoint(m)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>=this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var i=(n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]))/r;this.scaleValues[0]=i}else{var a,u=e,p=[];for(a=0;a<l.length;a++)p.push(l[a]);var s=-1,c=0,P=new SuperMapAlgoPlot.Point(0,0);for(a=0;a<p.length-1;a++){var f=[];f.push(p[a]),f.push(p[a+1]);var g=SuperMapAlgoPlot.PlottingUtil.projectPoint(u,p[a],p[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(g,f).isOnPolyLine){var y=SuperMapAlgoPlot.PlottingUtil.distance(u,g);-1==s?(s=a,P=g,c=y):c>y&&(s=a,P=g,c=y)}}if(-1==s||s>p.length-1)return;for(n=0,a=0;a<s;a++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[a],l[a+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[s],P))<0||n>r)return;var h=n/r;this.scaleValues[t]=h}}}}])&&jy(e.prototype,o),l&&jy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _y(t){"@babel/helpers - typeof";return(_y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function By(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Yy(t,e){return(Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Iy(t);if(e){var n=Iy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Iy(t){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35000=Ey;var Ny=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Cy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue()),2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=e*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],o,l,0),this.scalePoints=[];var n=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,l,l,90);this.addScalePoint(n),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l;this.scaleValues[0]=r}}}}])&&By(e.prototype,o),l&&By(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Dy(t){"@babel/helpers - typeof";return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ky(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zy(t,e){return(zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gy(t);if(e){var n=Gy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gy(t){return(Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35200=Ny;var Wy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=0),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=0),!this.isEdit){var e=[];e.push(this.subSymbols[0]),this.scaleValues[0]=this.getSubSymbolScaleValue(),this.subSymbols=[];for(var o=0;o<t.length;o++)this.subSymbols.push(e[0])}var l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],r=[];for(l=0;l<t.length;l++)r.push(t[l]);for(r.push(r[0]),l=0;l<r.length-1;l++){var i=r[l],a=r[l+1],u=SuperMapAlgoPlot.PlottingUtil.radian(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;u+=90;var p=.5*n,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,p,p,u),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c])}this.scalePoints=[];var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],1.2*n,1.2*n,270);for(this.addScalePoint(P),l=0;l<t.length;l++){var f=r[l];2*(l+1)>=this.scaleValues.length&&this.scaleValues.push(0);var g=this.scaleValues[2*(l+1)];2*(l+1)+1>=this.scaleValues.length&&this.scaleValues.push(1);var y=g;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[l],f,n,y);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,1.5*n,1.5*n,y+90);this.addScalePoint(h)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;if(0==t){for(var l=[],n=0;n<o.length;n++)l.push(o[n]);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),i=SuperMapAlgoPlot.PlottingUtil.distance(l[0],e)/1.2;this.scaleValues[0]=i/r}else{var a=o[t-1],u=SuperMapAlgoPlot.PlottingUtil.radian(a,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;0>(u-=90)&&(u+=360),this.scaleValues[2*t]=u}}}},{key:"GetCodeByScaleValue",value:function(t){switch(Math.floor(t)){case 0:return 35300;case 1:return 35301;case 2:return 35302;case 3:return 35303;case 4:return 35400;case 5:return 35401;case 6:return 35402;case 7:return 35403;default:return-1}}}])&&ky(e.prototype,o),l&&ky(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ky(t){"@babel/helpers - typeof";return(Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hy(t,e){return(Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zy(t);if(e){var n=Zy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ky(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zy(t){return(Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35304=Wy;var Xy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1);var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=l*this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,n),u=[],p=[];u.push(t[0]),u.push(i),p.push(a),p.push(t[1]);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.5*n,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.5*n,!0),P=[],f=[];P.push(s[0]),P.push(s[1]),f.push(c[0]),f.push(c[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1});var g=[],y=[],h=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.5*n,!1),S=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.5*n,!1);g.push(h[0]),g.push(h[1]),y.push(S[0]),y.push(S[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1});var b=SuperMapAlgoPlot.PlottingUtil.linePnt(P[1],f[0],.2*n),d=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],P[1],.2*n),A=SuperMapAlgoPlot.PlottingUtil.linePnt(g[1],y[0],.2*n),M=SuperMapAlgoPlot.PlottingUtil.linePnt(y[0],g[1],.2*n),m=[];m.push(b),m.push(d),m.push(M),m.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,m,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var v=SuperMapAlgoPlot.PlottingUtil.linePnt(A,b,1.2*n),O=SuperMapAlgoPlot.PlottingUtil.linePnt(b,A,1.2*n),w=[];w.push(v),w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0});var L=SuperMapAlgoPlot.PlottingUtil.linePnt(M,d,1.2*n),U=SuperMapAlgoPlot.PlottingUtil.linePnt(d,M,1.2*n),V=[];V.push(L),V.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(h[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[0]=2*n/l}}}}])&&qy(e.prototype,o),l&&qy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qy(t){"@babel/helpers - typeof";return(Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $y(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function th(t,e){return(th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oh(t);if(e){var n=oh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oh(t){return(oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35500=Xy;var lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&th(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eh(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&$y(e.prototype,o),l&&$y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nh(t){"@babel/helpers - typeof";return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ih(t,e){return(ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ah(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uh(t);if(e){var n=uh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uh(t){return(uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36400=lh;var ph=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ih(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ah(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.5*e,l=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o,t),r=n.index,i=n.pts,a=(n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o+l,t)).index;if(!(r<0||a<0)){var u;if(r!=a)(u=SuperMapAlgoPlot.PlottingUtil.distance(t[r+1],t[r]))<=2*l?(l=u/2,i.x=(t[r+1].x+t[r].x)/2,i.y=(t[r+1].y+t[r].y)/2):i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[r+1],t[r],l);else if((u=SuperMapAlgoPlot.PlottingUtil.distance(t[r+1],t[r]))<=2*l)l=u/2,i.x=(t[r+1].x+t[r].x)/2,i.y=(t[r+1].y+t[r].y)/2;else SuperMapAlgoPlot.PlottingUtil.distance(t[r],i)<l&&(i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[r],t[r+1],l));var p,s=[];for(p=0;p<r+1;p++)s.push(t[p]);var c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,t[r],.5*l);s.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var P=SuperMapAlgoPlot.PlottingUtil.linePnt(i,t[r+1],.5*l),f=[];f.push(P);var g=t.length;for(p=r+1;p<g;++p)f.push(t[p]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var y=t[0],h=t[1],S=t[t.length-2],b=t[t.length-1],d=.03*e,A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,h,y),M=A.pntRight,m=A.pntLeft,v=(A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,S,b)).pntRight,O=A.pntLeft,w=[];w.push(M),w.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0});var L=[];L.push(v),L.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0});var U=SuperMapAlgoPlot.PlottingUtil.radian(P,c)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,l,U-90),this.scalePoints=[];var V=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,U-90);this.addScalePoint(V),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;if(0==t){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=e,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*l,o).pts,i=SuperMapAlgoPlot.PlottingUtil.distance(n,r)/l;this.scaleValues[0]=i<.5?i:.5}}}}])&&rh(e.prototype,o),l&&rh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sh(t){"@babel/helpers - typeof";return(sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ch(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ph(t,e){return(Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gh(t);if(e){var n=gh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gh(t){return(gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36401=ph;var yh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ph(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(),this.scaleValues[1]=this.getSubSymbolScaleValue());var e,o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),l=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,n=this.scaleValues[0],r=this.scaleValues[1],i=n*o,a=[];for(e=90;e<=270;e+=3)a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],i,i,e+l));for(e=-90;e<=90;e+=3)a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],i,i,e+l));a.push(a[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(a));var u=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),p=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=o*r;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,s,p+90),this.scalePoints=[],this.addScalePoint(a[a.length-1]);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,s,s,p+90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),i=SuperMapAlgoPlot.PlottingUtil.distance(r,e)/l;i>=.8&&(i=.8),this.scaleValues[1]=i}}}}])&&ch(e.prototype,o),l&&ch(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hh(t){"@babel/helpers - typeof";return(hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bh(t,e){return(bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ah(t);if(e){var n=Ah(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ah(t){return(Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36600=yh;var Mh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.04,e.scaleValues[1]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=.04),2===this.scaleValues.length&&this.scaleValues.push(.1),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=l,this.scaleValues[2]=.5*l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,.7*a,i-90);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addStartPtArrow(u,this.scaleValues[2]),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p,this.scaleValues[2])}for(var P=[],f=0;f<e.length;f++)P.push(e[f]);var g=o*this.scaleValues[1],y=SuperMapAlgoPlot.PlottingUtil.paraLine(P,g,!0),h=SuperMapAlgoPlot.PlottingUtil.paraLine(P,g,!1),S=[];for(f=0;f<y.length;f++)S.push(y[f]);var b=[];for(f=0;f<h.length;f++)b.push(h[f]);S=SuperMapAlgoPlot.PlottingUtil.clearSamePts(S),b=SuperMapAlgoPlot.PlottingUtil.clearSamePts(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var d=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(d.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(A,0),this.addScalePoint(h[0],1),this.finish()}}},{key:"addStartPtArrow",value:function(t,e){if(t.length<2)return t;var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints)*e,l=t[0];if(t.length>=2){for(var n=-1,r=0;r<t.length-1;r++)if(o<SuperMapAlgoPlot.PlottingUtil.distance(l,t[r])){n=r;break}t.splice(1,n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var i=t[1],a=t[0],u=o,p=SuperMapAlgoPlot.PlottingUtil.radian(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,p+22.5),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,p-22.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[s,t[0],c],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0)}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(o.length<this.minEditPts)return;if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l);if(-1===r.index)return;var i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.4?i:.4}if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[1]=a/n}}}}])&&Sh(e.prototype,o),l&&Sh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mh(t){"@babel/helpers - typeof";return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Oh(t,e){return(Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Lh(t);if(e){var n=Lh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Lh(t){return(Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36700=Mh;var Uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wh(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var o=.1*e,l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[1],t[0]),n=l.pntRight,r=l.pntLeft,i=(l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[0],t[1])).pntRight,a=l.pntLeft,u=[];u.push(n),u.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0});var p=[];p.push(i),p.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0,surroundLineLimit:!0});var s=[];s.push(n),s.push(a);for(var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s)/11,P=c,f=0,g=0,y=null,h=null,S=0;S<11;S++){if(0==S)f=0,y=n.clone();else{var b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P-c,s);if(!b.bfind)continue;f=b.index,y=b.pts}if(10==S)g=0,h=a.clone();else{if(!(b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,s)).bfind)continue;g=b.index,h=b.pts}if(S%2==0){var d=[];d.push(y);for(var A=f+1;A<=g;A++)d.push(s[A]);d.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0})}P+=c}this.finish()}}}])&&vh(e.prototype,o),l&&vh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vh(t){"@babel/helpers - typeof";return(Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Th(t,e){return(Th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xh(t);if(e){var n=xh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xh(t){return(xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36800=Uh;var Eh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Th(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Rh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[0].x+p[p.length-1].x)/2,(u[0].y+p[p.length-1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],.5*(l-1.2*s)),g=[];g.push(P),g.push.apply(g,u),g.push.apply(g,p),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(g));var y=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,.9*s,y-90),this.scalePoints=[],this.addScalePoint(u[u.length-1]);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,y+90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90),u=new SuperMapAlgoPlot.Point((i.x+a.x)/2,(i.y+a.y)/2),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/l;p>=.8&&(p=.8),this.scaleValues[1]=p}}}}])&&jh(e.prototype,o),l&&jh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _h(t){"@babel/helpers - typeof";return(_h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Yh(t,e){return(Yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ch(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ih(t);if(e){var n=Ih(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ih(t){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37100=Eh;var Nh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol27100);var e,o,l,n=Ch(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,o&&Bh(e.prototype,o),l&&Bh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Dh(t){"@babel/helpers - typeof";return(Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zh(t,e){return(zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gh(t);if(e){var n=Gh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gh(t){return(Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37200=Nh;var Wh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.125,e.scaleValues[1]=.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[1],t[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],.35*e),n=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,.05*e,.05*e,o+270);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[n,l],{fill:!1,fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var r=this.scaleValues[0],i=this.scaleValues[1],a=new SuperMapAlgoPlot.Point(r*e,i*e),u=new SuperMapAlgoPlot.Point(r*e,-i*e),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[1],a,o),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[1],u,o),c=[];c.push(p),c.push(s),c.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var P=SuperMapAlgoPlot.PlottingUtil.findPoint(t[1],t[0],r*e,0);t[1]=P,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t),this.scalePoints=[],this.addScalePoint(s),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[1],o[0]),r=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1]);90>SuperMapAlgoPlot.PlottingUtil.radian(o[1],n)*SuperMapAlgoPlot.PlottingUtil.RTOD&&(r=-r);var i=r/l;this.scaleValues[0]=i;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l;this.scaleValues[1]=a}}}}])&&kh(e.prototype,o),l&&kh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kh(t){"@babel/helpers - typeof";return(Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hh(t,e){return(Hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zh(t);if(e){var n=Zh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zh(t){return(Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37300=Wh;var Xh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.125,e.scaleValues[1]=.02,e.scaleValues[2]=.25,e.scaleValues[3]=.8),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<4&&(this.scaleValues=[],this.scaleValues[0]=.125,this.scaleValues[1]=.02,this.scaleValues[2]=.25,this.scaleValues[3]=.8),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[1],t[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=this.scaleValues[3],a=new SuperMapAlgoPlot.Point(l*e,n*e),u=new SuperMapAlgoPlot.Point(l*e,-n*e),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[1],a,o),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[1],u,o),c=[];c.push(p),c.push(s),c.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*e,t);if(P.bfind){var f=.05*e,g=P.pts,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,f,f,o+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,f,f,o+270);if((c=[]).push(y),c.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{lineTypeLimit:!0,surroundLineLimit:!0}),(P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i*e,t)).bfind){var S=P.pts,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,f,f,o+90),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,f,f,o+270);(c=[]).push(b),c.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{lineTypeLimit:!0,surroundLineLimit:!0});var A=SuperMapAlgoPlot.PlottingUtil.findPoint(t[1],t[0],l*e,0);t[1]=A,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t),this.scalePoints=[],this.addScalePoint(s),this.addScalePoint(g),this.addScalePoint(S),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[1],o[0]),r=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1]);90>SuperMapAlgoPlot.PlottingUtil.radian(o[1],n)*SuperMapAlgoPlot.PlottingUtil.RTOD&&(r=-r);var i=r/l;this.scaleValues[0]=i;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l;this.scaleValues[1]=a}else if(1==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(.1>u||u>.95)return;this.scaleValues[2]=u}else if(2==t){var p=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(.1>p||p>.95)return;this.scaleValues[3]=p}}}}])&&qh(e.prototype,o),l&&qh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qh(t){"@babel/helpers - typeof";return(Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $h(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tS(t,e){return(tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oS(t);if(e){var n=oS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oS(t){return(oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37301=Xh;var lS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.15||n<=0)&&(n=.15),this.scaleValues[0]=n}var r=l*this.scaleValues[2],i=l*this.scaleValues[3],a=new SuperMapAlgoPlot.Point(o.x+r,o.y+i),u=l*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.scalePoints=[];var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,180);this.addScalePoint(p),this.addScalePoint(a),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&$h(e.prototype,o),l&&$h(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nS(t){"@babel/helpers - typeof";return(nS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function iS(t,e){return(iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function aS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uS(t);if(e){var n=uS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uS(t){return(uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37600=lS;var pS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=aS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),n=o*this.scaleValues[2],r=o*this.scaleValues[3],i=new SuperMapAlgoPlot.Point(l.x+n,l.y+r);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/o;(a>.3||a<=0)&&(a=.3),this.scaleValues[0]=a}var u=o*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,u,90),this.scalePoints=[];var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,u,u,180);this.addScalePoint(p),this.addScalePoint(i),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&rS(e.prototype,o),l&&rS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sS(t){"@babel/helpers - typeof";return(sS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function PS(t,e){return(PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gS(t);if(e){var n=gS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gS(t){return(gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37601=pS;var yS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,l,n=fS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0),this.addScalePoint(p);var s=u,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,90);this.addScalePoint(c),this.finish()}}}])&&cS(e.prototype,o),l&&cS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hS(t){"@babel/helpers - typeof";return(hS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bS(t,e){return(bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=AS(t);if(e){var n=AS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function AS(t){return(AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37700=yS;var MS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.04,e.scaleValues[2]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=.04),2===this.scaleValues.length&&this.scaleValues.push(.1),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=l,this.scaleValues[2]=.5*l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,a,i-90);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p,this.scaleValues[2])}for(var P=[],f=0;f<e.length;f++)P.push(e[f]);var g=o*this.scaleValues[1],y=SuperMapAlgoPlot.PlottingUtil.paraLine(P,g,!0),h=SuperMapAlgoPlot.PlottingUtil.paraLine(P,g,!1),S=[];for(f=0;f<y.length;f++)S.push(y[f]);var b=[];for(f=0;f<h.length;f++)b.push(h[f]);S=SuperMapAlgoPlot.PlottingUtil.clearSamePts(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),b=SuperMapAlgoPlot.PlottingUtil.clearSamePts(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var d=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(d.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(A,0),this.addScalePoint(h[0],1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(o.length<this.minEditPts)return;if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l);if(-1===r.index)return;var i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[1]=a/n}}}}])&&SS(e.prototype,o),l&&SS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mS(t){"@babel/helpers - typeof";return(mS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function OS(t,e){return(OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=LS(t);if(e){var n=LS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function LS(t){return(LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol38600=MS;var US=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=Math.PI/4,e.scaleValues[1]=Math.PI/4,e.scaleValues[2]=.3,e.scaleValues[3]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<4&&(this.scaleValues=[],this.scaleValues[0]=Math.PI/4,this.scaleValues[1]=Math.PI/4,this.scaleValues[2]=.3,this.scaleValues[3]=.1);var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD;if(!this.isEdit){var r=this.getDefaultSubSymbolSize()/l;(r>.3||r<=0)&&(r=.3),this.scaleValues[2]=r}var i=this.scaleValues[0],a=this.scaleValues[1],u=this.scaleValues[2],p=this.scaleValues[3],s=i*SuperMapAlgoPlot.PlottingUtil.RTOD,c=n-s,P=n+s,f=this.GetArcPts(c,P,e,l);if(!(2>f.length)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=l*u,y=n-90,h=l*p,S=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,h),b=SuperMapAlgoPlot.PlottingUtil.radian(S,o)*SuperMapAlgoPlot.PlottingUtil.RTOD-30,d=SuperMapAlgoPlot.PlottingUtil.distance(S,o),A=0,M=t[0].clone(),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,d,d,b),v=null;if(this.subSymbols.length>0&&null!=(v=this.computeSubSymbol(this.subSymbols[0],S,g,y,0,-.5)))for(var O=0;O<v.length;O++)if(!(2>v[O].positionPoints))for(var w=0;w<v[O].positionPoints.length-1;w++){var L=v[O].positionPoints[w],U=v[O].positionPoints[w+1],V=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(S,m,L,U,V)&&(0==A?M=V:SuperMapAlgoPlot.PlottingUtil.distance(S,V)>SuperMapAlgoPlot.PlottingUtil.distance(S,M)&&(M=V),A++)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[M,m],{lineTypeLimit:!0,surroundLineLimit:!0});var j=SuperMapAlgoPlot.PlottingUtil.radian(m,M)*SuperMapAlgoPlot.PlottingUtil.RTOD,T=SuperMapAlgoPlot.PlottingUtil.distance(M,m),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,.1*T,.1*T,j-15),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,.1*T,.1*T,j+15),E=[];E.push(m),E.push(R),E.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,E,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var _=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,l,l,P);this.addScalePoint(_);var B=SuperMapAlgoPlot.PlottingUtil.linePnt(S,o,l*u);if(this.addScalePoint(B),this.addScalePoint(S),3==t.length){var Y=t[2],C=SuperMapAlgoPlot.PlottingUtil.distance(e,Y),I=a*SuperMapAlgoPlot.PlottingUtil.RTOD,N=n-I,D=n+I,k=this.GetArcPts(N,D,e,C);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,k);var z=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,C,C,D);this.addScalePoint(z);var F=m,G=SuperMapAlgoPlot.PlottingUtil.distance(e,Y)-l,W=SuperMapAlgoPlot.PlottingUtil.circlePoint(F,G,G,b);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[F,W],{lineTypeLimit:!0,surroundLineLimit:!0});var K=SuperMapAlgoPlot.PlottingUtil.circlePoint(W,.1*G,.1*G,j-15),q=SuperMapAlgoPlot.PlottingUtil.circlePoint(W,.1*G,.1*G,j+15),H=[];H.push(W),H.push(K),H.push(q),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,H,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>3)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=e,n=o[0],r=o[1],i=SuperMapAlgoPlot.PlottingUtil.distance(n,r),a=SuperMapAlgoPlot.PlottingUtil.radian(n,r);if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.radian(n,l),p=Math.abs(u-a);this.scaleValues[0]=p}else if(1==t){var s=i*this.scaleValues[3],c=SuperMapAlgoPlot.PlottingUtil.linePnt(n,r,s),P=SuperMapAlgoPlot.PlottingUtil.distance(l,c)/i;this.scaleValues[2]=P}else if(2==t){var f=SuperMapAlgoPlot.PlottingUtil.distance(l,n)/i;if(f>=1)return;this.scaleValues[3]=f}else if(3==t){var g=SuperMapAlgoPlot.PlottingUtil.radian(n,l),y=Math.abs(g-a);this.scaleValues[1]=y}}}},{key:"GetArcPts",value:function(t,e,o,l){var n,r=[],i=0;for(i=e;i>=t;i-=4)n=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,l,l,i),r.push(n);return i!=t&&(n=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,l,l,t),r.push(n)),r}}])&&vS(e.prototype,o),l&&vS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function VS(t){"@babel/helpers - typeof";return(VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function TS(t,e){return(TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function RS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xS(t);if(e){var n=xS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===VS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xS(t){return(xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol38700=US;var ES=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=RS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.08),e.scaleValues.push(.05),e.scaleValues.push(-.08),e.scaleValues.push(-.08),e.scaleValues.push(.05),e.scaleValues.push(.08),e.scaleValues.push(-.08)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(.08),this.scaleValues.push(.05),this.scaleValues.push(-.08),this.scaleValues.push(-.08),this.scaleValues.push(.05),this.scaleValues.push(.08),this.scaleValues.push(-.08));var e=this.scaleValues[1],o=this.scaleValues[2],l=this.scaleValues[4],n=this.scaleValues[5],r=this.scaleValues[7],i=this.scaleValues[8],a=[];if(a=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),a=SuperMapAlgoPlot.PlottingUtil.clearSamePts(a),!(this.minEditPts>a.length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a);var u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var s=this.getSubSymbolScaleValue()*p;this.scaleValues[0]=s/p,this.scaleValues[3]=s/p,this.scaleValues[6]=s/p}var c=new SuperMapAlgoPlot.Point(u.x+p*e,u.y+p*o),P=new SuperMapAlgoPlot.Point(u.x+p*l,u.y+p*n),f=new SuperMapAlgoPlot.Point(u.x+p*r,u.y+p*i),g=p*this.scaleValues[0],y=p*this.scaleValues[3],h=p*this.scaleValues[6];this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,1.5*g,0),this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],P,1.5*y,0),this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[2],f,1.5*h,0),this.addScalePoint(c);var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,g,g,180);this.addScalePoint(S),this.addScalePoint(P);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,y,y,180);this.addScalePoint(b),this.addScalePoint(f);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,h,h,180);this.addScalePoint(d),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;0===this.scaleValues.length&&(this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(.08),this.scaleValues.push(.05),this.scaleValues.push(-.08),this.scaleValues.push(-.08),this.scaleValues.push(.05),this.scaleValues.push(.08),this.scaleValues.push(-.08));var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=this.scaleValues[3],a=this.scaleValues[4],u=this.scaleValues[5],p=this.scaleValues[6],s=this.scaleValues[7],c=this.scaleValues[8],P=[];if(P=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),P=SuperMapAlgoPlot.PlottingUtil.clearSamePts(P),this.minEditPts>P.length)return;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,P);var f=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-f.x)/g,this.scaleValues[1]=n,r=(e.y-f.y)/g,this.scaleValues[2]=r;else if(1===t){n=this.scaleValues[1],r=this.scaleValues[2];var y=new SuperMapAlgoPlot.Point(f.x+g*n,f.y+g*r);l=SuperMapAlgoPlot.PlottingUtil.distance(y,e)/g,this.scaleValues[0]=l}if(2===t)a=(e.x-f.x)/g,this.scaleValues[4]=a,u=(e.y-f.y)/g,this.scaleValues[5]=u;else if(3===t){a=this.scaleValues[4],u=this.scaleValues[5];var h=new SuperMapAlgoPlot.Point(f.x+g*a,f.y+g*u);i=SuperMapAlgoPlot.PlottingUtil.distance(h,e)/g,this.scaleValues[3]=i}if(4===t)s=(e.x-f.x)/g,this.scaleValues[7]=s,c=(e.y-f.y)/g,this.scaleValues[8]=c;else if(5===t){s=this.scaleValues[7],c=this.scaleValues[8];var S=new SuperMapAlgoPlot.Point(f.x+g*s,f.y+g*c);p=SuperMapAlgoPlot.PlottingUtil.distance(S,e)/g,this.scaleValues[6]=p}}}}])&&jS(e.prototype,o),l&&jS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _S(t){"@babel/helpers - typeof";return(_S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function YS(t,e){return(YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=IS(t);if(e){var n=IS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function IS(t){return(IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39000=ES;var NS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=CS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.1||n<=0)&&(n=.1),this.scaleValues[0]=n}var r=o*this.scaleValues[2],i=o*this.scaleValues[3],a=new SuperMapAlgoPlot.Point(l.x+r,l.y+i),u=o*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.scalePoints=[];var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,180);this.addScalePoint(p),this.addScalePoint(a),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=[];if(l=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&BS(e.prototype,o),l&&BS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function DS(t){"@babel/helpers - typeof";return(DS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zS(t,e){return(zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function FS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=GS(t);if(e){var n=GS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===DS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function GS(t){return(GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39101=NS;var WS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=FS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.08),e.scaleValues.push(.181818),e.scaleValues.push(.285714),e.scaleValues.push(.285714)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.08),this.scaleValues.push(.181818),this.scaleValues.push(.285714),this.scaleValues.push(.285714));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(r),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(i);for(var b=[],d=0;d<S.length;d++){var A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[d],h);b.push(A)}for(var M=[],m=b.length-1;m>=0;--m)M.push(b[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=t[0],O=t[0],w=t[1],L=SuperMapAlgoPlot.PlottingUtil.radian(O,w)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,U=.2*l;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],v,U,L),this.scalePoints=[],this.addScalePoint(b[0]),this.addScalePoint(b[1]),this.addScalePoint(b[2]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&kS(e.prototype,o),l&&kS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KS(t){"@babel/helpers - typeof";return(KS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function HS(t,e){return(HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function JS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZS(t);if(e){var n=ZS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZS(t){return(ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39500=WS;var XS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol38600);var e,o,l,n=JS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.03,e.scaleValues[1]=.05),e}return e=r,o&&qS(e.prototype,o),l&&qS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function QS(t){"@babel/helpers - typeof";return(QS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $S(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tb(t,e){return(tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ob(t);if(e){var n=ob(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===QS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ob(t){return(ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39600=XS;var lb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eb(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var l=0;l<o.scalePoints.length;l++)this.addScalePoint(o.scalePoints[l]);e=o.beizerPoints}if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),!(e.length<=0)){this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(.5*this.getSubSymbolScaleValue()));var n=0;t.length>2&&(n=t.length-1);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)*this.scaleValues[4*n],a=r*this.scaleValues[4*n+1]/1.667,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,e);if(u.bfind){var p=u.index,s=u.pts,c=3.6*a,P=i-c,f=i+c;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var g,y=u.pts,h=[];if(0==(p=u.index))h.push(e[0]);else for(g=0;g<p;g++)h.push(e[g]);if(h.push(y),(u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var S=u.pts;p=u.index;var b=[];for(b.push(S),g=p+1;g<e.length;g++)b.push(e[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var d=SuperMapAlgoPlot.PlottingUtil.radian(y,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=SuperMapAlgoPlot.PlottingUtil.distance(y,S),M=new SuperMapAlgoPlot.Point((y.x+S.x)/2,(y.y+S.y)/2);if(this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],M,A,d),!(h.length<2)){var m=h[0],v=h[1],O=SuperMapAlgoPlot.PlottingUtil.radian(m,v)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,a,a,O+90),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,a,a,O+270),U=[];if(U.push(w),U.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0}),!(b.length<2)){var V=b[b.length-1],j=b[b.length-2],T=SuperMapAlgoPlot.PlottingUtil.radian(V,j)*SuperMapAlgoPlot.PlottingUtil.RTOD,R=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,a,a,T+90),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,a,a,T+270);(U=[]).push(R),U.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0});var E=SuperMapAlgoPlot.PlottingUtil.paraLine(e,a,!1),_=SuperMapAlgoPlot.PlottingUtil.polylineDistance(E)/11,B=_;for(g=0;g<11;g++)if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(B-_,E)).bfind){var Y=u.index,C=u.pts;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(B,E)).bfind){var I=u.pts,N=u.index;if(g%2==0){var D=[];D.push(C);for(var k=Y+1;k<=N;k++)D.push(E[k]);D.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D,{surroundLineLimit:!0,lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1})}B+=_}}this.addScalePoint(s),this.addScalePoint(w),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var i,a=e,u=[];for(i=0;i<l.length;i++)u.push(l[i]);var p,s=-1,c=0;for(i=0;i<u.length-1;i++){var P=[];P.push(u[i]),P.push(u[i+1]);var f=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,u[i],u[i+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,P).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,f);-1==s?(s=i,p=f,c=g):c>g&&(s=i,p=f,c=g)}}if(-1==s||s>u.length-1)return;var y=0;for(i=0;i<s;i++){var h=l[i],S=l[i+1];y+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[s];if((y+=SuperMapAlgoPlot.PlottingUtil.distance(b,p))<0||y>r)return;var d=y/r;if(d>.8||d<.2)return;2==o.length?this.scaleValues[0]=d:this.scaleValues[2*t]=d}else if(2*o.length-1==t||2==o.length&&1==t){var A=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;2==o.length?this.scaleValues[1]=A:this.scaleValues[2*t-1]=A}else{var M=-1;M=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var m=(e.x-o[M].x)/n,v=(e.y-o[M].y)/n;this.scaleValues[2*t]=m,this.scaleValues[2*t+1]=v}}}}])&&$S(e.prototype,o),l&&$S(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nb(t){"@babel/helpers - typeof";return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ib(t,e){return(ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ab(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ub(t);if(e){var n=ub(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ub(t){return(ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39800=lb;var pb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ab(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var l=0;l<o.scalePoints.length;l++)this.addScalePoint(o.scalePoints[l]);e=o.beizerPoints}if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),!(e.length<=0)){this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(.5*this.getSubSymbolScaleValue()));var n=0;t.length>2&&(n=t.length-1);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)*this.scaleValues[4*n],a=r*this.scaleValues[4*n+1]/1.667,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,e);if(u.bfind){var p=u.index,s=u.pts,c=3*a,P=i-c,f=i+c;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var g,y=u.pts,h=[];if(0==(p=u.index))h.push(e[0]);else for(g=0;g<p;g++)h.push(e[g]);if(h.push(y),(u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var S=u.pts;p=u.index;var b=[];for(b.push(S),g=p+1;g<e.length;g++)b.push(e[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var d=SuperMapAlgoPlot.PlottingUtil.radian(y,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=SuperMapAlgoPlot.PlottingUtil.distance(y,S),M=new SuperMapAlgoPlot.Point((y.x+S.x)/2,(y.y+S.y)/2);if(this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],M,A,d),!(h.length<2)){var m=h[0],v=h[1],O=SuperMapAlgoPlot.PlottingUtil.radian(m,v)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,a,a,O+90),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,a,a,O+270),U=[];if(U.push(w),U.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0}),!(b.length<2)){var V=b[b.length-1],j=b[b.length-2],T=SuperMapAlgoPlot.PlottingUtil.radian(V,j)*SuperMapAlgoPlot.PlottingUtil.RTOD,R=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,a,a,T+90),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,a,a,T+270);(U=[]).push(R),U.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(s),this.addScalePoint(w),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var i,a=e,u=[];for(i=0;i<l.length;i++)u.push(l[i]);var p,s=-1,c=0;for(i=0;i<u.length-1;i++){var P=[];P.push(u[i]),P.push(u[i+1]);var f=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,u[i],u[i+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,P).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,f);-1==s?(s=i,p=f,c=g):c>g&&(s=i,p=f,c=g)}}if(-1==s||s>u.length-1)return;var y=0;for(i=0;i<s;i++){var h=l[i],S=l[i+1];y+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[s];if((y+=SuperMapAlgoPlot.PlottingUtil.distance(b,p))<0||y>r)return;var d=y/r;if(d>.8||d<.2)return;2==o.length?this.scaleValues[0]=d:this.scaleValues[2*t]=d}else if(2*o.length-1==t||2==o.length&&1==t){var A=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;2==o.length?this.scaleValues[1]=A:this.scaleValues[2*t-1]=A}else{var M=-1;M=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var m=(e.x-o[M].x)/n,v=(e.y-o[M].y)/n;this.scaleValues[2*t]=m,this.scaleValues[2*t+1]=v}}}}])&&rb(e.prototype,o),l&&rb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sb(t){"@babel/helpers - typeof";return(sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pb(t,e){return(Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gb(t);if(e){var n=gb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gb(t){return(gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39801=pb;var yb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fb(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var l=0;l<o.scalePoints.length;l++)this.addScalePoint(o.scalePoints[l]);e=o.beizerPoints}if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),!(e.length<=0)){this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(.5*this.getSubSymbolScaleValue()));var n=0;t.length>2&&(n=t.length-1);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)*this.scaleValues[4*n],a=r*this.scaleValues[4*n+1]/1.667,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,e);if(u.bfind){var p=u.index,s=u.pts,c=3*a,P=i-c,f=i+c;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var g,y=u.pts,h=[];if(0==(p=u.index))h.push(e[0]);else for(g=0;g<p;g++)h.push(e[g]);if(h.push(y),(u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var S=u.pts;p=u.index;var b=[];for(b.push(S),g=p+1;g<e.length;g++)b.push(e[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var d=SuperMapAlgoPlot.PlottingUtil.radian(y,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=SuperMapAlgoPlot.PlottingUtil.distance(y,S),M=new SuperMapAlgoPlot.Point((y.x+S.x)/2,(y.y+S.y)/2);if(this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],M,A,d),!(h.length<2)){var m=h[0],v=h[1],O=SuperMapAlgoPlot.PlottingUtil.radian(m,v)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,a,a,O+90),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,a,a,O+270),U=[];if(U.push(w),U.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0}),!(b.length<2)){var V=b[b.length-1],j=b[b.length-2],T=SuperMapAlgoPlot.PlottingUtil.radian(V,j)*SuperMapAlgoPlot.PlottingUtil.RTOD,R=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,a,a,T+90),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,a,a,T+270);(U=[]).push(R),U.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0});var E=SuperMapAlgoPlot.PlottingUtil.paraLine(e,a,!1),_=SuperMapAlgoPlot.PlottingUtil.polylineDistance(E)/11,B=_;for(g=0;g<11;g++)if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(B-_,E)).bfind){var Y=u.index,C=u.pts;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(B,E)).bfind){var I=u.pts,N=u.index;if(g%2==0){var D=[];D.push(C);for(var k=Y+1;k<=N;k++)D.push(E[k]);D.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D,{surroundLineLimit:!0,lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1})}B+=_}}var z;z=SuperMapAlgoPlot.PlottingUtil.paraLine(e,3.5*a,!1),SuperMapAlgoPlot.PlottingUtil.clearSamePts(z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,z);var F;F=SuperMapAlgoPlot.PlottingUtil.paraLine(e,3.5*a,!0),SuperMapAlgoPlot.PlottingUtil.clearSamePts(F),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,F),this.addScalePoint(s),this.addScalePoint(w),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var i,a=e,u=[];for(i=0;i<l.length;i++)u.push(l[i]);var p,s=-1,c=0;for(i=0;i<u.length-1;i++){var P=[];P.push(u[i]),P.push(u[i+1]);var f=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,u[i],u[i+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,P).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,f);-1==s?(s=i,p=f,c=g):c>g&&(s=i,p=f,c=g)}}if(-1==s||s>u.length-1)return;var y=0;for(i=0;i<s;i++){var h=l[i],S=l[i+1];y+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[s];if((y+=SuperMapAlgoPlot.PlottingUtil.distance(b,p))<0||y>r)return;var d=y/r;if(d>.8||d<.2)return;2==o.length?this.scaleValues[0]=d:this.scaleValues[2*t]=d}else if(2*o.length-1==t||2==o.length&&1==t){var A=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;2==o.length?this.scaleValues[1]=A:this.scaleValues[2*t-1]=A}else{var M=-1;M=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var m=(e.x-o[M].x)/n,v=(e.y-o[M].y)/n;this.scaleValues[2*t]=m,this.scaleValues[2*t+1]=v}}}}])&&cb(e.prototype,o),l&&cb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hb(t){"@babel/helpers - typeof";return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bb(t,e){return(bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function db(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ab(t);if(e){var n=Ab(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ab(t){return(Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39802=yb;var Mb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=db(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var l=0;l<o.scalePoints.length;l++)this.addScalePoint(o.scalePoints[l]);e=o.beizerPoints}if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),!(e.length<=0)){this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(.5*this.getSubSymbolScaleValue()));var n=0;t.length>2&&(n=t.length-1);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)*this.scaleValues[4*n],a=r*this.scaleValues[4*n+1]/1.667,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,e);if(u.bfind){var p=u.index,s=u.pts,c=3.6*a,P=i-c,f=i+c;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var g,y=u.pts,h=[];if(0==(p=u.index))h.push(e[0]);else for(g=0;g<p;g++)h.push(e[g]);if(h.push(y),(u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var S=u.pts;p=u.index;var b=[];for(b.push(S),g=p+1;g<e.length;g++)b.push(e[g]);var d={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1};if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,d),!(h.length<2)){var A=h[0],M=h[1],m=SuperMapAlgoPlot.PlottingUtil.radian(A,M)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,a,a,m+90),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,a,a,m+270),w={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,lineTypeLimit:!0,surroundLineLimit:!0},L=[];if(L.push(v),L.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,w),!(b.length<2)){var U=b[b.length-1],V=b[b.length-2],j=SuperMapAlgoPlot.PlottingUtil.radian(U,V)*SuperMapAlgoPlot.PlottingUtil.RTOD,T=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,a,a,j+90),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,a,a,j+270);(L=[]).push(T),L.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,w);var x=SuperMapAlgoPlot.PlottingUtil.radian(y,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,E=SuperMapAlgoPlot.PlottingUtil.distance(y,S),_=new SuperMapAlgoPlot.Point((y.x+S.x)/2,(y.y+S.y)/2);if(this.subSymbols.length>0){var B=this.computeSubSymbol(this.subSymbols[0],_,E,x);if(null!=B)for(var Y=0;Y<B.length;Y++)B[Y].style.lineColorLimit=!0,B[Y].style.strokeColor="#0000ff",B[Y].style.color="#0000ff"}var C=SuperMapAlgoPlot.PlottingUtil.findPointInLine(y,S,.4*E),I=SuperMapAlgoPlot.PlottingUtil.circlePoint(C,.75*E,.75*E,x+135),N=SuperMapAlgoPlot.PlottingUtil.circlePoint(C,.75*E,.75*E,x+315),D=SuperMapAlgoPlot.PlottingUtil.distance(I,N);(L=[]).push(I),L.push(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0});var k=SuperMapAlgoPlot.PlottingUtil.findPointInLine(I,N,1.2*D),z=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.08*D,I,N);(L=[]).push(k),L.push(z.pntLeft),L.push(z.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(s),this.addScalePoint(v),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var i,a=e,u=[];for(i=0;i<l.length;i++)u.push(l[i]);var p,s=-1,c=0;for(i=0;i<u.length-1;i++){var P=[];P.push(u[i]),P.push(u[i+1]);var f=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,u[i],u[i+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,P).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,f);-1==s?(s=i,p=f,c=g):c>g&&(s=i,p=f,c=g)}}if(-1==s||s>u.length-1)return;var y=0;for(i=0;i<s;i++){var h=l[i],S=l[i+1];y+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[s];if((y+=SuperMapAlgoPlot.PlottingUtil.distance(b,p))<0||y>r)return;var d=y/r;if(d>.8||d<.2)return;2==o.length?this.scaleValues[0]=d:this.scaleValues[2*t]=d}else if(2*o.length-1==t||2==o.length&&1==t){var A=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;2==o.length?this.scaleValues[1]=A:this.scaleValues[2*t-1]=A}else{var M=-1;M=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var m=(e.x-o[M].x)/n,v=(e.y-o[M].y)/n;this.scaleValues[2*t]=m,this.scaleValues[2*t+1]=v}}}}])&&Sb(e.prototype,o),l&&Sb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mb(t){"@babel/helpers - typeof";return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ob(t,e){return(Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Lb(t);if(e){var n=Lb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Lb(t){return(Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40000=Mb;var Ub=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ob(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.4*n}var r=o*this.scaleValues[0],i=o*this.scaleValues[2],a=o*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(l.x+i,l.y+a),p=.6*r,s=new SuperMapAlgoPlot.Point(u.x+r,u.y),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,0),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,180),f=[];f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,270);(f=[]).push(g),f.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var h=new SuperMapAlgoPlot.Point(u.x-r,u.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,.5*r,.5*r,270),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,r,r,240),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,r,r,90),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,r,r,300);(f=[]).push(S),f.push(b),f.push(d),f.push(A),f.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var M=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,r,r,0);this.addScalePoint(M),this.addScalePoint(u),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&vb(e.prototype,o),l&&vb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vb(t){"@babel/helpers - typeof";return(Vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tb(t,e){return(Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xb(t);if(e){var n=xb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xb(t){return(xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40100=Ub;var Eb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Rb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.2*n}var r=o*this.scaleValues[0],i=o*this.scaleValues[2],a=o*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(l.x+i,l.y+a),p=[];p.push(u),p.push(new SuperMapAlgoPlot.Point(u.x+r,u.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,p,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});for(var s=18*r,c=new SuperMapAlgoPlot.Point(u.x+s,u.y),P=[],f=135;f<180;f+=3)P.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,f));P.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,180)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,r,r,0);this.addScalePoint(g),this.addScalePoint(u),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&jb(e.prototype,o),l&&jb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _b(t){"@babel/helpers - typeof";return(_b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Yb(t,e){return(Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ib(t);if(e){var n=Ib(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ib(t){return(Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40101=Eb;var Nb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Cb(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(t.length<3)e.push(t[0]),e.push(t[1]);else{var l=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=l.scaleValues;for(var n=0;n<l.scalePoints.length;n++)this.addScalePoint(l.scalePoints[n]);e=l.beizerPoints}SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(this.getSubSymbolScaleValue())),!(e.length<=0)){var i;i=2==t.length?0:t.length-1;var a=r*this.scaleValues[4*i],u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.index,s=u.pts,c=o*this.scaleValues[4*i+1],P=a-c,f=a+c;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var g,y=u.pts,h=[];if(0==(p=u.index))h.push(e[0]);else for(g=0;g<p;g++)h.push(e[g]);if(h.push(y),(u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var S=u.pts;p=u.index;var b=[];for(b.push(S),g=p+1;g<e.length;g++)b.push(e[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[s,S],{lineTypeLimit:!0,surroundLineLimit:!0});var d=o*this.scaleValues[4*i+1]/1.667;if(!(h.length<2)){var A=h[0],M=h[1],m=SuperMapAlgoPlot.PlottingUtil.radian(A,M)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,d,d,m+90),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,d,d,m+270),w=[];if(w.push(v),w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0}),!(b.length<2)){var L=b[b.length-1],U=b[b.length-2],V=SuperMapAlgoPlot.PlottingUtil.radian(L,U)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,d,d,V+90),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,d,d,V+270);(w=[]).push(j),w.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(s),this.addScalePoint(v),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var i,a=e,u=[];for(i=0;i<l.length;i++)u.push(l[i]);var p,s=-1,c=0;for(i=0;i<u.length-1;i++){var P=[];P.push(u[i]),P.push(u[i+1]);var f=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,u[i],u[i+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,P).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,f);-1==s?(s=i,p=f,c=g):c>g&&(s=i,p=f,c=g)}}if(-1==s||s>u.length-1)return;var y=0;for(i=0;i<s;i++){var h=l[i],S=l[i+1];y+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[s];if((y+=SuperMapAlgoPlot.PlottingUtil.distance(b,p))<0||y>r)return;var d=y/r;if(d>.8||d<.2)return;2==o.length?this.scaleValues[0]=d:this.scaleValues[2*t]=d}else if(2*o.length-1==t||2==o.length&&1==t){var A=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;2==o.length?this.scaleValues[1]=A:this.scaleValues[2*t-1]=A}else{var M=-1;M=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var m=(e.x-o[M].x)/n,v=(e.y-o[M].y)/n;this.scaleValues[2*t]=m,this.scaleValues[2*t+1]=v}}}}])&&Bb(e.prototype,o),l&&Bb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Db(t){"@babel/helpers - typeof";return(Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zb(t,e){return(zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gb(t);if(e){var n=Gb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Db(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gb(t){return(Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40900=Nb;var Wb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.5),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&this.scaleValues.push(.5);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=e/o/2,n=.1*e;this.isEdit||(this.scaleValues[0]=l);var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]-.4*e,t);if(r.bfind){var i=r.pts,a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]+.4*e,t);if(a.bfind){var u=a.pts,p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]-.3*e,t);if(p.bfind){var s=p.pts,c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]+.3*e,t);if(c.bfind){var P=c.pts,f=0,g=0,y=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(i,t);y.isOnPolyLine&&(f=y.index);var h=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,t);h.isOnPolyLine&&(g=h.index);var S=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],t);if(S.bfind){var b=S.pts,d=[];if(d.push(s),f!==g)for(var A=f+1;A<=g;A++)d.push(t[A]);d.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(d));for(var M=[],m=0;m<=r.index;m++)M.push(t[m]);M.push(i),M=SuperMapAlgoPlot.PlottingUtil.inverse(M);var v=[];if(a.index<=t.length){v.push(u);for(var O=a.index+1;O<=t.length-1;O++)v.push(t[O])}v=SuperMapAlgoPlot.PlottingUtil.inverse(v);for(var w=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(b,d),L=0,U=0;U<w.index;U++)L+=SuperMapAlgoPlot.PlottingUtil.distance(d[U],d[U+1]);L+=SuperMapAlgoPlot.PlottingUtil.distance(b,d[w.index]);var V=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(L-.1,d);if(V.bfind){var j=V.pts,T=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.42*e,j,b),R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.48*e,j,b),x=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.6*e,j,b),E=T.pntLeft,_=R.pntLeft,B=x.pntLeft;this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b,E]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[_,B]);var Y=SuperMapAlgoPlot.PlottingUtil.polylineDistance([_,B]),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*Y,_,B).pntRight;if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[B,C]),t.length>this.minEditPts){for(var I,N,D,k,z,F,G,W,K,q=1;q<t.length-1;q++){for(I=t[q],N=t[q+1],D=t[q-1],z=180*SuperMapAlgoPlot.PlottingUtil.radian(I,N)/Math.PI,F=180*SuperMapAlgoPlot.PlottingUtil.radian(I,D)/Math.PI-z;F<0;)F+=360;k=F/2,G=t[q+1].clone(),G=SuperMapAlgoPlot.PlottingUtil.rotateAngle(I,k*Math.PI/180,G),W=SuperMapAlgoPlot.PlottingUtil.linePnt(I,G,n),(K=[]).push(t[q]),K.push(W),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,K,{surroundLineLimit:!0,lineTypeLimit:!0},!0)}var H=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[t.length-2],t[t.length-1]),J=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),Z=H.pntLeft,X=J.pntRight;M.push(X),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),v.splice(0,0,Z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}else{var Q=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),$=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),tt=Q.pntLeft,et=$.pntRight;M.push(et),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),v.splice(0,0,tt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}this.addScalePoint(b,0),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(o.length<this.minEditPts)return;for(var n=-1,r=new SuperMapAlgoPlot.Point(0,0),i=0;i<o.length-1;i++){var a=[];a.push(o[i]),a.push(o[i+1]);var u=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[i],o[i+1]);SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,a).isOnPolyLine&&(n=i,r=u)}if(-1===n||n>o.length-1)return;for(var p=0,s=0;s<n;s++)p+=SuperMapAlgoPlot.PlottingUtil.distance(o[s],o[s+1]);var c=o[n];if((p+=SuperMapAlgoPlot.PlottingUtil.distance(c,r))<0||p>l)return;var P=p/l,f=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1])/l;P<.4*f&&(P=.4*f),P>1-.4*f&&(P=1-.4*f),this.scaleValues[0]=P}}}])&&kb(e.prototype,o),l&&kb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kb(t){"@babel/helpers - typeof";return(Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hb(t,e){return(Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zb(t);if(e){var n=Zb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zb(t){return(Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41100=Wb;var Xb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=new SuperMapAlgoPlot.Point(u.x,u.y),c=new SuperMapAlgoPlot.Point(u.x-p,u.y-p),P=new SuperMapAlgoPlot.Point(u.x+p,u.y-p),f=new SuperMapAlgoPlot.Point(u.x-p,u.y+p),g=new SuperMapAlgoPlot.Point(u.x+p,u.y+p),y=[];y.push(s),y.push(c),y.push(P),y.push(s),y.push(f),y.push(g),y.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&qb(e.prototype,o),l&&qb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qb(t){"@babel/helpers - typeof";return(Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $b(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function td(t,e){return(td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ed(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=od(t);if(e){var n=od(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function od(t){return(od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41200=Xb;var ld=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&td(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ed(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(0!==e){var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,210),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,330),f=[];f.push(s),f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fill:!1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(g),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&$b(e.prototype,o),l&&$b(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nd(t){"@babel/helpers - typeof";return(nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function id(t,e){return(id=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ad(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ud(t);if(e){var n=ud(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ud(t){return(ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41201=ld;var pd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&id(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ad(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(0!=e){var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,270),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,30),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,150),f=[];f.push(s),f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fill:!1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(g),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&rd(e.prototype,o),l&&rd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sd(t){"@babel/helpers - typeof";return(sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pd(t,e){return(Pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gd(t);if(e){var n=gd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gd(t){return(gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41202=pd;var yd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,{fillLimit:!0,fill:!1,surroundLineFlag:!1});var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0),this.addScalePoint(p);var s=u,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[2]=n,r=(e.y-i.y)/a,this.scaleValues[3]=r;else if(1===t){n=this.scaleValues[2],r=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[0]=p}}}}])&&cd(e.prototype,o),l&&cd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hd(t){"@babel/helpers - typeof";return(hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bd(t,e){return(bd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ad(t);if(e){var n=Ad(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ad(t){return(Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42200=yd;var Md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.5*n}var r=o*this.scaleValues[0],i=o*this.scaleValues[2],a=o*this.scaleValues[3],u=[];u.push(new SuperMapAlgoPlot.Point(l.x+i,l.y+a)),u.push(new SuperMapAlgoPlot.Point(l.x+i+r,l.y+a)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,u,{fill:!1,surroundLineLimit:!0,lineTypeLimit:!0}),this.scalePoints=[],this.addScalePoint(new SuperMapAlgoPlot.Point(l.x+i+r,l.y+a)),this.addScalePoint(new SuperMapAlgoPlot.Point(l.x+i,l.y+a)),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=[];if(l=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&Sd(e.prototype,o),l&&Sd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function md(t){"@babel/helpers - typeof";return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Od(t,e){return(Od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ld(t);if(e){var n=Ld(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===md(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ld(t){return(Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42400=Md;var Ud=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Od(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.285714),e.scaleValues.push(.5),e.scaleValues.push(.333333),e.scaleValues.push(.333333)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.285714),this.scaleValues.push(.5),this.scaleValues.push(.333333));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(i),S.push(s),S.push(g),S.push(y),S.push(f),S.push(p),S.push(r);for(var b=[],d=0;d<S.length;d++){var A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[d],h);b.push(A)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var M,m,v,O=!0;e.x>o.x&&(O=!1);var w,L=(v=.1*l)+(m=.12*l/2);M=1==O?(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(L,o,e)).pntRight:(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(L,o,e)).pntLeft;var U,V,j,T,R,x,E,_,B=[];B.push(M),B.push(new SuperMapAlgoPlot.Point(M.x+m,M.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,B,{lineTypeLimit:!0,surroundLineLimit:!0}),1==O?(U=(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.85*v,o,e)).pntRight,T=w.pntLeft,V=(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v,U,T)).pntRight,j=w.pntLeft):(U=(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.85*v,o,e)).pntLeft,T=w.pntRight,V=(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v,U,T)).pntLeft,j=w.pntRight),(B=[]).push(U),B.push(V),B.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,B,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*m,V,j),_=1==O?w.pntRight:w.pntLeft,w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*m,j,V),x=1==O?w.pntLeft:w.pntRight;var Y=SuperMapAlgoPlot.PlottingUtil.intersectLines(U,x,j,V);Y.isIntersectLines&&(R=Y.intersectPoint,(Y=SuperMapAlgoPlot.PlottingUtil.intersectLines(U,_,j,V)).isIntersectLines&&(E=Y.intersectPoint,(B=[]).push(R),B.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,{lineTypeLimit:!0,surroundLineLimit:!0}),(B=[]).push(E),B.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(b[0]),this.addScalePoint(b[1]),this.addScalePoint(b[2]),this.finish()))}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&vd(e.prototype,o),l&&vd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vd(t){"@babel/helpers - typeof";return(Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Td(t,e){return(Td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xd(t);if(e){var n=xd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xd(t){return(xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42500=Ud;var Ed=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Td(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Rd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.04),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,{fill:!1});var o,l,n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue(r)),l=r*this.scaleValues[0];var i=r*this.scaleValues[0],a=i+l;o=new SuperMapAlgoPlot.Point(n.x,n.y+a);var u=[];u.push(o),u.push(new SuperMapAlgoPlot.Point(o.x+l,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0});var p=new SuperMapAlgoPlot.Point(n.x,n.y+.8*i),s=new SuperMapAlgoPlot.Point(n.x-i,n.y-i),c=new SuperMapAlgoPlot.Point(n.x+i,n.y-i);(u=[]).push(p),u.push(s),u.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var P=new SuperMapAlgoPlot.Point(n.x-.5*i,n.y-i),f=new SuperMapAlgoPlot.Point(s.x,s.y-2*l),g=new SuperMapAlgoPlot.Point(n.x+.5*i,n.y-i),y=new SuperMapAlgoPlot.Point(c.x,c.y-2*l);(u=[]).push(P),u.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0}),(u=[]).push(g),u.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&jd(e.prototype,o),l&&jd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _d(t){"@babel/helpers - typeof";return(_d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Yd(t,e){return(Yd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Id(t);if(e){var n=Id(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Id(t){return(Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42700=Ed;var Nd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Cd(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),l=[];for(e=75;e>=15;e-=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=165;e>=105;e-=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=255;e>=195;e-=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=345;e>=285;e-=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n,r,i,a,u,p=.2*o,s=new SuperMapAlgoPlot.Point(t[0].x-p,t[0].y),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],s);n=c.pntRight,r=c.pntLeft,i=(c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*p,n,r)).pntLeft;var P=new SuperMapAlgoPlot.Point(n.x+2*p,n.y);a=(c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,n,P)).pntRight,u=c.pntLeft,(l=[]).push(i),l.push(r),l.push(n),l.push(u),l.push(a),l.push(n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&Bd(e.prototype,o),l&&Bd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Dd(t){"@babel/helpers - typeof";return(Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zd(t,e){return(zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gd(t);if(e){var n=Gd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gd(t){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol43500=Nd;var Wd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.105263),e.scaleValues.push(.181818),e.scaleValues.push(.285714),e.scaleValues.push(.285714)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.105263),this.scaleValues.push(.181818),this.scaleValues.push(.285714),this.scaleValues.push(.285714));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(i),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(r);for(var b=[],d=0;d<S.length;d++){var A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[d],h);b.push(A)}for(var M=[],m=b.length-1;m>=0;--m)M.push(b[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=[],O=.06*l,w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O,o,e),L=w.pntRight,U=w.pntLeft;v.push(L),v.push(U),O=.15*l;var V=new SuperMapAlgoPlot.Point(O,0),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,V,h);v.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,v,{lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,fillLimit:!0,fill:!0,fillColorLimit:!0,fillColor:"#0000FF",fillOpacity:1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(b[0]),this.addScalePoint(b[1]),this.addScalePoint(b[2]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&kd(e.prototype,o),l&&kd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kd(t){"@babel/helpers - typeof";return(Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hd(t,e){return(Hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zd(t);if(e){var n=Zd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zd(t){return(Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44100=Wd;var Xd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=this.GetGoPts();if(!(t.length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(90));var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=o*n,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.pts,s=p,c=r*o,P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a-.5*c,e),f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a+.5*c,e),g=P.pts,y=f.pts,h=P.index,S=f.index;i+=180*SuperMapAlgoPlot.PlottingUtil.dirAngle(g,y)/Math.PI;var b=new SuperMapAlgoPlot.Point(c,-.5*c),d=new SuperMapAlgoPlot.Point(c,.5*c),A=new SuperMapAlgoPlot.Point(-c,.5*c),M=new SuperMapAlgoPlot.Point(-c,-.5*c),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,b,i),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,d,i),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,A,i),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,M,i),L=[];L.push(m),L.push(v),L.push(O),L.push(w),L.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0});var U=new SuperMapAlgoPlot.Point(.5*c,-.2*c),V=new SuperMapAlgoPlot.Point(.7*c,.2*c),j=new SuperMapAlgoPlot.Point(.3*c,.2*c),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,U,i),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,j,i),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,V,i),E=[];E.push(T),E.push(R),E.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,E,{lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var _=new SuperMapAlgoPlot.Point(c,0),B=new SuperMapAlgoPlot.Point(2*c,0),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,_,i),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,B,i);(E=[]).push(Y),E.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,{lineTypeLimit:!0,surroundLineLimit:!0});var I=new SuperMapAlgoPlot.Point(2*c,.15*c),N=new SuperMapAlgoPlot.Point(2*c,-.15*c),D=new SuperMapAlgoPlot.Point(2.6*c,0),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,I,i),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,N,i),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,D,i);(E=[]).push(k),E.push(z),E.push(F),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,E,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var G,W=[],K=[];for(G=0;G<=h;G++)W.push(e[G]);for(W.push(g),K.push(y),G=S+1;G<e.length;G++)K.push(e[G]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,W),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,K),this.scalePoints=[],this.addScalePoint(p),this.addScalePoint(C),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0==t){for(var a=e.clone(),u=-1,p=0,s=0;s<l.length-1;s++){var c=[];c.push(l[s]),c.push(l[s+1]);var P=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,l[s],l[s+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(P,c).isOnPolyLine){var f=SuperMapAlgoPlot.PlottingUtil.distance(a,P);-1==u?(u=s,p=f):p>f&&(u=s,p=f)}}if(-1==u)return SuperMapAlgoPlot.PlottingUtil.distance(a,l[0])>SuperMapAlgoPlot.PlottingUtil.distance(a,l[l.length-1])?void(u=l.length-1):void(u=0);if(n=0,0===u)n=SuperMapAlgoPlot.PlottingUtil.distance(l[0],P);else for(var g=0;g<u;g++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[g],l[g+1]);if(n<0||n>i)return;r=n/i,this.scaleValues[0]=r}else if(1==t){n=this.scaleValues[0]*i;var y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,l);if(!y.bfind)return;var h=y.pts;(r=.5*SuperMapAlgoPlot.PlottingUtil.distance(h,e)/i)>.3&&(r=.3),this.scaleValues[1]=r;var S=SuperMapAlgoPlot.PlottingUtil.radian(h,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=S}}}},{key:"GetGoPts",value:function(){var t=[];return this.controlPoints.length<this.minEditPts?t:(t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),1==(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length&&(t=[]),t)}}])&&qd(e.prototype,o),l&&qd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qd(t){"@babel/helpers - typeof";return(Qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $d(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tA(t,e){return(tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oA(t);if(e){var n=oA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oA(t){return(oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44200=Xd;var lA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var n=this.scaleValues[0],r=this.scaleValues[2],i=this.scaleValues[3];o.x=o.x+r*l,o.y=o.y+i*l;var a=l*n,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,a,a,90),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,a,a,210),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,a,a,330),c=[];c.push(u),c.push(p),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{lineTypeLimit:!0,lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineLimit:!0,fillLimit:!0,fill:!0}),this.scalePoints=[],this.addScalePoint(u),this.addScalePoint(o),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=[];if(l=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0===t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1===t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&$d(e.prototype,o),l&&$d(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nA(t){"@babel/helpers - typeof";return(nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function iA(t,e){return(iA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function aA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uA(t);if(e){var n=uA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uA(t){return(uA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44300=lA;var pA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=aA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=0,e.scaleValues[1]=0,e.scaleValues[2]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=0,this.scaleValues[1]=0,this.scaleValues[2]=.1),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,{fill:!1});var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=new SuperMapAlgoPlot.Point(l.x+o*n,l.y+o*r),u=new SuperMapAlgoPlot.Point(a.x+1,a.y),p=[];t.push(t[0].clone());for(var s=0;s<t.length-1;s++){var c=SuperMapAlgoPlot.PlottingUtil.intersectLines(a,u,t[s],t[s+1]);c.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(c.intersectPoint,t[s],t[s+1])&&p.push(c.intersectPoint))}if(!(0>=p.length)){var P=p[0].clone(),f=p[0].clone();for(s=0;s<p.length;s++)P.x>p[s].x&&(P=p[s].clone()),f.x<p[s].x&&(f=p[s].clone());var g=[],y=new SuperMapAlgoPlot.Point(a.x-i/2,P.y);y.x<=f.x&&y.x>=P.x&&((g=[]).push(P),g.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineTypeLimit:!0,surroundLineLimit:!0}));var h=new SuperMapAlgoPlot.Point(a.x+i/2,f.y);h.x<=f.x&&h.x>=P.x&&((g=[]).push(f),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineTypeLimit:!0,surroundLineLimit:!0})),this.scalePoints=[];var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i/2,i/2,90);if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,a))return this.addScalePoint(a,0),this.addScalePoint(S,1),a.x<P.x?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,a]):this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,a]),void this.finish();this.addScalePoint(a,0),this.addScalePoint(S,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;if(0===SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o))return;var l,n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t&&(l=(a.x-i.x)/r,this.scaleValues[0]=l,n=(a.y-i.y)/r,this.scaleValues[1]=n),1==t){l=this.scaleValues[0],n=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+l*r,i.y+n*r),p=2*SuperMapAlgoPlot.PlottingUtil.distance(a,u)/r;this.scaleValues[2]=p}}}}])&&rA(e.prototype,o),l&&rA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sA(t){"@babel/helpers - typeof";return(sA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function PA(t,e){return(PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gA(t);if(e){var n=gA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gA(t){return(gA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44400=pA;var yA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fA(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),n=new SuperMapAlgoPlot.Point(l.x,0);if(!1===this.polylineConnectLocationPoint){for(var r=0,i=-1,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.intersectLines(l,new SuperMapAlgoPlot.Point(l.x,l.y+1),o[a],o[a+1]);u.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,o[a],o[a+1])&&n.x===u.intersectPoint.x&&(0==r?(n.y=u.intersectPoint.y,i=a):n.y<u.intersectPoint.y&&(n.y=u.intersectPoint.y,i=a),r++))}var p=this.getSubSymbolScaleValue()*e,s=[];s.push(n);for(var c=i+1;c<o.length-1;c++)s.push(new SuperMapAlgoPlot.Point(o[c].x,o[c].y));for(var P=0;P<=i;P++)s.push(new SuperMapAlgoPlot.Point(o[P].x,o[P].y));var f=.8*p,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(s,f);if(-1===g.index)return;var y=[];y.push(g.pt);for(var h=g.index+1;h<s.length-1;h++)y.push(s[h]);s=[];for(var S=y.length-1;S>0;S--)s.push(y[S]);var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(s,f);if(-1===b.index)return;(y=[]).push(b.pt);for(var d=b.index+1;d<s.length-1;d++)y.push(s[d]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbolC(this.subSymbols[0],n,p,0)}else{var A=t[0],M=t[1],m=SuperMapAlgoPlot.PlottingUtil.distance(A,M),v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.2*m,[A,M]);if(-1===v.index)return;var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*m,[A,M]);if(-1===O.index)return;var w=[];w.push(t[0]),w.push(v.pts),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),(w=[]).push(O.pts);for(var L=1;L<t.length;L++)w.push(t[L]);w.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w);var U=new SuperMapAlgoPlot.Point((v.pts.x+O.pts.x)/2,(v.pts.y+O.pts.y)/2);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbolC(this.subSymbols[0],U,.1*m,0)}this.finish()}}},{key:"computeSubSymbolC",value:function(t,e,o,l,n,r){if(null==t.symbolData||null==t.symbolData.innerCells)return null;void 0===n&&(n=0),void 0===r&&(r=0);for(var i=SuperMapAlgoPlot.AnalysisSymbol.analysisSymbolCells(t.symbolData,!0),a=0,u=0,p=0,s=0,c=0;c<i.length;c++){null!=i[c].polybezierClose&&(i[c].type===SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL||i[c].type===SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL?(i[c].type,SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL,i[c].positionPoints=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(i[c].positionPoints),i[c].isClosed&&i[c].positionPoints[0]!==i[c].positionPoints[symbolCell.positionPoints.length-1]&&i[c].positionPoints.push(i[c].positionPoints[0])):i[c].type===SuperMapAlgoPlot.SymbolType.KIDNEY&&(i[c].positionPoints=SuperMapAlgoPlot.Primitives.getSpatialData(i[c].type,i[c].positionPoints)));for(var P=SuperMapAlgoPlot.Primitives.getSpatialData(i[c].type,i[c].positionPoints,i[c].textContent,0,i[c].isCalculate),f=0,g=P.length;f<g;f++)a<P[f].x&&(a=P[f].x),u<P[f].y&&(u=P[f].y),p>P[f].x&&(p=P[f].x),s>P[f].y&&(s=P[f].y)}var y=new SuperMapAlgoPlot.Point(a,u),h=new SuperMapAlgoPlot.Point(p,s),S=(y.y-h.y)/o,b=(y.x-h.x)/o,d=b>S?b:S,A=new SuperMapAlgoPlot.Point(.5*(y.x+h.x),.5*(y.y+h.y));A.x+=n*(y.x-h.x),A.y+=r*(y.y-h.y);for(var M=0,m=i.length;M<m;M++){for(var v=0,O=i[M].positionPoints.length;v<O;v++)i[M].positionPoints[v].x-=A.x,i[M].positionPoints[v].y-=A.y,i[M].positionPoints[v].x/=d,i[M].positionPoints[v].y/=d,SuperMapAlgoPlot.PlottingUtil.rotateAngle(new SuperMapAlgoPlot.Point(0,0),l*Math.PI/180,i[M].positionPoints[v]),i[M].positionPoints[v].x+=e.x,i[M].positionPoints[v].y+=e.y;i[M].type===SuperMapAlgoPlot.SymbolType.TEXTSYMBOL&&(i[M].style.fontSize/=10*d,i[M].style.labelRotation=-l,i[M].style.sizeFixed=!1),i[M].isCalculate=!1,i[M].style.surroundLineType=0,i[M].style.surroundLineLimit=!0,this.components.push(i[M])}var w=i[0].positionPoints[3].x-i[0].positionPoints[0].x,L=i[0].positionPoints[1].y-i[0].positionPoints[2].y,U=new SuperMapAlgoPlot.Point(e.x+w/4,e.y+3*L/4),V=new SuperMapAlgoPlot.Point(e.x+3*w/4,e.y+3*L/4),j=[];return j.push(U),j.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j),i}}])&&cA(e.prototype,o),l&&cA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hA(t){"@babel/helpers - typeof";return(hA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bA(t,e){return(bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=AA(t);if(e){var n=AA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function AA(t){return(AA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2730101=yA;var MA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(0),e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(-.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4>=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(0),this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(-.05));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[0]=n/l*.8,this.scaleValues[3]=n/l*.8}var r=this.scaleValues[0],i=this.scaleValues[1],a=this.scaleValues[3],u=this.scaleValues[4],p=this.scaleValues[6],s=this.scaleValues[7],c=this.scaleValues[8],P=this.scaleValues[9],f=new SuperMapAlgoPlot.Point(o.x+l*p,o.y+l*s),g=new SuperMapAlgoPlot.Point(o.x+l*c,o.y+l*P),y=l*r,h=i;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,y,h);var S=l*a,b=u;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],g,S,b),this.addScalePoint(f);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,y,y,h);this.addScalePoint(d),this.addScalePoint(g);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,S,S,b);this.addScalePoint(A),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(0),this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(-.05));var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),s=e;if(0==t)n=(s.x-u.x)/p,this.scaleValues[6]=n,r=(s.y-u.y)/p,this.scaleValues[7]=r;else if(1==t){n=this.scaleValues[6],r=this.scaleValues[7];var c=new SuperMapAlgoPlot.Point(u.x+p*n,u.y+p*r),P=SuperMapAlgoPlot.PlottingUtil.distance(c,s)/p;this.scaleValues[0]=P;var f=180*SuperMapAlgoPlot.PlottingUtil.radian(c,s)/Math.PI;this.scaleValues[1]=f,this.scaleValues[2]=0<=f&&f<90?1:90<=f&&f<180?2:180<=f&&f<270?3:4}else if(2==t)i=(s.x-u.x)/p,this.scaleValues[8]=i,a=(s.y-u.y)/p,this.scaleValues[9]=a;else if(3==t){i=this.scaleValues[8],a=this.scaleValues[9];var g=new SuperMapAlgoPlot.Point(u.x+p*i,u.y+p*a),y=SuperMapAlgoPlot.PlottingUtil.distance(g,s)/p;this.scaleValues[3]=y;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(g,s)/Math.PI;this.scaleValues[4]=h,this.scaleValues[5]=0<=h&&h<90?1:90<=h&&h<180?2:180<=h&&h<270?3:4}}}}])&&SA(e.prototype,o),l&&SA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mA(t){"@babel/helpers - typeof";return(mA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function OA(t,e){return(OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=LA(t);if(e){var n=LA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function LA(t){return(LA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2350001=MA;var UA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.subText="禁航",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=10*r;t.push(t[0]);var p=!0,s=a.x;for(a.x;p;){p=!1;for(var c,P,f,g,y=[],h=new SuperMapAlgoPlot.Point(s,a.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,10,10,60),b=0;b<t.length-1;b++){var d=SuperMapAlgoPlot.PlottingUtil.intersectLines(h,S,t[b],t[b+1]);d.isIntersectLines&&(c=d.intersectPoint,(P=[]).push(t[b]),P.push(t[b+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(c,P).isOnPolyLine&&y.push(c))}if(1<y.length){this.sortPts2D(y);for(var A=0;A<y.length-1;A++)g=new SuperMapAlgoPlot.Point((y[A].x+y[A+1].x)/2,(y[A].y+y[A+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,g)&&((f=[]).push(y[A]),f.push(y[A+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,i,!0))}y.length>0&&(p=!0),s-=u}if(""==!this.subText.toString()){var M=a,m=(l-o)*this.scaleValues[0],v=new SuperMapAlgoPlot.Point(M.x+m,M.y),O=new SuperMapAlgoPlot.Point((M.x+v.x)/2,(M.y+v.y)/2),w=this.subText;this.addText(w,O,m,0)}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&vA(e.prototype,o),l&&vA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function VA(t){"@babel/helpers - typeof";return(VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function TA(t,e){return(TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function RA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xA(t);if(e){var n=xA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===VA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xA(t){return(xA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2570201=UA;var EA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=RA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.subText="禁飞",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=10*r;t.push(t[0]);var p=!0,s=a.x;for(a.x;p;){p=!1;for(var c,P,f,g,y=[],h=new SuperMapAlgoPlot.Point(s,a.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,10,10,60),b=0;b<t.length-1;b++){var d=SuperMapAlgoPlot.PlottingUtil.intersectLines(h,S,t[b],t[b+1]);d.isIntersectLines&&(c=d.intersectPoint,(P=[]).push(t[b]),P.push(t[b+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(c,P).isOnPolyLine&&y.push(c))}if(1<y.length){this.sortPts2D(y);for(var A=0;A<y.length-1;A++)g=new SuperMapAlgoPlot.Point((y[A].x+y[A+1].x)/2,(y[A].y+y[A+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,g)&&((f=[]).push(y[A]),f.push(y[A+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,i,!0))}y.length>0&&(p=!0),s-=u}if(""==!this.subText.toString()){var M=a,m=(l-o)*this.scaleValues[0],v=new SuperMapAlgoPlot.Point(M.x+m,M.y),O=new SuperMapAlgoPlot.Point((M.x+v.x)/2,(M.y+v.y)/2),w=this.subText;this.addText(w,O,m,0)}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&jA(e.prototype,o),l&&jA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _A(t){"@babel/helpers - typeof";return(_A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function YA(t,e){return(YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=IA(t);if(e){var n=IA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function IA(t){return(IA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2570301=EA;var NA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=CA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.subText="慑阻",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=10*r;t.push(t[0]);var p=!0,s=a.x;for(a.x;p;){p=!1;for(var c,P,f,g,y=[],h=new SuperMapAlgoPlot.Point(s,a.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,10,10,60),b=0;b<t.length-1;b++){var d=SuperMapAlgoPlot.PlottingUtil.intersectLines(h,S,t[b],t[b+1]);d.isIntersectLines&&(c=d.intersectPoint,(P=[]).push(t[b]),P.push(t[b+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(c,P).isOnPolyLine&&y.push(c))}if(1<y.length){this.sortPts2D(y);for(var A=0;A<y.length-1;A++)g=new SuperMapAlgoPlot.Point((y[A].x+y[A+1].x)/2,(y[A].y+y[A+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,g)&&((f=[]).push(y[A]),f.push(y[A+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,i,!0))}y.length>0&&(p=!0),s-=u}if(""==!this.subText.toString()){var M=a,m=(l-o)*this.scaleValues[0],v=new SuperMapAlgoPlot.Point(M.x+m,M.y),O=new SuperMapAlgoPlot.Point((M.x+v.x)/2,(M.y+v.y)/2),w=this.subText;this.addText(w,O,m,0)}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&BA(e.prototype,o),l&&BA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function DA(t){"@babel/helpers - typeof";return(DA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zA(t,e){return(zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function FA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=GA(t);if(e){var n=GA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===DA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function GA(t){return(GA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2570401=NA;var WA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=FA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.subText="封控",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=10*r;t.push(t[0]);var p=!0,s=a.x;for(a.x;p;){p=!1;for(var c,P,f,g,y=[],h=new SuperMapAlgoPlot.Point(s,a.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,10,10,60),b=0;b<t.length-1;b++){var d=SuperMapAlgoPlot.PlottingUtil.intersectLines(h,S,t[b],t[b+1]);d.isIntersectLines&&(c=d.intersectPoint,(P=[]).push(t[b]),P.push(t[b+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(c,P).isOnPolyLine&&y.push(c))}if(1<y.length){this.sortPts2D(y);for(var A=0;A<y.length-1;A++)g=new SuperMapAlgoPlot.Point((y[A].x+y[A+1].x)/2,(y[A].y+y[A+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,g)&&((f=[]).push(y[A]),f.push(y[A+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,i,!0))}y.length>0&&(p=!0),s-=u}if(""==!this.subText.toString()){var M=a,m=(l-o)*this.scaleValues[0],v=new SuperMapAlgoPlot.Point(M.x+m,M.y),O=new SuperMapAlgoPlot.Point((M.x+v.x)/2,(M.y+v.y)/2),w=this.subText;this.addText(w,O,m,0)}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&kA(e.prototype,o),l&&kA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KA(t){"@babel/helpers - typeof";return(KA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function HA(t,e){return(HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function JA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZA(t);if(e){var n=ZA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZA(t){return(ZA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2570501=WA;var XA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=JA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(180)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){3!==this.scaleValues.length&&(this.scaleValues=[.5,.05,180]);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=o*l,a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,e);if(-1!==a.index){var u=o*n,p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i-.5*u,e),s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i+.5*u,e),c=p.pts,P=s.pts,f=p.index,g=s.index;r+=180*SuperMapAlgoPlot.PlottingUtil.dirAngle(c,P)/Math.PI;var y=c,h=P,S=new SuperMapAlgoPlot.Point((y.x+h.x)/2,(y.y+h.y)/2);a.x=S.x,a.y=S.y;var b=u,d=new SuperMapAlgoPlot.Point(.5*b,b),A=new SuperMapAlgoPlot.Point(.5*b,-b),M=new SuperMapAlgoPlot.Point(-.5*b,-b),m=new SuperMapAlgoPlot.Point(-.5*b,b),v=[],O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,d,r),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,A,r),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,M,r),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,m,r);v.push(O),v.push(w),v.push(L),v.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0});var V=new SuperMapAlgoPlot.Point(0,-2*b),j=new SuperMapAlgoPlot.Point(.15*b,-1.6*b),T=new SuperMapAlgoPlot.Point(-.15*b,-1.6*b),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,V,r),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,j,r),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,T,r),_=[];_.push(R),_.push(x),_.push(E);var B={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,_,B);var Y=new SuperMapAlgoPlot.Point(0,-b),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,Y,r);(_=[]).push(C),_.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_,{surroundLineLimit:!0,lineTypeLimit:!0}),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],S,1.5*b,r+90);var I,N=[],D=[];for(I=0;I<=f;I++)N.push(e[I]);for(N.push(c),D.push(P),I=g+1;I<e.length;I++)D.push(e[I]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D);for(var k=.02*o,z=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(k,e[1],e[0]),F=.5*SuperMapAlgoPlot.PlottingUtil.distance(e[0],z.pntLeft),G=new SuperMapAlgoPlot.Point((e[0].x+z.pntLeft.x)/2,(e[0].y+z.pntLeft.y)/2),W=SuperMapAlgoPlot.PlottingUtil.radian(e[1],e[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,K=[],q=360+W;q>=270+W;q-=5)K.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(G,F,F,q));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,K),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(k,e[e.length-2],e[e.length-1]);for(var H=new SuperMapAlgoPlot.Point((e[e.length-1].x+d.pntRight.x)/2,(e[e.length-1].y+d.pntRight.y)/2),J=SuperMapAlgoPlot.PlottingUtil.radian(e[e.length-1],d.pntRight)*SuperMapAlgoPlot.PlottingUtil.RTOD,Z=[],X=180+J;X>=90+J;X-=5)Z.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(H,F,F,X));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Z),this.scalePoints=[],this.addScalePoint(S,0);var Q=new SuperMapAlgoPlot.Point(0,-2*u),$=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,Q,this.scaleValues[2]);this.addScalePoint($,1),this.finish()}}}},{key:"GetSymbolPt",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){3!==this.scaleValues.length&&(this.scaleValues=[.5,.05,0]);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=this.scaleValues[0],n=this.scaleValues[1],r=o*l,i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,e);if(-1!==i.index){for(var a=[],u=0;u<=i.index;u++)a.push(e[u]);var p,s,c,P,f=o*n,g=[];if(r-SuperMapAlgoPlot.PlottingUtil.polylineDistance(a)>(f*=.5)){p=SuperMapAlgoPlot.PlottingUtil.linePnt(i.pts,e[i.index],f),a.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),s=SuperMapAlgoPlot.PlottingUtil.linePnt(i.pts,e[i.index+1],f),g.push(s);for(var y=e.length,h=i.index+1;h<y;++h)g.push(e[h])}else{for(var S=-1,b=a.length-1;b>=0;b--)if(c=new SuperMapAlgoPlot.Point(a[b].x,a[b].y),P=new SuperMapAlgoPlot.Point(i.pts.x,i.pts.y),SuperMapAlgoPlot.PlottingUtil.distance(c,P)>f){S=b;break}if(-1===S)return;a.splice(S+1,a.length-1-S),p=SuperMapAlgoPlot.PlottingUtil.linePnt(i.pts,e[S],f),a.push(p);for(var d=-1,A=i.index;A<e.length;A++)if(c=new SuperMapAlgoPlot.Point(e[A].x,e[A].y),P=new SuperMapAlgoPlot.Point(i.pts.x,i.pts.y),SuperMapAlgoPlot.PlottingUtil.distance(c,P)>f){d=A;break}if(-1===d)return;s=SuperMapAlgoPlot.PlottingUtil.linePnt(i.pts,e[d],f),g.push(s);for(var M=d+1;M<e.length;++M)g.push(e[M])}var m=g[0],v=a[a.length-1];return new SuperMapAlgoPlot.Point((m.x+v.x)/2,(m.y+v.y)/2)}}}},{key:"computeScaleValues",value:function(t,e){if((0===t||1===t)&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){n=new SuperMapAlgoPlot.Point(e.x,e.y);for(var u=[],p=0;p<l.length;p++)u.push(l[p]);for(var s=-1,c=0,P=new SuperMapAlgoPlot.Point(0,0),f=0;f<u.length-1;f++){var g=[];g.push(u[f]),g.push(u[f+1]);var y=SuperMapAlgoPlot.PlottingUtil.projectPoint(n,u[f],u[f+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(y,g).index){var h=SuperMapAlgoPlot.PlottingUtil.distance(n,y);-1===s?(s=f,P=y,c=h):c>h&&(s=f,P=y,c=h)}}if(-1===s||s>u.length-1)return;r=0;for(var S=0;S<s;S++){var b=new SuperMapAlgoPlot.Point(l[S].x,l[S].y),d=new SuperMapAlgoPlot.Point(l[S+1].x,l[S+1].y);r+=SuperMapAlgoPlot.PlottingUtil.distance(b,d)}var A=new SuperMapAlgoPlot.Point(l[s].x,l[s].y);i=(r+=SuperMapAlgoPlot.PlottingUtil.distance(A,P))/a;var M=.4-this.scaleValues[1]+.5,m=.5-(.4-this.scaleValues[1]);i>=M&&(i=M),i<=m&&(i=m),this.scaleValues[0]=i}else if(1===t){n=new SuperMapAlgoPlot.Point(e.x,e.y);var v=this.GetSymbolPt();i=(r=SuperMapAlgoPlot.PlottingUtil.distance(n,v))/a;var O=this.scaleValues[0]<.4?this.scaleValues[0]:1-this.scaleValues[0];i>=O&&(i=O),this.scaleValues[1]=i;var w=SuperMapAlgoPlot.PlottingUtil.radian(v,n)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=w-270}}}}])&&qA(e.prototype,o),l&&qA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function QA(t){"@babel/helpers - typeof";return(QA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $A(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tM(t,e){return(tM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oM(t);if(e){var n=oM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===QA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oM(t){return(oM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2890001=XA;var lM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=e*this.scaleValues[0],n=this.getLinePts(o,this.scaleValues[1],5/14),r=this.getLinePts(o,this.scaleValues[1],9/14),i=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),a=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI;this.createSubSymbol1(i,l,a);var u=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),p=180*SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)/Math.PI;this.createSubSymbol2(u,l,p);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.5*l,.5*l,p+90);this.addScalePoint(s);for(var c=[],P=[],f=[],g=0;g<=n.startIndex;g++)c.push(o[g]);if(c.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),n.endIndex<=r.startIndex){P.push(n.endPt);for(var y=n.endIndex+1;y<=r.startIndex;y++)P.push(o[y]);P.push(r.startPt),2===o.length&&SuperMapAlgoPlot.PlottingUtil.distance(o[0],n.endPt)<=SuperMapAlgoPlot.PlottingUtil.distance(o[0],r.startPt)&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),o.length>2&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P)}f.push(r.endPt);for(var h=r.endIndex+1;h<o.length;h++)f.push(o[h]);this.addArrow(f,this.scaleValues[1]),this.finish()}}},{key:"createSubSymbol1",value:function(t,e,o){var l=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol2",value:function(t,e,o){var l=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol",value:function(t,e,o,l){for(var n=[],r=0;r<l.length;r++){var i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[r],o);n.push(i)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,{lineTypeLimit:!0,surroundLineLimit:!0})}},{key:"getSubSymbolPts",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(9*n/14,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;i<=.3&&(this.scaleValues[0]=i)}}}])&&$A(e.prototype,o),l&&$A(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nM(t){"@babel/helpers - typeof";return(nM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function iM(t,e){return(iM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function aM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uM(t);if(e){var n=uM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uM(t){return(uM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010102=lM;var pM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3010102);var e,o,l,n=aM(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"createSubSymbol1",value:function(t,e,o){var l=this.getSubSymbolPts1(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol2",value:function(t,e,o){var l=this.getSubSymbolPts2(e);this.createSubSymbol(t,e,o,l)}},{key:"getSubSymbolPts1",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(-2*e,-e)),o.push(new SuperMapAlgoPlot.Point(2*e,-e)),o.push(new SuperMapAlgoPlot.Point(e,e)),o.push(new SuperMapAlgoPlot.Point(-2*e,e)),o}},{key:"getSubSymbolPts2",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o}}])&&rM(e.prototype,o),l&&rM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sM(t){"@babel/helpers - typeof";return(sM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function PM(t,e){return(PM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gM(t);if(e){var n=gM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gM(t){return(gM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010103=pM;var yM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3010102);var e,o,l,n=fM(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"getSubSymbolPts",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o.push(new SuperMapAlgoPlot.Point(-e,-e)),o.push(new SuperMapAlgoPlot.Point(e,-e)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o}}])&&cM(e.prototype,o),l&&cM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hM(t){"@babel/helpers - typeof";return(hM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bM(t,e){return(bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=AM(t);if(e){var n=AM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function AM(t){return(AM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010104=yM;var MM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3010102);var e,o,l,n=dM(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"getSubSymbolPts",value:function(t){var e=t/4,o=[];o.push(new SuperMapAlgoPlot.Point(-2*e,-e)),o.push(new SuperMapAlgoPlot.Point(e,-e));for(var l=-90;l<=90;l+=5)o.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(e,0),e,e,l));return o.push(new SuperMapAlgoPlot.Point(e,e)),o.push(new SuperMapAlgoPlot.Point(-2*e,e)),o}}])&&SM(e.prototype,o),l&&SM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mM(t){"@babel/helpers - typeof";return(mM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function OM(t,e){return(OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=LM(t);if(e){var n=LM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function LM(t){return(LM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010105=MM;var UM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05):1==this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.8*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,.3*o);if(-1!==l.index){var n=l.pt,r=l.index,i=o*this.scaleValues[0]*.5,a=SuperMapAlgoPlot.PlottingUtil.radian(n,e[r+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a+90),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a-90),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,u),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,p);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s.pntLeft,s.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c.pntLeft,c.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0});var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,.6*o);if(-1!==P.index){var f=P.pt,g=P.index,y=SuperMapAlgoPlot.PlottingUtil.radian(f,e[g+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,i,i,y+90),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,i,i,y-90),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,f,h),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,f,S);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b.pntLeft,b.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[d.pntLeft,d.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0}),this.addArrow(e,this.scaleValues[1]),this.addScalePoint(S,0),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.6*n,l);if(!r.bfind)return;var i=2*SuperMapAlgoPlot.PlottingUtil.distance(e,r.pts);this.scaleValues[0]=i/n}}}])&&vM(e.prototype,o),l&&vM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function VM(t){"@babel/helpers - typeof";return(VM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function TM(t,e){return(TM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function RM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xM(t);if(e){var n=xM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===VM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xM(t){return(xM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010106=UM;var EM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=RM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);0==this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05):1==this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(o),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=this.getLinePts(e,this.scaleValues[0]),n=new SuperMapAlgoPlot.Point((l.startPt.x+l.endPt.x)/2,(l.startPt.y+l.endPt.y)/2),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l.startPt,l.endPt)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.distance(l.startPt,l.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],n,i,r-90);for(var a=[],u=[],p=0;p<=l.startIndex;p++)a.push(e[p]);if(a.push(l.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),l.endIndex<=e.length){u.push(l.endPt);for(var s=l.endIndex+1;s<=e.length-1;s++)u.push(e[s]);this.addArrow(u,this.scaleValues[1])}var c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(c.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,r+90);this.addScalePoint(P,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&jM(e.prototype,o),l&&jM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _M(t){"@babel/helpers - typeof";return(_M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function YM(t,e){return(YM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=IM(t);if(e){var n=IM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function IM(t){return(IM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010107=EM;var NM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3010107);var e,o,l,n=CM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,o&&BM(e.prototype,o),l&&BM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function DM(t){"@babel/helpers - typeof";return(DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zM(t,e){return(zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function FM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=GM(t);if(e){var n=GM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===DM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function GM(t){return(GM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010108=NM;var WM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=FM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="调",e}return e=r,o&&kM(e.prototype,o),l&&kM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function KM(t){"@babel/helpers - typeof";return(KM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function HM(t,e){return(HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function JM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZM(t);if(e){var n=ZM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZM(t){return(ZM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010301=WM;var XM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=JM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="冲",e}return e=r,o&&qM(e.prototype,o),l&&qM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function QM(t){"@babel/helpers - typeof";return(QM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $M(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tm(t,e){return(tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function em(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=om(t);if(e){var n=om(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===QM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function om(t){return(om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010302=XM;var lm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=em(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.05));var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);2===this.controlPoints.length&&t.splice(1,0,new SuperMapAlgoPlot.Point(t[0].x+e,t[0].y));var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),r=e,i=180*SuperMapAlgoPlot.PlottingUtil.radian(o,l)/Math.PI%360,a=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI%360;if(i>a&&(a+=360),!this.isEdit){var u=.5*this.getDefaultSubSymbolSize()/r;u>.1&&(u=.1),this.scaleValues[0]=u}var p=r*this.scaleValues[0],s=180*Math.atan(.5*p/r)/Math.PI,c=(a-i)/3,P=(a-i)/50,f=this.getArcPts(t[0],r,i,i+c-1.8*s,P);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=this.getArcPts(t[0],r,i+c+1.8*s,i+2*c-1.8*s,P);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=this.getArcPts(t[0],r,i+2*c+1.8*s,a,P);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=i+c+90,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,e,i+c);this.createSubSymbol(S,p,h);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,e,i+2*c),d=i+2*c+90;this.createSubSymbol(b,p,d);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e+p,e+p,i+c);this.addScalePoint(A),3===this.controlPoints.length&&(this.controlPoints[2]=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,e,a)),this.finish()}}},{key:"getArcPts",value:function(t,e,o,l,n){void 0!==n&&null!==n||(n=1);for(var r=[],i=l;i>o;i-=n){var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,i);r.push(a)}var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,o);return r.push(u),r}},{key:"createSubSymbol",value:function(t,e,o){for(var l=this.getSubSymbolPts(e),n=0;n<l.length;n++){for(var r=l[n],i=[],a=0;a<r.length;a++){var u=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,r[a],o);i.push(u)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{surroundLineLimit:!0})}}},{key:"getSubSymbolPts",value:function(t){var e=[],o=[];o.push(new SuperMapAlgoPlot.Point(-t/2,0)),o.push(new SuperMapAlgoPlot.Point(t/2,0)),e.push(o);var l=[];return l.push(new SuperMapAlgoPlot.Point(0,-t/2)),l.push(new SuperMapAlgoPlot.Point(0,0)),e.push(l),e}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);2===this.controlPoints.length&&o.splice(1,0,new SuperMapAlgoPlot.Point(o[0].x+l,o[0].y));var n=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),r=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),i=new SuperMapAlgoPlot.Point(o[2].x,o[2].y),a=SuperMapAlgoPlot.PlottingUtil.distance(n,r),u=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI%360,p=180*SuperMapAlgoPlot.PlottingUtil.radian(n,i)/Math.PI%360;u>p&&(p+=360);var s=(p-u)/3,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],l,l,u+s),P=SuperMapAlgoPlot.PlottingUtil.distance(c,e)/a;P<=.6&&(this.scaleValues[0]=P)}}}])&&$M(e.prototype,o),l&&$M(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nm(t){"@babel/helpers - typeof";return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function im(t,e){return(im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function am(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=um(t);if(e){var n=um(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function um(t){return(um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020400=lm;var pm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&im(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol6020400);var e,o,l,n=am(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return e=r,(o=[{key:"getSubSymbolPts",value:function(t){var e=[],o=[];o.push(new SuperMapAlgoPlot.Point(-t/2,0)),o.push(new SuperMapAlgoPlot.Point(t/2,0)),e.push(o);var l=[];return l.push(new SuperMapAlgoPlot.Point(0,-t/2)),l.push(new SuperMapAlgoPlot.Point(0,t/2)),e.push(l),e}}])&&rm(e.prototype,o),l&&rm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sm(t){"@babel/helpers - typeof";return(sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pm(t,e){return(Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gm(t);if(e){var n=gm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gm(t){return(gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020401=pm;var ym=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol6020400);var e,o,l,n=fm(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return e=r,(o=[{key:"getSubSymbolPts",value:function(t){var e=[],o=[];o.push(new SuperMapAlgoPlot.Point(-t/2,0)),o.push(new SuperMapAlgoPlot.Point(t/2,0)),e.push(o);var l=[];return l.push(new SuperMapAlgoPlot.Point(0,0)),l.push(new SuperMapAlgoPlot.Point(0,t/2)),e.push(l),e}}])&&cm(e.prototype,o),l&&cm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hm(t){"@babel/helpers - typeof";return(hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bm(t,e){return(bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Am(t);if(e){var n=Am(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Am(t){return(Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020402=ym;var Mm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=dm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="出",e}return e=r,o&&Sm(e.prototype,o),l&&Sm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function mm(t){"@babel/helpers - typeof";return(mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Om(t,e){return(Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Lm(t);if(e){var n=Lm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Lm(t){return(Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010303=Mm;var Um=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Om(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=wm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="协",e}return e=r,o&&vm(e.prototype,o),l&&vm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Vm(t){"@babel/helpers - typeof";return(Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tm(t,e){return(Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xm(t);if(e){var n=xm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xm(t){return(xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010304=Um;var Em=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Rm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(2==t.length){var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.distance(o,l),r=180*SuperMapAlgoPlot.PlottingUtil.radian(o,l)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r+60);e.push(t[0]),e.push(l),e.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);for(var a=0;a<t.length;a++)e.push(t[a])}var u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var s=this.scaleValues[0],c=this.scaleValues[1],P=this.scaleValues[2],f=new SuperMapAlgoPlot.Point(u.x+p*s,u.y+p*c),g=p*P;0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],f,g,0),this.addScalePoint(f.clone());var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.5*g,.5*g,90);this.addScalePoint(y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];if(2==o.length){var n=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),r=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r),a=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a+60);l.push(o[0]),l.push(r),l.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var p=0;p<o.length;p++)l.push(o[p])}var s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)this.scaleValues[0]=(e.x-s.x)/c,this.scaleValues[1]=(e.y-s.y)/c;else if(1===t){var P=new SuperMapAlgoPlot.Point(s.x+c*this.scaleValues[0],s.y+c*this.scaleValues[1]),f=2*SuperMapAlgoPlot.PlottingUtil.distance(e,P)/c;f<.5&&(this.scaleValues[2]=f)}}}}])&&jm(e.prototype,o),l&&jm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _m(t){"@babel/helpers - typeof";return(_m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ym(t,e){return(Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Im(t);if(e){var n=Im(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Im(t){return(Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3020901=Em;var Nm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ym(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23600);var e,o,l,n=Cm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(-.1),e.scaleValues.push(0),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,o&&Bm(e.prototype,o),l&&Bm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Dm(t){"@babel/helpers - typeof";return(Dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function km(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zm(t,e){return(zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gm(t);if(e){var n=Gm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gm(t){return(Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3032000=Nm;var Wm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,l,n=Fm(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var r=(o=1.5*this.getDefaultSubSymbolSize())/n;r>.2&&(r=.2),this.scaleValues[0]=r}var i=this.scaleValues[0],a=this.scaleValues[2],u=this.scaleValues[3];o=n*i;var p=new SuperMapAlgoPlot.Point(l.x+n*a,l.y+n*u);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,o,0);for(var s=0;s<this.components.length;s++)this.components[s].style.strokeColor="#0000ff",this.components[s].style.lineColorLimit=!0,this.components[s].style.strokeOpacity=1,this.components[s].style.color="#0000ff",this.components[s].style.opacity=1;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e),this.addScalePoint(p);var c=o,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,c,c,90);this.addScalePoint(P),this.finish()}}}])&&km(e.prototype,o),l&&km(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Km(t){"@babel/helpers - typeof";return(Km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hm(t,e){return(Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zm(t);if(e){var n=Zm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Km(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zm(t){return(Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4010800=Wm;var Xm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol4010800);var e,o,l,n=Jm(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&qm(e.prototype,o),l&&qm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Qm(t){"@babel/helpers - typeof";return(Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $m(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tv(t,e){return(tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ov(t);if(e){var n=ov(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ov(t){return(ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4010801=Xm;var lv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23901);var e,o,l,n=ev(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.333333),e.scaleValues.push(.333333),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,o&&$m(e.prototype,o),l&&$m(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function nv(t){"@babel/helpers - typeof";return(nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function iv(t,e){return(iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function av(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uv(t);if(e){var n=uv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uv(t){return(uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4010905=lv;var pv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=av(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(-.1),e.scaleValues.push(0),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[0]=n/l,this.scaleValues[3]=n/l}var r=this.scaleValues[0],i=this.scaleValues[1],a=this.scaleValues[3],u=this.scaleValues[4],p=this.scaleValues[6],s=this.scaleValues[7],c=this.scaleValues[8],P=this.scaleValues[9],f=new SuperMapAlgoPlot.Point(o.x+l*p,o.y+l*s),g=new SuperMapAlgoPlot.Point(o.x+l*c,o.y+l*P),y=[],h=.15*SuperMapAlgoPlot.PlottingUtil.distance(f,g),S=SuperMapAlgoPlot.PlottingUtil.linePnt(f,g,h),b=SuperMapAlgoPlot.PlottingUtil.linePnt(g,f,h);y.push(S),y.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{surroundLineLimit:!0,lineTypeLimit:!0});var d=l*r,A=i;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,d,A-90);var M=l*a,m=u;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],g,M,m-90),this.addScalePoint(f);var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.5*d,.5*d,A);this.addScalePoint(v),this.addScalePoint(g);var O=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,.5*M,.5*M,m);this.addScalePoint(O),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=e;if(0==t)n=(s.x-u.x)/p,this.scaleValues[6]=n,r=(s.y-u.y)/p,this.scaleValues[7]=r;else if(1==t){n=this.scaleValues[6],r=this.scaleValues[7];var c=new SuperMapAlgoPlot.Point(u.x+p*n,u.y+p*r),P=2*SuperMapAlgoPlot.PlottingUtil.distance(c,s)/p;this.scaleValues[0]=P;var f=180*SuperMapAlgoPlot.PlottingUtil.radian(c,s)/Math.PI;this.scaleValues[1]=f,this.scaleValues[2]=0<=f&&f<90?1:90<=f&&f<180?2:180<=f&&f<270?3:4}else if(2==t)i=(s.x-u.x)/p,this.scaleValues[8]=i,a=(s.y-u.y)/p,this.scaleValues[9]=a;else if(3==t){i=this.scaleValues[8],a=this.scaleValues[9];var g=new SuperMapAlgoPlot.Point(u.x+p*i,u.y+p*a),y=2*SuperMapAlgoPlot.PlottingUtil.distance(g,s)/p;this.scaleValues[3]=y;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(g,s)/Math.PI;this.scaleValues[4]=h,this.scaleValues[5]=0<=h&&h<90?1:90<=h&&h<180?2:180<=h&&h<270?3:4}}}}])&&rv(e.prototype,o),l&&rv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sv(t){"@babel/helpers - typeof";return(sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pv(t,e){return(Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gv(t);if(e){var n=gv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gv(t){return(gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4011100=pv;var yv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(-.1),e.scaleValues.push(0),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[0]=n/l,this.scaleValues[3]=n/l}var r=this.scaleValues[0],i=this.scaleValues[1],a=this.scaleValues[3],u=this.scaleValues[4],p=this.scaleValues[6],s=this.scaleValues[7],c=this.scaleValues[8],P=this.scaleValues[9],f=new SuperMapAlgoPlot.Point(o.x+l*p,o.y+l*s),g=new SuperMapAlgoPlot.Point(o.x+l*c,o.y+l*P),y=[],h=.15*SuperMapAlgoPlot.PlottingUtil.distance(f,g),S=SuperMapAlgoPlot.PlottingUtil.linePnt(f,g,h),b=SuperMapAlgoPlot.PlottingUtil.linePnt(g,f,h);y.push(S),y.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{surroundLineLimit:!0,lineTypeLimit:!0});var d=l*r,A=i;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,d,A+90);var M=l*a,m=u;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],g,M,m+90),this.addScalePoint(f);var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.5*d,.5*d,A);this.addScalePoint(v),this.addScalePoint(g);var O=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,.5*M,.5*M,m);this.addScalePoint(O),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=e;if(0==t)n=(s.x-u.x)/p,this.scaleValues[6]=n,r=(s.y-u.y)/p,this.scaleValues[7]=r;else if(1==t){n=this.scaleValues[6],r=this.scaleValues[7];var c=new SuperMapAlgoPlot.Point(u.x+p*n,u.y+p*r),P=2*SuperMapAlgoPlot.PlottingUtil.distance(c,s)/p;this.scaleValues[0]=P;var f=180*SuperMapAlgoPlot.PlottingUtil.radian(c,s)/Math.PI;this.scaleValues[1]=f,this.scaleValues[2]=0<=f&&f<90?1:90<=f&&f<180?2:180<=f&&f<270?3:4}else if(2==t)i=(s.x-u.x)/p,this.scaleValues[8]=i,a=(s.y-u.y)/p,this.scaleValues[9]=a;else if(3==t){i=this.scaleValues[8],a=this.scaleValues[9];var g=new SuperMapAlgoPlot.Point(u.x+p*i,u.y+p*a),y=2*SuperMapAlgoPlot.PlottingUtil.distance(g,s)/p;this.scaleValues[3]=y;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(g,s)/Math.PI;this.scaleValues[4]=h,this.scaleValues[5]=0<=h&&h<90?1:90<=h&&h<180?2:180<=h&&h<270?3:4}}}}])&&cv(e.prototype,o),l&&cv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hv(t){"@babel/helpers - typeof";return(hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bv(t,e){return(bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Av(t);if(e){var n=Av(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Av(t){return(Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4011101=yv;var Mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.14),e.scaleValues.push(.1),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(Math.PI/2),this.scaleValues.push(.069485),this.scaleValues.push(.14),this.scaleValues.push(.1),this.scaleValues.push(.1));var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[2]=1.5*l,this.scaleValues[4]=.5*l,this.scaleValues[5]=.5*l}var n=o*this.scaleValues[4],r=this.scaleValues[0]-this.scaleValues[3];r<0&&(r=0);var i=this.scaleValues[0]+this.scaleValues[3];i>1&&(i=1);var a=this.getLinePts(e,this.scaleValues[4],r),u=this.getLinePts(e,this.scaleValues[4],i),p=new SuperMapAlgoPlot.Point((a.startPt.x+a.endPt.x)/2,(a.startPt.y+a.endPt.y)/2),s=SuperMapAlgoPlot.PlottingUtil.radian(a.startPt,a.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.createSubSymbol1(p,n,s);var c=new SuperMapAlgoPlot.Point((u.startPt.x+u.endPt.x)/2,(u.startPt.y+u.endPt.y)/2),P=SuperMapAlgoPlot.PlottingUtil.radian(u.startPt,u.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.createSubSymbol2(c,n,P);for(var f=[],g=[],y=[],h=0;h<=a.startIndex;h++)f.push(e[h]);if(f.push(a.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),a.endIndex<=u.startIndex){g.push(a.endPt);for(var S=a.endIndex+1;S<=u.startIndex;S++)g.push(e[S]);g.push(u.startPt),2===e.length&&SuperMapAlgoPlot.PlottingUtil.distance(e[0],a.endPt)<=SuperMapAlgoPlot.PlottingUtil.distance(e[0],u.startPt)&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),e.length>2&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}y.push(u.endPt);for(var b=u.endIndex+1;b<e.length;b++)y.push(e[b]);var d=o*this.scaleValues[0],A=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,M=o*this.scaleValues[2],m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,d);if(-1!==m.index){var v=m.pt,O=new SuperMapAlgoPlot.Point(e[m.index].x,e[m.index].y),w=new SuperMapAlgoPlot.Point(e[m.index+1].x,e[m.index+1].y),L=SuperMapAlgoPlot.PlottingUtil.radian(O,w)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=SuperMapAlgoPlot.PlottingUtil.circlePoint(v,M,M,A+L-180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[v,U],{surroundLineLimit:!0,lineTypeLimit:!0});var V=SuperMapAlgoPlot.PlottingUtil.radian(v,U)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=new SuperMapAlgoPlot.Point(-.2*M,.05*M),T=new SuperMapAlgoPlot.Point(-.2*M,-.05*M),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,j,V),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,T,V);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[U,R,x],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addScalePoint(m.pt,0),this.addScalePoint(U,1),this.addScalePoint(p,2),this.addScalePoint(a.startPt,3),this.finish()}}}},{key:"createSubSymbol1",value:function(t,e,o){var l=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol2",value:function(t,e,o){var l=this.getSubSymbolPts1(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol",value:function(t,e,o,l){for(var n=[],r=0;r<l.length;r++){var i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[r],o);n.push(i)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,{lineTypeLimit:!0,surroundLineLimit:!0})}},{key:"getSubSymbolPts",value:function(t){var e=t,o=[];return o.push(new SuperMapAlgoPlot.Point(0,2*e)),o.push(new SuperMapAlgoPlot.Point(-e,0)),o.push(new SuperMapAlgoPlot.Point(0,-2*e)),o.push(new SuperMapAlgoPlot.Point(e,0)),o}},{key:"getSubSymbolPts1",value:function(t){var e=t,o=[];return o.push(new SuperMapAlgoPlot.Point(e,2*e)),o.push(new SuperMapAlgoPlot.Point(-e,2*e)),o.push(new SuperMapAlgoPlot.Point(-e,-2*e)),o.push(new SuperMapAlgoPlot.Point(e,-e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u,p,s,c,P,f,g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0);for(var y=0;y<l.length-1;y++)(a=[]).push(l[y]),a.push(l[y+1]),u=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[y],l[y+1]),-1!==(p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(u,a)).index&&(s=SuperMapAlgoPlot.PlottingUtil.distance(e,u),-1==n?(n=y,i=u,r=s):r>s&&(n=y,i=u,r=s));if(-1==n||n>l.length-1)return;c=0;for(var h=0;h<n;h++)c+=SuperMapAlgoPlot.PlottingUtil.distance(l[h],l[h+1]);if((c+=SuperMapAlgoPlot.PlottingUtil.distance(l[n],i))<0||c>g)return;var S=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(this.scalePoints[0],l),b=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(this.scalePoints[3],l),d=0;S.index===b.index&&(d=SuperMapAlgoPlot.PlottingUtil.distance(this.scalePoints[0],this.scalePoints[3]));for(var A=b.index;A<S.index;A++)d+=SuperMapAlgoPlot.PlottingUtil.distance(l[A],l[A+1]);c<d+.5?c=d+.5:c>g-d-.5&&(c=g-d-.5),this.scaleValues[0]=c/g}else if(1===t){var M=g*this.scaleValues[0],m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,M);if(-1===m.index)return;var v=l[m.index],O=l[m.index+1],w=SuperMapAlgoPlot.PlottingUtil.radian(v,O),L=SuperMapAlgoPlot.PlottingUtil.radian(m.pt,e);this.scaleValues[1]=L-w-Math.PI;var U=SuperMapAlgoPlot.PlottingUtil.distance(m.pt,e);this.scaleValues[2]=U/g}else if(2===t){n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0);for(var V=0;V<l.length-1;V++)(a=[]).push(l[V]),a.push(l[V+1]),u=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[V],l[V+1]),-1!==(p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(u,a)).index&&(s=SuperMapAlgoPlot.PlottingUtil.distance(e,u),-1==n?(n=V,i=u,r=s):r>s&&(n=V,i=u,r=s));if(-1!==n&&n<=l.length-1){c=0;for(var j=0;j<n;j++)c+=SuperMapAlgoPlot.PlottingUtil.distance(l[j],l[j+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(l[n],i);var T=this.getLinePts(l,this.scaleValues[4],5/14),R=SuperMapAlgoPlot.PlottingUtil.distance(T.startPt,T.endPt)/3*2/g;if(c>0&&c<g){var x=c/g;x<R&&(x=R),x>1-R&&(x=1-R),this.scaleValues[3]=Math.abs(x-this.scaleValues[0])}}}else if(3===t)if(this.scaleValues[0]>.5){var E=this.scaleValues[0]+this.scaleValues[3],_=g*(P=this.scaleValues[0]-this.scaleValues[3]),B=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,_);-1!==B.index&&((f=SuperMapAlgoPlot.PlottingUtil.distance(B.pt,e)/g)>1-E&&(f=1-E),this.scaleValues[4]=f)}else{var Y=g*(P=this.scaleValues[0]-this.scaleValues[3]);-1!==(p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,Y)).index&&((f=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,e)/g)>P&&(f=P),this.scaleValues[4]=f)}}}}])&&Sv(e.prototype,o),l&&Sv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mv(t){"@babel/helpers - typeof";return(mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ov(t,e){return(Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Lv(t);if(e){var n=Lv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Lv(t){return(Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4020303=Mv;var Uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ov(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30100);var e,o,l,n=wv(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var n=e*this.scaleValues[0],r=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,i=e*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==a.index){var u=a.pt,p=a.index,s=new SuperMapAlgoPlot.Point(u.x,u.y),c=new SuperMapAlgoPlot.Point(l[p].x,l[p].y),P=new SuperMapAlgoPlot.Point(l[p+1].x,l[p+1].y),f=SuperMapAlgoPlot.PlottingUtil.radian(c,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,1.5*i,1.5*i,f+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,g],{surroundLineLimit:!0,lineTypeLimit:!0});var y=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(-.2*i,.05*i),S=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,h,y),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,S,y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[g,b,d],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var A=new SuperMapAlgoPlot.Point(.6*i,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,A,y),m=.4*i*this.scaleValues[5],v=.4*i*this.scaleValues[6],O=new SuperMapAlgoPlot.Point(0,-.9*(m-.25*v)),w=new SuperMapAlgoPlot.Point(0,.9*(m-.25*v)),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,O,y),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,w,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[L,U],{surroundLineLimit:!0,lineTypeLimit:!0});var V=new SuperMapAlgoPlot.Point(0,m),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,V,y),T=new SuperMapAlgoPlot.Point(.5*v,-.25*v),R=new SuperMapAlgoPlot.Point(-.5*v,-.25*v),x=new SuperMapAlgoPlot.Point(-.5*v,.25*v),E=new SuperMapAlgoPlot.Point(.25*v,.25*v),_=new SuperMapAlgoPlot.Point(.5*v,0),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,T,y+180),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,R,y+180),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,x,y+180),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,E,y+180),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,_,y+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[B,Y,C,I,B],{surroundLineLimit:!0,lineTypeLimit:!0});var D=new SuperMapAlgoPlot.Point(0,-m),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,D,y),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(k,T,y+180),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(k,R,y+180),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(k,x,y+180),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(k,E,y+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[z,F,G,W,z],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(u,0),this.addScalePoint(g,1);var K=new SuperMapAlgoPlot.Point(0,-m),q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,K,y);this.addScalePoint(q,2),this.addScalePoint(N,3),this.finish()}}}}])&&vv(e.prototype,o),l&&vv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vv(t){"@babel/helpers - typeof";return(Vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tv(t,e){return(Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xv(t);if(e){var n=xv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xv(t){return(xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4020401=Uv;var Ev=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30102);var e,o,l,n=Rv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var n=e*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI,i=e*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==a.index){var u=a.index,p=a.pt,s=new SuperMapAlgoPlot.Point(l[u].x,l[u].y),c=new SuperMapAlgoPlot.Point(l[u+1].x,l[u+1].y),P=180*SuperMapAlgoPlot.PlottingUtil.radian(s,c)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,i/2,i/2,P+r),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,i,i,P+r+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,g],{surroundLineLimit:!0,lineTypeLimit:!0});var y=180*SuperMapAlgoPlot.PlottingUtil.radian(p,f)/Math.PI,h=new SuperMapAlgoPlot.Point(-.2*i,.05*i),S=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,y),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,S,y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[f,b,d],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var A=.4*i*this.scaleValues[5],M=.4*i*this.scaleValues[6],m=new SuperMapAlgoPlot.Point(0,-.9*(A-.25*M)),v=new SuperMapAlgoPlot.Point(0,.9*(A-.25*M)),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,m,y),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,v,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[O,w],{surroundLineLimit:!0,lineTypeLimit:!0});var L=new SuperMapAlgoPlot.Point(0,-A),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,L,y),V=new SuperMapAlgoPlot.Point(.5*M,-.25*M),j=new SuperMapAlgoPlot.Point(-.25*M,-.25*M),T=new SuperMapAlgoPlot.Point(-.5*M,.25*M),R=new SuperMapAlgoPlot.Point(.5*M,.25*M),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,V,y),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,j,y),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,T,y),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(U,R,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[x,E,_,B,x],{surroundLineLimit:!0,lineTypeLimit:!0});var Y=new SuperMapAlgoPlot.Point(0,A),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,Y,y),I=new SuperMapAlgoPlot.Point(0,.25*M),N=new SuperMapAlgoPlot.Point(.5*M,0),D=new SuperMapAlgoPlot.Point(0,-.25*M),k=new SuperMapAlgoPlot.Point(-.5*M,0),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,I,y),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,N,y),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,D,y),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,k,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[z,F,G,W,z],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(p,0);var K=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,i,i,P+r);this.addScalePoint(K,1);var q=new SuperMapAlgoPlot.Point(0,-A),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,q,y);this.addScalePoint(H,2);var J=new SuperMapAlgoPlot.Point(-.5*M,0),Z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,J,y);this.addScalePoint(Z,3),this.finish()}}}}])&&jv(e.prototype,o),l&&jv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _v(t){"@babel/helpers - typeof";return(_v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Yv(t,e){return(Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Iv(t);if(e){var n=Iv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Iv(t){return(Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4020402=Ev;var Nv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,l,n=Cv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,o&&Bv(e.prototype,o),l&&Bv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Dv(t){"@babel/helpers - typeof";return(Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zv(t,e){return(zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gv(t);if(e){var n=Gv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gv(t){return(Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4022100=Nv;var Wv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,l,n=Fv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var n=this.scaleValues[0],r=this.scaleValues[2],i=this.scaleValues[3],a=l*n,u=new SuperMapAlgoPlot.Point(o.x+l*r,o.y+l*i);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,a,0);var p=new SuperMapAlgoPlot.Point(u.x+a,u.y+a/2),s=new SuperMapAlgoPlot.Point(u.x+a,u.y-a/2),c=.3*a,P=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,c,c,P+157.5),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,c,c,P+202.5),y=new SuperMapAlgoPlot.Point((f.x+g.x)/2,(f.y+g.y)/2),h=[];h.push(p),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{surroundLineLimit:!0,lineTypeLimit:!0});this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[f,y,g,s],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(u);var S=a,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,S,S,90);this.addScalePoint(b),this.finish(),this.finish()}}}])&&kv(e.prototype,o),l&&kv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kv(t){"@babel/helpers - typeof";return(Kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hv(t,e){return(Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zv(t);if(e){var n=Zv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zv(t){return(Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4022101=Wv;var Xv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,l,n=Jv(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var n=this.scaleValues[0],r=this.scaleValues[2],i=this.scaleValues[3],a=l*n,u=new SuperMapAlgoPlot.Point(o.x+l*r,o.y+l*i);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,a,0);var p=new SuperMapAlgoPlot.Point(u.x+a,u.y+a/2),s=new SuperMapAlgoPlot.Point(u.x+a,u.y-a/2),c=.3*a,P=SuperMapAlgoPlot.PlottingUtil.radian(s,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,c,c,P+157.5),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,c,c,P+202.5),y=new SuperMapAlgoPlot.Point((f.x+g.x)/2,(f.y+g.y)/2),h=[];h.push(s),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{surroundLineLimit:!0,lineTypeLimit:!0});this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[f,y,g,p],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(u);var S=a,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,S,S,90);this.addScalePoint(b),this.finish(),this.finish()}}}])&&qv(e.prototype,o),l&&qv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qv(t){"@babel/helpers - typeof";return(Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $v(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tO(t,e){return(tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oO(t);if(e){var n=oO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oO(t){return(oO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4022102=Xv;var lO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=1.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(1.05));var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);2===this.controlPoints.length&&t.splice(1,0,new SuperMapAlgoPlot.Point(t[0].x+e,t[0].y));var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),r=SuperMapAlgoPlot.PlottingUtil.distance(o,l),i=r*this.scaleValues[0],a=180*SuperMapAlgoPlot.PlottingUtil.radian(o,l)/Math.PI%360,u=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI%360;a>u&&(u+=360);var p=(u-a)/50,s=this.getArcPts(t[0],r,a,u,p),c=this.getArcPts(t[0],i,a,u,p);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineLimit:!0}),3===this.controlPoints.length&&(this.controlPoints[2]=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,e,u)),this.addScalePoint(new SuperMapAlgoPlot.Point(c[c.length-1].x,c[c.length-1].y),0),this.finish()}}},{key:"getArcPts",value:function(t,e,o,l,n){void 0!==n&&null!==n||(n=1);for(var r=[],i=o;i<l;i+=n){var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,i);r.push(a)}var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l);return r.push(u),r}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;n>=1.01&&(this.scaleValues[0]=n)}}}])&&$v(e.prototype,o),l&&$v(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nO(t){"@babel/helpers - typeof";return(nO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function iO(t,e){return(iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function aO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uO(t);if(e){var n=uO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uO(t){return(uO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020403=lO;var pO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=aO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=.3*this.getSubSymbolScaleValue();e>.05&&(e=.05),this.scaleValues[0]=e}for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=Math.abs(o*this.scaleValues[0]),n=this.getDashLinePts(t,l),r={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},i=1,a=0;a<n.length;a++){var u=n[a];if(0==i%2)if(2===u.length&&a!==n.length-1){var p=new SuperMapAlgoPlot.Point((u[0].x+u[1].x)/2,(u[0].y+u[1].y)/2),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*l,u[0],p),c=null;c=this.scaleValues[0]>0?s.pntLeft:s.pntRight,this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[c,u[0],u[1]],r)}else i--;n[a].length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),i++}var P=180*SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])/Math.PI;this.scaleValues[0]>0?P+=90:P-=90;var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],2*l,2*l,P);this.addScalePoint(f),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=.5*SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;n>=.05&&(n=.05),SuperMapAlgoPlot.PlottingUtil.isRight(e,o[0],o[1])&&(n=-n),this.scaleValues[0]=n}}}])&&rO(e.prototype,o),l&&rO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sO(t){"@babel/helpers - typeof";return(sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function PO(t,e){return(PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gO(t);if(e){var n=gO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gO(t){return(gO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020404=pO;var yO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30800);var e,o,l,n=fO(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&cO(e.prototype,o),l&&cO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function hO(t){"@babel/helpers - typeof";return(hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bO(t,e){return(bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=AO(t);if(e){var n=AO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function AO(t){return(AO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4021101=yO;var MO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30800);var e,o,l,n=dO(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&SO(e.prototype,o),l&&SO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function mO(t){"@babel/helpers - typeof";return(mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function OO(t,e){return(OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=LO(t);if(e){var n=LO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function LO(t){return(LO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4021102=MO;var UO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=n*this.scaleValues[2],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r),a=4*o,u=[],p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y)),r=n*this.scaleValues[3],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y));for(var c=n*this.scaleValues[1],P=this.getDashLinePts(l,c),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},g=0;g<P.length;g++){var y=P[g];SuperMapAlgoPlot.PlottingUtil.clearSamePts(y);var h=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!1);1!=g?(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f)):(h.unshift(u[0]),h.push(u[2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),S.unshift(u[1]),S.push(u[3]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f))}a=2*o;var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.05*n),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.15*n);var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt),M=[];M.push(d.pntLeft),M.push(A.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(d.pntRight),M.push(A.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.45*n);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.55*n);var v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(m.pntLeft),M.push(v.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(m.pntRight),M.push(v.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.85*n);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.95*n);var w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(O.pntLeft),M.push(w.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(O.pntRight),M.push(w.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,0);var L=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1.5*a,l[b.index+1],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.5*n);var U=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(3*a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);var V=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1.5*a,l[b.index],b.pt);(M=[]).push(L.pntLeft),M.push(U.pntRight),M.push(V.pntRight);var j=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(M);j=SuperMapAlgoPlot.PlottingUtil.clearSamePts(j),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,f),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}}])&&vO(e.prototype,o),l&&vO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function VO(t){"@babel/helpers - typeof";return(VO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function TO(t,e){return(TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function RO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xO(t);if(e){var n=xO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===VO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xO(t){return(xO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1770101=UO;var EO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=RO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=n*this.scaleValues[2],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r),a=4*o,u=[],p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y)),r=n*this.scaleValues[3],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y));for(var c=n*this.scaleValues[1],P=this.getDashLinePts(l,c),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},g=0;g<P.length;g++){var y=P[g];y=SuperMapAlgoPlot.PlottingUtil.clearSamePts(y);var h=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!1);1!=g?(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f)):(h.unshift(u[0]),h.push(u[2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),S.unshift(u[1]),S.push(u[3]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f))}a=2*o;var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.05*n),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.15*n);var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt),M=[];M.push(d.pntLeft),M.push(A.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(d.pntRight),M.push(A.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.45*n);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.55*n);var v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(m.pntLeft),M.push(v.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(m.pntRight),M.push(v.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.85*n);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.95*n);var w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(O.pntLeft),M.push(w.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(O.pntRight),M.push(w.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}}])&&jO(e.prototype,o),l&&jO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _O(t){"@babel/helpers - typeof";return(_O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function YO(t,e){return(YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=IO(t);if(e){var n=IO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function IO(t){return(IO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1770201=EO;var NO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=CO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1),e.scaleValues.push(.5),e.scaleValues.push(1),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.03)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue(),this.scaleValues[7]=this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=this.scaleValues[7]*n,i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.3125*n),a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.6875*n),u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n*this.scaleValues[5]),p=(this.scaleValues[2],this.scaleValues[6],[]),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r*this.scaleValues[6],l[u.index],u.pt);p.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),p.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y));var c,P,f=SuperMapAlgoPlot.PlottingUtil.distance(i.pt,a.pt)*this.scaleValues[6];f>(r*=this.scaleValues[6])?(c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,r/2,!0),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,r/2,!1)):(c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,f/2,!0),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,f/2,!1));var g=[];g.push(c[0]),g.push(c[c.length-1]),g.push(P[P.length-1]),g.push(P[0]);var y={surroundLineFlag:!1,fillLimit:!0,strokeColor:"#37CECE",fillColorLimit:!0,fillColor:"#37CECE",fill:!0,fillOpacity:.7,lineColorLimit:!0,color:"#37CECE",surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,y);var h=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(g);y={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0};var S=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,y);for(var b=n*this.scaleValues[1],d=this.getDashLinePts(l,b),A=0;A<d.length;A++){var M=d[A];M=SuperMapAlgoPlot.PlottingUtil.clearSamePts(M);var m=SuperMapAlgoPlot.PlottingUtil.paraLine(M,o,!0);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,y)}this.addScalePoint(h),this.addScalePoint(p[1]),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);for(var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=0,i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),a=SuperMapAlgoPlot.PlottingUtil.distance(l[0],e),u=0,p=1;p<l.length;p++){var s=SuperMapAlgoPlot.PlottingUtil.distance(l[p],e);s<a&&(a=s,u=p)}var c=[];for(p=0;p<l.length;p++)p<=u&&c.push(l[p]);var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c);if(0===t)if(l.length<=3){if(0===(r=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)))return;var f=.5;e.x-i.pts.x<0?((f=-1*r/n+.5)<0&&(f=0),this.scaleValues[5]=f):((f=r/n+.5)>1&&(f=1),this.scaleValues[5]=f)}else this.scaleValues[5]=P/n;else if(1===t){i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[5],l),r=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e);var g=this.scaleValues[7]*n;this.scaleValues[6]=r/g}}}}])&&BO(e.prototype,o),l&&BO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol1770501=NO;SuperMapAlgoPlot.JBAlgoSymbolFactory=SuperMapAlgoPlot.JBAlgoSymbolFactory||{};SuperMapAlgoPlot.JBAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(100!==t)return new SuperMapAlgoPlot.AlgoSymbol(o);switch(e){case 12500:return new SuperMapAlgoPlot.AlgoSymbol12500(o);case 12501:return new SuperMapAlgoPlot.AlgoSymbol12501(o);case 12502:return new SuperMapAlgoPlot.AlgoSymbol12502(o);case 13700:return new SuperMapAlgoPlot.AlgoSymbol13700(o);case 15200:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 15201:case 23800:return new SuperMapAlgoPlot.AlgoSymbol15201(o);case 15202:return new SuperMapAlgoPlot.AlgoSymbol15202(o);case 15800:return new SuperMapAlgoPlot.AlgoSymbol15800(o);case 15801:return new SuperMapAlgoPlot.AlgoSymbol15801(o);case 15802:return new SuperMapAlgoPlot.AlgoSymbol15802(o);case 15803:return new SuperMapAlgoPlot.AlgoSymbol15803(o);case 15804:return new SuperMapAlgoPlot.AlgoSymbol15804(o);case 15805:return new SuperMapAlgoPlot.AlgoSymbol15805(o);case 15806:return new SuperMapAlgoPlot.AlgoSymbol15806(o);case 15900:return new SuperMapAlgoPlot.AlgoSymbol15900(o);case 16e3:return new SuperMapAlgoPlot.AlgoSymbol16000(o);case 16001:return new SuperMapAlgoPlot.AlgoSymbol16001(o);case 16100:return new SuperMapAlgoPlot.AlgoSymbol16100(o);case 16200:return new SuperMapAlgoPlot.AlgoSymbol16200(o);case 16201:return new SuperMapAlgoPlot.AlgoSymbol16201(o);case 16202:return new SuperMapAlgoPlot.AlgoSymbol16202(o);case 16203:return new SuperMapAlgoPlot.AlgoSymbol16203(o);case 16500:return new SuperMapAlgoPlot.AlgoSymbol16500(o);case 16700:return new SuperMapAlgoPlot.AlgoSymbol16700(o);case 16900:return new SuperMapAlgoPlot.AlgoSymbol16900(o);case 17400:return new SuperMapAlgoPlot.AlgoSymbol17400(o);case 17401:return new SuperMapAlgoPlot.AlgoSymbol17401(o);case 17500:return new SuperMapAlgoPlot.AlgoSymbol17500(o);case 17501:return new SuperMapAlgoPlot.AlgoSymbol17501(o);case 17600:return new SuperMapAlgoPlot.AlgoSymbol17600(o);case 17700:return new SuperMapAlgoPlot.AlgoSymbol17700(o);case 1770101:return new SuperMapAlgoPlot.AlgoSymbol1770101(o);case 1770201:return new SuperMapAlgoPlot.AlgoSymbol1770201(o);case 1770501:return new SuperMapAlgoPlot.AlgoSymbol1770501(o);case 17703:return new SuperMapAlgoPlot.AlgoSymbol17703(o);case 17704:return new SuperMapAlgoPlot.AlgoSymbol17704(o);case 17800:return new SuperMapAlgoPlot.AlgoSymbol17800(o);case 17801:return new SuperMapAlgoPlot.AlgoSymbol17801(o);case 17802:return new SuperMapAlgoPlot.AlgoSymbol17802(o);case 17803:return new SuperMapAlgoPlot.AlgoSymbol17803(o);case 17804:return new SuperMapAlgoPlot.AlgoSymbol17804(o);case 17805:return new SuperMapAlgoPlot.AlgoSymbol17805(o);case 17806:return new SuperMapAlgoPlot.AlgoSymbol17806(o);case 20300:return new SuperMapAlgoPlot.AlgoSymbol20300(o);case 20301:return new SuperMapAlgoPlot.AlgoSymbol20301(o);case 21401:return new SuperMapAlgoPlot.AlgoSymbol21401(o);case 21500:return new SuperMapAlgoPlot.AlgoSymbol21500(o);case 21501:return new SuperMapAlgoPlot.AlgoSymbol21501(o);case 21502:return new SuperMapAlgoPlot.AlgoSymbol21502(o);case 21503:return new SuperMapAlgoPlot.AlgoSymbol21503(o);case 21504:return new SuperMapAlgoPlot.AlgoSymbol21504(o);case 21600:return new SuperMapAlgoPlot.AlgoSymbol21600(o);case 21800:return new SuperMapAlgoPlot.AlgoSymbol21800(o);case 21900:return new SuperMapAlgoPlot.AlgoSymbol21900(o);case 22e3:return new SuperMapAlgoPlot.AlgoSymbol22000(o);case 22103:return new SuperMapAlgoPlot.AlgoSymbol22103(o);case 22200:return new SuperMapAlgoPlot.AlgoSymbol22200(o);case 23400:return new SuperMapAlgoPlot.AlgoSymbol23400(o);case 23500:return new SuperMapAlgoPlot.AlgoSymbol23500(o);case 2350001:return new SuperMapAlgoPlot.AlgoSymbol2350001(o);case 23600:return new SuperMapAlgoPlot.AlgoSymbol23600(o);case 23700:return new SuperMapAlgoPlot.AlgoSymbol23700(o);case 23901:return new SuperMapAlgoPlot.AlgoSymbol23901(o);case 23902:return new SuperMapAlgoPlot.AlgoSymbol23902(o);case 24700:return new SuperMapAlgoPlot.AlgoSymbol24700(o);case 25e3:return new SuperMapAlgoPlot.AlgoSymbol25000(o);case 25100:return new SuperMapAlgoPlot.AlgoSymbol25100(o);case 25101:return new SuperMapAlgoPlot.AlgoSymbol25101(o);case 25200:return new SuperMapAlgoPlot.AlgoSymbol25200(o);case 21400:case 25201:return new SuperMapAlgoPlot.AlgoSymbol25201(o);case 25202:return new SuperMapAlgoPlot.AlgoSymbol25202(o);case 25300:return new SuperMapAlgoPlot.AlgoSymbol25300(o);case 25301:return new SuperMapAlgoPlot.AlgoSymbol25301(o);case 25400:return new SuperMapAlgoPlot.AlgoSymbol25400(o);case 25500:return new SuperMapAlgoPlot.AlgoSymbol25500(o);case 25501:return new SuperMapAlgoPlot.AlgoSymbol25501(o);case 25502:return new SuperMapAlgoPlot.AlgoSymbol25502(o);case 25503:return new SuperMapAlgoPlot.AlgoSymbol25503(o);case 25600:return new SuperMapAlgoPlot.AlgoSymbol25600(o);case 25601:return new SuperMapAlgoPlot.AlgoSymbol25601(o);case 25700:return new SuperMapAlgoPlot.AlgoSymbol25700(o);case 25701:return new SuperMapAlgoPlot.AlgoSymbol25701(o);case 2570201:return new SuperMapAlgoPlot.AlgoSymbol2570201(o);case 2570301:return new SuperMapAlgoPlot.AlgoSymbol2570301(o);case 2570401:return new SuperMapAlgoPlot.AlgoSymbol2570401(o);case 2570501:return new SuperMapAlgoPlot.AlgoSymbol2570501(o);case 25800:return new SuperMapAlgoPlot.AlgoSymbol25800(o);case 25801:return new SuperMapAlgoPlot.AlgoSymbol25801(o);case 25900:return new SuperMapAlgoPlot.AlgoSymbol25900(o);case 25901:return new SuperMapAlgoPlot.AlgoSymbol25901(o);case 26400:return new SuperMapAlgoPlot.AlgoSymbol26400(o);case 26500:return new SuperMapAlgoPlot.AlgoSymbol26500(o);case 26501:return new SuperMapAlgoPlot.AlgoSymbol26501(o);case 26502:return new SuperMapAlgoPlot.AlgoSymbol26502(o);case 26503:return new SuperMapAlgoPlot.AlgoSymbol26503(o);case 26600:return new SuperMapAlgoPlot.AlgoSymbol26600(o);case 26601:return new SuperMapAlgoPlot.AlgoSymbol26601(o);case 26700:return new SuperMapAlgoPlot.AlgoSymbol26700(o);case 26800:return new SuperMapAlgoPlot.AlgoSymbol26800(o);case 27100:return new SuperMapAlgoPlot.AlgoSymbol27100(o);case 27300:return new SuperMapAlgoPlot.AlgoSymbol27300(o);case 2730101:return new SuperMapAlgoPlot.AlgoSymbol2730101(o);case 27700:return new SuperMapAlgoPlot.AlgoSymbol27700(o);case 27701:return new SuperMapAlgoPlot.AlgoSymbol27701(o);case 27900:return new SuperMapAlgoPlot.AlgoSymbol27900(o);case 27901:return new SuperMapAlgoPlot.AlgoSymbol27901(o);case 27902:return new SuperMapAlgoPlot.AlgoSymbol27902(o);case 28e3:return new SuperMapAlgoPlot.AlgoSymbol28000(o);case 28100:return new SuperMapAlgoPlot.AlgoSymbol28100(o);case 28200:return new SuperMapAlgoPlot.AlgoSymbol28200(o);case 28201:return new SuperMapAlgoPlot.AlgoSymbol28201(o);case 28300:return new SuperMapAlgoPlot.AlgoSymbol28300(o);case 28301:return new SuperMapAlgoPlot.AlgoSymbol28301(o);case 28400:return new SuperMapAlgoPlot.AlgoSymbol28400(o);case 28900:return new SuperMapAlgoPlot.AlgoSymbol28900(o);case 29e3:return new SuperMapAlgoPlot.AlgoSymbol29000(o);case 29001:return new SuperMapAlgoPlot.AlgoSymbol29001(o);case 29002:return new SuperMapAlgoPlot.AlgoSymbol29002(o);case 29003:return new SuperMapAlgoPlot.AlgoSymbol29003(o);case 29100:return new SuperMapAlgoPlot.AlgoSymbol29100(o);case 29101:return new SuperMapAlgoPlot.AlgoSymbol29101(o);case 29103:return new SuperMapAlgoPlot.AlgoSymbol29103(o);case 29401:return new SuperMapAlgoPlot.AlgoSymbol29401(o);case 29800:return new SuperMapAlgoPlot.AlgoSymbol29800(o);case 29903:return new SuperMapAlgoPlot.AlgoSymbol29903(o);case 3e4:return new SuperMapAlgoPlot.AlgoSymbol30000(o);case 30001:return new SuperMapAlgoPlot.AlgoSymbol30001(o);case 30002:return new SuperMapAlgoPlot.AlgoSymbol30002(o);case 30100:case 4020400:return new SuperMapAlgoPlot.AlgoSymbol30100(o);case 30200:return new SuperMapAlgoPlot.AlgoSymbol30200(o);case 30201:return new SuperMapAlgoPlot.AlgoSymbol30201(o);case 30800:return new SuperMapAlgoPlot.AlgoSymbol30800(o);case 30102:return new SuperMapAlgoPlot.AlgoSymbol30102(o);case 31300:return new SuperMapAlgoPlot.AlgoSymbol31300(o);case 31301:return new SuperMapAlgoPlot.AlgoSymbol31301(o);case 31302:return new SuperMapAlgoPlot.AlgoSymbol31302(o);case 31303:return new SuperMapAlgoPlot.AlgoSymbol31303(o);case 31304:return new SuperMapAlgoPlot.AlgoSymbol31304(o);case 31400:return new SuperMapAlgoPlot.AlgoSymbol31400(o);case 31401:return new SuperMapAlgoPlot.AlgoSymbol31401(o);case 31600:return new SuperMapAlgoPlot.AlgoSymbol31600(o);case 31601:return new SuperMapAlgoPlot.AlgoSymbol31601(o);case 31803:return new SuperMapAlgoPlot.AlgoSymbol31803(o);case 32300:return new SuperMapAlgoPlot.AlgoSymbol32300(o);case 32900:return new SuperMapAlgoPlot.AlgoSymbol32900(o);case 33400:return new SuperMapAlgoPlot.AlgoSymbol33400(o);case 34300:return new SuperMapAlgoPlot.AlgoSymbol34300(o);case 34400:return new SuperMapAlgoPlot.AlgoSymbol34400(o);case 34500:return new SuperMapAlgoPlot.AlgoSymbol34500(o);case 34501:return new SuperMapAlgoPlot.AlgoSymbol34501(o);case 34700:return new SuperMapAlgoPlot.AlgoSymbol34700(o);case 34800:return new SuperMapAlgoPlot.AlgoSymbol34800(o);case 34801:return new SuperMapAlgoPlot.AlgoSymbol34801(o);case 34900:return new SuperMapAlgoPlot.AlgoSymbol34900(o);case 34901:return new SuperMapAlgoPlot.AlgoSymbol34901(o);case 34902:return new SuperMapAlgoPlot.AlgoSymbol34902(o);case 35e3:return new SuperMapAlgoPlot.AlgoSymbol35000(o);case 35200:return new SuperMapAlgoPlot.AlgoSymbol35200(o);case 35304:return new SuperMapAlgoPlot.AlgoSymbol35304(o);case 35500:return new SuperMapAlgoPlot.AlgoSymbol35500(o);case 36400:return new SuperMapAlgoPlot.AlgoSymbol36400(o);case 36401:return new SuperMapAlgoPlot.AlgoSymbol36401(o);case 36600:return new SuperMapAlgoPlot.AlgoSymbol36600(o);case 36700:return new SuperMapAlgoPlot.AlgoSymbol36700(o);case 36800:return new SuperMapAlgoPlot.AlgoSymbol36800(o);case 37100:return new SuperMapAlgoPlot.AlgoSymbol37100(o);case 37200:return new SuperMapAlgoPlot.AlgoSymbol37200(o);case 37300:return new SuperMapAlgoPlot.AlgoSymbol37300(o);case 37301:return new SuperMapAlgoPlot.AlgoSymbol37301(o);case 37600:return new SuperMapAlgoPlot.AlgoSymbol37600(o);case 37601:return new SuperMapAlgoPlot.AlgoSymbol37601(o);case 37700:return new SuperMapAlgoPlot.AlgoSymbol37700(o);case 38600:return new SuperMapAlgoPlot.AlgoSymbol38600(o);case 38700:return new SuperMapAlgoPlot.AlgoSymbol38700(o);case 39e3:return new SuperMapAlgoPlot.AlgoSymbol39000(o);case 39101:return new SuperMapAlgoPlot.AlgoSymbol39101(o);case 39500:return new SuperMapAlgoPlot.AlgoSymbol39500(o);case 39600:return new SuperMapAlgoPlot.AlgoSymbol39600(o);case 39800:return new SuperMapAlgoPlot.AlgoSymbol39800(o);case 39801:return new SuperMapAlgoPlot.AlgoSymbol39801(o);case 39802:return new SuperMapAlgoPlot.AlgoSymbol39802(o);case 4e4:return new SuperMapAlgoPlot.AlgoSymbol40000(o);case 40100:return new SuperMapAlgoPlot.AlgoSymbol40100(o);case 40101:return new SuperMapAlgoPlot.AlgoSymbol40101(o);case 40900:return new SuperMapAlgoPlot.AlgoSymbol40900(o);case 41100:return new SuperMapAlgoPlot.AlgoSymbol41100(o);case 41200:return new SuperMapAlgoPlot.AlgoSymbol41200(o);case 41201:return new SuperMapAlgoPlot.AlgoSymbol41201(o);case 41202:return new SuperMapAlgoPlot.AlgoSymbol41202(o);case 42200:return new SuperMapAlgoPlot.AlgoSymbol42200(o);case 42400:return new SuperMapAlgoPlot.AlgoSymbol42400(o);case 42500:return new SuperMapAlgoPlot.AlgoSymbol42500(o);case 42700:return new SuperMapAlgoPlot.AlgoSymbol42700(o);case 43500:return new SuperMapAlgoPlot.AlgoSymbol43500(o);case 44100:return new SuperMapAlgoPlot.AlgoSymbol44100(o);case 44200:return new SuperMapAlgoPlot.AlgoSymbol44200(o);case 44300:return new SuperMapAlgoPlot.AlgoSymbol44300(o);case 44400:return new SuperMapAlgoPlot.AlgoSymbol44400(o);case 2890001:return new SuperMapAlgoPlot.AlgoSymbol2890001(o);case 3010301:return new SuperMapAlgoPlot.AlgoSymbol3010301(o);case 3010302:return new SuperMapAlgoPlot.AlgoSymbol3010302(o);case 3010303:return new SuperMapAlgoPlot.AlgoSymbol3010303(o);case 3010304:return new SuperMapAlgoPlot.AlgoSymbol3010304(o);case 3010102:return new SuperMapAlgoPlot.AlgoSymbol3010102(o);case 3010103:return new SuperMapAlgoPlot.AlgoSymbol3010103(o);case 3010104:return new SuperMapAlgoPlot.AlgoSymbol3010104(o);case 3010105:return new SuperMapAlgoPlot.AlgoSymbol3010105(o);case 3010106:return new SuperMapAlgoPlot.AlgoSymbol3010106(o);case 3010107:return new SuperMapAlgoPlot.AlgoSymbol3010107(o);case 3010108:return new SuperMapAlgoPlot.AlgoSymbol3010108(o);case 3020901:return new SuperMapAlgoPlot.AlgoSymbol3020901(o);case 3032e3:return new SuperMapAlgoPlot.AlgoSymbol3032000(o);case 4010800:return new SuperMapAlgoPlot.AlgoSymbol4010800(o);case 4010801:return new SuperMapAlgoPlot.AlgoSymbol4010801(o);case 4010905:return new SuperMapAlgoPlot.AlgoSymbol4010905(o);case 4011100:return new SuperMapAlgoPlot.AlgoSymbol4011100(o);case 4011101:return new SuperMapAlgoPlot.AlgoSymbol4011101(o);case 4020303:return new SuperMapAlgoPlot.AlgoSymbol4020303(o);case 4020401:return new SuperMapAlgoPlot.AlgoSymbol4020401(o);case 4020402:return new SuperMapAlgoPlot.AlgoSymbol4020402(o);case 4021101:return new SuperMapAlgoPlot.AlgoSymbol4021101(o);case 4021102:return new SuperMapAlgoPlot.AlgoSymbol4021102(o);case 4022100:return new SuperMapAlgoPlot.AlgoSymbol4022100(o);case 4022101:return new SuperMapAlgoPlot.AlgoSymbol4022101(o);case 4022102:return new SuperMapAlgoPlot.AlgoSymbol4022102(o);case 6020400:return new SuperMapAlgoPlot.AlgoSymbol6020400(o);case 6020401:return new SuperMapAlgoPlot.AlgoSymbol6020401(o);case 6020402:return new SuperMapAlgoPlot.AlgoSymbol6020402(o);case 6020403:return new SuperMapAlgoPlot.AlgoSymbol6020403(o);case 6020404:return new SuperMapAlgoPlot.AlgoSymbol6020404(o);default:return new SuperMapAlgoPlot.AlgoSymbol(o)}},SuperMapAlgoPlot.JBAlgoSymbolFactory.isAccessServer=function(t,e){if(100!==t)return!0;switch(e){case 12500:case 12501:case 12502:case 13700:case 15200:case 15201:case 15202:case 15800:case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:case 15900:case 16e3:case 16001:case 16100:case 16200:case 16201:case 16202:case 16203:case 16500:case 16700:case 16900:case 17400:case 17401:case 17500:case 17501:case 17600:case 17700:case 1770101:case 1770201:case 1770501:case 17703:case 17704:case 17800:case 17801:case 17802:case 17803:case 17804:case 17805:case 17806:case 20300:case 20301:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 21800:case 21900:case 22e3:case 22103:case 22200:case 23400:case 23500:case 23600:case 23700:case 23800:case 23901:case 23902:case 24700:case 25e3:case 25100:case 25101:case 25200:case 25201:case 25202:case 25300:case 25301:case 25400:case 25500:case 25501:case 25502:case 25503:case 25600:case 25601:case 25700:case 25701:case 2570201:case 2570301:case 2570401:case 2570501:case 25800:case 25801:case 25900:case 25901:case 26400:case 26500:case 26501:case 26502:case 26503:case 26600:case 26601:case 26700:case 26800:case 27100:case 27300:case 2730101:case 27700:case 27701:case 27900:case 27901:case 27902:case 28e3:case 28100:case 28200:case 28201:case 28300:case 28301:case 28400:case 28900:case 29e3:case 29001:case 29002:case 29003:case 29100:case 29101:case 29103:case 29401:case 29800:case 29903:case 3e4:case 30001:case 30002:case 30100:case 30200:case 30201:case 30800:case 30102:case 31300:case 31301:case 31302:case 31303:case 31304:case 31400:case 31401:case 31600:case 31601:case 31803:case 32300:case 32900:case 33400:case 34300:case 34400:case 34500:case 34501:case 34700:case 34800:case 34801:case 34900:case 34901:case 34902:case 35e3:case 35200:case 35304:case 35500:case 36400:case 36401:case 36600:case 36700:case 36800:case 37100:case 37200:case 37300:case 37301:case 37600:case 37601:case 37700:case 38600:case 38700:case 39e3:case 39101:case 39500:case 39600:case 39800:case 39801:case 39802:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 4e4:case 40100:case 40101:case 40900:case 41100:case 41200:case 41201:case 41202:case 42200:case 42400:case 42500:case 42700:case 43500:case 44100:case 44200:case 44300:case 44400:case 2350001:case 2890001:case 3010301:case 3010302:case 3010303:case 3010304:case 3020901:case 3032e3:case 4010800:case 4010801:case 4010905:case 4011100:case 4011101:case 4020303:case 4020400:case 4020401:case 4020402:case 4022100:case 4022101:case 4022102:case 6020400:case 6020401:case 6020402:case 6020403:case 6020404:case 4021101:case 4021102:return!1;default:return!0}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getSymbolWayType=function(t,e){if(100!==t)return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN;switch(e){case 15200:case 15201:case 16203:case 17703:case 17704:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 21900:case 22e3:case 22103:case 23800:case 24700:case 25201:case 25400:case 26500:case 26501:case 26502:case 26600:case 28900:case 29e3:case 29003:case 29903:case 3e4:case 30001:case 30002:case 30100:case 30102:case 30200:case 30201:case 30800:case 31803:case 33400:case 34900:case 34901:case 34902:case 35e3:case 36400:case 42200:case 44200:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 16500:case 17400:case 17401:case 17500:case 17501:case 23400:case 23500:case 23600:case 23700:case 27300:case 2730101:case 28200:case 28300:case 28400:case 37600:case 37601:case 37700:case 39e3:case 40100:case 40101:case 42400:case 2350001:case 3032e3:case 4010800:case 4010801:case 4011100:case 4011101:case 4022100:case 4022101:case 4022102:case 39101:case 44300:case 22200:case 27701:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 12500:case 12502:case 16100:case 20300:case 25501:case 25502:case 26503:case 25503:case 25601:case 25801:case 25901:case 32900:case 34700:case 35200:case 36401:case 41200:case 41201:case 41202:case 42700:case 44400:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getDefaultSubSymbols=function(t,e){var o=[];if(100!==t)return o;switch(e){case 17400:case 17401:return o.push(new SuperMapAlgoPlot.SubSymbol(100,17300)),o.push(new SuperMapAlgoPlot.SubSymbol(100,17301)),o;case 21501:case 26502:return o.push(new SuperMapAlgoPlot.SubSymbol(100,19700)),o;case 21502:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6803)),o;case 22103:case 26501:return o.push(new SuperMapAlgoPlot.SubSymbol(100,22100)),o;case 21503:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7900)),o;case 21504:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8404)),o;case 22e3:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1e3)),o;case 23500:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1300)),o;case 23600:return o.push(new SuperMapAlgoPlot.SubSymbol(100,800)),o.push(new SuperMapAlgoPlot.SubSymbol(100,800)),o;case 25300:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6302)),o.push(new SuperMapAlgoPlot.SubSymbol(100,7900)),o;case 25301:return o.push(new SuperMapAlgoPlot.SubSymbol(100,300)),o.push(new SuperMapAlgoPlot.SubSymbol(100,6200)),o;case 25503:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8402)),o;case 26400:return o.push(new SuperMapAlgoPlot.SubSymbol(100,3300)),o;case 26700:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4500)),o;case 27100:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7700)),o;case 27300:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1500)),o;case 2730101:return o.push(new SuperMap.Plot.SubSymbol(100,1500)),o;case 3032e3:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1500)),o.push(new SuperMapAlgoPlot.SubSymbol(100,1500)),o;case 28300:return o.push(new SuperMapAlgoPlot.SubSymbol(100,18600)),o;case 28301:return o.push(new SuperMapAlgoPlot.SubSymbol(100,18600)),o.push(new SuperMapAlgoPlot.SubSymbol(100,18600)),o;case 28400:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4801)),o;case 29001:return o.push(new SuperMapAlgoPlot.SubSymbol(100,5200)),o.push(new SuperMapAlgoPlot.SubSymbol(100,5200)),o;case 29002:return o.push(new SuperMapAlgoPlot.SubSymbol(100,600)),o.push(new SuperMapAlgoPlot.SubSymbol(100,5300)),o;case 23901:case 23902:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4800)),o;case 31600:case 31601:return o.push(new SuperMapAlgoPlot.SubSymbol(100,700)),o;case 29903:case 4021101:return o.push(new SuperMapAlgoPlot.SubSymbol(100,600)),o;case 32900:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6700)),o;case 35200:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6803)),o;case 37700:return o.push(new SuperMapAlgoPlot.SubSymbol(100,37800)),o;case 3010107:return o.push(new SuperMapAlgoPlot.SubSymbol(100,800)),o;case 3010108:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4600)),o;case 4010800:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1300)),o;case 4010801:case 4022100:case 4022101:case 4022102:case 4021102:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8400)),o;case 31303:case 31302:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4400)),o;case 4010905:return o.push(new SuperMapAlgoPlot.SubSymbol(100,700)),o;case 31803:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8402)),o;case 34400:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6202)),o;case 34501:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8403)),o;case 35304:return o.push(new SuperMapAlgoPlot.SubSymbol(100,35301)),o;case 36401:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7200)),o;case 36600:return o.push(new SuperMapAlgoPlot.SubSymbol(100,300)),o;case 37100:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8e3)),o;case 37200:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7101)),o;case 37600:case 37601:case 38600:case 38700:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4600)),o;case 39e3:return o.push(new SuperMapAlgoPlot.SubSymbol(100,9300)),o.push(new SuperMapAlgoPlot.SubSymbol(100,9300)),o.push(new SuperMapAlgoPlot.SubSymbol(100,9300)),o;case 39101:return o.push(new SuperMapAlgoPlot.SubSymbol(100,39100)),o;case 39500:case 39600:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8700)),o;case 39800:case 39801:case 39802:case 4e4:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8900)),o;case 36700:return o.push(new SuperMapAlgoPlot.SubSymbol(100,300)),o;case 42200:return o.push(new SuperMapAlgoPlot.SubSymbol(100,20901)),o;case 4011100:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4e3)),o.push(new SuperMapAlgoPlot.SubSymbol(100,4001)),o;case 4011101:return o.push(new SuperMapAlgoPlot.SubSymbol(100,700)),o.push(new SuperMapAlgoPlot.SubSymbol(100,700)),o;case 2350001:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7900)),o.push(new SuperMapAlgoPlot.SubSymbol(100,1300)),o;case 2890001:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4003)),o;default:return o}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getMinEditPts=function(t,e){if(100!==t)return 0;switch(e){case 12500:case 12501:case 12502:case 13700:case 15200:case 15201:case 15202:case 15800:case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:case 15900:case 16e3:case 16001:case 16200:case 16201:case 16202:case 16203:case 16500:case 16700:case 16900:case 17400:case 17401:case 17500:case 17501:case 17600:case 17700:case 1770101:case 1770201:case 1770501:case 17703:case 17704:case 17800:case 17801:case 17802:case 17803:case 17804:case 17805:case 17806:case 20300:case 20301:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 21800:case 21900:case 22e3:case 22103:case 22200:case 23400:case 23500:case 23600:case 23700:case 23800:case 23901:case 23902:case 24700:case 25e3:case 25100:case 25101:case 25201:case 25202:case 25300:case 25301:case 25400:case 26400:case 26500:case 26501:case 26502:case 26503:case 26600:case 26601:case 26700:case 26800:case 27100:case 27300:case 2730101:case 27700:case 27701:case 27900:case 27901:case 27902:case 28e3:case 28100:case 28200:case 28201:case 28300:case 28301:case 28400:case 28900:case 29e3:case 29001:case 29002:case 29003:case 29100:case 29101:case 29103:case 29401:case 29903:case 41100:case 44100:case 43500:case 42500:case 39500:case 37301:case 37300:case 37200:case 37100:case 36800:case 36600:case 35500:case 34801:case 34800:case 34501:case 34500:case 34400:case 34300:case 31600:case 31601:case 31401:case 31400:case 31304:case 31303:case 31302:case 31301:case 31300:case 44200:case 41200:case 41201:case 41202:case 31803:case 30800:case 30201:case 30200:case 44300:case 42400:case 42200:case 40900:case 40100:case 40101:case 4e4:case 39802:case 39801:case 39800:case 39600:case 39101:case 39e3:case 38600:case 37700:case 37601:case 37600:case 36700:case 36401:case 36400:case 35304:case 35200:case 35e3:case 34700:case 33400:case 30100:case 30102:case 30002:case 30001:case 3e4:case 38700:case 32300:case 42700:case 34902:case 34901:case 34900:case 32900:case 2350001:case 2890001:case 3032e3:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 3020901:case 4021101:case 4021102:case 4010800:case 4010801:case 4011100:case 4011101:case 4022101:case 4022102:case 4020303:case 4020400:case 4020401:case 4020402:case 4022100:case 4010905:case 6020400:case 6020401:case 6020402:case 6020403:case 6020404:case 25500:case 25501:case 25502:case 25503:case 25600:case 25601:case 25700:case 25701:case 2570201:case 2570301:case 2570401:case 2570501:case 25800:case 25801:case 25900:case 25901:case 44400:return 2;case 16100:case 25200:case 29800:return 3;default:return 0}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getMaxEditPts=function(t,e){if(100!==t)return 0;switch(e){case 15202:case 16202:case 20301:case 16700:case 16900:case 17600:case 25e3:case 25100:case 25101:case 25300:case 25301:case 27100:case 27700:case 27900:case 27901:case 27902:case 28100:case 28201:case 28301:case 44100:case 43500:case 42500:case 39500:case 37301:case 37300:case 37200:case 37100:case 36800:case 36600:case 35500:case 34801:case 34800:case 34501:case 34500:case 34400:case 34300:case 31600:case 31601:case 31401:case 31400:case 31304:case 31303:case 31302:case 31301:case 31300:case 21800:case 26700:case 29401:case 1770101:case 1770201:return 2;case 13700:case 17800:case 17801:case 17802:case 17803:case 17804:case 17805:case 17806:case 23901:case 23902:case 38700:case 26800:case 29001:case 29002:case 32300:case 29101:case 29100:case 4010905:case 6020400:case 6020401:case 6020402:case 6020403:case 29e3:return 3;case 28e3:return 4;case 16201:case 17400:case 17401:case 17500:case 17501:case 22200:case 23400:case 23500:case 2350001:case 23600:case 23700:case 23800:case 25200:case 27300:case 2730101:case 27701:case 28400:case 44300:case 42400:case 42200:case 40900:case 40100:case 40101:case 4e4:case 39802:case 39801:case 39800:case 39600:case 39101:case 39e3:case 38600:case 37700:case 37601:case 37600:case 36700:case 36401:case 36400:case 35304:case 35200:case 35e3:case 34700:case 33400:case 30100:case 30102:case 30002:case 30001:case 3e4:case 29903:case 29800:case 3032e3:case 4010800:case 4010801:case 4011100:case 4011101:case 4022101:case 4022102:case 4020303:case 4020400:case 4020401:case 4020402:case 4022100:case 16500:return 30;case 42700:case 34902:case 34901:case 34900:case 32900:case 6020404:return 512;case 12500:case 12501:case 12502:case 16e3:case 16001:case 16100:case 16200:case 16203:case 17700:case 1770501:case 17703:case 17704:case 21900:case 22e3:case 22103:case 25201:case 25202:case 24700:case 25400:case 25500:case 25501:case 25502:case 25503:case 25600:case 25601:case 25700:case 25701:case 2570201:case 2570301:case 2570401:case 2570501:case 25800:case 25801:case 25900:case 25901:case 28900:case 2890001:case 44400:case 44200:case 41200:case 41201:case 41202:case 31803:case 30800:case 30201:case 30200:case 4021102:case 29103:case 28300:case 28200:case 29003:return 1e3;case 15200:case 15201:case 15800:case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:case 15900:case 20300:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 26400:case 26500:case 26501:case 26502:case 26503:case 26600:case 26601:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 3020901:case 4021101:case 41100:return 9999;default:return 0}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getDefaultStyle=function(t,e){var o={};if(100===t)switch(e){case 34800:case 34801:case 22200:case 28e3:case 28100:case 28200:case 28201:case 44400:o.color=o.strokeColor="#0000ff";break;case 42500:case 42700:o.color=o.strokeColor="#00ff00";break;case 42400:o.color=o.strokeColor="#006600"}return o},SuperMapAlgoPlot.JBAlgoSymbolFactory.zoomInCalSymbol=function(){return!1}}();

/***/ }),
/* 2 */
/***/ (function(module, exports) {

!function(){"use strict";function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var l,r=n(e);if(o){var i=n(this).constructor;l=Reflect.construct(r,arguments,i)}else l=r.apply(this,arguments);return function(e,o){if(o&&("object"===t(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,l)}}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,SuperMapAlgoPlot.AlgoSymbol);var n,r,i,a=l(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),0===(e=a.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return n=u,(r=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[0].x+p[p.length-1].x)/2,(u[0].y+p[p.length-1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],.5*(l-1.2*s)),g=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=[];y.push(P),y.push.apply(y,u),y.push.apply(y,p),y.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(y)),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,.9*s,g-90),this.scalePoints=[],this.addScalePoint(u[u.length-1]);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,g+90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90+i),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90+i),p=new SuperMapAlgoPlot.Point((a.x+u.x)/2,(a.y+u.y)/2),s=SuperMapAlgoPlot.PlottingUtil.distance(p,e)/l;s>=.8&&(s=.8),this.scaleValues[1]=s}}}}])&&e(n.prototype,r),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),u}();function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=s(t);if(e){var n=s(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27100=r;var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.03));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0];this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var l=this.scaleValues[1]*e,n=o*e,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,n);if(-1!==r.index){for(var i=r.pt,a=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[i,new SuperMapAlgoPlot.Point(i.x+l,i.y)]),u=0;u<t.length-1;u++){var p,s=t[u],c=t[u+1],P=SuperMapAlgoPlot.PlottingUtil.distance(i,s),f=SuperMapAlgoPlot.PlottingUtil.distance(i,c);if(!(P<l&&f<l))if(P>l&&f<l||P<l&&f>l){var g;g=P>l?s:c,(p=this.getLineAddCircleIntersectPts(s,c,a)).length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p[0],g])}else{var y=SuperMapAlgoPlot.PlottingUtil.projectPoint(i,s,c);if(SuperMapAlgoPlot.PlottingUtil.distance(i,y)>=l)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c]);else if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(y,s,c)){if((p=this.getLineAddCircleIntersectPts(s,c,a)).length>0){p.unshift(s),p.push(c);for(var h=0;h<p.length-1;h++)this.isLineInCircle(p[h],p[h+1],i,l)||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p[h],p[h+1]])}}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c])}}this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[i,new SuperMapAlgoPlot.Point(i.x+l,i.y)]),this.scalePoints=[];var S=i;S.isScalePoint=!0,S.tag=0,this.scalePoints.push(S);var b=new SuperMapAlgoPlot.Point(i.x+l,i.y);b.isScalePoint=!0,b.tag=1,this.scalePoints.push(b),this.finish()}}}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return l>SuperMapAlgoPlot.PlottingUtil.distance(n,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var l=o.slice();l[0].x===l[l.length-1].x&&l[0].y===l[l.length-1].y||l.push(l[0]);for(var n,r=[],i=0;i<l.length-1;i++){var a=l[i],u=l[i+1],p=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,a,u);p.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,a,u)&&r.push(p.intersectPoint)}for(var s=0;s<r.length-1;s++)SuperMapAlgoPlot.PlottingUtil.isSamePt(r[s],r[s+1])&&(r.splice(s,1),s--);if(t.x>e.x)for(var c=0;c<r.length&&c!=r.length-1;c++)r[c].x<r[c+1].x&&(n=r[c],r[c]=r[c+1],r[c+1]=n);else if(t.x<e.x)for(var P=0;P<r.length&&P!=r.length-1;P++)r[P].x>r[P+1].x&&(n=r[P],r[P]=r[P+1],r[P+1]=n);else if(t.y>e.y)for(var f=0;f<r.length&&f!=r.length-1;f++)r[f].y<r[f+1].y&&(n=r[f],r[f]=r[f+1],r[f+1]=n);else if(t.y<e.y)for(var g=0;g<r.length&&g!=r.length-1;g++)r[g].y>r[g+1].y&&(n=r[g],r[g]=r[g+1],r[g+1]=n);return r}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){for(var n=0,r=-1,i=null,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.projectPoint,o[a],o[a+1])){var p=SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e);0==n?(n=p,r=a,i=u.projectPoint):p<n&&(n=p,r=a,i=u.projectPoint)}}if(-1==r)return;for(var s=0,c=0;c<r;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[c],o[c+1]);var P=(s+=SuperMapAlgoPlot.PlottingUtil.distance(i,o[r]))/l;P>1&&(P=1),this.scaleValues[0]=P}if(1===t){var f=this.scaleValues[0]*l,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);if(-1===g.index)return;var y=SuperMapAlgoPlot.PlottingUtil.distance(g.pt,e)/l;y>.4&&(y=.4),this.scaleValues[1]=y}}}}])&&a(e.prototype,o),l&&a(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function P(t){"@babel/helpers - typeof";return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=h(t);if(e){var n=h(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12500=c;var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=y(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.03),e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();this.scaleValues[0]=e,this.scaleValues[1]=.5*e,this.scaleValues[3]=.5*e}var o=this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);var i=this.GetCurvePts(t,o,l);if(0!==i.pt.length){var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r)*n,u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,a);if(-1!==u.index){for(var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],s=[],c=0;c<360;c+=12)s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,p,p,c));s.push(s[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var P=[],f=[],g=0;g<i.pt.length;g++)SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(s,i.pt[g])?f.length>1&&(P.push(f),f=[]):f.push(i.pt[g]);f.length>1&&P.push(f);for(var y=0;y<P.length;y++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[y]);var h=new SuperMapAlgoPlot.Point(i.pt[0].x,i.pt[0].y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h);var S=new SuperMapAlgoPlot.Point(i.scalePt.x,i.scalePt.y);S.isScalePoint=!0,S.tag=1,this.scalePoints.push(S);var b=new SuperMapAlgoPlot.Point(u.pt.x,u.pt.y);b.isScalePoint=!0,b.tag=2,this.scalePoints.push(b);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(u.pt.x,u.pt.y),p,p,0),d=new SuperMapAlgoPlot.Point(A.x,A.y);d.isScalePoint=!0,d.tag=3,this.scalePoints.push(d),this.finish()}else this.finish()}else this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(null!=e&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(4>this.scaleValues.length)return;var l,n,r,i,a,u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),s=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var c=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),P=SuperMapAlgoPlot.PlottingUtil.distance(c,s);n=2*P/u,this.scaleValues[1]=n}else if(1===t)c=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),l=(P=SuperMapAlgoPlot.PlottingUtil.distance(c,s))/u,this.scaleValues[0]=l;else if(2==t){var f=-1,g=0;a=new SuperMapAlgoPlot.Point(0,0),l=this.scaleValues[0],n=this.scaleValues[1];for(var y=0;y<p.length-1;y++){var h=p[y],S=p[y+1],b=SuperMapAlgoPlot.PlottingUtil.projectPoint(s,h,S);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(b,h,S)){var A=SuperMapAlgoPlot.PlottingUtil.distance(s,b);-1==f?(f=y,a=b,g=A):g>A&&(f=y,a=b,g=A)}}if(-1==f||f>p.length-1)return;i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);for(var d=[],M=0;M<f;M++)d.push(p[M]);d.push(a);var v=SuperMapAlgoPlot.PlottingUtil.polylineDistance(d);if(v<0||v>i)return;r=v/i,this.scaleValues[2]=r}else if(3===t){l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2];var m=(i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p))*r;if(-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,m)).index)return;var O=SuperMapAlgoPlot.PlottingUtil.distance(a.pt,e)/u;O>.4&&(O=.4),this.scaleValues[3]=O}}}},{key:"GetCurvePts",value:function(t,e,o){for(var l,n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=r*e,a=r*o/2,u=[],p=[],s=n[0],c=!1,P=n[0],f=1;f<n.length;f++){var g=n[f],y=SuperMapAlgoPlot.PlottingUtil.distance(s,g);if(!(y<i&&f!==n.length-1)){for(var h,S=parseInt(y/i),b=0;b<S;b++){h=SuperMapAlgoPlot.PlottingUtil.linePnt(s,g,i),c||(l=h,c=!0);var A=this.GetCosPts2D(s,h,i,a);u=p.length>1&&0===b?this.ClearCurvePts2D(P,s,g,p,A,u):u.concat(A),p=(p=[]).concat(A),P=s,s=h}f===n.length-1&&(h=n[n.length-1],A=this.GetCosPts2D(s,h,i,a),u=p.length>1&&A.length>1?this.ClearCurvePts2D(P,s,g,p,A,u):u.concat(A))}}return{pt:u,scalePt:l}}},{key:"GetCosPts2D",value:function(t,e,o,l){for(var n=[],r=SuperMapAlgoPlot.PlottingUtil.distance(t,e),i=o/30,a=0;a<r;a+=i){var u=a*(2*Math.PI/o),p=l*Math.cos(u),s=new SuperMapAlgoPlot.Point(a,p),c=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,c);n.push(P)}return n}},{key:"ClearCurvePts2D",value:function(t,e,o,l,n,r){for(var i=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,a=180*SuperMapAlgoPlot.PlottingUtil.radian(e,t)/Math.PI-i;a<=0;)a+=360;var u=a/2,p=o;p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,u*Math.PI/180,p);for(var s=SuperMapAlgoPlot.PlottingUtil.linePnt(e,p,1),c=0,P=0;P<l.length;P++)if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,l[P])){c=P;break}if(0!=c)for(var f=0;f<l.length-c;f++)r.slice(f,r.length-1);for(var g=0;g<n.length;g++)SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,n[g])&&r.push(n[g]);return r}}])&&f(e.prototype,o),l&&f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function b(t){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=v(t);if(e){var n=v(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12501=S;var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol12500);var e,o,l,n=M(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.03));for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0];this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var n=this.scaleValues[1]*e,r=l*e,i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,r);if(-1!==i.index){for(var a,u=i.pt,p=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[u,new SuperMapAlgoPlot.Point(u.x+n,u.y)]),s=0;s<t.length-1;s++){var c,P=t[s];a=t[s+1];var f=SuperMapAlgoPlot.PlottingUtil.distance(u,P),g=SuperMapAlgoPlot.PlottingUtil.distance(u,a);if(!(f<n&&g<n))if(f>n&&g<n||f<n&&g>n){var y;y=f>n?P:a,(c=this.getLineAddCircleIntersectPts(P,a,p)).length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c[0],y])}else{var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(u,P,a);if(SuperMapAlgoPlot.PlottingUtil.distance(u,h)>=n)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,a]);else if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(h,P,a)){if((c=this.getLineAddCircleIntersectPts(P,a,p)).length>0){c.unshift(P),c.push(a);for(var S=0;S<c.length-1;S++)this.isLineInCircle(c[S],c[S+1],u,n)||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c[S],c[S+1]])}}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,a])}}var b=0;c&&(b=SuperMapAlgoPlot.PlottingUtil.radian(u,c[c.length-1])*SuperMapAlgoPlot.PlottingUtil.RTOD);var A=[];a=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,-n,-n,b),A.push(a,u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var d=SuperMapAlgoPlot.PlottingUtil.radian(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,M=[],v=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.8*n,.8*n,d+170),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.8*n,.8*n,d-170);M.push(v),M.push(m),M.push(u);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[u,new SuperMapAlgoPlot.Point(u.x+n,u.y)]),this.addScalePoint(u,0),this.addScalePoint(new SuperMapAlgoPlot.Point(u.x+n,u.y),1),this.finish()}}}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return l>SuperMapAlgoPlot.PlottingUtil.distance(n,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var l=o.slice();l[0].x===l[l.length-1].x&&l[0].y===l[l.length-1].y||l.push(l[0]);for(var n,r=[],i=0;i<l.length-1;i++){var a=l[i],u=l[i+1],p=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,a,u);p.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,a,u)&&r.push(p.intersectPoint)}for(var s=0;s<r.length-1;s++)SuperMapAlgoPlot.PlottingUtil.isSamePt(r[s],r[s+1])&&(r.splice(s,1),s--);if(t.x>e.x)for(var c=0;c<r.length&&c!=r.length-1;c++)r[c].x<r[c+1].x&&(n=r[c],r[c]=r[c+1],r[c+1]=n);else if(t.x<e.x)for(var P=0;P<r.length&&P!=r.length-1;P++)r[P].x>r[P+1].x&&(n=r[P],r[P]=r[P+1],r[P+1]=n);else if(t.y>e.y)for(var f=0;f<r.length&&f!=r.length-1;f++)r[f].y<r[f+1].y&&(n=r[f],r[f]=r[f+1],r[f+1]=n);else if(t.y<e.y)for(var g=0;g<r.length&&g!=r.length-1;g++)r[g].y>r[g+1].y&&(n=r[g],r[g]=r[g+1],r[g+1]=n);return r}}])&&A(e.prototype,o),l&&A(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function O(t){"@babel/helpers - typeof";return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function U(t,e){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=T(t);if(e){var n=T(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12502=m;var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=L(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e;if(2===t.length)e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);else if(3===t.length){var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0>=r)return;this.scaleValues=[];var i=SuperMapAlgoPlot.PlottingUtil.distance(o,l)/r;this.scaleValues.push(i);var a=180*SuperMapAlgoPlot.PlottingUtil.radian(o,l)/Math.PI;a>90?a-=90:a=270+a,this.scaleValues.push(a*(Math.PI/180));var u=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI;u>90?u-=90:u=270+u,this.scaleValues.push(u*(Math.PI/180)),e=this.scaleValues[0]*r;var p=this.scaleValues[1]*(180/Math.PI)+90,s=this.scaleValues[2]*(180/Math.PI)+90;p<s&&(p+=360);for(var c,P=[],f=p;f>=s;f-=4)c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,f),P.push(c);f!=s&&(c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,s),P.push(c)),this.controlPoints[2]=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P)}this.finish()}}}])&&w(e.prototype,o),l&&w(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function R(t){"@babel/helpers - typeof";return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=x(t);if(e){var n=x(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol13700=j;var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=E(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);for(var o=0,l=0,n=e.length-1;l<n;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);for(var r=0,i=0,a=t.length-1;i<a;i++)r+=SuperMapAlgoPlot.PlottingUtil.distance(t[i],t[i+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());for(var u=this.scaleValues[0]*r,p=this.scaleValues[1],s=this.scaleValues[2]*r,c=.3*s,P=s;P<o;P+=s){var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e);if(-1===f.index)return void this.finish();var g=P+c,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,e);if(-1===y.index)return void this.finish();var h=[],S=[];h.push(f.pts);var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[f.index],f.pts);0===p?h.push(new SuperMapAlgoPlot.Point(b.pntLeft.x,b.pntLeft.y)):h.push(new SuperMapAlgoPlot.Point(b.pntRight.x,b.pntRight.y)),S.push(y.pts);var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[y.index],y.pts);if(0===p?S.push(new SuperMapAlgoPlot.Point(A.pntLeft.x,A.pntLeft.y)):S.push(new SuperMapAlgoPlot.Point(A.pntRight.x,A.pntRight.y)),s===P){this.scalePoints=[];var d=new SuperMapAlgoPlot.Point(h[1].x,h[1].y);d.isScalePoint=!0,d.tag=0,this.scalePoints.push(d),(d=new SuperMapAlgoPlot.Point(h[0].x,h[0].y)).isScalePoint=!0,d.tag=1,this.scalePoints.push(d)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;for(var l=0,n=0,r=o.length-1;n<r;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),a=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,l*this.scaleValues[2]);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.distance(u.pt,a)/l,s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i[0],i[1],e);this.scaleValues[1]=s?1:0,this.scaleValues[0]=p}else if(1===t){for(var c=0,P=-1,f=[],g=0,y=i.length-1;g<y;g++){var h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i[g],i[g+1]);if(h.isOnline){var S=SuperMapAlgoPlot.PlottingUtil.distance(h.projectPoint,this.controlPoints[1]);0==c?(c=S,P=g,f=e):S<c&&(c=S,P=g,f=e)}}if(-1==P)return;for(var b=0,A=0,d=P-1;A<d;A++)b+=SuperMapAlgoPlot.PlottingUtil.distance(i[A],i[A+1]);var M=(b+=SuperMapAlgoPlot.PlottingUtil.distance(f,i[P]))/l;M>.7&&(M=.7),this.scaleValues[2]=M}}}}])&&V(e.prototype,o),l&&V(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function C(t){"@babel/helpers - typeof";return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function I(t,e){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=N(t);if(e){var n=N(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15200=B;var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=D(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&Y(e.prototype,o),l&&Y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function z(t){"@babel/helpers - typeof";return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function G(t,e){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=J(t);if(e){var n=J(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15201=k;var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=W(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(parseFloat(.1732)),e.scaleValues.push(.1),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0]*l,r=this.scaleValues[1]*l,i=this.scaleValues[2],a=null;if(1===i){var u=SuperMapAlgoPlot.PlottingUtil.linePnt(o,e,l+n);a=new SuperMapAlgoPlot.Point(u.x,u.y)}else u=SuperMapAlgoPlot.PlottingUtil.linePnt(o,e,l-n),a=new SuperMapAlgoPlot.Point(u.x,u.y);var p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*r,t[0],a),s=[];s.push(p.pntRight),s.push(t[0]),s.push(p.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=[],P=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(1===i){var f=new SuperMapAlgoPlot.Point(2*P.x-p.pntLeft.x,2*P.y-p.pntLeft.y);c.push(f),c.push(t[1]);var g=new SuperMapAlgoPlot.Point(2*P.x-p.pntRight.x,2*P.y-p.pntRight.y);c.push(g)}else f=new SuperMapAlgoPlot.Point(2*P.x-p.pntRight.x,2*P.y-p.pntRight.y),c.push(f),c.push(t[1]),g=new SuperMapAlgoPlot.Point(2*P.x-p.pntLeft.x,2*P.y-p.pntLeft.y),c.push(g);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.finish()}}}])&&F(e.prototype,o),l&&F(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function K(t){"@babel/helpers - typeof";return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Q(t,e){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Z(t);if(e){var n=Z(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15202=H;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=X(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.04),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=0;y<f-1;++y){var h=new SuperMapAlgoPlot.Point(u[y].x,u[y].y),S=new SuperMapAlgoPlot.Point(u[y+1].x,u[y+1].y);g=.3*SuperMapAlgoPlot.PlottingUtil.distance(h,S);var b=[],A=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,u[y],u[y+1]),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*g,u[y],A);b.push(d.pntLeft),b.push(d.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?1:0}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f.isOnline){p=f.projectPoint,s=c;break}}if(-1===s)return void(this.scaleValues[2]=.05);for(var g=[],y=0,h=s;y<=h;y++)g.push(l[y]);g.push(p);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g)/n;if(S>=1)return;this.scaleValues[2]=S}}}}])&&q(e.prototype,o),l&&q(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tt(t){"@babel/helpers - typeof";return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ot(t,e){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nt(t);if(e){var n=nt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15800=$;var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=lt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=new SuperMapAlgoPlot.Point(0,0),p=[],s=0;s<=a;s+=r){var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s);if(!(c.index<0)){var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt);if(i?p.push(P.pntRight):p.push(P.pntLeft),Math.abs(s)<=1e-6){this.scalePoints=[];var f=new SuperMapAlgoPlot.Point(p[0].x,p[0].y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f)}else Math.abs(2*r-s)<=1e-6&&((f=new SuperMapAlgoPlot.Point(c.pt.x,c.pt.y)).isScalePoint=!0,f.tag=1,this.scalePoints.push(f));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);for(var g=p.length,y=0,h=0;h<g-1;++h){var S=new SuperMapAlgoPlot.Point(p[h].x,p[h].y),b=new SuperMapAlgoPlot.Point(p[h+1].x,p[h+1].y);y=.3*SuperMapAlgoPlot.PlottingUtil.distance(S,b);var A=[],d=[],M=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.35,p[h],p[h+1]);u=new SuperMapAlgoPlot.Point((p[h].x+p[h+1].x)/2,(p[h].y+p[h+1].y)/2);var v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*y,p[h],M);A.push(v.pntLeft),A.push(v.pntRight),d.push(new SuperMapAlgoPlot.Point(2*u.x-v.pntLeft.x,2*u.y-v.pntLeft.y)),d.push(new SuperMapAlgoPlot.Point(2*u.x-v.pntRight.x,2*u.y-v.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d)}this.finish()}}}}])&&et(e.prototype,o),l&&et(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function it(t){"@babel/helpers - typeof";return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ut(t,e){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=st(t);if(e){var n=st(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15801=rt;var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=pt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u,p=[],s=0;s<=a;s+=r){var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s);if(!(c.index<0)){var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt);if(i?p.push(P.pntRight):p.push(P.pntLeft),Math.abs(s)<=1e-6){this.scalePoints=[];var f=new SuperMapAlgoPlot.Point(p[0].x,p[0].y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f)}else Math.abs(2*r-s)<=1e-6&&((f=new SuperMapAlgoPlot.Point(c.pt.x,c.pt.y)).isScalePoint=!0,f.tag=1,this.scalePoints.push(f));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);for(var g=p.length,y=0,h=0;h<g-1;++h){var S=new SuperMapAlgoPlot.Point(p[h].x,p[h].y),b=new SuperMapAlgoPlot.Point(p[h+1].x,p[h+1].y);y=.3*SuperMapAlgoPlot.PlottingUtil.distance(S,b);var A=[],d=[],M=[],v=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.35,p[h],p[h+1]);u=new SuperMapAlgoPlot.Point((p[h].x+p[h+1].x)/2,(p[h].y+p[h+1].y)/2);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*y,p[h],u);d.push(m.pntLeft,m.pntRight);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*y,p[h],v);A.push(O.pntLeft,O.pntRight),M.push(new SuperMapAlgoPlot.Point(2*u.x-O.pntLeft.x,2*u.y-O.pntLeft.y)),M.push(new SuperMapAlgoPlot.Point(2*u.x-O.pntRight.x,2*u.y-O.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M)}this.finish()}}}}])&&at(e.prototype,o),l&&at(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pt(t){"@babel/helpers - typeof";return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gt(t,e){return(gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ht(t);if(e){var n=ht(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15802=ct;var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=yt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=0;y<f-1;++y){var h=new SuperMapAlgoPlot.Point(u[y].x,u[y].y),S=new SuperMapAlgoPlot.Point(u[y+1].x,u[y+1].y);g=.3*SuperMapAlgoPlot.PlottingUtil.distance(h,S);var b=[],A=[];if(y!==f-2){var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*g,u[y],u[y+1]);b.push(d.pntLeft),b.push(d.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}if(0!==y){var M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*g,u[y+1],u[y]);A.push(M.pntLeft),A.push(M.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A)}}this.finish()}}}}])&&ft(e.prototype,o),l&&ft(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bt(t){"@babel/helpers - typeof";return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dt(t,e){return(dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vt(t);if(e){var n=vt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15803=St;var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=Mt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.029615),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=0;y<f-1;++y){var h=new SuperMapAlgoPlot.Point(u[y].x,u[y].y),S=new SuperMapAlgoPlot.Point(u[y+1].x,u[y+1].y);g=.3*SuperMapAlgoPlot.PlottingUtil.distance(h,S);var b=[],A=new SuperMapAlgoPlot.Point(.5*(h.x+S.x),.5*(h.y+S.y)),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,M=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,g,g,d+90),v=1.5*g,m=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,v,v,d+260),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,v,v,d+280);b.push(m),b.push(M),b.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.finish()}}}}])&&At(e.prototype,o),l&&At(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ot(t){"@babel/helpers - typeof";return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ut(t,e){return(Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tt(t);if(e){var n=Tt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15804=mt;var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=Lt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=45*Math.PI/180,h=45*Math.PI/180,S=0;S<f-1;S+=2){var b=[],A=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.3,u[S],u[S+1]);b.push(A);var d=new SuperMapAlgoPlot.Point(u[S].x,u[S].y),M=new SuperMapAlgoPlot.Point(u[S+1].x,u[S+1].y);g=SuperMapAlgoPlot.PlottingUtil.distance(d,M);var v=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.6,u[S],u[S+1]),m=new SuperMapAlgoPlot.Point(v.x,v.y);m=SuperMapAlgoPlot.PlottingUtil.rotateAngle(A,y,v),b.push(m);var O=.15*g;v=SuperMapAlgoPlot.PlottingUtil.linePnt(b[1],b[0],O);var w=new SuperMapAlgoPlot.Point(v.x,v.y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(m,h,w),b.push(w);var U=new SuperMapAlgoPlot.Point(b[1].x-b[0].x+b[2].x,b[1].y-b[0].y+b[2].y);b.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.finish()}}}}])&&wt(e.prototype,o),l&&wt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Rt(t){"@babel/helpers - typeof";return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _t(t,e){return(_t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xt(t);if(e){var n=xt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15805=jt;var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Et(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.06),e.scaleValues.push(1),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(t.length>=this.minEditPts){this.scalePoints=[];var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=.6*n,i=this.scaleValues[2]*l,a=0===this.scaleValues[1],u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===u)return;for(var p=[],s=0;s<=u;s+=i){var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s);if(!(c.index<0)){var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt);if(a?p.push(P.pntRight):p.push(P.pntLeft),!((c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.65*i)).index<0||(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[c.index+1],c.pt),a?p.push(P.pntRight):p.push(P.pntLeft),(c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.8*i)).index<0||(p.push(c.pt),(c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.5*i)).index<0||(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt),a?p.push(P.pntLeft):p.push(P.pntRight),c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.2*i),p.push(c.pt),(c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+.35*i)).index<0||(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[c.index+1],c.pt),a?p.push(P.pntRight):p.push(P.pntLeft),(c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s+i)).index<0||(P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[c.index+1],c.pt),a?p.push(P.pntRight):p.push(P.pntLeft),!(Math.abs(s)<=1e-6)))))))){this.scalePoints=[];var f=new SuperMapAlgoPlot.Point(p[0].x,p[0].y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f),(f=new SuperMapAlgoPlot.Point(c.pt.x,c.pt.y)).isScalePoint=!0,f.tag=1,this.scalePoints.push(f)}}}var g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(p);SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l,n,r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,r[1],r[0]),l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(new SuperMapAlgoPlot.Point(e.x,e.y),n.pntRight,n.pntLeft);var a=SuperMapAlgoPlot.PlottingUtil.distance(l.projectPoint,o[0])/i;this.scaleValues[0]=a;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(r[0],r[1],new SuperMapAlgoPlot.Point(e.x,e.y));this.scaleValues[1]=u?1:0}else{for(var p,s=-1,c=0;c<r.length-1;c++)if((l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(new SuperMapAlgoPlot.Point(e.x,e.y),r[c],r[c+1])).isOnline){p=l.projectPoint,s=c;break}if(-1===s)return void(this.scaleValues[2]=.05);for(var P=[],f=0;f<=s;f++)P.push(r[f]);P.push(p);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P);this.scaleValues[2]=g/i}}}}])&&Vt(e.prototype,o),l&&Vt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ct(t){"@babel/helpers - typeof";return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function It(t,e){return(It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nt(t);if(e){var n=Nt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15806=Bt;var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Dt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(1),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,l=0;l<t.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1]);var n=o*this.scaleValues[0],r=o*this.scaleValues[2],i=!1;i=0===this.scaleValues[0];for(var a=0,u=0;u<e.length-1;u++)a+=SuperMapAlgoPlot.PlottingUtil.distance(e[u],e[u+1]);if(0!==a){for(var p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(-1!==s.index){var c=[],P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);i?c.push(P.pntRight):c.push(P.pntLeft);var f=p+r,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,f);if(-1!==g.index){var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[g.index+1],g.pt);i?c.push(y.pntLeft):c.push(y.pntRight),Math.abs(p)<1e-6&&(this.addScalePoint(c[0],0),this.addScalePoint(g.pt,1)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}}}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?1:0}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f.isOnline){p=f.projectPoint,s=c;break}}if(-1===s)return;for(var g=[],y=0,h=s;y<=h;y++)g.push(l[y]);g.push(p);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g);this.scaleValues[2]=S/n}}}}])&&Yt(e.prototype,o),l&&Yt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zt(t){"@babel/helpers - typeof";return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ft(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gt(t,e){return(Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jt(t);if(e){var n=Jt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15900=kt;var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Wt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.getSubSymbolScaleValue();this.isEdit||(this.scaleValues[0]=.5*l);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!1);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);for(var a=e*this.scaleValues[1],u=.5*n,p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=u,c=0;s<p;s+=a,c++){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,s);if(-1!==P.index){var f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,o[P.index+1],P.pt),g=[];g.push(f.pntLeft),g.push(f.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),0===c?this.addScalePoint(f.pntRight,0):1===c&&this.addScalePoint(P.pt,1)}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),0==t){r=.5*(l*this.scaleValues[0]);var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===a.index)return;var u=SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=u/l}else if(1===t){r=.5*(l*this.scaleValues[0]);var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===p.index)return;var s=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,i);if(-1==s.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,i[p.index+1]),P=p.index+1;P<s.index;P++)c+=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(i[s.index],s.pt),this.scaleValues[1]=c/l}}}}])&&Ft(e.prototype,o),l&&Ft(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kt(t){"@babel/helpers - typeof";return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qt(t,e){return(Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zt(t);if(e){var n=Zt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16200=Ht;var $t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Xt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues.push(.02),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(.01)):3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*l,!1);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n),r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);for(var i=e*this.scaleValues[1],a=e*this.scaleValues[3],u=0,p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=a,c=0;s<=p-a;s+=i,c++){u=s+a;var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,u);if(-1!==P.index){var f=new SuperMapAlgoPlot.Point(P.pt.x,P.pt.y+.5*l),g=[];g.push(P.pt),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,g),0===c?this.addScalePoint(f):1===c&&this.addScalePoint(P.pt)}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),0==t){r=l*this.scaleValues[3];var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===a.index)return;var u=2*SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=u/l}else if(1===t){r=l*this.scaleValues[3];var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===p.index)return;var s=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,i);if(-1==s.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,i[p.index+1]),P=p.index+1;P<s.index;P++)c+=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(i[s.index],s.pt),this.scaleValues[1]=c/l,this.scaleValues[1]>.9&&(this.scaleValues[1]=.9)}}}}])&&qt(e.prototype,o),l&&qt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function te(t){"@babel/helpers - typeof";return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oe(t,e){return(oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ne(t);if(e){var n=ne(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16201=$t;var re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=le(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l,n,r=this.scaleValues[0]*e;l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!1);var i=new SuperMapAlgoPlot.Point(l[0].x,l[0].y);i.isScalePoint=!0,i.tag=0,this.scalePoints.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);var a=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),u=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),p=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,s=new SuperMapAlgoPlot.Point(.3*e,0),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,s,p),P=new SuperMapAlgoPlot.Point(0,.4*r),f=new SuperMapAlgoPlot.Point(0,.2*r),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,P,p),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,f,p),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,h);var S=new SuperMapAlgoPlot.Point(0,.2*r),b=new SuperMapAlgoPlot.Point(0,-.4*r),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,S,p),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,b,p);(h=[]).push(A),h.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var M=new SuperMapAlgoPlot.Point(.2*r,-.2*r),v=new SuperMapAlgoPlot.Point(-.2*r,-.6*r),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,M,p),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,v,p);(h=[]).push(m),h.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var w=new SuperMapAlgoPlot.Point(-.2*r,-.2*r),U=new SuperMapAlgoPlot.Point(.2*r,-.6*r),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,w,p),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,U,p);(h=[]).push(L),h.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var j=new SuperMapAlgoPlot.Point(.7*e,0),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,j,p),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,P,p),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,f,p);(h=[]).push(V),h.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,h);var E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,S,p),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,b,p);(h=[]).push(E),h.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,M,p),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,v,p);(h=[]).push(B),h.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,w,p),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,U,p);(h=[]).push(Y),h.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;this.scaleValues[0]=r}}}}])&&ee(e.prototype,o),l&&ee(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ie(t){"@babel/helpers - typeof";return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ue(t,e){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=se(t);if(e){var n=se(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16202=re;var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pe(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o),this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());for(var l=this.scaleValues[0]*e,n=this.scaleValues[1]*e,r=.01*e,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=0,u={surroundLineFlag:!1,fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},p=r,s=0;p<=i;p+=n,s++){a=p+r;var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,a);if(-1===c.index)return;for(var P=SuperMapAlgoPlot.PlottingUtil.radian(c.pt,o[c.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,f=this.getSubSymbolPts(l),g=[],y=0,h=f.length;y<h;y++)g.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c.pt,f[y],P));if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,u),0===s){var S=new SuperMapAlgoPlot.Point((g[0].x+g[1].x)/2,(g[0].y+g[1].y)/2);this.addScalePoint(S,0)}else 1===s&&this.addScalePoint(c.pt,1);this.finish()}}}},{key:"getSubSymbolPts",value:function(t){var e=.5*t,o=[];return o.push(new SuperMapAlgoPlot.Point(.5*e,2*e)),o.push(new SuperMapAlgoPlot.Point(.5*-e,2*e)),o.push(new SuperMapAlgoPlot.Point(.5*-e,-2*e)),o.push(new SuperMapAlgoPlot.Point(.5*e,-2*e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=.01*l;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);if(-1===i.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt);this.scaleValues[0]=a/l}else if(1===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n);if(-1===p.index)return;for(var s=0,c=u.index+1;c<p.index;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(n[c],n[c+1]);s+=SuperMapAlgoPlot.PlottingUtil.distance(n[p.index],p.pt),s-=r,this.scaleValues[1]=s/l,s>l-l*this.scaleValues[0]-r&&(this.scaleValues[1]=(l-l*this.scaleValues[0]-r)/l)}}}}])&&ae(e.prototype,o),l&&ae(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pe(t){"@babel/helpers - typeof";return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ge(t,e){return(ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=he(t);if(e){var n=he(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16203=ce;var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ye(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n=this.scaleValues[1]*e,r=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),i=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),a=180*SuperMapAlgoPlot.PlottingUtil.radian(r,i)/Math.PI,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,n,n,a+90),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,a+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,a+90),P=[];P.push(p),P.push(u),P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P)),(P=[]).push(p),P.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P)),(P=[]).push(c),P.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P));var f=new SuperMapAlgoPlot.Point(u.x,u.y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f);var g=new SuperMapAlgoPlot.Point(p.x,p.y);g.isScalePoint=!0,g.tag=1,this.scalePoints.push(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(this.isEdit=!0,!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(r<this.scaleValues[1])return;this.scaleValues[0]=r}else if(1==t){var i=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(this.scaleValues[0]<i)return;this.scaleValues[1]=i}}}}])&&fe(e.prototype,o),l&&fe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function be(t){"@babel/helpers - typeof";return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function de(t,e){return(de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ve(t);if(e){var n=ve(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16700=Se;var me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Me(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,a=[],u=0;u<e.length;u++)l>e[u].x&&(l=e[u].x),n<e[u].x&&(n=e[u].x),r>e[u].y&&(r=e[u].y),i<e[u].y&&(i=e[u].y),a.push(e[u]);for(var p=(n-l)/5,s=.2*p,c=[],P=0;P<360;P+=18){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),s,s,P);c.push(f)}for(var g=0,y=l;y<n;y+=p)for(var h=r;h<i;h+=p){var S,b=new SuperMapAlgoPlot.Point(y,h);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(a,b))0===g?(g=0,this.subSymbols.length>0&&(S=.015*o,this.computeSubSymbol(this.subSymbols[0],b,S,0)),g++):(g=0,this.subSymbols.length>0&&(S=.022*o,this.computeSubSymbol(this.subSymbols[1],b,S,0)))}this.finish()}}}}])&&Ae(e.prototype,o),l&&Ae(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Oe(t){"@babel/helpers - typeof";return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ue(t,e){return(Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Te(t);if(e){var n=Te(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17400=me;var je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Le(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=[],a=0;a<e.length;a++)o>e[a].x&&(o=e[a].x),l<e[a].x&&(l=e[a].x),n>e[a].y&&(n=e[a].y),r<e[a].y&&(r=e[a].y),i.push(e[a]);for(var u=(l-o)/5,p=.15*u,s=[],c=0;c<360;c+=18){var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),p,p,c);s.push(P)}for(var f=0,g=o;g<l;g+=u)for(var y=n;y<r;y+=u){var h=new SuperMapAlgoPlot.Point(g,y);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(i,h))if(0===f){f++;for(var S=[],b=0;b<s.length;b++){var A=new SuperMapAlgoPlot.Point(h.x+s[b].x,h.y+s[b].y);S.push(A)}S.push(S[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillColorLimit:!0,fillColor:"#ffff00",surroundLineFlag:!1,fillLimit:!0,fillOpacity:1,lineTypeLimit:!0});var d=[];d.push(S[10]),d.push(new SuperMapAlgoPlot.Point(S[10].x-.5*p,S[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var M=[];M.push(S[0]),M.push(new SuperMapAlgoPlot.Point(S[0].x+.5*p,S[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M)}else 1===f?(f++,null!=this.subSymbols[0]&&this.computeSubSymbol(this.subSymbols[0],h,2*p,0)):(f=0,null!=this.subSymbols[1]&&this.computeSubSymbol(this.subSymbols[1],h,3*p,0))}this.finish()}}}])&&we(e.prototype,o),l&&we(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Re(t){"@babel/helpers - typeof";return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _e(t,e){return(_e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xe(t);if(e){var n=xe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17401=je;var Be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ee(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=0;i<e.length;i++)o>e[i].x&&(o=e[i].x),l<e[i].x&&(l=e[i].x),n>e[i].y&&(n=e[i].y),r<e[i].y&&(r=e[i].y);var a={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},u=new SuperMapAlgoPlot.Point((l+o)/2,(r+n)/2),p=l-o,s=r-n,c=.1*p,P=.1*s,f=new SuperMapAlgoPlot.Point(u.x,u.y+P),g=new SuperMapAlgoPlot.Point(u.x-c,u.y-P),y=new SuperMapAlgoPlot.Point(u.x+c,u.y-P);c=.03*p,P=.03*s;var h=new SuperMapAlgoPlot.Point(f.x,f.y+P),S=new SuperMapAlgoPlot.Point(f.x-c,f.y-P),b=new SuperMapAlgoPlot.Point(f.x+c,f.y-P),A=[];A.push(new SuperMapAlgoPlot.Point(h.x,h.y)),A.push(new SuperMapAlgoPlot.Point(S.x,S.y)),A.push(new SuperMapAlgoPlot.Point(b.x,b.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,a);var d=new SuperMapAlgoPlot.Point(g.x,g.y+P),M=new SuperMapAlgoPlot.Point(g.x-c,g.y-P),v=new SuperMapAlgoPlot.Point(g.x+c,g.y-P),m=[];m.push(new SuperMapAlgoPlot.Point(d.x,d.y)),m.push(new SuperMapAlgoPlot.Point(M.x,M.y)),m.push(new SuperMapAlgoPlot.Point(v.x,v.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,m,a);var O=new SuperMapAlgoPlot.Point(y.x,y.y+P),w=new SuperMapAlgoPlot.Point(y.x-c,y.y-P),U=new SuperMapAlgoPlot.Point(y.x+c,y.y-P),L=[];L.push(new SuperMapAlgoPlot.Point(O.x,O.y)),L.push(new SuperMapAlgoPlot.Point(w.x,w.y)),L.push(new SuperMapAlgoPlot.Point(U.x,U.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,a),this.finish()}}}}])&&Ve(e.prototype,o),l&&Ve(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ce(t){"@babel/helpers - typeof";return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ie(t,e){return(Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ne(t);if(e){var n=Ne(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17500=Be;var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=De(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=0;i<e.length;i++)o>e[i].x&&(o=e[i].x),l<e[i].x&&(l=e[i].x),n>e[i].y&&(n=e[i].y),r<e[i].y&&(r=e[i].y);var a=new SuperMapAlgoPlot.Point((l+o)/2,(r+n)/2),u=.33*(l-o),p=.1*(r-n),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,0),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,180),P=[];P.push(new SuperMapAlgoPlot.Point(s.x,s.y)),P.push(new SuperMapAlgoPlot.Point(c.x,c.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=new SuperMapAlgoPlot.Point(a.x-3*u/7,a.y+p),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,p,p,60),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,p,p,120);(P=[]).push(new SuperMapAlgoPlot.Point(g.x,g.y)),P.push(new SuperMapAlgoPlot.Point(f.x,f.y)),P.push(new SuperMapAlgoPlot.Point(y.x,y.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var h=new SuperMapAlgoPlot.Point(a.x+3*u/7,a.y+p),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,60),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,120);(P=[]).push(new SuperMapAlgoPlot.Point(S.x,S.y)),P.push(new SuperMapAlgoPlot.Point(h.x,h.y)),P.push(new SuperMapAlgoPlot.Point(b.x,b.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.finish()}}}}])&&Ye(e.prototype,o),l&&Ye(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ze(t){"@babel/helpers - typeof";return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ge(t,e){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function We(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Je(t);if(e){var n=Je(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17501=ke;var He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=We(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&this.scaleValues.push(.02),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);for(var i={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},a=this.getDashLinePts(r,5*o),u=0;u<a.length;u++){var p=a[u];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,i)}this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}}])&&Fe(e.prototype,o),l&&Fe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ke(t){"@babel/helpers - typeof";return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qe(t,e){return(Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ze(t);if(e){var n=Ze(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17700=He;var $e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qe(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Xe(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="加",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.isEdit||(this.scaleValues=[]);var l=[];if(this.scalePoints=[],t.length<3)l.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),l.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y));else{var n=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=n.scaleValues;for(var r=0;r<n.scalePoints.length;r++)this.addScalePoint(n.scalePoints[r]);l=n.beizerPoints}if(!(l.length<2)){var i=e/2;if(-1!==SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,i).index){var a,u;if(a=2==t.length?0:t.length-1,this.isEdit)u=this.scaleValues[4*a]*e,isNaN(u)&&(u=Math.abs(this.scaleValues[4*a-1]*e));else{var p=.5*this.getSubSymbolScaleValue();u=p*e,this.scaleValues.push(p)}var s=i-u,c=i+u,P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,s);if(-1!==P.index){var f=P.pt;this.addScalePoint(new SuperMapAlgoPlot.Point(f.x,f.y));var g=[];if(0==P.index)g.push(l[0]);else for(var y=0;y<P.index;y++)g.push(l[y]);g.push(f);var h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,c);if(-1!==h.index){var S=h.pt,b=[];b.push(S);for(var A=h.index+1;A<l.length;A++)b.push(l[A]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var d=g[g.length-1],M=b[0],v=180*SuperMapAlgoPlot.PlottingUtil.radian(d,M)/Math.PI,m=SuperMapAlgoPlot.PlottingUtil.distance(d,M),O=new SuperMapAlgoPlot.Point((d.x+M.x)/2,(d.y+M.y)/2),w=this.subText;this.addText(w,O,m,v),this.finish()}}}}}}},{key:"computeBeizer",value:function(t,e){var o,l,n,r=[];if(this.scalePoints=[],this.isEdit){(n=[]).push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),n.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),o=this.scaleValues[0],l=this.scaleValues[1];var i=t[0].x+e*o,a=t[0].y+e*l;n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a));for(var u=1;u<t.length-1;u++)n.push(new SuperMapAlgoPlot.Point(t[u].x,t[u].y)),o=this.scaleValues[4*u-2],l=this.scaleValues[4*u-1],i=t[u].x+e*o,a=t[u].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a)),o=this.scaleValues[4*u],l=this.scaleValues[4*u+1],i=t[u].x+e*o,a=t[u].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a));var p=t.length-1;n.push(new SuperMapAlgoPlot.Point(t[p].x,t[p].y)),o=this.scaleValues[4*p-2],l=this.scaleValues[4*p-1],i=t[p].x+e*o,a=t[p].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a)),n.push(new SuperMapAlgoPlot.Point(t[p].x,t[p].y)),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(n)}else{if(this.scaleValues=[],n=[],(n=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t)).length<3)return r;var s=n[2].x-n[0].x,c=n[2].y-n[0].y;o=s/e,l=c/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[2].x,n[2].y));for(var P=1;P<t.length-1;P++){o=(s=n[3*P+1].x-n[3*P].x)/e,l=(c=n[3*P+1].y-n[3*P].y)/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*P+1].x,n[3*P+1].y));var f=(n[3*P+2].x-n[3*P].x)/e,g=(n[3*P+2].y-n[3*P].y)/e;this.scaleValues.push(f),this.scaleValues.push(g),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*P+2].x,n[3*P+2].y))}o=(s=n[3*(t.length-1)+1].x-n[3*(t.length-1)].x)/e,l=(c=n[3*(t.length-1)+1].y-n[3*(t.length-1)].y)/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*(t.length-1)+1].x,n[3*(t.length-1)+1].y)),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(n)}return r}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),t<0||t>2*o.length-2)return;for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(2*(o.length-1)==t||2==o.length){for(var r=this.computeBeizer(o,l),i=0,a=0;a<r.length-1;a++)i+=SuperMapAlgoPlot.PlottingUtil.distance(r[a],r[a+1]);var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,i/2);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.distance(e,u.pt)/l;p>.45&&(p=.45),2==o.length?this.scaleValues[0]=p:this.scaleValues[2*t]=p}else{var s=-1;s=t%2==0?t/2:(t+1)/2;var c=(e.x-o[s].x)/l,P=(e.y-o[s].y)/l;this.scaleValues[2*t]=c,this.scaleValues[2*t+1]=P}}}}])&&qe(e.prototype,o),l&&qe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function to(t){"@babel/helpers - typeof";return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oo(t,e){return(oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=no(t);if(e){var n=no(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function no(t){return(no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17703=$e;var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17703);var e,o,l,n=lo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="急",e}return e=r,o&&eo(e.prototype,o),l&&eo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function io(t){"@babel/helpers - typeof";return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uo(t,e){return(uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=so(t);if(e){var n=so(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17704=ro;var co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=po(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1),e.scaleValues.push(.5),e.scaleValues.push(1),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.03)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue(),this.scaleValues[7]=this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=this.scaleValues[7]*n,i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.3125*n),a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.6875*n),u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n*this.scaleValues[5]),p=(this.scaleValues[2],this.scaleValues[6],[]),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r*this.scaleValues[6],l[u.index],u.pt);p.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),p.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y));var c,P,f=SuperMapAlgoPlot.PlottingUtil.distance(i.pt,a.pt)*this.scaleValues[6];f>(r*=this.scaleValues[6])?(c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,r/2,!0),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,r/2,!1)):(c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,f/2,!0),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,f/2,!1));var g=[];g.push(c[0]),g.push(c[c.length-1]),g.push(P[P.length-1]),g.push(P[0]);var y={surroundLineFlag:!1,fillLimit:!0,strokeColor:"#37CECE",fillColorLimit:!0,fillColor:"#37CECE",fill:!0,fillOpacity:.7,lineColorLimit:!0,color:"#37CECE",surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,y);var h=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(g);y={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0};var S=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,y);for(var b=n*this.scaleValues[1],A=this.getDashLinePts(l,b),d=0;d<A.length;d++){var M=A[d];M=SuperMapAlgoPlot.PlottingUtil.clearSamePts(M);var v=SuperMapAlgoPlot.PlottingUtil.paraLine(M,o,!0);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,y)}this.addScalePoint(h),this.addScalePoint(p[1]),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);for(var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=0,i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),a=SuperMapAlgoPlot.PlottingUtil.distance(l[0],e),u=0,p=1;p<l.length;p++){var s=SuperMapAlgoPlot.PlottingUtil.distance(l[p],e);s<a&&(a=s,u=p)}var c=[];for(p=0;p<l.length;p++)p<=u&&c.push(l[p]);var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c);if(0===t)if(l.length<=3){if(0===(r=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)))return;var f=.5;e.x-i.pts.x<0?((f=-1*r/n+.5)<0&&(f=0),this.scaleValues[5]=f):((f=r/n+.5)>1&&(f=1),this.scaleValues[5]=f)}else this.scaleValues[5]=P/n;else if(1===t){i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[5],l),r=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e);var g=this.scaleValues[7]*n;this.scaleValues[6]=r/g}}}}])&&ao(e.prototype,o),l&&ao(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Po(t){"@babel/helpers - typeof";return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function go(t,e){return(go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ho(t);if(e){var n=ho(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ho(t){return(ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1770501=co;var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180),a=[];a.push(r.clone()),a.push(i.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,l+180),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(a=[]).push(u.clone()),a.push(p.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,l),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(a=[]).push(s.clone()),a.push(c.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(a=[]).push(P.clone()),a.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),this.finish()}}}])&&fo(e.prototype,o),l&&fo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bo(t){"@babel/helpers - typeof";return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Mo(t,e){return(Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=mo(t);if(e){var n=mo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function mo(t){return(mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17800=So;var Oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17800);var e,o,l,n=vo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=[],i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,0);r.push(t[0].clone()),r.push(i.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,r);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180);(r=[]).push(a.clone()),r.push(u.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(r=[]).push(p.clone()),r.push(s.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(r=[]).push(c.clone()),r.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(r=[]).push(f.clone()),r.push(g.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.finish()}}}])&&Ao(e.prototype,o),l&&Ao(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function wo(t){"@babel/helpers - typeof";return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Lo(t,e){return(Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function To(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jo(t);if(e){var n=jo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jo(t){return(jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17801=Oo;var Ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17800);var e,o,l,n=To(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=[],i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.08*n,.08*n,l+90),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.08*n,.08*n,l+270);r.push(i.clone()),r.push(a.clone()),r.push(u.clone()),r.push(p.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180);(r=[]).push(s.clone()),r.push(c.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(r=[]).push(P.clone()),r.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(r=[]).push(g.clone()),r.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(r=[]).push(h.clone()),r.push(S.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.finish()}}}])&&Uo(e.prototype,o),l&&Uo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vo(t){"@babel/helpers - typeof";return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _o(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Eo(t,e){return(Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Bo(t);if(e){var n=Bo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bo(t){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17802=Ro;var Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=xo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.2)),2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=2==t.length?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=o*r,u=new SuperMapAlgoPlot.Point(-.5*a,.25*a),p=new SuperMapAlgoPlot.Point(-.4*a,.125*a),s=new SuperMapAlgoPlot.Point(.4*a,.125*a),c=new SuperMapAlgoPlot.Point(.5*a,.25*a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,0),h=[];h.push(P.clone()),h.push(f.clone()),h.push(g.clone()),h.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=new SuperMapAlgoPlot.Point(-.5*a,-.25*a),b=new SuperMapAlgoPlot.Point(-.4*a,-.125*a),A=new SuperMapAlgoPlot.Point(.4*a,-.125*a),d=new SuperMapAlgoPlot.Point(.5*a,-.25*a),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,S,0),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,A,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,d,0);(h=[]).push(M.clone()),h.push(v.clone()),h.push(m.clone()),h.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.scalePoints=[];var w=new SuperMapAlgoPlot.Point(i.x+.1*a,i.y);w.isScalePoint=!0,w.tag=0,this.scalePoints.push(w);var U=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.25*a,.25*a,90);U.isScalePoint=!0,U.tag=1,this.scalePoints.push(U),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*r-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);n=4*(r=SuperMapAlgoPlot.PlottingUtil.distance(p,e))/u,this.scaleValues[2]=n}}}}])&&_o(e.prototype,o),l&&_o(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Yo(t){"@babel/helpers - typeof";return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Io(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Do(t,e){return(Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function No(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ko(t);if(e){var n=ko(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Yo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17803=Co;var zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Do(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=No(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1)),t.length==this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=t.length==this.minEditPts?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=o*r,u=3*a,p=new SuperMapAlgoPlot.Point(-.5*u,.5*a),s=new SuperMapAlgoPlot.Point(.5*u,.5*a),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),f=[];f.push(c.clone()),f.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=new SuperMapAlgoPlot.Point(-.5*u,-.5*a),y=new SuperMapAlgoPlot.Point(.5*u,-.5*a),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,g,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,y,0);(f=[]).push(h.clone()),f.push(S.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var b=new SuperMapAlgoPlot.Point(-.1*u,.5*a),A=new SuperMapAlgoPlot.Point(-.15*u,-.5*a),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,A,0);(f=[]).push(d.clone()),f.push(M.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var v=new SuperMapAlgoPlot.Point(.15*u,.5*a),m=new SuperMapAlgoPlot.Point(.1*u,-.5*a),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,v,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,m,0);(f=[]).push(O.clone()),f.push(w.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.scalePoints=[];var U=new SuperMapAlgoPlot.Point(i.x+.1*u,i.y);U.isScalePoint=!0,U.tag=0,this.scalePoints.push(U);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.5*u,.5*u,90);L.isScalePoint=!0,L.tag=1,this.scalePoints.push(L),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*r-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);n=2*(r=SuperMapAlgoPlot.PlottingUtil.distance(p,e))/u/3,this.scaleValues[2]=n}}}}])&&Io(e.prototype,o),l&&Io(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Fo(t){"@babel/helpers - typeof";return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Go(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wo(t,e){return(Wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ho(t);if(e){var n=Ho(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ho(t){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17804=zo;var Ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17804);var e,o,l,n=Jo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1)),t.length==this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=t.length==this.minEditPts?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=3*(o*r),u=new SuperMapAlgoPlot.Point(-.5*a,.3*a),p=new SuperMapAlgoPlot.Point(-.5*a,-.3*a),s=new SuperMapAlgoPlot.Point(.5*a,-.3*a),c=new SuperMapAlgoPlot.Point(.5*a,.3*a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,0),h=[];h.push(P.clone()),h.push(f.clone()),h.push(g.clone()),h.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h);var S=new SuperMapAlgoPlot.Point(-.3*a,.3*a),b=new SuperMapAlgoPlot.Point(-.3*a,.5*a),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,S,0),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0);(h=[]).push(A.clone()),h.push(d.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var M=new SuperMapAlgoPlot.Point(-.3*a,-.3*a),v=new SuperMapAlgoPlot.Point(-.3*a,-.5*a),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,M,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,v,0);(h=[]).push(m.clone()),h.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var w=new SuperMapAlgoPlot.Point(.3*a,.3*a),U=new SuperMapAlgoPlot.Point(.3*a,.5*a),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,w,0),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,U,0);(h=[]).push(L.clone()),h.push(T.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var j=new SuperMapAlgoPlot.Point(.3*a,-.3*a),R=new SuperMapAlgoPlot.Point(.3*a,-.5*a),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,j,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,R,0);(h=[]).push(V.clone()),h.push(_.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.scalePoints=[];var E=new SuperMapAlgoPlot.Point(i.x+.1*a,i.y);E.isScalePoint=!0,E.tag=0,this.scalePoints.push(E);var x=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.5*a,.5*a,90);x.isScalePoint=!0,x.tag=1,this.scalePoints.push(x),this.finish()}}}}])&&Go(e.prototype,o),l&&Go(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function qo(t){"@babel/helpers - typeof";return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xo(t,e){return(Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=$o(t);if(e){var n=$o(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===qo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $o(t){return($o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17805=Ko;var tl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17804);var e,o,l,n=Zo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var e,o,l,n,r,i=this.scaleValues[0],a=this.scaleValues[1],u=this.scaleValues[2],p=0,s=0;if(t.length==this.minEditPts){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);var c=SuperMapAlgoPlot.PlottingUtil.distance(o,l);p=2*c,e=new SuperMapAlgoPlot.Point(o.x+p*i,o.y+p*a);var P=2*c*u/.28/2;s=P,n=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,P,P,0),(r=[]).push(e.clone()),r.push(n.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,r)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),p=SuperMapAlgoPlot.PlottingUtil.distance(o,l)+SuperMapAlgoPlot.PlottingUtil.distance(o,n),e=new SuperMapAlgoPlot.Point(o.x+p*i,o.y+p*a);var f=p*u/.21/2,g=p*u/.38/2;s=f;var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,f,f,0),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,90);(r=[]).push(e.clone()),r.push(y.clone()),r.push(h.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,r)}this.scalePoints=[];var S=new SuperMapAlgoPlot.Point(e.x+.1*p,e.y);S.isScalePoint=!0,S.tag=0,this.scalePoints.push(S);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,s,s,90);b.isScalePoint=!0,b.tag=1,this.scalePoints.push(b),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*u-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);r=SuperMapAlgoPlot.PlottingUtil.distance(p,e),n=.1,n=2===i.length?.56*r/u:.42*r/u,this.scaleValues[2]=n}}}}])&&Qo(e.prototype,o),l&&Qo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function el(t){"@babel/helpers - typeof";return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ol(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ll(t,e){return(ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=rl(t);if(e){var n=rl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===el(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17806=tl;var il=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ll(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=nl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){1!==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1)),this.components.length=0,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,this.controlPoints);var e=this.scaleValues[0],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=o*e,n=.01*o;l<2*n&&(n=.5*l);for(var r={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},i=0,a=l;a<o-n;a+=l){var u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,t);if(u.bfind){var p=u.pts,s=[];s.push(p);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,n,n,90);if(s.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,s,r),0===i){var P=new SuperMapAlgoPlot.Point(p.x,p.y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}i++}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;for(var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0),a=0;a<o.length-1;a++){var u,p=[];p.push(o[a]),p.push(o[a+1]);var s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(s.isOnline&&(u=s.projectPoint),!s.isOnline&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(e,o[a],o[a+1])&&(u=e),void 0===u)return;if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,p).isOnPolyLine){var c=SuperMapAlgoPlot.PlottingUtil.distance(e,u);-1===n?(n=a,i=u,r=c):r>c&&(n=a,i=u,r=c)}}if(-1===n||n>o.length-1)return;for(var P=0,f=0;f<n;f++){var g=new SuperMapAlgoPlot.Point(o[f].x,o[f].y),y=new SuperMapAlgoPlot.Point(o[f+1].x,o[f+1].y);P+=SuperMapAlgoPlot.PlottingUtil.distance(g,y)}var h=new SuperMapAlgoPlot.Point(o[n].x,o[n].y);if((P+=SuperMapAlgoPlot.PlottingUtil.distance(h,i))<0||P>l)return;var S=P/l;S>.95?S=.95:S<.1&&(S=.1),this.scaleValues[0]=S}}}])&&ol(e.prototype,o),l&&ol(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function al(t){"@babel/helpers - typeof";return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ul(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function pl(t,e){return(pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=cl(t);if(e){var n=cl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===al(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function cl(t){return(cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol20300=il;var Pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=sl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length!==this.minEditPts&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(0)),this.components.length=0,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,this.controlPoints);var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,i=new SuperMapAlgoPlot.Point((l.x+n.x)/2,(l.y+n.y)/2),a=this.scaleValues[0]*o;e=0==this.scaleValues[1]?SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,r+90):SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,r+270);var u={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i,e]);var p=.02*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1]),s=new SuperMapAlgoPlot.Point((l.x+i.x)/2,(l.y+i.y)/2),c=[s,new SuperMapAlgoPlot.Point(s.x,s.y+p)];this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,u,!0);var P=new SuperMapAlgoPlot.Point((n.x+i.x)/2,(n.y+i.y)/2);c=[P,new SuperMapAlgoPlot.Point(P.x,P.y+p)],this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,u,!0);var f=new SuperMapAlgoPlot.Point(e.x,e.y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0===r)return;var i=new SuperMapAlgoPlot.Point((l.x+n.x)/2,(l.y+n.y)/2);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i)/r;this.scaleValues[0]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,n,e)?this.scaleValues[1]=1:this.scaleValues[1]=0}}}}])&&ul(e.prototype,o),l&&ul(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function fl(t){"@babel/helpers - typeof";return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function yl(t,e){return(yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function hl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Sl(t);if(e){var n=Sl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Sl(t){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol20301=Pl;var bl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=hl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i);this.addScalePoint(f,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&gl(e.prototype,o),l&&gl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Al(t){"@babel/helpers - typeof";return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ml(t,e){return(Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ml(t);if(e){var n=ml(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Al(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ml(t){return(ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26501=bl;var Ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ml(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=vl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.285714),e.scaleValues.push(.5),e.scaleValues.push(.333333),e.scaleValues.push(.333333)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.285714),this.scaleValues.push(.5),this.scaleValues.push(.333333));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(i),S.push(s),S.push(g),S.push(y),S.push(f),S.push(p),S.push(r);for(var b=[],A=0;A<S.length;A++){var d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[A],h);b.push(d)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var M,v,m,O=!0;e.x>o.x&&(O=!1);var w,U=(m=.1*l)+(v=.12*l/2);M=1==O?(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,o,e)).pntRight:(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,o,e)).pntLeft;var L,T,j,R,V,_,E,x,B=[];B.push(M),B.push(new SuperMapAlgoPlot.Point(M.x+v,M.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,B,{lineTypeLimit:!0,surroundLineLimit:!0}),1==O?(L=(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.85*m,o,e)).pntRight,R=w.pntLeft,T=(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(m,L,R)).pntRight,j=w.pntLeft):(L=(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.85*m,o,e)).pntLeft,R=w.pntRight,T=(w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(m,L,R)).pntLeft,j=w.pntRight),(B=[]).push(L),B.push(T),B.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,B,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*v,T,j),x=1==O?w.pntRight:w.pntLeft,w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*v,j,T),_=1==O?w.pntLeft:w.pntRight;var C=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,_,j,T);C.isIntersectLines&&(V=C.intersectPoint,(C=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,x,j,T)).isIntersectLines&&(E=C.intersectPoint,(B=[]).push(V),B.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,{lineTypeLimit:!0,surroundLineLimit:!0}),(B=[]).push(E),B.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(b[0]),this.addScalePoint(b[1]),this.addScalePoint(b[2]),this.finish()))}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&dl(e.prototype,o),l&&dl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function wl(t){"@babel/helpers - typeof";return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ul(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ll(t,e){return(Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jl(t);if(e){var n=jl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jl(t){return(jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42500=Ol;var Rl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ll(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Tl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=o*this.scaleValues[0],n=e[e.length-1];if(e.length>2){for(var r=-1,i=e.length-2;i>=0;i--)if(l<SuperMapAlgoPlot.PlottingUtil.distance(n,e[i])){r=i;break}e.splice(r+1,e.length-r),e.push(n)}this.addArrow(e,this.scaleValues[0]);var a=e[e.length-2],u=e[e.length-1],p=l,s=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s-180);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/l;if(n>.2)return;this.scaleValues[0]=n}}}])&&Ul(e.prototype,o),l&&Ul(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vl(t){"@babel/helpers - typeof";return(Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _l(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function El(t,e){return(El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Bl(t);if(e){var n=Bl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bl(t){return(Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25201=Rl;var Cl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&El(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=xl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.03),e.scaleValues.push(.4),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues.push(.03),this.scaleValues.push(.4),this.scaleValues.push(0)):3===this.scaleValues.length&&this.scaleValues.push(.02);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=this.scaleValues[1],n=o*(1-l)*.5,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(r.bfind){this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(),this.scaleValues[this.scaleValues.length-1]=.5*this.getSubSymbolScaleValue());var i,a=this.scaleValues[0],u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*a,p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[r.index],r.pts),s=this.scaleValues[2];1===s?i=new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y):0===s&&(i=new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y));var c=[];c.push(i),c.push(r.pts);var P;this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{lineTypeLimit:!0,surroundLineLimit:!0});var f=o*(.5+.5*l),g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e);if(g.bfind){var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[g.index],g.pts);1===s?P=new SuperMapAlgoPlot.Point(y.pntRight.x,y.pntRight.y):0===s&&(P=new SuperMapAlgoPlot.Point(y.pntLeft.x,y.pntLeft.y)),this.addArrow(e,this.scaleValues[this.scaleValues.length-1]),this.addScalePoint(P,0);var h=[];h.push(P),h.push(g.pts);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=n*(.5+.5*this.scaleValues[1]),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,l);if(!i.bfind)return;var a,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[i.index],i.pts),p=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[i.index],l[i.index+1],e);this.scaleValues[2]=p?0:1,a=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,new SuperMapAlgoPlot.Point(u.pntLeft.x,u.pntLeft.y),new SuperMapAlgoPlot.Point(u.pntRight.x,u.pntRight.y));var s=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,new SuperMapAlgoPlot.Point(i.pts.x,i.pts.y));this.scaleValues[0]=s/n}}}])&&_l(e.prototype,o),l&&_l(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Yl(t){"@babel/helpers - typeof";return(Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Il(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Dl(t,e){return(Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=kl(t);if(e){var n=kl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Yl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function kl(t){return(kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21401=Cl;var zl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Nl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues.push(.02),this.scaleValues.push(.1),this.scaleValues.push(0)):3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);if(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addArrow(e,this.scaleValues[this.scaleValues.length-1]),0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)){if(!this.isEdit){var o=this.getSubSymbolScaleValue();this.scaleValues[0]=.5*o,this.scaleValues[this.scaleValues.length-1]=.5*this.getSubSymbolScaleValue()}for(var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[1]*n,a=0,u=.01*n,p=u,s=0;p<=n;p+=i,s++){a=p+u;var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,a);if(-1===c.index)return;var P=[],f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[c.index],c.pt);P.push(new SuperMapAlgoPlot.Point(f.pntLeft.x,f.pntLeft.y)),P.push(new SuperMapAlgoPlot.Point(f.pntRight.x,f.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),0===s?this.addScalePoint(P[0],0):1===s&&this.addScalePoint(c.pt,1)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=.01*n;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);if(-1===i.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt);this.scaleValues[0]=a/n}else if(1===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,l);if(-1===p.index)return;for(var s=0,c=u.index+1;c<p.index;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(l[c],l[c+1]);s+=SuperMapAlgoPlot.PlottingUtil.distance(l[p.index],p.pt),s-=r,this.scaleValues[1]=s/n,this.scaleValues[1]>.93&&(this.scaleValues[1]=.93)}}}}])&&Il(e.prototype,o),l&&Il(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Fl(t){"@babel/helpers - typeof";return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wl(t,e){return(Wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hl(t);if(e){var n=Hl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hl(t){return(Hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21500=zl;var Kl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05,e.scaleValues[2]=.01,e.scaleValues[3]=.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=.02,this.scaleValues[2]=.01,this.scaleValues[3]=.02):1===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.01),this.scaleValues.push(.25*this.getSubSymbolScaleValue())),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[3]=.5*l}for(var n=this.getLinePts(e,this.scaleValues[0]),r=[],i=[],a=0;a<=n.startIndex;a++)r.push(e[a]);if(r.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),n.endIndex<=e.length){i.push(n.endPt);for(var u=n.endIndex+1;u<=e.length-1;u++)i.push(e[u]);this.addArrow(i,this.scaleValues[this.scaleValues.length-1])}var p,s,c,P,f,g,y,h,S,b,A,d,M,v=n.startPt.clone(),m=n.endPt.clone(),O=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),w=SuperMapAlgoPlot.PlottingUtil.distance(v,m),U=SuperMapAlgoPlot.PlottingUtil.radian(v,m)*SuperMapAlgoPlot.PlottingUtil.RTOD;p=new SuperMapAlgoPlot.Point(0,0),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0),g=new SuperMapAlgoPlot.Point(0,0),y=new SuperMapAlgoPlot.Point(0,0),h=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),b=new SuperMapAlgoPlot.Point(0,0),A=new SuperMapAlgoPlot.Point(0,0),d=new SuperMapAlgoPlot.Point(0,0),M=new SuperMapAlgoPlot.Point(0,0),v.x>=m.x?(p.x=.25*w,p.y=.25*-w,s.x=.5*-w,s.y=.25*-w,c.x=.5*-w,c.y=.25*w,P.x=.5*w,P.y=.25*w,f.x=.5*w,f.y=0,g.x=.25*-w,g.y=.125*-w,y.x=0,y.y=.125*w,h.x=0,h.y=.125*-w,S.x=.25*w,S.y=.2*w,b.x=.25*-w,b.y=.25*-w,A.x=.375*-w,A.y=.5*-w,d.x=.02*-w,d.y=.25*-w,M.x=.1*w,M.y=.5*-w):(p.x=.25*w,p.y=.25*w,s.x=.5*-w,s.y=.25*w,c.x=.5*-w,c.y=.25*-w,P.x=.5*w,P.y=.25*-w,f.x=.5*w,f.y=0,g.x=.25*w,g.y=.125*-w,y.x=0,y.y=.125*w,h.x=0,h.y=.125*-w,S.x=.25*-w,S.y=.125*w,b.x=.25*-w,b.y=.25*w,A.x=.375*-w,A.y=.5*w,d.x=.02*w,d.y=.25*w,M.x=.15*w,M.y=.5*w);var L=[],T=[],j=[],R=[],V=[],_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,p,U),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,s,U),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,c,U),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,P,U),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,f,U),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,g,U),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,y,U),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,h,U),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,S,U),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,b,U),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,A,U),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,d,U),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,M,U);L.push(_),L.push(E),L.push(x),L.push(B),L.push(C),T.push(Y),T.push(I),T.push(D),T.push(N),j.push(k),j.push(z),R.push(F),R.push(G),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{lineTypeLimit:!0,surroundLineLimit:!0},!0);var W=.3*SuperMapAlgoPlot.PlottingUtil.distance(D,N),J=SuperMapAlgoPlot.PlottingUtil.linePnt(N,D,W),H=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*W,N,J);V.push(H.pntLeft),V.push(N),V.push(H.pntRight);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,V,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0);var K=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),q=SuperMapAlgoPlot.PlottingUtil.circlePoint(K.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,U+90);this.addScalePoint(q,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Gl(e.prototype,o),l&&Gl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ql(t){"@babel/helpers - typeof";return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ql(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xl(t,e){return(Xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=$l(t);if(e){var n=$l(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ql(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $l(t){return($l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21900=Kl;var tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue()),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=.5*this.getSubSymbolScaleValue()}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.addSubSymbols(r,a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p,this.scaleValues[1])}var P=o*this.scaleValues[0]*.5,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,P,P,i+90);this.addScalePoint(f,0),this.finish()}}},{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-180)}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Ql(e.prototype,o),l&&Ql(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function en(t){"@babel/helpers - typeof";return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ln(t,e){return(ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=rn(t);if(e){var n=rn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===en(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21501=tn;var an=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ln(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=nn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,o&&on(e.prototype,o),l&&on(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function un(t){"@babel/helpers - typeof";return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sn(t,e){return(sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pn(t);if(e){var n=Pn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21502=an;var fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=cn(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-90)}}])&&pn(e.prototype,o),l&&pn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gn(t){"@babel/helpers - typeof";return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hn(t,e){return(hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bn(t);if(e){var n=bn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21503=fn;var An=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=Sn(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-90)}}])&&yn(e.prototype,o),l&&yn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function dn(t){"@babel/helpers - typeof";return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vn(t,e){return(vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=On(t);if(e){var n=On(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function On(t){return(On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21504=An;var wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e.subText="",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){1==this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=.6*this.getSubSymbolScaleValue(),this.scaleValues[1]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,l=0;l<e.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);var n=.5*o,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==r.index){for(var i=r.pt,a=[],u=0,p=0;p<r.index+1;p++)a.push(e[p]),p>0&&(u+=SuperMapAlgoPlot.PlottingUtil.distance(a[p],a[p-1]));var s,c,P=n-u,f=o*this.scaleValues[1],g=[];if(P>=f){s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[r.index],f),a.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[r.index+1],f),g.push(c);for(var y=e.length,h=r.index+1;h<y;++h)g.push(e[h]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}else{for(var S,b,A=-1,d=a.length-1;d>=0;d--)if(S=new SuperMapAlgoPlot.Point(a[d].x,a[d].y),b=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(S,b)>f){A=d;break}if(-1==A)return;a.splice(A+1,a.length-1-A),s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[A],f),a.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);for(var M=-1,v=r.index;v<e.length;v++)if(S=new SuperMapAlgoPlot.Point(e[v].x,e[v].y),b=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(S,b)>f){M=v;break}if(-1==M)return;c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[M],f),g.push(c);for(var m=M+1;m<e.length;++m)g.push(e[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}if(!(a.length<2)){for(var O=0,w=0;w<t.length-1;w++)O+=SuperMapAlgoPlot.PlottingUtil.distance(t[w],t[w+1]);var U=O*this.scaleValues[0],L=new SuperMapAlgoPlot.Point(a[0].x,a[0].y),T=new SuperMapAlgoPlot.Point(a[1].x,a[1].y),j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,T,L),R=[];if(R.push(j.pntLeft),R.push(j.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{lineTypeLimit:!0,surroundLineLimit:!0}),!(g.length<2)){var V=new SuperMapAlgoPlot.Point(g[g.length-1].x,g[g.length-1].y),_=new SuperMapAlgoPlot.Point(g[g.length-2].x,g[g.length-2].y),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,_,V);(R=[]).push(E.pntLeft),R.push(E.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{lineTypeLimit:!0,surroundLineLimit:!0});var x=s,B=c,C=180*SuperMapAlgoPlot.PlottingUtil.radian(x,B)/Math.PI,Y=SuperMapAlgoPlot.PlottingUtil.distance(x,B),I=new SuperMapAlgoPlot.Point((s.x+c.x)/2,(s.y+c.y)/2),D=this.subText;this.addText(D,I,Y,C),this.addScalePoint(j.pntLeft),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&Mn(e.prototype,o),l&&Mn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Un(t){"@babel/helpers - typeof";return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ln(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tn(t,e){return(Tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Rn(t);if(e){var n=Rn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21600=wn;var Vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=jn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.2));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=.5*e,l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+270),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,o,o,r),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,o,o,r),s=[];s.push(p),s.push(a),s.push(i),s.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+270),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,o,o,r+180),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,o,o,r+180);(s=[]).push(f),s.push(c),s.push(P),s.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addScalePoint(i),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&Ln(e.prototype,o),l&&Ln(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _n(t){"@babel/helpers - typeof";return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xn(t,e){return(xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cn(t);if(e){var n=Cn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cn(t){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21800=Vn;var Yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.03):1===this.scaleValues.length&&(this.scaleValues[1]=.02),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=.6*this.getSubSymbolScaleValue()}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,a,i);var u=e[0],p=e[1],s=e[e.length-2],c=e[e.length-1],P=o*this.scaleValues[1],f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,p,u),g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,s,c),y=f.pntLeft,h=g.pntLeft,S=[],b=[];S.push(y);for(var A=0;A<=n.startIndex;A++)S.push(e[A]);if(S.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),n.endIndex<=e.length){b.push(n.endPt);for(var d=n.endIndex+1;d<=e.length-1;d++)b.push(e[d]);b.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}var M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i);this.addScalePoint(v,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&En(e.prototype,o),l&&En(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function In(t){"@babel/helpers - typeof";return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nn(t,e){return(Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zn(t);if(e){var n=zn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22000=Yn;var Fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol22000);var e,o,l,n=kn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.025)),e}return e=r,o&&Dn(e.prototype,o),l&&Dn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Gn(t){"@babel/helpers - typeof";return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jn(t,e){return(Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kn(t);if(e){var n=Kn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22103=Fn;var qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e),this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var o=this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=i*n,u=new SuperMapAlgoPlot.Point(r.x+i*o,r.y+i*l);if(this.subSymbols.length>0){if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],u,a,0),this.addScalePoint(u);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,a,a,0);this.addScalePoint(p)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[0]=n,r=(e.y-i.y)/a,this.scaleValues[1]=r;else if(1===t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[2]=p}}}}])&&Wn(e.prototype,o),l&&Wn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qn(t){"@babel/helpers - typeof";return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zn(t,e){return(Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tr(t);if(e){var n=tr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23400=qn;var er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$n(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,{fillLimit:!0,fill:!1,surroundLineFlag:!1});var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0),this.addScalePoint(p);var s=u,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[2]=n,r=(e.y-i.y)/a,this.scaleValues[3]=r;else if(1===t){n=this.scaleValues[2],r=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[0]=p}}}}])&&Xn(e.prototype,o),l&&Xn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function or(t){"@babel/helpers - typeof";return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nr(t,e){return(nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ir(t);if(e){var n=ir(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23500=er;var ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rr(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&lr(e.prototype,o),l&&lr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ur(t){"@babel/helpers - typeof";return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sr(t,e){return(sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pr(t);if(e){var n=Pr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pr(t){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23800=ar;var fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.333333),e.scaleValues.push(.333333),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=[];if(2==t.length){var l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n);e=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI;var i=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,r,r,e+60);o.push(t[0]),o.push(n),o.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);for(var a=0;a<t.length;a++)o.push(t[a])}o.push(o[0]);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(!this.isEdit){this.scaleValues[0]=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[2]=2*p*this.getSubSymbolScaleValue()/u}var s=this.scaleValues[2],c=this.scaleValues[3],P=this.scaleValues[0],f=u*s;e=c-90,0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],P,f,e),this.addScalePoint(this.scaleValues[0]);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,f,f,c);this.addScalePoint(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i=[];if(2==o.length){l=o[0],n=o[1];var a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),u=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI;r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,u+60),i.push(l),i.push(n),i.push(r)}else i=i.concat(o);l=i[0],n=i[1],r=i[2];SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(i);i.push(i[0]);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),s=e;if(0==t)this.scaleValues[0]=e;else if(1==t){var c=this.scaleValues[0],P=SuperMapAlgoPlot.PlottingUtil.distance(c,s)/p;this.scaleValues[2]=P;var f=180*SuperMapAlgoPlot.PlottingUtil.radian(c,s)/Math.PI;this.scaleValues[3]=f}}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,l){var n,r,i=o[0],a=o[1],u=o[2],p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(u,i,a)*t,s=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,i,u)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,a,l)?((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!1)):((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,u,l)?((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!1)):((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!0)),2>c.length||2>r.length)return l;var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],r[0],r[1]);return P.isIntersectLines?P.intersectPoint:l}}])&&pr(e.prototype,o),l&&pr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gr(t){"@babel/helpers - typeof";return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hr(t,e){return(hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=br(t);if(e){var n=br(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23901=fr;var Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,l,n,r=[];if(2==t.length){e=t[0],o=t[1];var i=SuperMapAlgoPlot.PlottingUtil.distance(e,o);n=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,l=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,i,i,n+60),r.push(e),r.push(l),r.push(o)}else r=r.concat(t);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r),r.push(r[0]);var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),u=this.scaleValues[0],p=this.scaleValues[1],s=this.scaleValues[2],c=this.scaleValues[4],P=a*u;e=r[0],o=r[1],l=r[2];var f,g=a*p,y=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(e,o,l)/Math.PI*s,h=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,S=h-y,b=h+y,A=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,S),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,b);f=SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(r,A)?A:d;var M=a*this.scaleValues[3];n=c,0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],f,M,n-90);var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,P,P,h+180);this.addScalePoint(v),this.addScalePoint(f);var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.5*M,.5*M,n);this.addScalePoint(m),this.createArcPts(r,P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i,a,u,p,s=[];2==o.length?(l=o[0],n=o[1],a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),i=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,i+60),s.push(l),s.push(n),s.push(r)):s=s.concat(o),l=s[0],n=s[1],r=s[2],s.push(s[0]);var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s),P=e;if(0===t)a=SuperMapAlgoPlot.PlottingUtil.distance(P,s[0]),this.scaleValues[0]=a/c;else if(1===t){u=SuperMapAlgoPlot.PlottingUtil.distance(P,s[0])/c,this.scaleValues[1]=u,i=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,r)/Math.PI,0<=(p=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,P)/Math.PI/i)&&1>=p&&(this.scaleValues[2]=p)}else if(2===t){u=this.scaleValues[1],p=this.scaleValues[2];var f,g=c*u,y=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,r)/Math.PI*p,h=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,S=h-y,b=h+y,A=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,g,g,S),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,g,g,b);f=SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(s,A)?A:d;var M=2*SuperMapAlgoPlot.PlottingUtil.distance(P,f)/c;this.scaleValues[3]=M;var v=180*SuperMapAlgoPlot.PlottingUtil.radian(f,P)/Math.PI;this.scaleValues[4]=v}}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,l){var n,r,i=o[0],a=o[1],u=o[2],p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(u,i,a)*t,s=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,i,u)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,a,l)?((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!1)):((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,u,l)?((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!1)):((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!0)),2>c.length||2>r.length)return l;var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],r[0],r[1]);return P.isIntersectLines?P.intersectPoint:l}},{key:"createArcPts",value:function(t,e){for(var o=[],l=[],n=0;n<t.length;n++)l.push(e),o.push([{Start:0,End:360}]);for(var r=0;r<t.length;r++)if(0!==o[r].length&&(0!==o[r][0].Start||0!==o[r][0].End))for(var i=r+1;i<t.length;i++)if(0!==o[i].length&&(0!==o[i][0].Start||0!==o[i][0].End)){var a=SuperMapAlgoPlot.PlottingUtil.distance(t[r],t[i]);if(a<l[r]+l[i])if(a>Math.abs(l[r]-l[i]))for(var u=0;u<2;u++){var p,s,c;0==u?(c=r,p=SuperMapAlgoPlot.PlottingUtil.radian(t[r],t[i])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((a*a+l[r]*l[r]-l[i]*l[i])/(2*a*l[r]))*SuperMapAlgoPlot.PlottingUtil.RTOD):(c=i,p=SuperMapAlgoPlot.PlottingUtil.radian(t[i],t[r])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((a*a+l[i]*l[i]-l[r]*l[r])/(2*a*l[i]))*SuperMapAlgoPlot.PlottingUtil.RTOD);var P=p-s,f=p+s,g=P<0&&f>0||P>360||f>360;P=this.adjustAngle(P),f=this.adjustAngle(f);for(var y=o[c].length-1;y>=0;y--)if(g){if(f>o[c][y].End||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(f,o[c][y].End)){o[c].splice(y,1);continue}if(f>o[c][y].Start&&(o[c][y].Start=f),P<o[c][y].Start||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(P,o[c][y].Start)){o[c].splice(y,1);continue}P<o[c][y].End&&(o[c][y].End=P)}else if(P<o[c][y].Start&&f>o[c][y].End)o[c].splice(y,1);else if(P>o[c][y].Start&&f<o[c][y].End)o[c].push({Start:o[c][y].Start,End:P}),o[c].push({Start:f,End:o[c][y].End}),o[c].splice(y,1);else{if(P>o[c][y].End)continue;if(P>o[c][y].Start&&(o[c][y].End=P),f<o[c][y].Start)continue;f<o[c][y].End&&(o[c][y].Start=f)}}else{if(l[r]<l[i]){o[r][0].Start=0,o[r][0].End=0;break}o[i][0].Start=0,o[i][0].End=0}}for(var h=0;h<t.length;h++)if(0!==o[h].length&&(0!==o[h][0].Start||0!==o[h][0].End))for(var S=o[h].length-1;S>=0;S--){for(var b=this.adjustAngle(o[h][S].Start),A=this.adjustAngle(o[h][S].End);A<b;)A+=360;for(var d=[],M=(A-b)/72,v=b;v<A+M/2;v+=M){var m=t[h].x+l[h]*Math.cos(v*SuperMapAlgoPlot.PlottingUtil.DTOR),O=t[h].y+l[h]*Math.sin(v*SuperMapAlgoPlot.PlottingUtil.DTOR);d.push(new SuperMapAlgoPlot.Point(m,O))}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d)}}},{key:"adjustAngle",value:function(t){for(;t>360;)t-=360;for(;t<0;)t+=360;return t}},{key:"GetCirclePts",value:function(t,e,o,l){var n=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,r=180*SuperMapAlgoPlot.PlottingUtil.radian(t,o)/Math.PI,i=n;r>n&&(i=r);for(var a=[],u=i;u<360+i;u+=4)90==u&&(u=91),a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,l,l,u));return a.push[0],a}},{key:"CreatArc",value:function(t,e,o){for(var l=[],n=[],r=0;r<t.length;r++){var i=t[r];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,i)||SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,i)?(n.length>1&&l.push(n),n=[]):n.push(i)}n.length>1&&l.push(n);for(var a=0;a<l.length;a++){var u=l[a];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}}},{key:"GetArcPts3D",value:function(t,e,o){for(var l=[],n=[],r=0;r<t.length;r++){var i=t[r];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,i)||SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,i)?(n.length>1&&l.push(n),n=[]):n.push(i)}n.length>1&&l.push(n);for(var a=[],u=0;u<l.length;u++)a=a.concat(l[u]);return a}},{key:"sortPts",value:function(t,e){t=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);for(var o=0;o<e.length;o++)for(var l=e[o],n=180*SuperMapAlgoPlot.PlottingUtil.radian(t,l)/Math.PI,r=0;r<e.length;r++){var i=e[r],a=180*SuperMapAlgoPlot.PlottingUtil.radian(t,i)/Math.PI;if(n>a){var u=new SuperMapAlgoPlot.Point(l.x,l.y);l=new SuperMapAlgoPlot.Point(i.x,i.y),i=new SuperMapAlgoPlot.Point(u.x,u.y),n=a,e[o]=l,e[r]=i}}return e}}])&&yr(e.prototype,o),l&&yr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function dr(t){"@babel/helpers - typeof";return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vr(t,e){return(vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Or(t);if(e){var n=Or(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Or(t){return(Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23902=Ar;var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=e[0],r=e[1],i=e[e.length-2],a=e[e.length-1],u=o*this.scaleValues[0]*.6,p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,r,n),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,i,a),c=p.pntLeft,P=s.pntRight,f=[];f.push(n),f.push(c);for(var g=new SuperMapAlgoPlot.Point((n.x+c.x)/2,(n.y+c.y)/2),y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f)/2,h=[],S=180*SuperMapAlgoPlot.PlottingUtil.radian(r,n)/Math.PI,b=360+S;b>=270+S;b-=3)h.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(g,y,y,b));var A=[];A.push(a),A.push(P);var d=[];d.push(a),d.push(P);for(var M=new SuperMapAlgoPlot.Point((a.x+P.x)/2,(a.y+P.y)/2),v=SuperMapAlgoPlot.PlottingUtil.polylineDistance(d)/2,m=[],O=180*SuperMapAlgoPlot.PlottingUtil.radian(a,P)/Math.PI,w=180+O;w>=90+O;w-=3)m.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(M,v,v,w));var U=[];U=(U=(U=U.concat(h)).concat(e)).concat(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U),this.finish()}}}])&&Mr(e.prototype,o),l&&Mr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ur(t){"@babel/helpers - typeof";return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tr(t,e){return(Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Rr(t);if(e){var n=Rr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Rr(t){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28900=wr;var Vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=jr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=t.length,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=[];2==o?(e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t),r.push.apply(r,e)):3==o&&(e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),r=r.concat(e)),r=SuperMapAlgoPlot.PlottingUtil.inverse(r);var i,a=new SuperMapAlgoPlot.Point(.8*l,.1*l),u=new SuperMapAlgoPlot.Point(1.2*l,.1*l),p=new SuperMapAlgoPlot.Point(1.2*l,.1*-l),s=new SuperMapAlgoPlot.Point(.9*l,.1*-l),c=[];c.push(a),c.push(u),c.push(p),c.push(s);var P=[],f=0;for(f=0;f<4;f++)i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],c[f],n),P.push(i);var g=new SuperMapAlgoPlot.Point(-.8*l,.1*l),y=new SuperMapAlgoPlot.Point(-1.2*l,.1*l),h=new SuperMapAlgoPlot.Point(-1.1*l,.1*-l),S=new SuperMapAlgoPlot.Point(-.8*l,.1*-l);(c=[]).push(g),c.push(y),c.push(h),c.push(S);var b=[];for(f=0;f<4;f++)i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],c[f],n),b.push(i);var A,d=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],3*l),M=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],2*l),v=[];for(f=0;f<r.length-1;f++){var m=SuperMapAlgoPlot.PlottingUtil.intersectLines(r[f],r[f+1],d,M);m.isIntersectLines&&(A=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(m.intersectPoint,r)).isOnPolyLine&&v.push(m.intersectPoint)}if(!(0>=v.length)&&(A=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(v[0],r)).isOnPolyLine){var O=[];for(f=A.index+1;f<r.length;f++)O.push(r[f]);for(f=0;f<=A.index;f++)O.push(r[f]);var w=[],U=[];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(P,v[0])?(w.push.apply(w,P),U.push.apply(U,b)):(w.push.apply(w,b),U.push.apply(U,P));var L=[],T=[];for(A=-1,f=0;f<O.length;f++)if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(w,O[f])){if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(U,O[f])){A=f;break}L.push(O[f])}if(-1!==A)for(f=A;f<O.length;f++)if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(U,O[f])){if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(w,O[f]))break;T.push(O[f])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T),this.addLine(L),this.addLine(T),this.finish()}}}},{key:"addLine",value:function(t){for(var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=0;o<t.length-2;o++){var l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.02*e,t);if(-1!==l.index){var n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*e,t);if(-1!==n.index){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.92*e,t);if(-1!==r.index&&(o===l.index||o===l.index+1||o===r.index||o===r.index+1||o===n.index||o===n.index+1)){var i=SuperMapAlgoPlot.PlottingUtil.radian(t[o+1],t[o])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[o+1],.02*e,.02*e,i+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[o+1],a],{surroundLineLimit:!0,lineTypeLimit:!0})}}}}}}])&&Lr(e.prototype,o),l&&Lr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _r(t){"@babel/helpers - typeof";return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Er(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xr(t,e){return(xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cr(t);if(e){var n=Cr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29000=Vr;var Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Br(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var n=Math.floor(l*o.length/4),r=new SuperMapAlgoPlot.Point(o[n].x,o[n].y),i=new SuperMapAlgoPlot.Point(o[n+1].x,o[n+1].y),a=new SuperMapAlgoPlot.Point((r.x+i.x)/2,(r.y+i.y)/2),u=SuperMapAlgoPlot.PlottingUtil.radian(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=this.scaleValues[0]*e/2,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,4*p,4*p,u+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c,P],{lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&Er(e.prototype,o),l&&Er(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ir(t){"@babel/helpers - typeof";return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nr(t,e){return(Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zr(t);if(e){var n=zr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zr(t){return(zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29100=Yr;var Fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,l,n=kr(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var n=l*(o.length-1)/4,r=new SuperMapAlgoPlot.Point(o[n].x,o[n].y),i=new SuperMapAlgoPlot.Point(o[n+1].x,o[n+1].y),a=new SuperMapAlgoPlot.Point((r.x+i.x)/2,(r.y+i.y)/2),u=SuperMapAlgoPlot.PlottingUtil.radian(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=this.scaleValues[0]*e/2,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,4*p,4*p,u+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c,P],{surroundLineLimit:!0,lineTypeLimit:!0})}this.finish()}}}])&&Dr(e.prototype,o),l&&Dr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gr(t){"@babel/helpers - typeof";return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jr(t,e){return(Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kr(t);if(e){var n=Kr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29101=Fr;var qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,l,n=Hr(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=[];l=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l);for(var n=0;n<4;n++){var r=n*(l.length-1)/4,i=new SuperMapAlgoPlot.Point(l[r].x,l[r].y),a=new SuperMapAlgoPlot.Point(l[r+1].x,l[r+1].y),u=new SuperMapAlgoPlot.Point((i.x+a.x)/2,(i.y+a.y)/2),p=180*SuperMapAlgoPlot.PlottingUtil.radian(u,a)/Math.PI,s=e*this.scaleValues[0]/2,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,s,s,p),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,4*s,4*s,p+270),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,s,s,p+180);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[c,P,f],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&Wr(e.prototype,o),l&&Wr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qr(t){"@babel/helpers - typeof";return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zr(t,e){return(Zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ti(t);if(e){var n=ti(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29103=qr;var ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=$r(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=Math.max(this.subSymbols[0].symbolData.symbolSize.x,this.subSymbols[0].symbolData.symbolSize.y);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=100*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o,s=new SuperMapAlgoPlot.Point((a.pts.x+i.pts.x)/2,(i.pts.y+a.pts.y)/2);if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],s,p,u),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(3===t&&null==r.pt&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&Xr(e.prototype,o),l&&Xr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oi(t){"@babel/helpers - typeof";return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function li(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ni(t,e){return(ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ii(t);if(e){var n=ii(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25200=ei;var ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ri(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.222222),e.scaleValues.push(.5),e.scaleValues.push(.5),e.scaleValues.push(.5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.222222),this.scaleValues.push(.5),this.scaleValues.push(.5),this.scaleValues.push(.5));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o),S=[];S.push(r),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(i);for(var b=[],A=0;A<S.length;A++){var d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[A],h*SuperMapAlgoPlot.PlottingUtil.RTOD);b.push(d)}for(var M=[],v=b.length-1;v>=0;--v)M.push(b[v]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.scalePoints=[];var m=b[0].clone();m.isScalePoint=!0,m.tag=0,this.scalePoints.push(m);var O=b[1].clone();O.isScalePoint=!0,O.tag=1,this.scalePoints.push(O);var w=b[2].clone();w.isScalePoint=!0,w.tag=2,this.scalePoints.push(w),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&li(e.prototype,o),l&&li(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ui(t){"@babel/helpers - typeof";return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function si(t,e){return(si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ci(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pi(t);if(e){var n=Pi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25000=ai;var fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&si(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ci(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5));var n=this.getLinePts(e,this.scaleValues[0]),r=this.getLinePts(e,this.scaleValues[0]),i=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt),a=e[0],u=e[1],p=e[e.length-2],s=e[e.length-1],c=.3*i,P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,u,a),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,p,s),g=P.pntLeft,y=f.pntLeft,h=[];h.push(s),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[],b=[];S.push(g);for(var A=0;A<=r.startIndex;A++)S.push(e[A]);if(S.push(r.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),r.endIndex<=e.length){b.push(r.endPt);for(var d=r.endIndex+1;d<=e.length-1;d++)b.push(e[d]);b.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}var M=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),m=new SuperMapAlgoPlot.Point(-.5*i,0),O=new SuperMapAlgoPlot.Point(.1*i,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,m,M),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,O,M),L=[];L.push(w),L.push(U);var T={surroundLineFlag:!1,lineTypeLimit:!0,fillLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,T);var j=new SuperMapAlgoPlot.Point(-.3*i,0),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,-.3*i,-.3*i,135),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,-.3*i,-.3*i,225),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,j,M),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,R,M),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,V,M);(L=[]).push(E),L.push(_),L.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,T);var B=new SuperMapAlgoPlot.Point(.1*i,0),C=new SuperMapAlgoPlot.Point(.5*i,-.2*i),Y=new SuperMapAlgoPlot.Point(.5*i,.2*i),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,B,M),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,C,M),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,Y,M);(L=[]).push(I),L.push(D),L.push(N),L.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,T);var k=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),z=SuperMapAlgoPlot.PlottingUtil.circlePoint(k.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,M);this.addScalePoint(z,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&pi(e.prototype,o),l&&pi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gi(t){"@babel/helpers - typeof";return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hi(t,e){return(hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bi(t);if(e){var n=bi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bi(t){return(bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25400=fi;var Ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Si(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(-1.5)),e.arrowHeadType=SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){this.scaleValues=[];for(var e=0;e<t.length;e++)this.scaleValues.splice(e,0,0);var o=this.getSubSymbolScaleValue();this.scaleValues[t.length]=.8*o,this.scaleValues[t.length+1]=o,this.scaleValues[t.length+2]=-1.5;var l=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[t.length+3]=l,this.scaleValues[t.length+4]=o,this.arrowHeadType=3}this.isEdit&&this.scaleValues.length===t.length+3&&(this.scaleValues[t.length+3]=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),this.scaleValues[t.length+4]=.05);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=n*this.scaleValues[this.scaleValues.length-1],i=n*this.scaleValues[this.scaleValues.length-2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i-.5*r);if(-1!==a.index){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i+.5*r);if(-1!==u.index){var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i).pt,s=SuperMapAlgoPlot.PlottingUtil.radian(a.pt,u.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD;0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],p,.6*r,s);for(var c=[],P=[],f=0;f<=a.index;f++)c.push(t[f]);c.push(a.pt),P.push(u.pt);for(var g=a.index+1;g<=t.length-1;g++)P.push(t[g]);var y,h,S,b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),A=this.scaleValues.length,d=b*this.scaleValues[A-5]*.2,M=this.scaleValues[0];if(0===M)y=(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[1],t[0])).pntRight;else if(1===M)y=(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[1],t[0])).pntLeft;else{if(2!==M)return;y=t[0]}var v,m,O,w,U=[];U.push(y);for(var L=0;L<=a.index;L++)U.push(t[L]);if(U.push(a.pt),this.addScalePoint(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U),t.length>this.minEditPts){for(var T,j,R,V,_,E=1;E<t.length-1;E++){var x,B,C,Y=this.scaleValues[E];if(0===Y){for(T=t[E],B=t[E+1],C=t[E-1],j=180*SuperMapAlgoPlot.PlottingUtil.radian(T,B)/Math.PI,R=180*SuperMapAlgoPlot.PlottingUtil.radian(T,C)/Math.PI-j;R<0;)R+=360;V=R/2,_=t[E+1].clone(),_=SuperMapAlgoPlot.PlottingUtil.rotateAngle(T,V*Math.PI/180,_),x=SuperMapAlgoPlot.PlottingUtil.linePnt(T,_,d)}else if(1===Y){for(T=t[E],B=t[E+1],C=t[E-1],j=180*SuperMapAlgoPlot.PlottingUtil.radian(T,B)/Math.PI,R=180*SuperMapAlgoPlot.PlottingUtil.radian(T,C)/Math.PI-j;R<0;)R+=360;V=180-R/2,_=t[E-1].clone(),_=SuperMapAlgoPlot.PlottingUtil.rotateAngle(T,V*Math.PI/180,_),x=SuperMapAlgoPlot.PlottingUtil.linePnt(T,_,d)}else{if(2!==Y)continue;x=t[E]}(v=[]).push(t[E]),v.push(x),this.addScalePoint(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0})}var I=t.length,D=this.scaleValues[I-1];if(0===D)m=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[I-2],t[I-1])).pntLeft,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,t[I-2],t[I-1]).pntLeft;else if(1===D)m=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[I-2],t[I-1])).pntRight,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,t[I-2],t[I-1]).pntRight;else{if(2!==D)return;m=t[I-1].clone(),O=t[I-1].clone()}(v=[]).push(u.pt);for(var N=a.index+1;N<=t.length-1;N++)v.push(t[N]);v.push(m),this.addScalePoint(m),this.addScalePoint(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}else{var k=this.scaleValues[1];if(0===k)m=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[0],t[1])).pntLeft,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,t[0],t[1]).pntLeft;else if(1===k)m=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[0],t[1])).pntRight,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,t[0],t[1]).pntRight;else{if(2!==k)return;m=t[1].clone(),O=t[1].clone()}(v=[]).push(u.pt);for(var z=a.index+1;z<=t.length-1;z++)v.push(t[z]);v.push(m),this.addScalePoint(m),this.addScalePoint(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}var F=this.scaleValues.length,G=this.scaleValues[F-4],W=Math.abs(b*G),J=this.scaleValues[F-3],H=5*Math.abs(d*J);if(-1!==(h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,W)).index){var K=h.index,q=h.pt;w=J>=0?(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(H,t[K],q)).pntRight:(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(H,t[K],q)).pntLeft;var Q=SuperMapAlgoPlot.PlottingUtil.linePnt(q,w,H),X=.3*H,Z=SuperMapAlgoPlot.PlottingUtil.linePnt(Q,q,X);(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*X,Q,Z)).pntLeft,S.pntRight;(v=[]).push(Q),v.push(q),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0});var $=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(v,.3*H,this.arrowHeadType),tt=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL;this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW||(tt=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL);this.addCell(tt,$,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(Q),this.addScalePoint(p);var et=SuperMapAlgoPlot.PlottingUtil.radian(a.pt,u.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,ot=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,.5*r,.5*r,et);this.addScalePoint(ot),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i,a,u,p,s,c,P,f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),g=o.length,y=e;if(t>=0&&t<g){var h=!1;if(0==t)h=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],y);else if(t==g-1)h=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],y);else{var S=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],o[t+1]),b=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],y);if(S!=b)h=b;else{var A=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],y);h=A==b?b:A}}this.scaleValues[t]=h?1:0}else if(t==g){l=SuperMapAlgoPlot.PlottingUtil.distance(o[g-1],y);var d=(l/=2)/f/.2;this.scaleValues[t]=d}else if(t===g+1){n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0);for(var M=0;M<o.length-1;M++)(a=[]).push(o[M]),a.push(o[M+1]),p=SuperMapAlgoPlot.PlottingUtil.projectPoint(y,o[M],o[M+1]),(u=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(p,a)).isOnPolyLine&&(P=SuperMapAlgoPlot.PlottingUtil.distance(y,p),-1==n?(n=M,i=p,r=P):r>P&&(n=M,i=p,r=P));if(-1==n||n>o.length-1)return;s=0;for(var v=0;v<n;v++){var m=o[v],O=o[v+1];s+=SuperMapAlgoPlot.PlottingUtil.distance(m,O)}if(c=o[n],(s+=SuperMapAlgoPlot.PlottingUtil.distance(c,i))<0||s>f)return;var w=s/f;this.scaleValues[g+1]=w;var U,L=this.scaleValues.length;l=f*this.scaleValues[L-5],U=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[n],o[n+1],y)?r/l:-Math.abs(r/l),this.scaleValues[g+2]=U}else if(t===g+2){n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0);for(var T=0;T<o.length-1;T++)(a=[]).push(o[T]),a.push(o[T+1]),p=SuperMapAlgoPlot.PlottingUtil.projectPoint(y,o[T],o[T+1]),(u=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(p,a)).isOnPolyLine&&(P=SuperMapAlgoPlot.PlottingUtil.distance(y,p),-1===n?(n=T,i=p,r=P):r>P&&(n=T,i=p,r=P));if(-1===n||n>o.length-1)return;s=0;for(var j=0;j<n;j++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[j],o[j+1]);if(c=o[n],(s+=SuperMapAlgoPlot.PlottingUtil.distance(c,i))<0||s>f)return;.1*f<s&&.9*f>s&&(this.scaleValues[this.scaleValues.length-2]=s/f)}else if(t===g+3){var R=this.scaleValues[this.scaleValues.length-2]*f;if(-1===(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,R)).index)return;var V=2*SuperMapAlgoPlot.PlottingUtil.distance(u.pt,e)/f;V>.15&&(V=.15),this.scaleValues[this.scaleValues.length-1]=V}}}}])&&yi(e.prototype,o),l&&yi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function di(t){"@babel/helpers - typeof";return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vi(t,e){return(vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Oi(t);if(e){var n=Oi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oi(t){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26400=Ai;var wi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,o/2);if(-1!==l.index){var n=l.pt,r=this.getDefaultSubSymbolSize()/o;(r>.3||r<=0)&&(r=.3),this.scaleValues[0]=r;var i=1.5*this.scaleValues[0]*o,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[l.index],n),u=[];u.push(a.pntLeft),u.push(n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,null,!0),this.finish()}}}}])&&Mi(e.prototype,o),l&&Mi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ui(t){"@babel/helpers - typeof";return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ti(t,e){return(Ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ji(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ri(t);if(e){var n=Ri(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ri(t){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26500=wi;var Vi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ti(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol22000);var e,o,l,n=ji(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.01)),e}return e=r,o&&Li(e.prototype,o),l&&Li(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function _i(t){"@babel/helpers - typeof";return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ei(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xi(t,e){return(xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ci(t);if(e){var n=Ci(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ci(t){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26502=Vi;var Yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bi(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=.1*SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=.5*o;this.computeDashLine(o,l,e),this.finish()}}},{key:"computeDashLine",value:function(t,e,o){for(var l,n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=o[0].clone(),a=1,u=0,p=!0,s=!0;u<r;){var c;(n=[]).push(i),u+=t;var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,o);if(c=P.index,l=P.pts,!(p=P.bfind))break;if(a<c)for(var f=a;f<c;f++)n.push(o[f]);n.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),u+=e;var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,o);if(c=g.index,i=g.pts,a=c+1,!(s=g.bfind))break}if(!p){(n=[]).push(i);for(var y=a;y<o.length;y++)n.push(o[y]);2===n.length&&0===SuperMapAlgoPlot.PlottingUtil.distance(n[0],n[1])||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}if(!s){var h=o[o.length-1],S=SuperMapAlgoPlot.PlottingUtil.distance(l,h);if(S*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(S,0)){var b=SuperMapAlgoPlot.PlottingUtil.linePnt(h,l,S);(n=[]).push(b),n.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}}}}])&&Ei(e.prototype,o),l&&Ei(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ii(t){"@babel/helpers - typeof";return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Di(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ni(t,e){return(Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ki(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zi(t);if(e){var n=zi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zi(t){return(zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26600=Yi;var Fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ni(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ki(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o,l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),r=.1*n,i=.5*r,a=this.computeDashLine(r,i,e),u=.01*n,p=0;p<a.length;p++)o=SuperMapAlgoPlot.PlottingUtil.paraLine(a[p],u,!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o),l=SuperMapAlgoPlot.PlottingUtil.paraLine(a[p],u,!1),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);this.finish()}}},{key:"computeDashLine",value:function(t,e,o){for(var l,n,r=[],i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=o[0].clone(),u=1,p=0,s=!0,c=!0;p<i;){var P;(n=[]).push(a),p+=t;var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,o);if(P=f.index,l=f.pts,!(s=f.bfind))break;if(u<P)for(var g=u;g<P;g++)n.push(o[g]);n.push(l),r.push(n),p+=e;var y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,o);if(P=y.index,a=y.pts,u=P+1,!(c=y.bfind))break}if(!s){(n=[]).push(a);for(var h=u;h<o.length;h++)n.push(o[h]);2===n.length&&0===SuperMapAlgoPlot.PlottingUtil.distance(n[0],n[1])||r.push(n)}if(!c){var S=o[o.length-1],b=SuperMapAlgoPlot.PlottingUtil.distance(l,S);if(b*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b,0)){var A=SuperMapAlgoPlot.PlottingUtil.linePnt(S,l,b);(n=[]).push(A),n.push(S),r.push(n)}}return r}}])&&Di(e.prototype,o),l&&Di(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gi(t){"@babel/helpers - typeof";return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ji(t,e){return(Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ki(t);if(e){var n=Ki(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ki(t){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26601=Fi;var qi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ji(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.349066)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,l,n,r,i,a,u=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,p=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),s=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=new SuperMapAlgoPlot.Point(0,0);if(2<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n))),(r=[]).push(t[0]);for(var f=e.length-1;f>=0;f--)r.push(new SuperMapAlgoPlot.Point(e[f].x,e[f].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),P=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(t[0]),a.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}var g=new SuperMapAlgoPlot.Point(0,0);if(3<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n)));var y=[];if(0==e.length)return void(y.length>0&&(y=[]));(r=[]).push(t[0]);for(var h=e.length-1;h>=0;h--)r.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});for(var S=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),b=SuperMapAlgoPlot.PlottingUtil.distance(p,S)*this.scaleValues[0],A=[],d=90;d<=270;d+=3)A.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,b,b,c+d));r=[];for(var M=A.length-1;M>=0;M--)r.push(new SuperMapAlgoPlot.Point(A[M].x,A[M].y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),(r=[]).push(new SuperMapAlgoPlot.Point(A[0].x,A[0].y)),r.push(new SuperMapAlgoPlot.Point(e[e.length-1].x,e[e.length-1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),(r=[]).push(new SuperMapAlgoPlot.Point(e[0].x,e[0].y)),r.push(new SuperMapAlgoPlot.Point(A[A.length-1].x,A[A.length-1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),g=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(P),a.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}var v=new SuperMapAlgoPlot.Point(0,0);if(4<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[3].x,t[3].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<=c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n))),(r=[]).push(t[0]);for(var m=e.length-1;m>=0;m--)r.push(new SuperMapAlgoPlot.Point(e[m].x,e[m].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),v=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(g),a.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}if(3>t.length)this.addScalePoint(t[0]);else{var O=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],w=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,O,O,c+180);this.addScalePoint(w,0)}var U=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1]),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,U,U,c+u);this.addScalePoint(L,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o,l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),0==t){if(3>l.length)return;var n=new SuperMapAlgoPlot.Point(l[0].x,l[0].y),r=new SuperMapAlgoPlot.Point(e.x,e.y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r),a=new SuperMapAlgoPlot.Point(l[1].x,l[1].y);if((o=i/SuperMapAlgoPlot.PlottingUtil.distance(n,a))>=2.5)return;this.scaleValues[0]=o}else if(1==t){var u=new SuperMapAlgoPlot.Point(l[0].x,l[0].y),p=new SuperMapAlgoPlot.Point(l[l.length-1].x,l[l.length-1].y),s=SuperMapAlgoPlot.PlottingUtil.radian(u,p),c=new SuperMapAlgoPlot.Point(e.x,e.y);if(o=SuperMapAlgoPlot.PlottingUtil.radian(u,c)-s,(o=Math.abs(o))>Math.PI/2&&o<3*Math.PI/2)return;o>3*Math.PI/2&&o<=2*Math.PI&&(o=2*Math.PI-o),this.scaleValues[1]=Math.abs(o)}}}}])&&Wi(e.prototype,o),l&&Wi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qi(t){"@babel/helpers - typeof";return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zi(t,e){return(Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ta(t);if(e){var n=ta(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ta(t){return(ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28000=qi;var ea=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$i(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.349066)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,n=0,r=0;r<t.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(e,o);var i={surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER},a=this.scaleValues[0]*n;this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[e,new SuperMapAlgoPlot.Point(e.x+a,e.y)],i);var u=180*this.scaleValues[1]/Math.PI,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,n,n,l-u),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,n,n,l+u);this.addCell(SuperMapAlgoPlot.SymbolType.ARCSYMBOL,[p,o,s],i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[0],t[1]],i);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l-90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,c],i);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,s],i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,P],i);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l+180);this.addScalePoint(new SuperMapAlgoPlot.Point(f.x,f.y),0),this.addScalePoint(s,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(l,e)/i;this.scaleValues[0]=a}if(1===t){var u=180*SuperMapAlgoPlot.PlottingUtil.radian(l,e)/Math.PI,p=Math.abs(u-r);if(p>270&&p<360&&(p=360-p),p>90)return;this.scaleValues[1]=p*Math.PI/180}}}}])&&Xi(e.prototype,o),l&&Xi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oa(t){"@babel/helpers - typeof";return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function la(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function na(t,e){return(na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ia(t);if(e){var n=ia(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28100=ea;var aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&na(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ra(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,o),this.finish()}}}])&&la(e.prototype,o),l&&la(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ua(t){"@babel/helpers - typeof";return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pa(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sa(t,e){return(sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ca(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pa(t);if(e){var n=Pa(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pa(t){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28200=aa;var fa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sa(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ca(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var n=o*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],l,n,0),this.scalePoints=[];var r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,n,n,0);this.addScalePoint(r),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=[];l=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/n;this.scaleValues[0]=i}}}}])&&pa(e.prototype,o),l&&pa(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ga(t){"@babel/helpers - typeof";return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ya(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ha(t,e){return(ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ba(t);if(e){var n=ba(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ba(t){return(ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28300=fa;var Aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ha(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sa(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.3),this.scaleValues.push(1)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var e,o,l=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n),i=this.scaleValues[0],a=this.scaleValues[1];if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(1,a))e=SuperMapAlgoPlot.PlottingUtil.radian(l,n)+270*SuperMapAlgoPlot.PlottingUtil.DTOR;else e=SuperMapAlgoPlot.PlottingUtil.radian(l,n)+90*SuperMapAlgoPlot.PlottingUtil.DTOR,o=l,l=n,n=o;var u=r*i*.67,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,u,u,e*SuperMapAlgoPlot.PlottingUtil.RTOD);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,r*i,e*SuperMapAlgoPlot.PlottingUtil.RTOD);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,u,u,e*SuperMapAlgoPlot.PlottingUtil.RTOD);this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],s,r*i,e*SuperMapAlgoPlot.PlottingUtil.RTOD),this.scalePoints=[];var c=e*SuperMapAlgoPlot.PlottingUtil.RTOD,P=r*i,f=t[0].clone(),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,P,P,c);this.addScalePoint(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o))[0].clone(),n=o[1].clone(),r=e.clone(),i=SuperMapAlgoPlot.PlottingUtil.distance(l,n),a=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(r,l,n)/i;if(a<0||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0))return;this.scaleValues[0]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,n,r)?this.scaleValues[1]=1:this.scaleValues[1]=0}}}])&&ya(e.prototype,o),l&&ya(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function da(t){"@babel/helpers - typeof";return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function va(t,e){return(va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ma(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Oa(t);if(e){var n=Oa(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===da(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oa(t){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28301=Aa;var wa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&va(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=ma(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),10!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.4),e.scaleValues.push(.4),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(1),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var l,n,r=e*this.scaleValues[4],i=e*this.scaleValues[5],a=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),u=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],a+i);l=0===this.scaleValues[8]?SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],u).pntRight:SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],u).pntLeft;var p=e*this.scaleValues[6],s=e*this.scaleValues[7],c=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],a+s);n=0===this.scaleValues[9]?SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],c).pntLeft:SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],c).pntRight;var P=[];P.push(new SuperMapAlgoPlot.Point(l.x,l.y)),P.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),P.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y)),P.push(new SuperMapAlgoPlot.Point(n.x,n.y));var f=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(P);f=SuperMapAlgoPlot.PlottingUtil.clearSamePts(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.addScalePoint(l,3),this.addScalePoint(n,4),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]);if(t<=2&&SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments),3===t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,i=SuperMapAlgoPlot.PlottingUtil.distance(n,o[0])/l;this.scaleValues[4]=r,this.scaleValues[5]=i,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[8]=1:this.scaleValues[8]=0}if(4===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,u=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1])/l;this.scaleValues[6]=a,this.scaleValues[7]=u,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[9]=1:this.scaleValues[9]=0}}}}])&&Ma(e.prototype,o),l&&Ma(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ua(t){"@babel/helpers - typeof";return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function La(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ta(t,e){return(Ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ra(t);if(e){var n=Ra(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ra(t){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29800=wa;var Va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ta(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ja(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=e*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI;if(!this.isEdit){var i=this.getSubSymbolScaleValue();this.scaleValues[2]=i}var a=e*this.scaleValues[2],u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==u.index){var p=u.pt,s=new SuperMapAlgoPlot.Point(l[u.index].x,l[u.index].y),c=new SuperMapAlgoPlot.Point(l[u.index+1].x,l[u.index+1].y),P=180*SuperMapAlgoPlot.PlottingUtil.radian(s,c)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,a,a,P+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,f],{surroundLineLimit:!0,lineTypeLimit:!0});var g=180*SuperMapAlgoPlot.PlottingUtil.radian(p,f)/Math.PI,y=new SuperMapAlgoPlot.Point(-.2*a,.05*a),h=new SuperMapAlgoPlot.Point(-.2*a,-.05*a),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,y,g),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,g);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[f,S,b],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(p,0),this.addScalePoint(f,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=-1,a=0,u=new SuperMapAlgoPlot.Point(0,0),p=0;p<l.length-1;p++){var s=[];s.push(l[p]),s.push(l[p+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[p],l[p+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,s).index){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,c);-1==i?(i=p,u=c,a=P):a>P&&(i=p,u=c,a=P)}}if(-1==i||i>l.length-1)return;n=0;for(var f=0;f<i;f++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[i],u))<0||n>r)return;var g=n/r;this.scaleValues[0]=g}else if(1===t){var y=r*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,y);if(-1===h.index)return;var S=h.pt,b=l[h.index],A=l[h.index+1],d=SuperMapAlgoPlot.PlottingUtil.radian(b,A),M=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-d;this.scaleValues[1]=M;var v=(n=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/r;this.scaleValues[2]=v}}}}])&&La(e.prototype,o),l&&La(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _a(t){"@babel/helpers - typeof";return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xa(t,e){return(xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ca(t);if(e){var n=Ca(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ca(t){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30000=Va;var Ya=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xa(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ba(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.4)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.2||l<=0)&&(l=.2),this.scaleValues[2]=l,this.scaleValues[4]=l}var n=o*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI,i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==a.index){var u=a.pt,p=new SuperMapAlgoPlot.Point(e[a.index].x,e[a.index].y),s=new SuperMapAlgoPlot.Point(e[a.index+1].x,e[a.index+1].y),c=180*SuperMapAlgoPlot.PlottingUtil.radian(p,s)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,P],{surroundLineLimit:!0,lineTypeLimit:!0});var f=180*SuperMapAlgoPlot.PlottingUtil.radian(u,P)/Math.PI,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f-157.5),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f+157.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,g,y],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var h=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,g,y),S=[];S.push(u),S.push(h);var b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(S),A=b*this.scaleValues[5],d=b*this.scaleValues[0],M=(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(S,d).pt,f);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],u,A,M);A=4.5*(o*this.scaleValues[4])*Math.sin(Math.PI/8);for(var v=this.getLeftSubSymbolPts(A),m=e[0].clone(),O=-1,w=null,U=1;U<e.length;U++)if(SuperMapAlgoPlot.PlottingUtil.distance(m,e[U])>.5*A){O=U-1,w=SuperMapAlgoPlot.PlottingUtil.linePnt(m,e[U],.5*A);break}-1===O&&(O=e.length-1,w=e[e.length-1]);var L=null;if(null!==w){for(var T=180*SuperMapAlgoPlot.PlottingUtil.radian(m,w)/Math.PI,j=[],R=0;R<v.length;R++)j.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,v[R],T));L=j[3].clone(),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{surroundLineLimit:!0,lineTypeLimit:!0})}for(var V=this.getRightSubSymbolPts(A),_=e[e.length-1].clone(),E=-1,x=null,B=e.length-2;B>=0;B--)if(SuperMapAlgoPlot.PlottingUtil.distance(_,e[B])>.5*A){E=B,x=SuperMapAlgoPlot.PlottingUtil.linePnt(_,e[B],.5*A);break}if(-1===E&&(E=0,x=e[0]),null!==x){for(var C=180*SuperMapAlgoPlot.PlottingUtil.radian(_,x)/Math.PI,Y=[],I=0;I<V.length;I++)Y.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,V[I],C));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Y,{surroundLineLimit:!0,lineTypeLimit:!0})}if(O<=E){var D=[];D.push(w);for(var N=O+1;N<=E;N++)D.push(e[N]);D.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D)}this.addScalePoint(u),this.addScalePoint(P),null!==L&&this.addScalePoint(L),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=-1,a=0,u=new SuperMapAlgoPlot.Point(0,0),p=0;p<l.length-1;p++){var s=[];s.push(l[p]),s.push(l[p+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[p],l[p+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,s).index){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,c);isNaN(P)||(-1==i?(i=p,u=c,a=P):a>P&&(i=p,u=c,a=P))}}if(-1===i||i>l.length-1)return;n=0;for(var f=0;f<i;f++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[i],u))<0||n>r)return;var g=n/r;this.scaleValues[0]=g}else if(1===t){var y=r*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,y);if(-1===h.index)return;var S=h.pt,b=l[h.index],A=l[h.index+1],d=SuperMapAlgoPlot.PlottingUtil.radian(b,A),M=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-d;this.scaleValues[1]=M;var v=(n=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/r;this.scaleValues[2]=v}else if(2===t){var m=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/r;m>.35&&(m=.35),this.scaleValues[4]=m}}}},{key:"getLeftSubSymbolPts",value:function(t){var e=.25*t,o=[],l=new SuperMapAlgoPlot.Point(0,0),n=new SuperMapAlgoPlot.Point(e,-2*e),r=new SuperMapAlgoPlot.Point(2*e,0),i=new SuperMapAlgoPlot.Point(e,2*e);return o.push(l),o.push(n),o.push(r),o.push(i),o.push(l),o}},{key:"getRightSubSymbolPts",value:function(t){return this.getLeftSubSymbolPts(t)}}])&&Ea(e.prototype,o),l&&Ea(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ia(t){"@babel/helpers - typeof";return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Da(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Na(t,e){return(Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ka(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=za(t);if(e){var n=za(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function za(t){return(za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30001=Ya;var Fa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Na(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30001);var e,o,l,n=ka(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getSubSymbolScaleValue();this.scaleValues[2]=l,this.scaleValues[4]=l}var n=o*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI,i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==a.index){var u=a.pt,p=new SuperMapAlgoPlot.Point(e[a.index].x,e[a.index].y),s=new SuperMapAlgoPlot.Point(e[a.index+1].x,e[a.index+1].y),c=180*SuperMapAlgoPlot.PlottingUtil.radian(p,s)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,P],{surroundLineLimit:!0,lineTypeLimit:!0});var f=180*SuperMapAlgoPlot.PlottingUtil.radian(u,P)/Math.PI,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f-157.5),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f+157.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,g,y],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});for(var h=4.5*(o*this.scaleValues[4])*Math.sin(Math.PI/8),S=this.getLeftSubSymbolPts(h),b=e[0].clone(),A=-1,d=null,M=1;M<e.length;M++)if(SuperMapAlgoPlot.PlottingUtil.distance(b,e[M])>.5*h){A=M-1,d=SuperMapAlgoPlot.PlottingUtil.linePnt(b,e[M],.5*h);break}-1===A&&(A=e.length-1,d=e[e.length-1]);var v=null;if(null!==d){for(var m=180*SuperMapAlgoPlot.PlottingUtil.radian(b,d)/Math.PI,O=[],w=0;w<S.length;w++)O.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,S[w],m));v=O[3].clone(),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O,{surroundLineLimit:!0,lineTypeLimit:!0})}for(var U=this.getRightSubSymbolPts(h),L=e[e.length-1].clone(),T=-1,j=null,R=e.length-2;R>=0;R--)if(SuperMapAlgoPlot.PlottingUtil.distance(L,e[R])>.5*h){T=R,j=SuperMapAlgoPlot.PlottingUtil.linePnt(L,e[R],.5*h);break}if(-1===T&&(T=0,j=e[0]),null!==j){for(var V=180*SuperMapAlgoPlot.PlottingUtil.radian(L,j)/Math.PI,_=[],E=0;E<U.length;E++)_.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(L,U[E],V));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_,{surroundLineLimit:!0,lineTypeLimit:!0})}if(A<=T){var x=[];x.push(d);for(var B=A+1;B<=T;B++)x.push(e[B]);x.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x)}this.addScalePoint(u),this.addScalePoint(P),null!==v&&this.addScalePoint(v),this.finish()}}}},{key:"getRightSubSymbolPts",value:function(t){var e=.25*t,o=[];return o.push(new SuperMapAlgoPlot.Point(0,2*e)),o.push(new SuperMapAlgoPlot.Point(2*e,2*e)),o.push(new SuperMapAlgoPlot.Point(2*e,-e)),o.push(new SuperMapAlgoPlot.Point(0,-2*e)),o.push(new SuperMapAlgoPlot.Point(0,2*e)),o}}])&&Da(e.prototype,o),l&&Da(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ga(t){"@babel/helpers - typeof";return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wa(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ja(t,e){return(Ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ka(t);if(e){var n=Ka(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30002=Fa;var qa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ja(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ha(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var n=e*this.scaleValues[0],r=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,i=e*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==a.index){var u=a.pt,p=a.index,s=u,c=l[p],P=l[p+1],f=SuperMapAlgoPlot.PlottingUtil.radian(c,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,1.5*i,1.5*i,f+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,g],{surroundLineLimit:!0,lineTypeLimit:!0});var y=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(-.2*i,.05*i),S=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,h,y),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,S,y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[g,b,A],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var d=new SuperMapAlgoPlot.Point(.6*i,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,d,y),v=.4*i*this.scaleValues[5],m=.4*i*this.scaleValues[6],O=new SuperMapAlgoPlot.Point(0,-.9*(v-.25*m)),w=new SuperMapAlgoPlot.Point(0,.9*(v-.25*m)),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,O,y),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,w,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[U,L],{surroundLineLimit:!0,lineTypeLimit:!0});var T=new SuperMapAlgoPlot.Point(0,v),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,T,y),R=new SuperMapAlgoPlot.Point(0,.25*m),V=new SuperMapAlgoPlot.Point(.5*m,0),_=new SuperMapAlgoPlot.Point(0,-.25*m),E=new SuperMapAlgoPlot.Point(-.5*m,0),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,R,y),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,V,y),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,_,y),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,E,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[x,B,C,Y,x],{surroundLineLimit:!0,lineTypeLimit:!0});var I=new SuperMapAlgoPlot.Point(0,-v),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,I,y),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(D,R,y),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(D,V,y),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(D,_,y),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(D,E,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[N,k,z,F,N],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(u,0),this.addScalePoint(g,1);var G=new SuperMapAlgoPlot.Point(0,-v),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,G,y);this.addScalePoint(W,2),this.addScalePoint(Y,3),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p,s,c,P,f,g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(g=SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),0===t){for(var y=[],h=0;h<g.length;h++)y.push(new SuperMapAlgoPlot.Point(g[h].x,g[h].y));for(var S=-1,b=0,A=new SuperMapAlgoPlot.Point(0,0),d=0;d<y.length-1;d++){var M=[];M.push(y[d]),M.push(y[d+1]);var v=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,y[d],y[d+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(v,M).index){var m=SuperMapAlgoPlot.PlottingUtil.distance(e,v);-1==S?(S=d,A=v,b=m):b>m&&(S=d,A=v,b=m)}}if(-1==S||S>y.length-1)return;r=0;for(var O=0;O<S;O++)r+=SuperMapAlgoPlot.PlottingUtil.distance(g[O],g[O+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(g[S],A))<0||r>l)return;var w=r/l;this.scaleValues[0]=w}else if(1===t){i=l*this.scaleValues[0];var U=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i);if(-1===U.index)return;a=U.pt,u=g[U.index],p=g[U.index+1],s=SuperMapAlgoPlot.PlottingUtil.radian(u,p);var L=(f=SuperMapAlgoPlot.PlottingUtil.radian(a,e))-s;this.scaleValues[1]=L;var T=(r=SuperMapAlgoPlot.PlottingUtil.distance(a,e))/l/1.5;this.scaleValues[2]=T}else if(2===t){if(i=l*this.scaleValues[0],c=180*this.scaleValues[1]/Math.PI,r=l*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i)).index)return;P=a.pt,u=g[a.index],p=g[a.index+1],s=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI;var j=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.4*r,.4*r,s+c),R=SuperMapAlgoPlot.PlottingUtil.distance(e,j)/(.4*r);this.scaleValues[5]=R}else if(3===t){if(i=l*this.scaleValues[0],c=180*this.scaleValues[1]/Math.PI,r=l*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i)).index)return;P=a.pt,u=g[a.index],p=g[a.index+1],f=(s=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI)+c;var V=new SuperMapAlgoPlot.Point(.6*r,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,V,f),E=.4*r*this.scaleValues[5],x=new SuperMapAlgoPlot.Point(0,E),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,x,f),C=2*SuperMapAlgoPlot.PlottingUtil.distance(B,e)/(.4*r);this.scaleValues[6]=C}}}}])&&Wa(e.prototype,o),l&&Wa(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qa(t){"@babel/helpers - typeof";return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xa(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Za(t,e){return(Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tu(t);if(e){var n=tu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tu(t){return(tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30100=qa;var eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Za(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$a(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(1e3),e.scaleValues.push(.2),e.scaleValues.push(.1),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length?(this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.1),this.scaleValues.push(.05)):3==this.scaleValues.length&&(this.scaleValues[3]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=e*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,l);if(-1!==n.index){var r=t[0],i=n.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=new SuperMapAlgoPlot.Point(0,.1*l),p=new SuperMapAlgoPlot.Point(.4*l,.1*l),s=new SuperMapAlgoPlot.Point(.4*l,-.1*l),c=new SuperMapAlgoPlot.Point(0,-.1*l),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,p,a),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,s,a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,c,a),h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,f,g,y,P],h);var S=.1*l,b=new SuperMapAlgoPlot.Point(.3*l,0),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,S,S,135),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,S,S,225),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,b,a),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,A,a),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,d,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[v,M,m],h);var O=new SuperMapAlgoPlot.Point(.9*l,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,O,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[M,w],h);var U=new SuperMapAlgoPlot.Point(.8*l,.025*l),L=new SuperMapAlgoPlot.Point(.8*l,-.025*l),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,U,a),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,L,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[w,T,j],h);var R=[];R.push(n.pt);for(var V=n.index+1;V<o.length;V++)R.push(o[V]);this.addArrow(R,this.scaleValues[3]),this.components[this.components.length-2].style.strokeDashstyle="dash",this.components[this.components.length-2].style.lineSymbolID=1,this.components[this.components.length-2].style.lineTypeLimit=!0;var _=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90);this.addScalePoint(_,0),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r=o[0],i=e,a=SuperMapAlgoPlot.PlottingUtil.distance(i,r);if(0===t){var u=a/l;if(.06>u||.3<u)return;this.scaleValues[1]=u}}}}])&&Xa(e.prototype,o),l&&Xa(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ou(t){"@babel/helpers - typeof";return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nu(t,e){return(nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ru(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=iu(t);if(e){var n=iu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ou(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function iu(t){return(iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30200=eu;var au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30200);var e,o,l,n=ru(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.1)),3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),0==this.scaleValues.length?(this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.1),this.scaleValues.push(.05)):3==this.scaleValues.length&&(this.scaleValues[3]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5*this.getSubSymbolScaleValue());var l=e*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,l);if(-1!==n.index){var r=t[0],i=n.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=new SuperMapAlgoPlot.Point(0,.1*l),p=new SuperMapAlgoPlot.Point(.4*l,.1*l),s=new SuperMapAlgoPlot.Point(.4*l,-.1*l),c=new SuperMapAlgoPlot.Point(0,-.1*l),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,p,a),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,s,a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,c,a),h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,f,g,y,P],h);var S=new SuperMapAlgoPlot.Point(.3*l,.1*l),b=new SuperMapAlgoPlot.Point(.3*l,-.1*l),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,S,a),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,b,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[A,d],h);var M=new SuperMapAlgoPlot.Point(.4*l,0),v=new SuperMapAlgoPlot.Point(.8*l,0),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,M,a),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,v,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[m,O],h);var w=new SuperMapAlgoPlot.Point(.7*l,.025*l),U=new SuperMapAlgoPlot.Point(.7*l,-.025*l),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,w,a),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,U,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[O,L,T],h);var j=[];j.push(n.pt);for(var R=n.index+1;R<o.length;R++)j.push(o[R]);this.addArrow(j,this.scaleValues[3]),this.components[this.components.length-2].style.strokeDashstyle="dash",this.components[this.components.length-2].style.lineSymbolID=1,this.components[this.components.length-2].style.lineTypeLimit=!0;var V=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90);this.addScalePoint(V,0),this.finish()}}}}])&&lu(e.prototype,o),l&&lu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function uu(t){"@babel/helpers - typeof";return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function su(t,e){return(su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pu(t);if(e){var n=Pu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pu(t){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30201=au;var fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&su(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cu(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(Math.PI/2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.125),this.scaleValues.push(Math.PI/2)),3===this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),!(t.length<this.minEditPts)){for(var o=0,l=0;l<t.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1]);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[3]=n}var r=this.scaleValues[1],i=180*this.scaleValues[2]/Math.PI,a=o*this.scaleValues[0],u=o*this.scaleValues[3],p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,a);if(-1!==p.index){var s=p.pt,c=e[p.index],P=e[p.index+1],f=SuperMapAlgoPlot.PlottingUtil.radian(c,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,f+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p.pt,g],{surroundLineLimit:!0,lineTypeLimit:!0});var y,h=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=o*r;0<this.subSymbols.length&&(y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,f+i+180),this.computeSubSymbol(this.subSymbols[0],y,.8*S,f+i-180),this.addScalePoint(SuperMapAlgoPlot.PlottingUtil.circlePoint(y,.5*S,.5*S,f+i+90),1)),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+30);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+33),A=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([g,y,b]);A=SuperMapAlgoPlot.PlottingUtil.clearSamePts(A);var d=SuperMapAlgoPlot.PlottingUtil.polylineDistance(A),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*d,A);if(-1!==M.index){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A.slice(0,M.index),{surroundLineLimit:!0,lineTypeLimit:!0});var v=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD,m=new SuperMapAlgoPlot.Point(-.2*u,.05*u),O=new SuperMapAlgoPlot.Point(-.2*u,-.05*u),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,m,v+17),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,O,v+17),L={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,w,U],L);var T=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+330),j=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+327),R=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([g,T,j]);R=SuperMapAlgoPlot.PlottingUtil.clearSamePts(R),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R.slice(0,M.index),{surroundLineLimit:!0,lineTypeLimit:!0});var V=SuperMapAlgoPlot.PlottingUtil.radian(g,T)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,m,V-17),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,O,V-17);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[T,_,E],L),this.addScalePoint(s,0),this.addScalePoint(g,2),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(p=SuperMapAlgoPlot.PlottingUtil.clearSamePts(p),0===t){for(var s=[],c=0;c<p.length;c++)s.push(new SuperMapAlgoPlot.Point(p[c].x,p[c].y));for(var P=-1,f=0,g=new SuperMapAlgoPlot.Point(0,0),y=0;y<s.length-1;y++){var h=[];h.push(s[y]),h.push(s[y+1]);var S=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,s[y],s[y+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(S,h).index){var b=SuperMapAlgoPlot.PlottingUtil.distance(e,S);-1==P?(P=y,g=S,f=b):f>b&&(P=y,g=S,f=b)}}if(-1==P||P>s.length-1)return;for(var A=0,d=0;d<P;d++)A+=SuperMapAlgoPlot.PlottingUtil.distance(p[d],p[d+1]);if((A+=SuperMapAlgoPlot.PlottingUtil.distance(p[P],g))<0||A>l)return;var M=A/l;this.scaleValues[0]=M}else if(1===t){var v=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,l*this.scaleValues[0]);if(-1===v.index)return;r=v.pt,i=p[v.index],a=p[v.index+1],u=SuperMapAlgoPlot.PlottingUtil.radian(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var m=l*this.scaleValues[3],O=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,m,m,u+this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD+180),w=SuperMapAlgoPlot.PlottingUtil.distance(O,e)/l*2;this.scaleValues[1]=w}else if(2===t){var U=l*this.scaleValues[0],L=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,U);if(-1===L.index)return;r=L.pt,i=p[L.index],a=p[L.index+1],u=SuperMapAlgoPlot.PlottingUtil.radian(i,a);var T=SuperMapAlgoPlot.PlottingUtil.radian(r,e)-u;this.scaleValues[2]=T}}}}])&&pu(e.prototype,o),l&&pu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gu(t){"@babel/helpers - typeof";return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hu(t,e){return(hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Su(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bu(t);if(e){var n=bu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bu(t){return(bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30800=fu;var Au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Su(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n.pntLeft,n.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r.pntLeft,r.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(r.pntRight,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0===t){var r=o[0],i=e,a=SuperMapAlgoPlot.PlottingUtil.distance(i,r)/l;this.scaleValues[0]=a}}}}])&&yu(e.prototype,o),l&&yu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function du(t){"@babel/helpers - typeof";return(du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vu(t,e){return(vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ou(t);if(e){var n=Ou(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===du(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ou(t){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31300=Au;var wu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,l,n=mu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n.pntLeft,n.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r.pntLeft,r.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});var i=[],a=3*l;i.push(t[0]),i.push(t[1]);for(var u=SuperMapAlgoPlot.PlottingUtil.paraLine(i,a,!0),p=SuperMapAlgoPlot.PlottingUtil.paraLine(i,a,!1),s=[],c=0;c<u.length;c++)s.push(u[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,u[1],u[0]),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,u[0],u[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P.pntLeft,P.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f.pntLeft,f.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});for(var g=[],y=0;y<p.length;y++)g.push(p[y]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,p[1],p[0]),S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,p[0],p[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h.pntLeft,h.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S.pntLeft,S.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(r.pntRight,0),this.finish()}}}])&&Mu(e.prototype,o),l&&Mu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Uu(t){"@babel/helpers - typeof";return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tu(t,e){return(Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ju(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ru(t);if(e){var n=Ru(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ru(t){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31301=wu;var Vu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ju(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),o=0;o=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var l=new SuperMapAlgoPlot.Point(e.x-o,e.y-o),n=new SuperMapAlgoPlot.Point(e.x+o,e.y+o);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[l,n],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.finish()}}}])&&Lu(e.prototype,o),l&&Lu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _u(t){"@babel/helpers - typeof";return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xu(t,e){return(xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cu(t);if(e){var n=Cu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cu(t){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31400=Vu;var Yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31400);var e,o,l,n=Bu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=0;e=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=new SuperMapAlgoPlot.Point(o.x-e,o.y-e),n=new SuperMapAlgoPlot.Point(o.x+e,o.y-3*e),r={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[l,n],r,!0);var i=new SuperMapAlgoPlot.Point(o.x-e,o.y+e),a=new SuperMapAlgoPlot.Point(o.x-3*e,o.y+3*e);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[i,a],r,!0);var u=new SuperMapAlgoPlot.Point(o.x+e,o.y+e),p=new SuperMapAlgoPlot.Point(o.x+3*e,o.y+3*e);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[u,p],r,!0),this.finish()}}}])&&Eu(e.prototype,o),l&&Eu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Iu(t){"@babel/helpers - typeof";return(Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Du(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nu(t,e){return(Nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ku(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zu(t);if(e){var n=zu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31401=Yu;var Fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ku(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=t[0],l=t[1];e=2==t.length?l:t[2];var n=new SuperMapAlgoPlot.Point((o.x+l.x)/2,(o.y+l.y)/2),r=SuperMapAlgoPlot.PlottingUtil.distance(n,e),i=.5*r,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,e),u=a.pntLeft,p=a.pntRight,s=!(n.x>e.x),c=[];s?(c.push(o),c.push(u)):(c.push(o),c.push(p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var P=[];s?(P.push(l),P.push(p)):(P.push(l),P.push(u)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var f,g,y,h,S=.37*r,b=SuperMapAlgoPlot.PlottingUtil.linePnt(n,e,S),A=.09*r,d=[];d.push(b),d.push(new SuperMapAlgoPlot.Point(b.x,b.y+A)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE}),s?(f=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,n,b)).pntLeft,g=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*A,n,b)).pntLeft,y=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,f,g)).pntRight,h=a.pntLeft):(f=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,n,b)).pntRight,g=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*A,n,b)).pntRight,y=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,f,g)).pntRight,h=a.pntLeft);var M=[];M.push(f),M.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE});var v=[];v.push(y),v.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE}),this.finish()}}}])&&Du(e.prototype,o),l&&Du(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gu(t){"@babel/helpers - typeof";return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ju(t,e){return(Ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ku(t);if(e){var n=Ku(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ku(t){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol32300=Fu;var qu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ju(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.radian(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=.02*o,a=[];for(e=0;e<360;e+=10)a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),i,i,e));a.push(a[0]);var u=[],p=new SuperMapAlgoPlot.Point(.1*o,0),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,p,r);for(e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+s.x,a[e].y+s.y));var c={lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var P=new SuperMapAlgoPlot.Point(.25*o,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,P,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+f.x,a[e].y+f.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var g=new SuperMapAlgoPlot.Point(.4*o,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,g,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+y.x,a[e].y+y.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var h=new SuperMapAlgoPlot.Point(.6*o,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,h,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+S.x,a[e].y+S.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var b=new SuperMapAlgoPlot.Point(.5*o,.05*o),A=new SuperMapAlgoPlot.Point(.7*o,.05*o),d=new SuperMapAlgoPlot.Point(.75*o,0),M=new SuperMapAlgoPlot.Point(.7*o,-.05*o),v=new SuperMapAlgoPlot.Point(.5*o,-.05*o),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,b,r),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,A,r),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,d,r),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,M,r),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,v,r);(u=[]).push(m),u.push(O),u.push(w),u.push(U),u.push(L),u.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{surroundLineLimit:!0,lineTypeLimit:!0}),this.finish()}}}])&&Wu(e.prototype,o),l&&Wu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qu(t){"@babel/helpers - typeof";return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zu(t,e){return(Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tp(t);if(e){var n=tp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tp(t){return(tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34300=qu;var ep=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$u(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.radian(o,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1];if(!(r<0||i<0)){var a=r*e,u=1-i*(5/4);u<0&&(u=0),u>1&&(u=1);var p,s,c=e*u,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,c,c,n),f=[];f.push(t[0].clone()),f.push(P),p=SuperMapAlgoPlot.PlottingUtil.paraLine(f,a,!0),s=SuperMapAlgoPlot.PlottingUtil.paraLine(f,a,!1);var g,y=[];for(g=0;g<p.length;g++)y.push(p[g]);var h=[];for(g=0;g<s.length;g++)h.push(s[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=i*e,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,S/2,S/2,n);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],b,S/2,n+180);for(var A=[],d=.1*c,M=[],v=0;v<y.length;v++)M.push(y[v].clone());var m=[];for(g=0;g<h.length;g++)m.push(h[g].clone());var O=SuperMapAlgoPlot.PlottingUtil.distance(m[0],m[1]);if(!(d>=O)){for(var w=d;w<c-a;w+=d){var U=SuperMapAlgoPlot.PlottingUtil.circlePoint(m[0],w,w,n),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,O,O,n+45),T=SuperMapAlgoPlot.PlottingUtil.intersectLines(U,L,M[0],M[1]);if(T.isIntersectLines){var j=T.intersectPoint;if(!SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(j,M).isOnPolyLine)break;(A=[]).push(U),A.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0})}}this.scalePoints=[];var R=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,a,a,n+90);this.addScalePoint(R);var V=S/2,_=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,V,V,n+90);this.addScalePoint(_),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);0==t?(l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n,this.scaleValues[0]=l):1==t&&(l=2*SuperMapAlgoPlot.PlottingUtil.distance(o[1],e)/n,this.scaleValues[1]=l)}}}])&&Xu(e.prototype,o),l&&Xu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function op(t){"@babel/helpers - typeof";return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function np(t,e){return(np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ip(t);if(e){var n=ip(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===op(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ip(t){return(ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34400=ep;var ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&np(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.08,e.scaleValues[1]=.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.08),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.5*e,l=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o,t),r=n.pts,i=n.index,a=(n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o+l,t)).index;if(!(i<0||a<0)){var u,p,s;if(i!=a)u=new SuperMapAlgoPlot.Point(t[i+1].x,t[i+1].y),p=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),(s=SuperMapAlgoPlot.PlottingUtil.distance(u,p))<=2*l?(l=s/2,r.x=(t[i+1].x+t[i].x)/2,r.y=(t[i+1].y+t[i].y)/2):r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[i+1],t[i],l);else if(u=new SuperMapAlgoPlot.Point(t[i+1].x,t[i+1].y),p=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),(s=SuperMapAlgoPlot.PlottingUtil.distance(u,p))<=2*l)l=s/2,r.x=(t[i+1].x+t[i].x)/2,r.y=(t[i+1].y+t[i].y)/2;else u=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),p=new SuperMapAlgoPlot.Point(r.x,r.y),SuperMapAlgoPlot.PlottingUtil.distance(u,p)<l&&(r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[i],t[i],l));var c,P,f,g=[];for(c=0;c<i+1;c++)g.push(t[c]);P=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[i],l),g.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),f=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[i+1],l);var y=[];y.push(f);var h=t.length;for(c=i+1;c<h;++c)y.push(t[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=[],b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l/2,P,f);S.push(P),S.push(b.pntRight),S.push(b.pntLeft);var A=(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,P,r)).pntRight;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{lineTypeLimit:!0,surroundLineLimit:!0});var d,M,v,m,O=t[0].clone(),w=t[1].clone(),U=t[t.length-2].clone(),L=t[t.length-1].clone(),T=e*this.scaleValues[1];M=(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(T,w,O)).pntRight,d=b.pntLeft,m=(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(T,U,L)).pntRight,v=b.pntLeft;var j=[];j.push(M),j.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{lineTypeLimit:!0,surroundLineLimit:!0});var R=[];R.push(m),R.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(A),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var n=.5*l,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,o).pts,i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/l;i>.5&&(i=.5),this.scaleValues[0]=i}}}}])&&lp(e.prototype,o),l&&lp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function up(t){"@babel/helpers - typeof";return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sp(t,e){return(sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pp(t);if(e){var n=Pp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pp(t){return(Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34700=ap;var fp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&pp(e.prototype,o),l&&pp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gp(t){"@babel/helpers - typeof";return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hp(t,e){return(hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bp(t);if(e){var n=bp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bp(t){return(bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36400=fp;var Ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var o=.1*e,l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[1],t[0]),n=l.pntRight,r=l.pntLeft,i=(l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[0],t[1])).pntRight,a=l.pntLeft,u=[];u.push(n),u.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0});var p=[];p.push(i),p.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0,surroundLineLimit:!0});var s=[];s.push(n),s.push(a);for(var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s)/11,P=c,f=0,g=0,y=null,h=null,S=0;S<11;S++){if(0==S)f=0,y=n.clone();else{var b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P-c,s);if(!b.bfind)continue;f=b.index,y=b.pts}if(10==S)g=0,h=a.clone();else{if(!(b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,s)).bfind)continue;g=b.index,h=b.pts}if(S%2==0){var A=[];A.push(y);for(var d=f+1;d<=g;d++)A.push(s[d]);A.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0})}P+=c}this.finish()}}}])&&yp(e.prototype,o),l&&yp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function dp(t){"@babel/helpers - typeof";return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vp(t,e){return(vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Op(t);if(e){var n=Op(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Op(t){return(Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36800=Ap;var wp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[0].x+p[p.length-1].x)/2,(u[0].y+p[p.length-1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],.5*(l-1.2*s)),g=[];g.push(P),g.push.apply(g,u),g.push.apply(g,p),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(g));var y=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,.9*s,y-90),this.scalePoints=[],this.addScalePoint(u[u.length-1]);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,y+90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90),u=new SuperMapAlgoPlot.Point((i.x+a.x)/2,(i.y+a.y)/2),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/l;p>=.8&&(p=.8),this.scaleValues[1]=p}}}}])&&Mp(e.prototype,o),l&&Mp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Up(t){"@babel/helpers - typeof";return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tp(t,e){return(Tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Rp(t);if(e){var n=Rp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Rp(t){return(Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37100=wp;var Vp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol27100);var e,o,l,n=jp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,o&&Lp(e.prototype,o),l&&Lp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function _p(t){"@babel/helpers - typeof";return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ep(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xp(t,e){return(xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cp(t);if(e){var n=Cp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cp(t){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37200=Vp;var Yp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.125,e.scaleValues[1]=.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[1],t[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],.35*e),n=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,.05*e,.05*e,o+270);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[n,l],{fill:!1,fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var r=this.scaleValues[0],i=this.scaleValues[1],a=new SuperMapAlgoPlot.Point(r*e,i*e),u=new SuperMapAlgoPlot.Point(r*e,-i*e),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[1],a,o),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[1],u,o),c=[];c.push(p),c.push(s),c.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var P=SuperMapAlgoPlot.PlottingUtil.findPoint(t[1],t[0],r*e,0);t[1]=P,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t),this.scalePoints=[],this.addScalePoint(s),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[1],o[0]),r=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1]);90>SuperMapAlgoPlot.PlottingUtil.radian(o[1],n)*SuperMapAlgoPlot.PlottingUtil.RTOD&&(r=-r);var i=r/l;this.scaleValues[0]=i;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l;this.scaleValues[1]=a}}}}])&&Ep(e.prototype,o),l&&Ep(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ip(t){"@babel/helpers - typeof";return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Np(t,e){return(Np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zp(t);if(e){var n=zp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ip(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zp(t){return(zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37300=Yp;var Fp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Np(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=kp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(t.length<3)e.push(t[0]),e.push(t[1]);else{var l=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=l.scaleValues;for(var n=0;n<l.scalePoints.length;n++)this.addScalePoint(l.scalePoints[n]);e=l.beizerPoints}SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(this.getSubSymbolScaleValue())),!(e.length<=0)){var i;i=2==t.length?0:t.length-1;var a=r*this.scaleValues[4*i],u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.index,s=u.pts,c=o*this.scaleValues[4*i+1],P=a-c,f=a+c;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var g,y=u.pts,h=[];if(0==(p=u.index))h.push(e[0]);else for(g=0;g<p;g++)h.push(e[g]);if(h.push(y),(u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var S=u.pts;p=u.index;var b=[];for(b.push(S),g=p+1;g<e.length;g++)b.push(e[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[s,S],{lineTypeLimit:!0,surroundLineLimit:!0});var A=o*this.scaleValues[4*i+1]/1.667;if(!(h.length<2)){var d=h[0],M=h[1],v=SuperMapAlgoPlot.PlottingUtil.radian(d,M)*SuperMapAlgoPlot.PlottingUtil.RTOD,m=SuperMapAlgoPlot.PlottingUtil.circlePoint(d,A,A,v+90),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(d,A,A,v+270),w=[];if(w.push(m),w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0}),!(b.length<2)){var U=b[b.length-1],L=b[b.length-2],T=SuperMapAlgoPlot.PlottingUtil.radian(U,L)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,A,A,T+90),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,A,A,T+270);(w=[]).push(j),w.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(s),this.addScalePoint(m),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var i,a=e,u=[];for(i=0;i<l.length;i++)u.push(l[i]);var p,s=-1,c=0;for(i=0;i<u.length-1;i++){var P=[];P.push(u[i]),P.push(u[i+1]);var f=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,u[i],u[i+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,P).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,f);-1==s?(s=i,p=f,c=g):c>g&&(s=i,p=f,c=g)}}if(-1==s||s>u.length-1)return;var y=0;for(i=0;i<s;i++){var h=l[i],S=l[i+1];y+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[s];if((y+=SuperMapAlgoPlot.PlottingUtil.distance(b,p))<0||y>r)return;var A=y/r;if(A>.8||A<.2)return;2==o.length?this.scaleValues[0]=A:this.scaleValues[2*t]=A}else if(2*o.length-1==t||2==o.length&&1==t){var d=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;2==o.length?this.scaleValues[1]=d:this.scaleValues[2*t-1]=d}else{var M=-1;M=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var v=(e.x-o[M].x)/n,m=(e.y-o[M].y)/n;this.scaleValues[2*t]=v,this.scaleValues[2*t+1]=m}}}}])&&Dp(e.prototype,o),l&&Dp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gp(t){"@babel/helpers - typeof";return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jp(t,e){return(Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kp(t);if(e){var n=Kp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kp(t){return(Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40900=Fp;var qp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.2*n}var r=o*this.scaleValues[0],i=o*this.scaleValues[2],a=o*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(l.x+i,l.y+a),p=[];p.push(u),p.push(new SuperMapAlgoPlot.Point(u.x+r,u.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,p,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});for(var s=18*r,c=new SuperMapAlgoPlot.Point(u.x+s,u.y),P=[],f=135;f<180;f+=3)P.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,f));P.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,180)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,r,r,0);this.addScalePoint(g),this.addScalePoint(u),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&Wp(e.prototype,o),l&&Wp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qp(t){"@babel/helpers - typeof";return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zp(t,e){return(Zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ts(t);if(e){var n=ts(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ts(t){return(ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40101=qp;var es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.5),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&this.scaleValues.push(.5);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=e/o/2,n=.1*e;this.isEdit||(this.scaleValues[0]=l);var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]-.4*e,t);if(r.bfind){var i=r.pts,a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]+.4*e,t);if(a.bfind){var u=a.pts,p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]-.3*e,t);if(p.bfind){var s=p.pts,c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]+.3*e,t);if(c.bfind){var P=c.pts,f=0,g=0,y=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(i,t);y.isOnPolyLine&&(f=y.index);var h=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,t);h.isOnPolyLine&&(g=h.index);var S=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],t);if(S.bfind){var b=S.pts,A=[];if(A.push(s),f!==g)for(var d=f+1;d<=g;d++)A.push(t[d]);A.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(A));for(var M=[],v=0;v<=r.index;v++)M.push(t[v]);M.push(i),M=SuperMapAlgoPlot.PlottingUtil.inverse(M);var m=[];if(a.index<=t.length){m.push(u);for(var O=a.index+1;O<=t.length-1;O++)m.push(t[O])}m=SuperMapAlgoPlot.PlottingUtil.inverse(m);for(var w=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(b,A),U=0,L=0;L<w.index;L++)U+=SuperMapAlgoPlot.PlottingUtil.distance(A[L],A[L+1]);U+=SuperMapAlgoPlot.PlottingUtil.distance(b,A[w.index]);var T=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(U-.1,A);if(T.bfind){var j=T.pts,R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.42*e,j,b),V=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.48*e,j,b),_=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.6*e,j,b),E=R.pntLeft,x=V.pntLeft,B=_.pntLeft;this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b,E]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[x,B]);var C=SuperMapAlgoPlot.PlottingUtil.polylineDistance([x,B]),Y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*C,x,B).pntRight;if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[B,Y]),t.length>this.minEditPts){for(var I,D,N,k,z,F,G,W,J,H=1;H<t.length-1;H++){for(I=t[H],D=t[H+1],N=t[H-1],z=180*SuperMapAlgoPlot.PlottingUtil.radian(I,D)/Math.PI,F=180*SuperMapAlgoPlot.PlottingUtil.radian(I,N)/Math.PI-z;F<0;)F+=360;k=F/2,G=t[H+1].clone(),G=SuperMapAlgoPlot.PlottingUtil.rotateAngle(I,k*Math.PI/180,G),W=SuperMapAlgoPlot.PlottingUtil.linePnt(I,G,n),(J=[]).push(t[H]),J.push(W),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J,{surroundLineLimit:!0,lineTypeLimit:!0},!0)}var K=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[t.length-2],t[t.length-1]),q=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),Q=K.pntLeft,X=q.pntRight;M.push(X),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),m.splice(0,0,Q),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m)}else{var Z=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),$=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),tt=Z.pntLeft,et=$.pntRight;M.push(et),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),m.splice(0,0,tt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m)}this.addScalePoint(b,0),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(o.length<this.minEditPts)return;for(var n=-1,r=new SuperMapAlgoPlot.Point(0,0),i=0;i<o.length-1;i++){var a=[];a.push(o[i]),a.push(o[i+1]);var u=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[i],o[i+1]);SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,a).isOnPolyLine&&(n=i,r=u)}if(-1===n||n>o.length-1)return;for(var p=0,s=0;s<n;s++)p+=SuperMapAlgoPlot.PlottingUtil.distance(o[s],o[s+1]);var c=o[n];if((p+=SuperMapAlgoPlot.PlottingUtil.distance(c,r))<0||p>l)return;var P=p/l,f=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1])/l;P<.4*f&&(P=.4*f),P>1-.4*f&&(P=1-.4*f),this.scaleValues[0]=P}}}])&&Xp(e.prototype,o),l&&Xp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function os(t){"@babel/helpers - typeof";return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ls(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ns(t,e){return(ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=is(t);if(e){var n=is(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===os(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function is(t){return(is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41100=es;var as=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ns(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=new SuperMapAlgoPlot.Point(u.x,u.y),c=new SuperMapAlgoPlot.Point(u.x-p,u.y-p),P=new SuperMapAlgoPlot.Point(u.x+p,u.y-p),f=new SuperMapAlgoPlot.Point(u.x-p,u.y+p),g=new SuperMapAlgoPlot.Point(u.x+p,u.y+p),y=[];y.push(s),y.push(c),y.push(P),y.push(s),y.push(f),y.push(g),y.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&ls(e.prototype,o),l&&ls(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function us(t){"@babel/helpers - typeof";return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ps(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ss(t,e){return(ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ps(t);if(e){var n=Ps(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41200=as;var fs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ss(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(0!==e){var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,210),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,330),f=[];f.push(s),f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fill:!1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(g),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&ps(e.prototype,o),l&&ps(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gs(t){"@babel/helpers - typeof";return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ys(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hs(t,e){return(hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ss(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bs(t);if(e){var n=bs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41201=fs;var As=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ss(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(0!=e){var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,270),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,30),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,150),f=[];f.push(s),f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fill:!1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(g),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&ys(e.prototype,o),l&&ys(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ds(t){"@babel/helpers - typeof";return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vs(t,e){return(vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ms(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Os(t);if(e){var n=Os(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ds(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41202=As;var ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ms(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,{fillLimit:!0,fill:!1,surroundLineFlag:!1});var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0),this.addScalePoint(p);var s=u,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[2]=n,r=(e.y-i.y)/a,this.scaleValues[3]=r;else if(1===t){n=this.scaleValues[2],r=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[0]=p}}}}])&&Ms(e.prototype,o),l&&Ms(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Us(t){"@babel/helpers - typeof";return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ls(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ts(t,e){return(Ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function js(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Rs(t);if(e){var n=Rs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Rs(t){return(Rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42200=ws;var Vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ts(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=js(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.105263),e.scaleValues.push(.181818),e.scaleValues.push(.285714),e.scaleValues.push(.285714)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.105263),this.scaleValues.push(.181818),this.scaleValues.push(.285714),this.scaleValues.push(.285714));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(i),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(r);for(var b=[],A=0;A<S.length;A++){var d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[A],h);b.push(d)}for(var M=[],v=b.length-1;v>=0;--v)M.push(b[v]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var m=[],O=.06*l,w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O,o,e),U=w.pntRight,L=w.pntLeft;m.push(U),m.push(L),O=.15*l;var T=new SuperMapAlgoPlot.Point(O,0),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,T,h);m.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,m,{lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,fillLimit:!0,fill:!0,fillColorLimit:!0,fillColor:"#0000FF",fillOpacity:1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(b[0]),this.addScalePoint(b[1]),this.addScalePoint(b[2]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&Ls(e.prototype,o),l&&Ls(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _s(t){"@babel/helpers - typeof";return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Es(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xs(t,e){return(xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cs(t);if(e){var n=Cs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44100=Vs;var Ys=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.03),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=e[0],r=e[1],i=e[e.length-1],a=e[e.length-2],u=SuperMapAlgoPlot.PlottingUtil.radian(n,r)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=SuperMapAlgoPlot.PlottingUtil.radian(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=this.scaleValues[0],c=o*s,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,c,c,u+90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,c,c,u+270),g=[];g.push(P),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(f);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,c,c,p+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,c,c,p+270);(g=[]).push(y),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineTypeLimit:!0,surroundLineLimit:!0});var S,b,A=t.length;if(this.scaleValues.length<=A){for(this.scaleValues=[],this.scaleValues.push(s),b=1/A,S=0;S<A-1;S++)this.scaleValues.push(b*(S+1));this.scaleValues.push(s)}for(S=0;S<A-1;S++){var d=(b=this.scaleValues[S+1])*o,M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(d,e);if(!M.bfind)return;var v=M.pts,m=M.index,O=o*this.getSubSymbolScaleValue(),w=.3*O,U=SuperMapAlgoPlot.PlottingUtil.radian(e[m],e[m+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,L=new SuperMapAlgoPlot.Point(O,-w),T=new SuperMapAlgoPlot.Point(-O,-w),j=new SuperMapAlgoPlot.Point(-O,0),R=new SuperMapAlgoPlot.Point(O,0),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,L,U),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,T,U),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,j,U),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,R,U);(g=[]).push(V),g.push(_),g.push(E),g.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,{lineTypeLimit:!0,fillLimit:!0,fill:!0,surroundLineLimit:!0}),this.addScalePoint(v)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>=this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var i=(n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]))/r;this.scaleValues[0]=i}else{var a,u=e,p=[];for(a=0;a<l.length;a++)p.push(l[a]);var s=-1,c=0,P=new SuperMapAlgoPlot.Point(0,0);for(a=0;a<p.length-1;a++){var f=[];f.push(p[a]),f.push(p[a+1]);var g=SuperMapAlgoPlot.PlottingUtil.projectPoint(u,p[a],p[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(g,f).isOnPolyLine){var y=SuperMapAlgoPlot.PlottingUtil.distance(u,g);-1==s?(s=a,P=g,c=y):c>y&&(s=a,P=g,c=y)}}if(-1==s||s>p.length-1)return;for(n=0,a=0;a<s;a++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[a],l[a+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[s],P))<0||n>r)return;var h=n/r;this.scaleValues[t]=h}}}}])&&Es(e.prototype,o),l&&Es(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Is(t){"@babel/helpers - typeof";return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ds(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ns(t,e){return(Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zs(t);if(e){var n=zs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zs(t){return(zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35000=Ys;var Fs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ns(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ks(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue()),2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=e*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],o,l,0),this.scalePoints=[];var n=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,l,l,90);this.addScalePoint(n),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l;this.scaleValues[0]=r}}}}])&&Ds(e.prototype,o),l&&Ds(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gs(t){"@babel/helpers - typeof";return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ws(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Js(t,e){return(Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ks(t);if(e){var n=Ks(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ks(t){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35200=Fs;var qs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Js(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1);var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=l*this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,n),u=[],p=[];u.push(t[0]),u.push(i),p.push(a),p.push(t[1]);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.5*n,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.5*n,!0),P=[],f=[];P.push(s[0]),P.push(s[1]),f.push(c[0]),f.push(c[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1});var g=[],y=[],h=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.5*n,!1),S=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.5*n,!1);g.push(h[0]),g.push(h[1]),y.push(S[0]),y.push(S[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1});var b=SuperMapAlgoPlot.PlottingUtil.linePnt(P[1],f[0],.2*n),A=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],P[1],.2*n),d=SuperMapAlgoPlot.PlottingUtil.linePnt(g[1],y[0],.2*n),M=SuperMapAlgoPlot.PlottingUtil.linePnt(y[0],g[1],.2*n),v=[];v.push(b),v.push(A),v.push(M),v.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,v,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var m=SuperMapAlgoPlot.PlottingUtil.linePnt(d,b,1.2*n),O=SuperMapAlgoPlot.PlottingUtil.linePnt(b,d,1.2*n),w=[];w.push(m),w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0});var U=SuperMapAlgoPlot.PlottingUtil.linePnt(M,A,1.2*n),L=SuperMapAlgoPlot.PlottingUtil.linePnt(A,M,1.2*n),T=[];T.push(U),T.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(h[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[0]=2*n/l}}}}])&&Ws(e.prototype,o),l&&Ws(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qs(t){"@babel/helpers - typeof";return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xs(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zs(t,e){return(Zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tc(t);if(e){var n=tc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tc(t){return(tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35500=qs;var ec=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,l,n=$s(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0),this.addScalePoint(p);var s=u,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,90);this.addScalePoint(c),this.finish()}}}])&&Xs(e.prototype,o),l&&Xs(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oc(t){"@babel/helpers - typeof";return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nc(t,e){return(nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ic(t);if(e){var n=ic(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ic(t){return(ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37700=ec;var ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.4*n}var r=o*this.scaleValues[0],i=o*this.scaleValues[2],a=o*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(l.x+i,l.y+a),p=.6*r,s=new SuperMapAlgoPlot.Point(u.x+r,u.y),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,0),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,180),f=[];f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,270);(f=[]).push(g),f.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var h=new SuperMapAlgoPlot.Point(u.x-r,u.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,.5*r,.5*r,270),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,r,r,240),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,r,r,90),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,r,r,300);(f=[]).push(S),f.push(b),f.push(A),f.push(d),f.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var M=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,r,r,0);this.addScalePoint(M),this.addScalePoint(u),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&lc(e.prototype,o),l&&lc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function uc(t){"@babel/helpers - typeof";return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sc(t,e){return(sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pc(t);if(e){var n=Pc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pc(t){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40100=ac;var fc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=cc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="调",e}return e=r,o&&pc(e.prototype,o),l&&pc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function gc(t){"@babel/helpers - typeof";return(gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hc(t,e){return(hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bc(t);if(e){var n=bc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bc(t){return(bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010301=fc;var Ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=Sc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="出",e}return e=r,o&&yc(e.prototype,o),l&&yc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function dc(t){"@babel/helpers - typeof";return(dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vc(t,e){return(vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Oc(t);if(e){var n=Oc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oc(t){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010303=Ac;var wc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=mc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="协",e}return e=r,o&&Mc(e.prototype,o),l&&Mc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Uc(t){"@babel/helpers - typeof";return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tc(t,e){return(Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Rc(t);if(e){var n=Rc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Rc(t){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010304=wc;var Vc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=jc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(2==t.length){var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.distance(o,l),r=180*SuperMapAlgoPlot.PlottingUtil.radian(o,l)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r+60);e.push(t[0]),e.push(l),e.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);for(var a=0;a<t.length;a++)e.push(t[a])}var u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var s=this.scaleValues[0],c=this.scaleValues[1],P=this.scaleValues[2],f=new SuperMapAlgoPlot.Point(u.x+p*s,u.y+p*c),g=p*P;0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],f,g,0),this.addScalePoint(f.clone());var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.5*g,.5*g,90);this.addScalePoint(y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];if(2==o.length){var n=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),r=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r),a=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a+60);l.push(o[0]),l.push(r),l.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var p=0;p<o.length;p++)l.push(o[p])}var s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)this.scaleValues[0]=(e.x-s.x)/c,this.scaleValues[1]=(e.y-s.y)/c;else if(1===t){var P=new SuperMapAlgoPlot.Point(s.x+c*this.scaleValues[0],s.y+c*this.scaleValues[1]),f=2*SuperMapAlgoPlot.PlottingUtil.distance(e,P)/c;f<.5&&(this.scaleValues[2]=f)}}}}])&&Lc(e.prototype,o),l&&Lc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _c(t){"@babel/helpers - typeof";return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ec(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xc(){return(xc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yc(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function Bc(t,e){return(Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Yc(t);if(e){var n=Yc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Yc(t){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3020901=Vc;var Ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Cc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.126),e.CLASS_NAME="SuperMapAlgoPlot.GeoTooltipBox",e}return e=r,(o=[{key:"destroy",value:function(){xc(Yc(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=this.scaleValues[0];if(!(t<0||t>1)){if(t=(1-t)/2,this.controlPoints.length>=this.minEditPts){var e,o,l,n,r,i;this.controlPoints[2]&&(this.controlPoints[2].isFixedPos=!0),this.controlPoints[0].x<this.controlPoints[1].x?(e=this.controlPoints[0].x,l=this.controlPoints[1].x):(e=this.controlPoints[1].x,l=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(n=this.controlPoints[0].y,o=this.controlPoints[1].y):(n=this.controlPoints[1].y,o=this.controlPoints[0].y),r=this.controlPoints[2].x,i=this.controlPoints[2].y;var a=0,u=(o-n)/(l-e);a=r<e?i>o?Math.abs((i-o)/(r-e))>u?2:1:i<n&&Math.abs((i-n)/(r-e))>u?4:1:r>l?i>o?Math.abs((i-o)/(r-l))>u?2:3:i<n&&Math.abs((i-n)/(r-l))>u?4:3:i>o?2:i<n?4:0,this.scalePoints=[];var p=[];switch(p.push(new SuperMapAlgoPlot.Point(e,n)),p.push(new SuperMapAlgoPlot.Point(e,o)),p.push(new SuperMapAlgoPlot.Point(l,o)),p.push(new SuperMapAlgoPlot.Point(l,n)),a){case 0:break;case 1:this.addScalePoint(new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),p.splice(a,0,new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(e,n+(o-n)*t));break;case 2:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),p.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,o));break;case 3:this.addScalePoint(new SuperMapAlgoPlot.Point(l,o-(o-n)*t)),p.splice(a,0,new SuperMapAlgoPlot.Point(l,n+(o-n)*t)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(l,o-(o-n)*t));break;case 4:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,n)),p.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,n)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,n))}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p),this.annotationContent(e,o,l,n)}this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint&&0==t){var o,l,n,r,i,a,u=this.scalePoints[0];this.controlPoints[0].x<this.controlPoints[1].x?(o=this.controlPoints[0].x,n=this.controlPoints[1].x):(o=this.controlPoints[1].x,n=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(r=this.controlPoints[0].y,l=this.controlPoints[1].y):(r=this.controlPoints[1].y,l=this.controlPoints[0].y),i=this.controlPoints[2].x,a=this.controlPoints[2].y;var p=(l-r)/(n-o),s=.25;switch(i<o?a>l?Math.abs((a-l)/(i-o))>p?2:1:a<r&&Math.abs((a-r)/(i-o))>p?4:1:i>n?a>l?Math.abs((a-l)/(i-n))>p?2:3:a<r&&Math.abs((a-r)/(i-n))>p?4:3:a>l?2:a<r?4:0){case 1:case 3:var c=u.y+(e.y-u.y);c>l&&(c=l),c<(l+r)/2&&(c=(l+r)/2),s=1-2*(l-c)/(l-r);break;case 2:case 4:var P=u.x+(e.x-u.x);P>n&&(P=n),P<(o+n)/2&&(P=(o+n)/2),s=1-2*(n-P)/(n-o)}s<0&&(s=0),s>1&&(s=1),this.scaleValues[0]=s}this.calculateParts()}}])&&Ec(e.prototype,o),l&&Ec(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Dc(t){"@babel/helpers - typeof";return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function kc(t,e){return(kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Fc(t);if(e){var n=Fc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Fc(t){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.GeoTooltipBox=Ic;var Gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=zc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1021",e.QIANJI_RATE1=9,e.QIANJI_RATE2=20,e.QIANJI_RATE4=5,e.QIANJI_RATE3=1/3,e.QIANJI_TAIL_RATE1=8,e.QIANJI_TAIL_RATE2=3,e.QIANJI_TAIL_RATE3=.6,e.SV1_Default=.25,e.SV1_MinValue=0,e.SV1_MaxValue=.5,e.DEFAULT_ARROW_TAIL_POS=.4,e.SCALE_VALUE_COUNT=1,e.MIN_LEN_LeftToRightCenter=1e-7,e.SCALE_AT=1/3,e.SCALE_ATAJ=1/7,e.SCALE_ATAE=1/3,e.SCALE_AW=2/3,e.SCALE_ATAJctrlDefSide=.8,e.SCALE_ATAJctrlSameSide=2/3,e.SCALE_MM_LEFT=.25,e.SCALE_MM_RIGHT=.75,e.BEZIER_K1=1/3,e.QIANJI_OPERATE_RATE1=1,e.m_dMaxDis=0,e.m_bIsAnimation=!1,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.components.length=0,this.m_scalePoints=[],t.length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<3)){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=this.arrowMeshs(e);o.LeftArowHead.unshift(o.LeftArowLeftBody[0][o.LeftArowLeftBody[0].length-1]),o.RightArowHead.unshift(o.RightArowLeftBody[o.RightArowLeftBody.length-1]),o.LeftArowLeftBody[0].push(o.LeftArowHead[0]),o.RightArowLeftBody.push(o.RightArowHead[0]),o.shapePts.push(o.shapePts[0]);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.LeftArowLeftBody[0]),n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*l,o.LeftArowLeftBody[0]),r=[],i=[];if(n.bfind)for(var a=0;a<=n.index;a++)r.push(o.LeftArowLeftBody[0][a]);var u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*l,o.LeftArowLeftBody[0]);if(u.bfind)for(var p=u.index;p<o.LeftArowLeftBody[0].length-1;p++)i.push(o.LeftArowLeftBody[0][p]);var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.RightArowLeftBody),c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*s,o.RightArowLeftBody),P=[],f=[];if(c.bfind)for(var g=0;g<=c.index;g++)P.push(o.RightArowLeftBody[g]);var y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*s,o.RightArowLeftBody);if(y.bfind)for(var h=y.index;h<o.RightArowLeftBody.length-1;h++)f.push(o.RightArowLeftBody[h]);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.RightArowRightBody),b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*S,o.RightArowRightBody),A=[],d=[];if(b.bfind)for(var M=0;M<=b.index;M++)A.push(o.RightArowRightBody[M]);var v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*S,o.RightArowRightBody);if(v.bfind)for(var m=v.index;m<o.RightArowRightBody.length-1;m++)d.push(o.RightArowRightBody[m]);o.shapePts.length>0&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o.shapePts,{strokeWidth:0,weight:0,lineWidthLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.LeftArowHead,{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.LeftArowRightBody),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.RightArowHead,{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d)),this.scalePoints=[];for(var O=0;O<this.m_scalePoints.length;O++)this.m_scalePoints[O].isScalePoint=!0,this.m_scalePoints[O].tag=O,this.scalePoints.push(this.m_scalePoints[O]);this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.operateControlPoints(o),r=new SuperMapAlgoPlot.Point((n[0].x+n[1].x)/2,(n[0].y+n[1].y)/2),i=new SuperMapAlgoPlot.Point((n[2].x+n[3].x)/2,(n[2].y+n[3].y)/2),a=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r,i);if(a.isOnline){var u=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r),p=SuperMapAlgoPlot.PlottingUtil.distance(r,i);(l=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(u,0)?this.SV1_MinValue:u/p)>this.SV1_MaxValue&&(l=this.SV1_MaxValue)}else l=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r)<SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,i)?this.SV1_MinValue:this.SV1_MaxValue;this.scaleValues=[],this.scaleValues.push(l)}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=new SuperMapAlgoPlot.Path2D,o=[];o=this.m_bIsAnimation&&4===t.length?SuperMapAlgoPlot.PlottingUtil.clonePoints(t):SuperMapAlgoPlot.PlottingUtil.operateControlPoints(t);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[3]),r=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]),i=o[1].clone(),a=.5*(o[0].x+o[3].x),u=.5*(o[0].y+o[3].y),p=new SuperMapAlgoPlot.Point(a,u),s=.5*(o[1].x+o[2].x),c=.5*(o[1].y+o[2].y),P=new SuperMapAlgoPlot.Point(s,c),f=SuperMapAlgoPlot.PlottingUtil.distance(p,P);f<this.MIN_LEN_LeftToRightCenter&&(f=this.MIN_LEN_LeftToRightCenter),p.x=a+n*(a-s)/(f*this.QIANJI_RATE1),p.y=u+n*(u-c)/(f*this.QIANJI_RATE1),P.x=s+r*(s-a)/(f*this.QIANJI_RATE1),P.y=c+r*(c-u)/(f*this.QIANJI_RATE1);var g=new SuperMapAlgoPlot.Point(0,0),y=new SuperMapAlgoPlot.Point(0,0);g.x=a+n*(a-s)/(f*this.QIANJI_RATE2),g.y=u+n*(u-c)/(f*this.QIANJI_RATE2),y.x=s+r*(s-a)/(f*this.QIANJI_RATE2),y.y=c+r*(c-u)/(f*this.QIANJI_RATE2);var h=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),S=new SuperMapAlgoPlot.Point((o[2].x+o[3].x)/2,(o[2].y+o[3].y)/2),b=o[3].x-(o[3].x-p.x)*this.SCALE_AT,A=o[3].y-(o[3].y-p.y)*this.SCALE_AT,d=o[2].x-(o[2].x-P.x)*this.SCALE_AT,M=o[2].y-(o[2].y-P.y)*this.SCALE_AT,v=new SuperMapAlgoPlot.Point(0,0),m=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0),w=new SuperMapAlgoPlot.Point(0,0);m.x=b-(A-o[3].y)*this.SCALE_ATAJ,m.y=A+(b-o[3].x)*this.SCALE_ATAJ,v.x=b+(A-o[3].y)*this.SCALE_ATAJ,v.y=A-(b-o[3].x)*this.SCALE_ATAJ,w.x=d-(M-o[2].y)*this.SCALE_ATAJ,w.y=M+(d-o[2].x)*this.SCALE_ATAJ,O.x=d+(M-o[2].y)*this.SCALE_ATAJ,O.y=M-(d-o[2].x)*this.SCALE_ATAJ;var U=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),T=new SuperMapAlgoPlot.Point(0,0),j=new SuperMapAlgoPlot.Point(0,0);U.x=3*v.x-2*b-(o[3].x-b)*this.SCALE_ATAE,U.y=3*v.y-2*A-(o[3].y-A)*this.SCALE_ATAE,L.x=3*m.x-2*b-(o[3].x-b)*this.SCALE_ATAE,L.y=3*m.y-2*A-(o[3].y-A)*this.SCALE_ATAE,T.x=3*O.x-2*d-(o[2].x-d)*this.SCALE_ATAE,T.y=3*O.y-2*M-(o[2].y-M)*this.SCALE_ATAE,j.x=3*w.x-2*d-(o[2].x-d)*this.SCALE_ATAE,j.y=3*w.y-2*M-(o[2].y-M)*this.SCALE_ATAE,p.x=a+n*(a-s)/(f*this.QIANJI_RATE4),p.y=u+n*(u-c)/(f*this.QIANJI_RATE4),P.x=s+r*(s-a)/(f*this.QIANJI_RATE4),P.y=c+r*(c-u)/(f*this.QIANJI_RATE4);var R=new SuperMapAlgoPlot.Point(0,0);R.x=o[0].x+(p.x-o[0].x)*this.SCALE_AW,R.y=o[0].y+(p.y-o[0].y)*this.SCALE_AW;var V=new SuperMapAlgoPlot.Point(0,0);V.x=o[1].x+(P.x-o[1].x)*this.SCALE_AW,V.y=o[1].y+(P.y-o[1].y)*this.SCALE_AW;var _=new SuperMapAlgoPlot.Point(0,0);_.x=v.x+(p.x-v.x)*this.SCALE_ATAJctrlSameSide,_.y=v.y+(p.y-v.y)*this.SCALE_ATAJctrlSameSide;var E=new SuperMapAlgoPlot.Point(0,0);E.x=w.x+(P.x-w.x)*this.SCALE_ATAJctrlSameSide,E.y=w.y+(P.y-w.y)*this.SCALE_ATAJctrlSameSide;var x=new SuperMapAlgoPlot.Point(0,0);x.x=m.x+(g.x-m.x)*this.SCALE_ATAJctrlDefSide,x.y=m.y+(g.y-m.y)*this.SCALE_ATAJctrlDefSide;var B=new SuperMapAlgoPlot.Point(0,0);B.x=O.x+(y.x-O.x)*this.SCALE_ATAJctrlDefSide,B.y=O.y+(y.y-O.y)*this.SCALE_ATAJctrlDefSide;var C=new SuperMapAlgoPlot.Point(0,0);C.x=h.x+(S.x-h.x)*l,C.y=h.y+(S.y-h.y)*l,this.m_scalePoints.push(new SuperMapAlgoPlot.Point(C.x,C.y));var Y=new SuperMapAlgoPlot.Point(0,0),I=new SuperMapAlgoPlot.Point(0,0);Y.x=o[0].x+(o[3].x-o[0].x)*l,Y.y=o[0].y+(o[3].y-o[0].y)*l,I.x=o[1].x+(o[2].x-o[1].x)*l,I.y=o[1].y+(o[2].y-o[1].y)*l,Y.x=Y.x+(C.x-Y.x)*this.QIANJI_RATE3,Y.y=Y.y+(C.y-Y.y)*this.QIANJI_RATE3,I.x=I.x+(C.x-I.x)*this.QIANJI_RATE3,I.y=I.y+(C.y-I.y)*this.QIANJI_RATE3;var D=[];D.push(o[0].clone()),D.push(R.clone()),D.push(_.clone()),D.push(v.clone()),e.MoveTo(D[0]),e.CurveTo(D[1],D[2],D[3]);var N,k=[],z=[],F=[],G=[],W=[],J=[],H=[];for(e.ToSubPathPolygons(H),k.push(H[0]),N=H[0].length,e.LineTo(U),e.LineTo(o[3]),e.LineTo(L),(D=[]).push(m),D.push(x),D.push(Y),D.push(C),e.LineTo(D[0]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)z.push(H[0][N]);for(N=H[0].length,e.CurveTo(D[1],D[2],D[3]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)F.push(H[0][N]);for(N=H[0].length,(D=[]).push(I),D.push(B),D.push(O),e.CurveTo(D[0],D[1],D[2]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)G.push(H[0][N]);for(N=H[0].length,e.LineTo(T),e.LineTo(o[2]),e.LineTo(j),(D=[]).push(w),D.push(E),D.push(V),D.push(i),e.LineTo(D[0]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)W.push(H[0][N]);for(N=H[0].length,e.CurveTo(D[1],D[2],D[3]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)J.push(H[0][N]);return H=[],e.ToSubPathPolygons(H),{shapePts:H[0],LeftArowLeftBody:k,LeftArowHead:z,LeftArowRightBody:F,ArowMidBody:[],RightArowLeftBody:G,RightArowHead:W,RightArowRightBody:J}}}])&&Nc(e.prototype,o),l&&Nc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Wc(t){"@babel/helpers - typeof";return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hc(t,e){return(Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=qc(t);if(e){var n=qc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qc(t){return(qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1021=Gc;var Qc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Kc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).MIN_GEOPT_COUNT=2,e.MAX_GEOPT_COUNT=1024,e.SV1_defaultATLenDivABLen=0,e.SV2_defaultAYPosScale=.65,e.SV_AJCtrl=.6,e.SV_ArrowWoCtrl=.6,e.SV2_DefaultAJWidDiviedByATLen=.148,e.SV3_DefaultAEWidDividedByATLen=.4,e.SV4_DefaultAELenDividedByATLen=.3,e.SV_ATScaleParameter=1.25,e.SV_ATLenDividedByATWid=1.35,e.SV_ATWidDividedByArrowWeiWid=.5,e.AB_VERTEX_COUNT=4,e.MIN_PTCOUNT_PERARROW=3,e.ATL_DIV_AWW=.7,e.ATL_DIV_ABL=.12,e.ATL_DIV_ABL_1=.18,e.DEFAULT_ARROW_TAIL_POS=.12,e.DUOJIANTOU_TAIL_RATE_1=8,e.DUOJIANTOU_TAIL_RATE_2=3,e.DUOJIANTOU_TAIL_RATE_3=.6,e.AB_CTRLPT_RATE1=0,e.AB_CTRLPT_RATE2=3,e.AB_CTRLPT_RATE3=.5,e.MIN_SCALEVALUE=.1,e.MAX_SCALEVALUE=1,e.m_scalePoints=null,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1002",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),this.m_scalePoints=[];var t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.operateCtrlPts(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=this.scaleValues.length;if(n<2*l-1){0==n&&(this.scaleValues.push(this.SV1_defaultATLenDivABLen),n++);for(var r=2*l-1-n,i=0;i<r;i+=2)this.scaleValues.splice(n/2+1,0,this.SV1_defaultATLenDivABLen),this.scaleValues.splice(this.scaleValues.length,0,this.SV2_defaultAYPosScale)}else if(n>2*l-1){for(var a=0;a<l;a++)this.scaleValues.push(this.SV1_defaultATLenDivABLen);for(var u=0;u<l-1;u++)this.scaleValues.push(this.SV2_defaultAYPosScale)}var p=this.arrowMeshs(e);SuperMapAlgoPlot.PlottingUtil.clearSamePts(p.shapePts);var s=!1;if(void 0!==t[0].z&&(s=!0),s){var c=this.operateCtrlPts3D(t),P=p.arrLeftPts2D,f=p.arrRightPts2D,g=p.arrHeadPts2D;if(l!=P.length&&l!=f.length&&l!=g.length)return!1;for(var y=[],h=0;h<l;h++){for(var S=[],b=3*h;b<3*(h+1)&&b<c.length;b++)S.push(c[b]);y.push(S)}for(var A=[],d=[],M=[],v=0;v<l;v++)if(!(2>y[v].length)){for(var m=P[v][P[v].length-1],O=f[v][0],w=new SuperMapAlgoPlot.Point(.5*(m.x+O.x),.5*(m.y+O.y)),U=y[v][y[v].length-1],L=y[v][y[v].length-2],T=this.ComputeZValue(w,U,L),j={x:w.x,y:w.y,z:T},R=[],V=[],_=0;_<y[v].length-1;_++)if(0==v)V.push(y[v][_]);else{var E={x:y[v][_].x,y:y[v][_].y,z:.5*(y[v][_].z+y[v-1][_].z)};V.push(E)}V.push(j),this.ComputeBeizerZValueByDis(V,P[v],R),A.push(R),R=[];var x=[];x.push(j);for(var B=y[v].length-2;B>=0;B--)if(v==l-1)x.push(y[v][B]);else{var C={x:y[v][B].x,y:y[v][B].y,z:.5*(y[v][B].z+y[v+1][B].z)};x.push(C)}this.ComputeBeizerZValueByDis(x,f[v],R),d.push(R),R=[];for(var Y=g[v],I=0;I<Y.length;I++){var D=this.ComputeZValue(Y[I],U,L);R.push({x:Y[I].x,y:Y[I].y,z:D})}M.push(R)}for(var N=[],k=0;k<l;k++)N=(N=(N=N.concat(A[k])).concat(M[k])).concat(d[k]);return SuperMapAlgoPlot.PlottingUtil.clearSamePts(N),p.shapePts.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N,{surroundLineFlag:!1}),this.scalePoints=this.scalePoints.concat(this.m_scalePoints),!0}p.shapePts.length>0&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p.shapePts,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:0,weight:0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p.shapePts,{surroundLineFlag:!1})),this.scalePoints=[];for(var z=0;z<this.m_scalePoints.length;z++)this.m_scalePoints[z].isScalePoint=!0,this.m_scalePoints[z].tag=z,this.addScalePoint(this.m_scalePoints[z])}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=this.operateCtrlPts(this.controlPoints),l=o.length,n=Math.floor(l/this.MIN_PTCOUNT_PERARROW),r=0;if(t<n){var i=[],a=t*this.MIN_PTCOUNT_PERARROW;i[0]=o[a],i[1]=o[a+1],i[2]=o[a+2];var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),p=new SuperMapAlgoPlot.Point(0,0),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,i[0],i[1],i[2],p,s),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,i[2],i[1],s,c),r=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(i[2],c,e).dLen1/(this.SV4_DefaultAELenDividedByATLen+1)/u}else{var P=[],f=[],g=(t-n)*this.MIN_PTCOUNT_PERARROW;P[0]=o[g],P[1]=o[g+1],P[2]=o[g+2];var y=(t-n+1)*this.MIN_PTCOUNT_PERARROW;f[0]=o[y],f[1]=o[y+1],f[2]=o[y+2];var h=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),b=new SuperMapAlgoPlot.Point(0,0);h.x=.5*(P[2].x+f[2].x),S.x=.5*(P[1].x+f[1].x),b.x=.5*(P[0].x+f[0].x),h.y=.5*(P[2].y+f[2].y),S.y=.5*(P[1].y+f[1].y),b.y=.5*(P[0].y+f[0].y);var A=SuperMapAlgoPlot.PlottingUtil.distance(h,S),d=SuperMapAlgoPlot.PlottingUtil.distance(b,S),M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h,S,e),v=M.dLen1;r=v<A?v/(A+d):((v=(M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(S,b,e)).dLen1)+A)/(A+d)}r>this.MAX_SCALEVALUE?r=this.MAX_SCALEVALUE:r<this.MIN_SCALEVALUE&&(r=this.MIN_SCALEVALUE),this.scaleValues[t]=r}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=new SuperMapAlgoPlot.Path2D,r=t.length,i=Math.floor(r/this.MIN_PTCOUNT_PERARROW),a=this.generateAWWidth(i,t),u=[],p=[],s=0,c=0,P=0,f=[];for(c=0,P=0;c<i;c++,P+=this.MIN_PTCOUNT_PERARROW){f[0]=t[P],f[1]=t[P+1],f[2]=t[P+2],s=this.scaleValues[c];var g=this.generateArrowBodyPts(f,a[c],s);s=g.dATLenDivABLen,u[c]=g.arrowBodyPts,p.push(s)}var y=[],h=0,S=0,b=0,A=[],d=[];for(c=0;c<i-1;c++,S+=this.MIN_PTCOUNT_PERARROW){b=S+this.MIN_PTCOUNT_PERARROW,A[0]=t[S],A[1]=t[S+1],A[2]=t[S+2],d[0]=t[b],d[1]=t[b+1],d[2]=t[b+2],h=this.scaleValues[i+c];var M=this.generateAYPts(A,u[c],d,u[c+1],h);y.push(M.arrowLeftYaoPts),y.push(M.arrowRightYaoPts)}var v=[],m=u[0],O=[],w=0,U=[];n.MoveTo(m[0]),n.CurveTo(m[1],m[2],m[3]),n.CurveTo(m[4],m[5],m[6]),n.ToSubPathPolygons(O),e.push(O[0]),w=O[0].length;for(var L=7;L<10;L++)n.LineTo(m[L]);for(O=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);for(l.push(U),v.push(m[0]),v.push(t[0]),c=1,P=this.MIN_PTCOUNT_PERARROW;c<i;c++,P+=this.MIN_PTCOUNT_PERARROW){var T=u[c],j=c+c-2,R=y[j];for(n.LineTo(R[0]),n.CurveTo(R[1],R[2],R[3]),O=[],U=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);o.push(U);var V=y[j+1];for(n.CurveTo(V[1],V[2],V[3]),O=[],U=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);e.push(U);for(var _=7;_<10;_++)n.LineTo(T[_]);for(O=[],U=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);l.push(U),v.push(t[P].clone())}var E=u[i-1];for(n.LineTo(E[10]),n.CurveTo(E[11],E[12],E[13]),n.CurveTo(E[14],E[15],E[16]),O=[],U=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);o.push(U),v.push(E[16]);var x=[];return n.ToSubPathPolygons(x),{shapePts:x[0],arrLeftPts2D:e,arrRightPts2D:o,arrHeadPts2D:l}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=o%this.MIN_PTCOUNT_PERARROW,r=new SuperMapAlgoPlot.Point;if(2==n&&(r.x=.5*(e[o-2].x+e[o-1].x),r.y=.5*(e[o-2].y+e[o-1].y),r.x==e[o-1].x&&r.y==e[o-1].y||(e.push(e[o-1].clone()),e[o-1]=r,o++,l++)),o>3)for(var i=l-1,a=0,u=i;a<i;u--,a++)for(var p=u*this.MIN_PTCOUNT_PERARROW,s=0;s<p;s+=this.MIN_PTCOUNT_PERARROW){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[s+3],e[s+1],e[s+2])){var c=e[s];e[s]=e[s+3],e[s+3]=c,c=e[s+1],e[s+1]=e[s+4],e[s+4]=c,c=e[s+2],e[s+2]=e[s+5],e[s+5]=c}}return e}},{key:"operateCtrlPts3D",value:function(t){var e=t,o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n={x:0,y:0,z:0};if(2==o%3&&(n.x=.5*(e[o-2].x+e[o-1].x),n.y=.5*(e[o-2].y+e[o-1].y),n.z=.5*(e[o-2].z+e[o-1].z),n.x==e[o-1].x&&n.y==e[o-1].y&&n.z==e[o-1].z||(e.push(e[o-1]),e[o-1]=n,o++,l++)),o>3)for(var r=l-1,i=0,a=r;i<r;a--,i++)for(var u=3*a,p=0;p<u;p+=3){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[p+3],e[p+1],e[p+2])){var s=e[p];e[p]=e[p+3],e[p+3]=s,s=e[p+1],e[p+1]=e[p+4],e[p+4]=s,s=e[p+2],e[p+2]=e[p+5],e[p+5]=s}}return e}},{key:"generateAWWidth",value:function(t,e){var o=[];if(t>0)if(1==t)o.push(0);else{var l=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[this.MIN_PTCOUNT_PERARROW]);o.push(l);for(var n=1,r=this.MIN_PTCOUNT_PERARROW;n<t-1;n++,r+=this.MIN_PTCOUNT_PERARROW){l=.5*(SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r])+SuperMapAlgoPlot.PlottingUtil.distance(e[r],e[r+this.MIN_PTCOUNT_PERARROW])),o.push(l)}l=SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r]),o.push(l)}return o}},{key:"generateArrowBodyPts",value:function(t,e,o){var l=[],n=[],r=[],i=[],a=[],u=[],p=[],s=t.length-1;if(s<2)return{dATLenDivABLen:o=0,arrowBodyPts:l};var c=o,P=this.SV2_DefaultAJWidDiviedByATLen,f=this.SV3_DefaultAEWidDividedByATLen,g=this.SV4_DefaultAELenDividedByATLen,y=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(y),S=0==e?h*this.ATL_DIV_ABL_1:(h+e)*this.ATL_DIV_ABL,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(S,y[1],y[0]);n[1]=b.pntLeft.clone(),r[1]=b.pntRight.clone();var A=0;A=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,0,1e-14)?S*this.ATL_DIV_AWW:h*c;var d=SuperMapAlgoPlot.PlottingUtil.distance(y[1],y[2]);A+A>d&&(A=.5*d);var M=A*P;y.push(y[s].clone());var v,m=0;v=h-A;var O=[],w=0;for(w=2;w<=s;w++)m+=SuperMapAlgoPlot.PlottingUtil.distance(y[w-1],y[w-2]),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v,0,1e-14)?O[w]=0:SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v-m,0,1e-14)?O[w]=M:O[w]=M+(S-M)*Math.pow((v-m)/v,this.SV_ATScaleParameter);O[s+1]=M;var U=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),T=new SuperMapAlgoPlot.Point(0,0);for(w=2;w<=s;w++){SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,y[w-2],y[w-1],y[w],L,T),s==w&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,y[s],y[s-1],T,U);var j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O[w],L,y[w-1]);r[w]=j.pntLeft,n[w]=j.pntRight}var R,V,_=U.clone();if(SuperMapAlgoPlot.PlottingUtil.distance(y[s],_)>0){var E=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,y[s],U);y[s]=E.clone()}for(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[s+1],y[s]),n[s+1]=b.pntLeft,r[s+1]=b.pntRight,w=2;w<=s;w++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,n[w-1],n[w],n[w+1],L,T),i[w]=L.clone(),a[w]=T.clone(),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,r[w-1],r[w],r[w+1],L,T),u[w]=L.clone(),p[w]=T.clone();SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,n[1],n[2],i[2],U),a[1]=U.clone(),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,r[1],r[2],u[2],U),p[1]=U.clone();V=SuperMapAlgoPlot.PlottingUtil.distance(n[s+1],n[s])*(1/3),(R=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(V,y[s],y[s+1])).x+=n[s+1].x-y[s].x,R.y+=n[s+1].y-y[s].y,V=(S-M)*Math.pow(V/v,this.SV_ATScaleParameter+.3),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(V,n[s+1],R),i[s+1]=b.pntLeft.clone(),V=SuperMapAlgoPlot.PlottingUtil.distance(r[s+1],r[s])*(1/3),(R=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(V,y[s],y[s+1])).x+=r[s+1].x-y[s].x,R.y+=r[s+1].y-y[s].y,V=(S-M)*Math.pow(V/v,this.SV_ATScaleParameter+.3),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(V,r[s+1],R),u[s+1]=b.pntRight.clone();var x=[],B=A*g,C=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(B,y[s],y[s+1]);this.m_scalePoints.push(C.clone()),B=A*f,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(B,y[s+1],C),x.push(b.pntRight),x.push(y[s+1]),x.push(b.pntLeft);var Y=[];for(Y.push(n[s+1]),w=s;w>=1;w--)Y.push(i[w+1]),Y.push(a[w]),Y.push(n[w]);var I=[];for(w=1;w<=s;w++)I.push(r[w]),I.push(p[w]),I.push(u[w+1]);I.push(r[s+1]),l.push.apply(l,I),l.push.apply(l,x),l.push.apply(l,Y),o=A/h;var D=[];for(w=Y.length-1;w>=0;w--)D.push(Y[w]);return{dATLenDivABLen:o,arrowBodyPts:l}}},{key:"generateAYPts",value:function(t,e,o,l,n){var r=new SuperMapAlgoPlot.Point(.5*(t[2].x+o[2].x),.5*(t[2].y+o[2].y)),i=new SuperMapAlgoPlot.Point(.5*(t[1].x+o[1].x),.5*(t[1].y+o[1].y)),a=new SuperMapAlgoPlot.Point(.5*(t[0].x+o[0].x),.5*(t[0].y+o[0].y)),u=SuperMapAlgoPlot.PlottingUtil.distance(r,i),p=SuperMapAlgoPlot.PlottingUtil.distance(a,i),s=n*(u+p),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0);if(s>u){s=u+p-s,c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(s,a,i);var g=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),y=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);g=g*s/p,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(g,t[0],t[1]),y=y*s/p,f=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(y,o[0],o[1])}else{c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(s,r,i);var h=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]),S=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]);h=h*s/u,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(h,t[2],t[1]),S=S*s/u,f=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(S,o[2],o[1])}this.m_scalePoints.push(c.clone());var b=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,P),A=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,f),d=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(b,c,P),M=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,c,f),v=e[11].clone(),m=e[10].clone(),O=l[5].clone(),w=l[6].clone(),U=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,c,P),L=SuperMapAlgoPlot.PlottingUtil.distance(U.intersectPoint,m),T=SuperMapAlgoPlot.PlottingUtil.distance(m,c);L=L>T?this.SV_AJCtrl*T:this.SV_AJCtrl*L;var j=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(L,m,v);v=j.clone(),e[11]=j.clone(),U=SuperMapAlgoPlot.PlottingUtil.intersectLines(w,O,c,f),L=(L=SuperMapAlgoPlot.PlottingUtil.distance(U.intersectPoint,w))>(T=SuperMapAlgoPlot.PlottingUtil.distance(w,c))?this.SV_AJCtrl*T:this.SV_AJCtrl*L,O=(j=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(L,w,O)).clone(),l[5]=j.clone();var R=[];R.push(m),R.push(v),R.push(d),R.push(c);var V=[];return V.push(c),V.push(M),V.push(O),V.push(w),{arrowLeftYaoPts:R,arrowRightYaoPts:V}}}])&&Jc(e.prototype,o),l&&Jc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Xc(t){"@babel/helpers - typeof";return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function $c(t,e){return($c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=eP(t);if(e){var n=eP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Xc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function eP(t){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1002=Qc;var oP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$c(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=tP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=e*o,n=this.scaleValues[2]*o*.5,r=this.scaleValues[1],i=!1;i=0!=r;var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!=a){for(var u=[],p=0;p<=a;p+=n){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*n-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),i=0==r;for(var f=u.length,g=0;g<f-1;g+=2){var y=new SuperMapAlgoPlot.Point(u[g].x,u[g].y),h=new SuperMapAlgoPlot.Point(u[g+1].x,u[g+1].y),S=new SuperMapAlgoPlot.Point(0,0);g<f-2&&(S.x=u[g+2].x,S.y=u[g+2].y);var b,A,d=.3*SuperMapAlgoPlot.PlottingUtil.distance(y,h),M=.8*d,v=.6*d;g<f-2&&(b=SuperMapAlgoPlot.PlottingUtil.linePnt(y,S,M),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v,S,y),i||(A=A.pntLeft),SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v,y,b),i&&A.pntRight)}var m=SuperMapAlgoPlot.PlottingUtil.distance(u[f-3],u[f-1]),O=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(m/4,u[f-1],u[f-3]);O.y=(u[f-1].y+u[f-2].y)/2;var w=SuperMapAlgoPlot.PlottingUtil.dirAngle(u[f-3],u[f-1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("钢网",O,m,w),this.finish()}}}}])&&Zc(e.prototype,o),l&&Zc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function lP(t){"@babel/helpers - typeof";return(lP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function rP(t,e){return(rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=aP(t);if(e){var n=aP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===lP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function aP(t){return(aP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2060201=oP;var uP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=iP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=e*o,n=this.scaleValues[2]*o*.5,r=this.scaleValues[1],i=!1;i=0!=r;var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!=a){for(var u=[],p=0;p<=a;p+=n){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*n-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),i=0==r;for(var f=u.length,g=0;g<f-1;g+=2){var y=[],h=new SuperMapAlgoPlot.Point(u[g].x,u[g].y),S=new SuperMapAlgoPlot.Point(u[g+1].x,u[g+1].y),b=new SuperMapAlgoPlot.Point(0,0);g<f-2&&(b.x=u[g+2].x,b.y=u[g+2].y);var A,d,M,v=.3*SuperMapAlgoPlot.PlottingUtil.distance(h,S),m=new SuperMapAlgoPlot.Point(0,0);m.x=(h.x+S.x)/2,m.y=(h.y+S.y)/2,A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v,h,m),d=i?A.pntLeft:A.pntRight,y.push(d),M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v/3,d,m),y.push(M.pntLeft),y.push(M.pntRight);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,y,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,lineTypeLimit:!0},!0)}this.finish()}}}}])&&nP(e.prototype,o),l&&nP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function pP(t){"@babel/helpers - typeof";return(pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function cP(t,e){return(cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function PP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=fP(t);if(e){var n=fP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===pP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fP(t){return(fP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2060202=uP;var gP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=PP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&this.scaleValues.push(.05),this.scaleValues[0]>.4&&(this.scaleValues[0]=.4);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],o=[];o.push(t[0]),o.push(t[1]);var l=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*e,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*e,!1),r=!1;if(t.length>=3){var i=t[2];if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(i,t[0],t[1]))r=!0;else{r=!1;var a=SuperMap.Plot.PlottingUtil.isRight(i,t[0],t[1]),u=.8*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(a){var p=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[1],u),s=SuperMapAlgoPlot.PlottingUtil.dirAngle(p,t[2])*SuperMapAlgoPlot.PlottingUtil.RTOD-SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(s<0&&(s+=360),s>180&&(s-=180),s<10||s>170)r=!0;else{var c=[];c.push(p),c.push(new SuperMapAlgoPlot.Point(t[2].x,t[2].y));var P=SuperMapAlgoPlot.PlottingUtil.paraLine(c,.5*e,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(c,.5*e,!1),g=SuperMapAlgoPlot.PlottingUtil.intersectLines(n[0],n[1],P[0],P[1]);P[0]=g.intersectPoint,g=SuperMapAlgoPlot.PlottingUtil.intersectLines(n[0],n[1],f[0],f[1]),f[0]=g.intersectPoint;for(var y=[],h=[],S=0;S<l.length;S++)y.push(l[S]);y.push(n[n.length-1]);for(var b=0;b<P.length;b++)y.push(P[b]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);for(var A=f.length-1;A>=0;A--)h.push(f[A]);h.push(n[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h)}}else{var d=SuperMapAlgoPlot.PlottingUtil.linePnt(l[0],l[1],u),M=SuperMapAlgoPlot.PlottingUtil.dirAngle(d,t[2])*SuperMapAlgoPlot.PlottingUtil.RTOD-SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(M<0&&(M+=360),M>180&&(M-=180),M<10||M>170)r=!0;else{var v=[];v.push(d),v.push(new SuperMapAlgoPlot.Point(t[2].x,t[2].y));var m=SuperMapAlgoPlot.PlottingUtil.paraLine(v,.5*e,!0),O=SuperMapAlgoPlot.PlottingUtil.paraLine(v,.5*e,!1),w=SuperMapAlgoPlot.PlottingUtil.intersectLines(l[0],l[1],m[0],m[1]);m[0]=w.intersectPoint,w=SuperMapAlgoPlot.PlottingUtil.intersectLines(l[0],l[1],O[0],O[1]),O[0]=w.intersectPoint;var U=[],L=[];U.push(l[0]);for(var T=0;T<m.length;T++)U.push(m[T]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U);for(var j=O.length-1;j>=0;j--)L.push(O[j]);L.push(l[l.length-1]);for(var R=n.length-1;R>=0;R--)L.push(n[R]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L)}}}}else r=!0;if(r){for(var V=n.length-1;V>=0;V--)l.push(n[V]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l)}this.addScalePoint(l[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)){0===this.scaleValues.length&&this.scaleValues.push(.2);var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=2*SuperMapAlgoPlot.PlottingUtil.pointToLineDis(e,o[0],o[1])/l;n>.4&&(n=.4),this.scaleValues[0]=n}}}}])&&sP(e.prototype,o),l&&sP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function yP(t){"@babel/helpers - typeof";return(yP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function SP(t,e){return(SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=AP(t);if(e){var n=AP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===yP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function AP(t){return(AP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21207=gP;var dP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=bP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=.05*e,l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*o,!0);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=[];n=n.concat(l);for(var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=50*this.getSubSymbolScaleValue(),a=r*i*.02,u=r*i*.005,p=.1*r,s=.1*e,c=0;c<=r;c+=p){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,c+s);if(-1!==P.index){var f,g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[P.index],P.pt);f=this.scaleValues[0]>0?new SuperMapAlgoPlot.Point(g.pntLeft.x,g.pntLeft.y):new SuperMapAlgoPlot.Point(g.pntRight.x,g.pntRight.y);var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,f,P.pt),h=[];if(h.push(y.pntRight),h.push(f),h.push(y.pntLeft),0===c){var S=new SuperMapAlgoPlot.Point(f.x,f.y);S.isScalePoint=!0,S.tag=0,this.scalePoints.push(S)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0})}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e);this.scaleValues[0]=l?-1:1}}}])&&hP(e.prototype,o),l&&hP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function MP(t){"@babel/helpers - typeof";return(MP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function mP(t,e){return(mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function OP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=wP(t);if(e){var n=wP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===MP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function wP(t){return(wP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21216=dP;var UP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=OP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL,e);for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,a=[],u=0;u<e.length;u++)l>e[u].x&&(l=e[u].x),n<e[u].x&&(n=e[u].x),r>e[u].y&&(r=e[u].y),i<e[u].y&&(i=e[u].y),a.push(e[u]);for(var p=(n-l)/5,s=.2*p,c=[],P=0;P<360;P+=18){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),s,s,P);c.push(f)}for(var g=0,y=l;y<n;y+=p)for(var h=r;h<i;h+=p){var S=new SuperMapAlgoPlot.Point(y,h);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(a,S))if(0===g){if(g=0,this.subSymbols.length>0){var b=.015*o;this.computeSubSymbol(this.subSymbols[0],S,b,0),!0===this.subSymbols[0].fillLimit&&(this.subSymbols[0].fillColor="#332323")}g++}else if(g=0,this.subSymbols.length>0){var A=.015*o;this.computeSubSymbol(this.subSymbols[1],S,A,0)}}this.finish()}}}}])&&vP(e.prototype,o),l&&vP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function LP(t){"@babel/helpers - typeof";return(LP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function jP(t,e){return(jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function RP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=VP(t);if(e){var n=VP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===LP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function VP(t){return(VP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21221=UP;var _P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=RP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=o*this.scaleValues[0],n=e[e.length-1];if(e.length>2){for(var r=-1,i=e.length-2;i>=0;i--)if(l<SuperMapAlgoPlot.PlottingUtil.distance(n,e[i])){r=i;break}e.splice(r+1,e.length-r),e.push(n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var a=e[e.length-2],u=e[e.length-1],p=l,s=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s+157.5),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s+202.5),f=[];f.push(c),f.push(n),f.push(P);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},!0),this.finish()}}}])&&TP(e.prototype,o),l&&TP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function EP(t){"@babel/helpers - typeof";return(EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function BP(t,e){return(BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=YP(t);if(e){var n=YP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===EP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function YP(t){return(YP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30008=_P;var IP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=CP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(-.04),e.scaleValues.push(-.175),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=o*this.scaleValues[0],n=e[e.length-1];if(e.length>2){for(var r=-1,i=e.length-2;i>=0;i--)if(l<SuperMapAlgoPlot.PlottingUtil.distance(n,e[i])){r=i;break}e.splice(r+1,e.length-r),e.push(n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var a=e[e.length-2],u=e[e.length-1],p=l,s=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s+157.5),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s+202.5),f=[];f.push(c),f.push(n),f.push(P);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},!0);var g=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(.8*p,u,a),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,p,p,s+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,p,p,s-90),S=[];S.push(y),S.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(1.2*p,u,a),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,p,p,s+90),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,p,p,s-90),M=[];M.push(A),M.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.finish()}}}])&&xP(e.prototype,o),l&&xP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function DP(t){"@babel/helpers - typeof";return(DP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function kP(t,e){return(kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=FP(t);if(e){var n=FP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===DP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FP(t){return(FP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30009=IP;var GP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=zP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(-.1),e.scaleValues.push(-.1),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=this.scaleValues[1],l=this.scaleValues[2],n=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==n){if(!this.isEdit){var r=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[2]=r/n}t.length===this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=new SuperMapAlgoPlot.Point(i.x+e*n,i.y+o*n),u=l*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.addText("?",i,.3*n,0,"#0000ff"),this.addScalePoint(a,0);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t&&(this.scaleValues[0]=(r.x-n.x)/l,this.scaleValues[1]=(r.y-n.y)/l),1===t){var i=this.scaleValues[0],a=this.scaleValues[1],u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u);this.scaleValues[2]=p/l}}}}])&&NP(e.prototype,o),l&&NP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function WP(t){"@babel/helpers - typeof";return(WP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function HP(t,e){return(HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function KP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=qP(t);if(e){var n=qP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===WP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qP(t){return(qP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30010=GP;var QP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=KP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts||0!==SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t)&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t),this.finish())}}])&&JP(e.prototype,o),l&&JP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function XP(t){"@babel/helpers - typeof";return(XP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function $P(t,e){return($P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ef(t);if(e){var n=ef(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===XP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ef(t){return(ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30011=QP;var of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$P(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=tf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=this.scaleValues[1],l=this.scaleValues[2],n=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==n){if(!this.isEdit){var r=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[2]=r/n}var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=new SuperMapAlgoPlot.Point(i.x+e*n,i.y+o*n),u=l*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t),this.addScalePoint(a,0);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t&&(this.scaleValues[0]=(r.x-n.x)/l,this.scaleValues[1]=(r.y-n.y)/l),1===t){var i=this.scaleValues[0],a=this.scaleValues[1],u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u);this.scaleValues[2]=p/l}}}}])&&ZP(e.prototype,o),l&&ZP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function lf(t){"@babel/helpers - typeof";return(lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function rf(t,e){return(rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uf(t);if(e){var n=uf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===lf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uf(t){return(uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30012=of;var pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=af(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.1*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],Math.sqrt(3)*e/4),l=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);l.splice(t.length-1,1),l.push(o);var n=SuperMapAlgoPlot.PlottingUtil.paraLine(l,.25*e,!0),r={lineColorLimit:!0,strokeColor:"#0000ff",color:"#0000ff"},i=SuperMapAlgoPlot.PlottingUtil.paraLine(l,.25*e,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,r);var a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],e),u=new SuperMapAlgoPlot.Point(a.x,a.y),p=new SuperMapAlgoPlot.Point(a.x,a.y);u=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],1/6*Math.PI,u),p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],11/6*Math.PI,p);var s=[];s.push(u),s.push(t[t.length-1]),s.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,r),this.finish()}}}])&&nf(e.prototype,o),l&&nf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sf(t){"@babel/helpers - typeof";return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pf(t,e){return(Pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gf(t);if(e){var n=gf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gf(t){return(gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30013=pf;var yf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ff(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.1*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),l=.1*e,n=.5*(e-l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t);if(-1!==r.index){var i=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);i.splice(r.index+1,t.length-r.index-1),i.push(r.pts);var a={lineColorLimit:!0,strokeColor:"#0000ff",color:"#0000ff"},u=SuperMapAlgoPlot.PlottingUtil.paraLine(i,.25*o,!0),p=SuperMapAlgoPlot.PlottingUtil.paraLine(i,.25*o,!1),s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n+l,t);if(-1!==s.index){var c=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);c.splice(0,s.index+1),c.splice(0,0,s.pts);var P=SuperMapAlgoPlot.PlottingUtil.paraLine(c,.25*o,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(c,.25*o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,a);var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*e,t),y=SuperMapAlgoPlot.PlottingUtil.radian(r.pts,s.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("(XX)",g.pts,l,y),this.finish()}}}}}])&&cf(e.prototype,o),l&&cf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hf(t){"@babel/helpers - typeof";return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bf(t,e){return(bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=df(t);if(e){var n=df(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function df(t){return(df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30014=yf;var Mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Af(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e.subText="水",e._style={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"},e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,this._style);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=this.scaleValues[0],n=this.scaleValues[1],r=e*this.scaleValues[2],i=new SuperMapAlgoPlot.Point(o.x+e*l,o.y+e*n),a=new SuperMapAlgoPlot.Point(i.x+1,i.y),u=[];t.push(t[0].clone());for(var p=0;p<t.length-1;p++){var s=SuperMapAlgoPlot.PlottingUtil.intersectLines(i,a,t[p],t[p+1]);s.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,t[p],t[p+1])&&u.push(s.intersectPoint))}if(0>=u.length)this.finish();else{var c=u[0].clone(),P=u[0].clone();for(p=0;p<u.length;p++)c.x>u[p].x&&(c=u[p].clone()),P.x<u[p].x&&(P=u[p].clone());var f=[],g=new SuperMapAlgoPlot.Point(i.x-r/2,c.y);g.x<=P.x&&g.x>=c.x&&((f=[]).push(c),f.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,this._style));var y=new SuperMapAlgoPlot.Point(i.x+r/2,P.y);y.x<=P.x&&y.x>=c.x&&((f=[]).push(P),f.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,this._style));var h=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText(this.subText,i,r,h),this.addScalePoint(i,0);var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,r/2,r/2,90);this.addScalePoint(S,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=0,i=0,a=e;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,a))return;r=(a.x-n.x)/l,this.scaleValues[0]=r,i=(a.y-n.y)/l,this.scaleValues[1]=i}if(1===t){r=this.scaleValues[0],i=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+r*l,n.y+i*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(a,u);this.scaleValues[2]=p/l}}}}])&&Sf(e.prototype,o),l&&Sf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function vf(t){"@babel/helpers - typeof";return(vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Of(t,e){return(Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Uf(t);if(e){var n=Uf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Uf(t){return(Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30020=Mf;var Lf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Of(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wf(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=[],o=t[0],l=t[1],n=t[2],r=new SuperMapAlgoPlot.Point(0,0);this.GetPointsByTrapezoid(1,n,l,o,r),e.push(o),e.push(l),e.push(n),e.push(r);var i=SuperMapAlgoPlot.PlottingUtil.intersectLines(o,l,n,r),a=i.intersectPoint;if(i.isIntersectLines&&(a.x>o.x&&a.x<l.x||a.y>o.y&&a.y<l.y||a.x<o.x&&a.x>l.x||a.y<o.y&&a.y>l.y)&&(e[0]=r,e[3]=o),4==e.length){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);o=e[0],l=e[2];var u=[];u.push(o),u.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}this.finish()}}},{key:"GetPointsByTrapezoid",value:function(t,e,o,l,n){var r=e.x,i=e.y,a=o.x,u=o.y,p=l.x,s=l.y,c=0,P=0,f=0,g=0;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(Math.abs(i-u),0))c=r+a-p,P=s;else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(Math.abs(r-a),0))c=p,P=i+u-s;else{var y=1*(i-u)/(r-a),h=s-y*p;P=y*(c=((u+i)/2+(r+a)/(2*y)-h)/(y+1/y))+h,c=2*c-p,P=2*P-s}var S=Math.sqrt(1*(r-a)*(r-a)+1*(i-u)*(i-u)),b=Math.sqrt(1*(r-c)*(r-c)+1*(i-P)*(i-P));S>0?(f=r+(a-r)*b/S,g=i+(u-i)*b/S):(f=r,g=i);var A=f+(c-f)*t,d=g+(P-g)*t;n.x=A,n.y=d}}])&&mf(e.prototype,o),l&&mf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Tf(t){"@babel/helpers - typeof";return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Rf(t,e){return(Rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_f(t);if(e){var n=_f(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Tf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _f(t){return(_f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30023=Lf;var Ef=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Vf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.subText="",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n={lineColorLimit:!0,strokeColor:"#696969",strokeOpacity:1,color:"#696969",opacity:1},r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,n);var a=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),u=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),p=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI;if(90<p&&p<270){var s=a;a=u,u=s,p=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI}n={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1};var c=new SuperMapAlgoPlot.Point(.1*e+.5*l,l),P=new SuperMapAlgoPlot.Point(.1*e+.5*l,-l),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,c,p),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,P,p),y=[];y.push(new SuperMapAlgoPlot.Point(g.x,g.y)),y.push(new SuperMapAlgoPlot.Point(f.x,f.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,n);var h=new SuperMapAlgoPlot.Point(.4*e+.5*l,l),S=new SuperMapAlgoPlot.Point(.4*e+.5*l,-l),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,h,p),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,S,p);(y=[]).push(new SuperMapAlgoPlot.Point((f.x+g.x)/2,(f.y+g.y)/2)),y.push(new SuperMapAlgoPlot.Point((b.x+A.x)/2,(b.y+A.y)/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,n);var d=new SuperMapAlgoPlot.Point(.85*e+.5*l,l),M=new SuperMapAlgoPlot.Point(.85*e+.5*l,-l),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,d,p),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,M,p);(y=[]).push(new SuperMapAlgoPlot.Point(m.x,m.y)),y.push(new SuperMapAlgoPlot.Point(v.x,v.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,n);var O=new SuperMapAlgoPlot.Point(.6*e+.5*l,l),w=new SuperMapAlgoPlot.Point(.6*e+.5*l,-l),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,O,p),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,w,p);(y=[]).push(new SuperMapAlgoPlot.Point((v.x+m.x)/2,(v.y+m.y)/2)),y.push(new SuperMapAlgoPlot.Point((U.x+L.x)/2,(U.y+L.y)/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,n);var T=new SuperMapAlgoPlot.Point(.5*e+.5*l,l),j=new SuperMapAlgoPlot.Point(.5*e+.5*l,-l),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,O,p),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,w,p),_=SuperMapAlgoPlot.PlottingUtil.dirAngle(R,V)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,E=SuperMapAlgoPlot.PlottingUtil.distance(T,j),x=new SuperMapAlgoPlot.Point((a.x+u.x)/2,(a.y+u.y)/2),B=this.subText;this.addText(B,x,E,_,"#0000FF");var C=new SuperMapAlgoPlot.Point(.12*e+2*l,4*l),Y=new SuperMapAlgoPlot.Point(.12*e+2*l,-l),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,C,p),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,Y,p),N=new SuperMapAlgoPlot.Point((I.x+D.x)/2,(I.y+D.y)/2),k=(_=SuperMapAlgoPlot.PlottingUtil.dirAngle(I,D)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,SuperMapAlgoPlot.PlottingUtil.distance(I,D));n={surroundLineFlag:!1,fillColorLimit:!0,fill:!0,lineColorLimit:!0,color:"#00FF00",fillOpacity:.7,surroundLineLimit:!0};if(this.subSymbols.length>0){var z=this.computeSubSymbol(this.subSymbols[0],N,.62*k,_);if(null!=z)for(var F=0;F<z.length;F++)z[F].style.lineColorLimit=!0,z[F].style.strokeColor="#00FF00",z[F].style.color="#00FF00"}this.addScalePoint(r[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){for(var o=0,l=0;l<this.controlPoints.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[l],this.controlPoints[l+1]);var n=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],e)/o;this.scaleValues[0]=n}}}])&&jf(e.prototype,o),l&&jf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xf(t){"@babel/helpers - typeof";return(xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Cf(t,e){return(Cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=If(t);if(e){var n=If(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function If(t){return(If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30025=Ef;var Df=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Yf(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=.08*SuperMapAlgoPlot.PlottingUtil.distance(e,o),n={lineColorLimit:!0,color:"#585756"},r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*l,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,n);for(var a=0,u=0;u<r.length-1;u++)a+=SuperMapAlgoPlot.PlottingUtil.distance(r[u],r[u+1]);for(var p,s,c,P,f=a*this.getSubSymbolScaleValue()*.3,g=6*f,y=f;y<=a-f/2;y+=g)-1!==(p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,y)).index&&(v=SuperMapAlgoPlot.PlottingUtil.radian(r[p.index],r[p.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,f,f,v+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,.25*f,.25*f,v+90),(P=[]).push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,n));for(var h=f;h<=a-f/2;h+=g)-1!==(p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,h)).index&&(v=SuperMapAlgoPlot.PlottingUtil.radian(i[p.index],i[p.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,f,f,v+285),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,.25*f,.25*f,v),(P=[]).push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,n));var S=new SuperMapAlgoPlot.Point((r[0].x+r[r.length-1].x)/2,(r[0].y+r[r.length-1].y)/2),b=new SuperMapAlgoPlot.Point((i[0].x+i[i.length-1].x)/2,(i[0].y+i[i.length-1].y)/2),A=new SuperMapAlgoPlot.Point((S.x+b.x)/2,(S.y+b.y)/2),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(S,b)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,M=SuperMapAlgoPlot.PlottingUtil.distance(S,b);this.subText;this.addText("决",A,M,d,"#0000FF");var v,m=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(90<(v=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD)&&v<270){var O=e;e=o,o=O,v=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD}var w=new SuperMapAlgoPlot.Point(.4*m+.25*l,.5*l),U=new SuperMapAlgoPlot.Point(.4*m+.25*l,-.5*l),L=new SuperMapAlgoPlot.Point(.6*m+.25*l,.5*l),T=new SuperMapAlgoPlot.Point(.6*m+.25*l,-.5*l),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,w,v),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,U,v),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,L,v),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,T,v),E=[];E.push(j),E.push(R),E.push(_),E.push(V),n={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,E,n);var x=new SuperMapAlgoPlot.Point(.1*m-l,.9*l),B=new SuperMapAlgoPlot.Point(.1*m-l,2.5*l),C=new SuperMapAlgoPlot.Point(.9*m+l,.9*l),Y=new SuperMapAlgoPlot.Point(.9*m+l,2.5*l),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,x,v),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,B,v),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,C,v),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,Y,v),z=[];z.push(I),z.push(D),z.push(k),z.push(N),n={lineColorLimit:!0,color:"#1e90ff",fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#add8e6",fillOpacity:1,lineTypeLimit:!0},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,z,n),this.finish()}}}])&&Bf(e.prototype,o),l&&Bf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Nf(t){"@babel/helpers - typeof";return(Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zf(t,e){return(zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gf(t);if(e){var n=Gf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Nf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gf(t){return(Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30026=Df;var Wf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ff(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e={lineColorLimit:!0,strokeColor:"#00FF00",strokeOpacity:1,color:"#00FF00",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());var n=new SuperMapAlgoPlot.Point(l.x+1,l.y),r=[];t.push(t[0].clone());for(var i=0;i<t.length-1;i++){var a=SuperMapAlgoPlot.PlottingUtil.intersectLines(l,n,t[i],t[i+1]);a.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(a.intersectPoint,t[i],t[i+1])&&r.push(a.intersectPoint))}if(!(0>=r.length)){var u=r[0].clone(),p=r[0].clone();for(i=0;i<r.length;i++)u.x>r[i].x&&(u=r[i].clone()),p.x<r[i].x&&(p=r[i].clone());var s=SuperMapAlgoPlot.PlottingUtil.distance(p,u),c=new SuperMapAlgoPlot.Point(l.x-.25*s,u.y),P=o*this.scaleValues[0],f=o*this.scaleValues[0],g=f+P,y=new SuperMapAlgoPlot.Point(c.x,c.y+g);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[y,new SuperMapAlgoPlot.Point(y.x+P,y.y)],e);var h=new SuperMapAlgoPlot.Point(c.x,c.y+.8*f),S=new SuperMapAlgoPlot.Point(c.x-f,c.y-f),b=new SuperMapAlgoPlot.Point(c.x+f,c.y-f),A=[];A.push(h),A.push(S),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,e);var d=new SuperMapAlgoPlot.Point(c.x-.5*f,c.y-f),M=new SuperMapAlgoPlot.Point(S.x,S.y-2*P),v=new SuperMapAlgoPlot.Point(c.x+.5*f,c.y-f),m=new SuperMapAlgoPlot.Point(b.x,b.y-2*P),O=[];O.push(d),O.push(M);var w=[];w.push(v),w.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O,e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,e),this.addText("滞",l,2*f,0,"#00FF00"),this.finish()}}}}])&&kf(e.prototype,o),l&&kf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Jf(t){"@babel/helpers - typeof";return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Kf(t,e){return(Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Qf(t);if(e){var n=Qf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Qf(t){return(Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30030=Wf;var Xf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e={lineColorLimit:!0,strokeColor:"#00FF00",strokeOpacity:1,color:"#00FF00",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,e),this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=new SuperMapAlgoPlot.Point(l.x+1,l.y),r=[];t.push(t[0].clone());for(var i=0;i<t.length-1;i++){var a=SuperMapAlgoPlot.PlottingUtil.intersectLines(l,n,t[i],t[i+1]);a.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(a.intersectPoint,t[i],t[i+1])&&r.push(a.intersectPoint))}if(!(0>=r.length)){var u=r[0].clone(),p=r[0].clone();for(i=0;i<r.length;i++)u.x>r[i].x&&(u=r[i].clone()),p.x<r[i].x&&(p=r[i].clone());var s=SuperMapAlgoPlot.PlottingUtil.distance(p,u),c=new SuperMapAlgoPlot.Point(l.x-.25*s,u.y),P=o*this.scaleValues[0],f=o*this.scaleValues[0],g=f+P,y=new SuperMapAlgoPlot.Point(c.x,c.y+g),h=new SuperMapAlgoPlot.Point(y.x+P,y.y),S=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,h),b=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,y);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[b,S],e);var A=new SuperMapAlgoPlot.Point(c.x,c.y+.8*f),d=new SuperMapAlgoPlot.Point(c.x-f,c.y-f),M=new SuperMapAlgoPlot.Point(c.x+f,c.y-f),v=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,A.clone()),m=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,d.clone()),O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,M.clone()),w=[];w.push(v),w.push(m),w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,w,e);var U=new SuperMapAlgoPlot.Point(c.x-.5*f,c.y-f),L=new SuperMapAlgoPlot.Point(d.x,d.y-2*P),T=new SuperMapAlgoPlot.Point(c.x+.5*f,c.y-f),j=new SuperMapAlgoPlot.Point(M.x,M.y-2*P),R=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,U),V=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,L),_=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,T),E=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,j),x=[];x.push(R),x.push(V);var B=[];B.push(_),B.push(E),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x,e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,e),this.addText("踏",l,2*f,0,"#00FF00"),this.finish()}}}}])&&Hf(e.prototype,o),l&&Hf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zf(t){"@babel/helpers - typeof";return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tg(t,e){return(tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=og(t);if(e){var n=og(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function og(t){return(og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3003001=Xf;var lg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t={lineColorLimit:!0,strokeColor:"#00FF00",strokeOpacity:1,color:"#00FF00",opacity:1},e=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,t),this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),n=new SuperMapAlgoPlot.Point(l.x+1,l.y),r=[];e.push(e[0].clone());for(var i=0;i<e.length-1;i++){var a=SuperMapAlgoPlot.PlottingUtil.intersectLines(l,n,e[i],e[i+1]);a.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(a.intersectPoint,e[i],e[i+1])&&r.push(a.intersectPoint))}if(!(0>=r.length)){var u=r[0].clone(),p=r[0].clone();for(i=0;i<r.length;i++)u.x>r[i].x&&(u=r[i].clone()),p.x<r[i].x&&(p=r[i].clone());var s=SuperMapAlgoPlot.PlottingUtil.distance(p,u),c=new SuperMapAlgoPlot.Point(l.x-.25*s,u.y),P=o*this.scaleValues[0],f=o*this.scaleValues[0],g=f+P,y=new SuperMapAlgoPlot.Point(c.x,c.y+g);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[y,new SuperMapAlgoPlot.Point(y.x+P,y.y)],t);var h=new SuperMapAlgoPlot.Point(c.x,c.y+.8*f),S=new SuperMapAlgoPlot.Point(c.x-f,c.y-f),b=new SuperMapAlgoPlot.Point(c.x+f,c.y-f),A=[];A.push(h),A.push(S),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,t);var d=new SuperMapAlgoPlot.Point(c.x-.5*f,c.y-f),M=new SuperMapAlgoPlot.Point(S.x,S.y-2*P),v=new SuperMapAlgoPlot.Point(c.x+.5*f,c.y-f),m=new SuperMapAlgoPlot.Point(b.x,b.y-2*P),O=[];O.push(d),O.push(M);var w=[];w.push(v),w.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O,t),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,t),this.addText("灾",l,2*f,0,"#00FF00"),this.finish()}}}}])&&$f(e.prototype,o),l&&$f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ng(t){"@babel/helpers - typeof";return(ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ig(t,e){return(ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ag(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ug(t);if(e){var n=ug(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ng(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ug(t){return(ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30031=lg;var pg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ig(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ag(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=this.scaleValues[0],n=this.scaleValues[1],r=e*this.scaleValues[2],i=new SuperMapAlgoPlot.Point(o.x+e*l,o.y+e*n),a=new SuperMapAlgoPlot.Point(i.x+1,i.y),u=[];t.push(t[0].clone());for(var p=0;p<t.length-1;p++){var s=SuperMapAlgoPlot.PlottingUtil.intersectLines(i,a,t[p],t[p+1]);s.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,t[p],t[p+1])&&u.push(s.intersectPoint))}if(0>=u.length)this.finish();else{var c=u[0].clone(),P=u[0].clone();for(p=0;p<u.length;p++)c.x>u[p].x&&(c=u[p].clone()),P.x<u[p].x&&(P=u[p].clone());var f=new SuperMapAlgoPlot.Point(i.x-r/2,c.y),g=new SuperMapAlgoPlot.Point(i.x+r/2,P.y),y=SuperMapAlgoPlot.PlottingUtil.radian(f,g)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("缉",i,r,y),this.addScalePoint(i,0);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,r/2,r/2,90);this.addScalePoint(h,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=e,i=0,a=0;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,r))return;i=(r.x-n.x)/l,this.scaleValues[0]=i,a=(r.y-n.y)/l,this.scaleValues[1]=a}if(1===t){i=this.scaleValues[0],a=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(r,u);this.scaleValues[2]=p/l}}}}])&&rg(e.prototype,o),l&&rg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sg(t){"@babel/helpers - typeof";return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pg(t,e){return(Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gg(t);if(e){var n=gg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gg(t){return(gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40104=pg;var yg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.isEdit||(this.subSymbolScaleValue=this.getDefaultSubSymbolSize()/e,this.subSymbolScaleValue>.2&&(this.subSymbolScaleValue=.2),this.scaleValues[2]=this.subSymbolScaleValue/3);var l=this.scaleValues[0],n=this.scaleValues[1],r=e*this.scaleValues[2],i=new SuperMapAlgoPlot.Point(o.x+e*l,o.y+e*n),a=new SuperMapAlgoPlot.Point(i.x-4*r,i.y),u=new SuperMapAlgoPlot.Point(i.x-4*r,i.y-r/2),p=[];p.push(a),p.push(u);var s={lineTypeLimit:!0,fillLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,s);var c=new SuperMapAlgoPlot.Point(i.x-4*r,i.y),P=new SuperMapAlgoPlot.Point(i.x-r,i.y),f=[];f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,s),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,2*r,0);var g=new SuperMapAlgoPlot.Point(i.x+4*r,i.y),y=new SuperMapAlgoPlot.Point(i.x+r,i.y),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,s);var S=new SuperMapAlgoPlot.Point(i.x+4*r,i.y+r/2),b=new SuperMapAlgoPlot.Point(i.x+4*r,i.y),A=[];A.push(S),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,s),this.addScalePoint(i,0);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,2*r,2*r,90);this.addScalePoint(d,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=0,i=0;if(0===t&&(r=(e.x-n.x)/l,this.scaleValues[0]=r,i=(e.y-n.y)/l,this.scaleValues[1]=i),1===t){r=this.scaleValues[0],i=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(n.x+l*r,n.y+l*i),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e);this.scaleValues[2]=u/2/l}}}}])&&cg(e.prototype,o),l&&cg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hg(t){"@babel/helpers - typeof";return(hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bg(t,e){return(bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ag(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dg(t);if(e){var n=dg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dg(t){return(dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40302=yg;var Mg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ag(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(this.controlPoints.length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.5*e,l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o,t);if(-1!==l.index){for(var n=[],r=0;r<l.index+1;r++)n.push(t[r]);var i=[],a=.1*e,u=.5*a,p=.05*e;if(o-SuperMapAlgoPlot.PlottingUtil.polylineDistance(n)>=p){var s=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,t[l.index],p);n.push(s),this.ComputeDashLine(a,u,n);var c=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,t[l.index],p);i.push(c);for(var P=l.index+1;P<t.length;++P)i.push(t[P]);this.ComputeDashLine(a,u,i)}else{for(var f=-1,g=n.length-1;g>=0;g--){var y=new SuperMapAlgoPlot.Point(n[g].x,n[g].y),h=new SuperMapAlgoPlot.Point(l.pts.x,l.pts.y),S=SuperMapAlgoPlot.PlottingUtil.distance(y,h);if(S>p){f=g;break}}if(-1==f)return;n.splice(f+1,n.length-1-f),s=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,t[f],p),n.push(s),this.ComputeDashLine(a,u,n);for(var b=-1,A=n.length-1;A<t.length;A++)if(y=new SuperMapAlgoPlot.Point(t[A].x,t[A].y),h=new SuperMapAlgoPlot.Point(l.pts.x,l.pts.y),(S=SuperMapAlgoPlot.PlottingUtil.distance(y,h))>p){b=A;break}if(-1==b)return;c=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,t[b],p),i.push(c);for(var d=b+1;d<t.length;++d)i.push(t[d]);this.ComputeDashLine(a,u,i)}var M=s.clone(),v=c.clone(),m=SuperMapAlgoPlot.PlottingUtil.radian(M,v)*SuperMapAlgoPlot.PlottingUtil.RTOD,O=SuperMapAlgoPlot.PlottingUtil.distance(M,v),w=new SuperMapAlgoPlot.Point((s.x+c.x)/2,(s.y+c.y)/2);this.addText("警",w,O,m),this.finish()}}}},{key:"ComputeDashLine",value:function(t,e,o){for(var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o),r=l/7,i=0;i<7;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);if(-1!==a.index){if(0!=i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}n.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}}])&&Sg(e.prototype,o),l&&Sg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function vg(t){"@babel/helpers - typeof";return(vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Og(t,e){return(Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ug(t);if(e){var n=Ug(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ug(t){return(Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40304=Mg;var Lg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Og(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues.push(.05),this.scaleValues.push(.05),this.scaleValues.push(.02)):2===this.scaleValues.length?this.scaleValues.push(.3*this.getSubSymbolScaleValue()):1===this.scaleValues.length&&(this.scaleValues.push(.5*this.getSubSymbolScaleValue()),this.scaleValues.push(.3*this.getSubSymbolScaleValue()));var e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.1||l<=0)&&(l=.1),this.scaleValues[0]=l,this.scaleValues[1]=this.getSubSymbolScaleValue(),this.scaleValues[2]=.5*l}var n=this.getLinePts(o,this.scaleValues[0],.5),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.computeSubSymbolC(r,a,i);for(var u=[],p=0;p<=n.startIndex;p++)u.push(o[p]);u.push(new SuperMapAlgoPlot.Point(n.startPt.x,n.startPt.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);var s=[];if(n.endIndex<=o.length){s.push(new SuperMapAlgoPlot.Point(n.endPt.x,n.endPt.y));for(var c=n.endIndex+1;c<=o.length-1;c++)s.push(o[c]);this.addArrow(s,this.scaleValues[2])}this.scalePoints=[];var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,.5*a,.5*a,i+90);this.addScalePoint(P,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(l);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,n),a=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pts)/r,u=1/o.length-.05;u<=.05&&(u=.05),a>=u&&(a=u),this.scaleValues[0]=a}}}}},{key:"computeSubSymbolC",value:function(t,e,o){for(var l=[],n=0;n<360;n+=12)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.5*e,.5*e,n));l.push(l[0]);var r={lineColorLimit:!0,fillLimit:!1,fillStyle:0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,r);for(var i=[],a=0;a<360;a+=12)i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.25*e,.25*e,a));i.push(i[0]),r={lineColorLimit:!0,fillLimit:!0,fillColorLimit:!0,fillStyle:1,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,r);var u=[];u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.25*e,.25*e,o+90)),u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.5*e,.5*e,o+90)),r={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,r);var p=[];p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.25*e,.25*e,o+270)),p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.5*e,.5*e,o+270)),r={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,r)}}])&&mg(e.prototype,o),l&&mg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Tg(t){"@babel/helpers - typeof";return(Tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Rg(t,e){return(Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_g(t);if(e){var n=_g(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Tg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _g(t){return(_g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40305=Lg;var Eg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Vg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0);for(var s=0;s<this.components.length;s++)this.components[s].style.strokeColor="#0000ff",this.components[s].style.lineColorLimit=!0,this.components[s].style.strokeOpacity=1,this.components[s].style.color="#0000ff",this.components[s].style.opacity=1;this.addScalePoint(p);var c=u,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,c,c,90);this.addScalePoint(P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=0,a=0;if(0===t)i=(e.x-n.x)/r,this.scaleValues[2]=i,a=(e.y-n.y)/r,this.scaleValues[3]=a;else if(1===t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(n.x+r*i,n.y+r*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e);this.scaleValues[0]=p/r}}}}])&&jg(e.prototype,o),l&&jg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xg(t){"@babel/helpers - typeof";return(xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Cg(t,e){return(Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ig(t);if(e){var n=Ig(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ig(t){return(Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50108=Eg;var Dg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Yg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.088259),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.088259),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3];o.x=o.x+i*l,o.y=o.y+a*l;var u=new SuperMapAlgoPlot.Point(.25*l*r,.25*l*r),p=new SuperMapAlgoPlot.Point(0,.5*l*r),s=new SuperMapAlgoPlot.Point(-.25*l*r,.25*l*r),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,u,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,p,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,s,0);this.addCell(SuperMapAlgoPlot.SymbolType.ARCSYMBOL,[c,P,f],{lineTypeLimit:!0,lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineLimit:!0});var g=new SuperMapAlgoPlot.Point(0,-.3*l*r),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,g,0);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,y,f],{lineTypeLimit:!0,lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineLimit:!0}),this.scalePoints=[];var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r*l*.5,r*l*.5,180);this.addScalePoint(h,0),this.addScalePoint(o,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){n.x=n.x+this.scaleValues[2]*r,n.y=n.y+this.scaleValues[3]*r;var i=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/r;this.scaleValues[0]=i}else if(1===t){var a=(e.x-n.x)/r;this.scaleValues[2]=a;var u=(e.y-n.y)/r;this.scaleValues[3]=u}}}}])&&Bg(e.prototype,o),l&&Bg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ng(t){"@babel/helpers - typeof";return(Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zg(t,e){return(zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gg(t);if(e){var n=Gg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ng(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gg(t){return(Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50223=Dg;var Wg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.isEdit||(this.subSymbolScaleValue=this.getDefaultSubSymbolSize()/e,this.subSymbolScaleValue>.2&&(this.subSymbolScaleValue=.2),this.scaleValues[0]=this.subSymbolScaleValue);var l=this.scaleValues[0],n=this.scaleValues[2],r=this.scaleValues[3],i=e*l,a=new SuperMapAlgoPlot.Point(o.x+e*n,o.y+e*r);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,i,0),this.addScalePoint(a,0);var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i,i,90);this.addScalePoint(u,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=0,i=0;if(0===t&&(r=(e.x-n.x)/l,this.scaleValues[2]=r,i=(e.y-n.y)/l,this.scaleValues[3]=i),1===t){r=this.scaleValues[2],i=this.scaleValues[3];var a=new SuperMapAlgoPlot.Point(n.x+l*r,n.y+l*i),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e);this.scaleValues[0]=u/2/l}}}}])&&kg(e.prototype,o),l&&kg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Jg(t){"@babel/helpers - typeof";return(Jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Kg(t,e){return(Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Qg(t);if(e){var n=Qg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Qg(t){return(Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50225=Wg;var Xg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(this.controlPoints.length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);this.isEdit||(this.subSymbolScaleValue=this.getDefaultSubSymbolSize()/o,this.subSymbolScaleValue>.2&&(this.subSymbolScaleValue=.2),this.scaleValues[0]=this.subSymbolScaleValue);var n=this.scaleValues[0],r=this.scaleValues[2],i=this.scaleValues[3];l.x=l.x+r*o,l.y=l.y+i*o;var a=new SuperMapAlgoPlot.Point(2*o*n,0),u=new SuperMapAlgoPlot.Point(-2*o*n,0),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,a,0),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,u,0),c=[];c.push(p),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);var P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,a,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,u,0);this.subSymbols.length>0&&(this.computeSubSymbol(this.subSymbols[0],P,n*o,90),this.computeSubSymbol(this.subSymbols[1],f,n*o,90));var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,n*o,n*o,180);this.addScalePoint(g,0),this.addScalePoint(l,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.controlPoints.length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0===t){r.x=r.x+this.scaleValues[2]*n,r.y=r.y+this.scaleValues[3]*n;var i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/n;this.scaleValues[0]=i}if(1===t){var a=(e.x-r.x)/n;this.scaleValues[2]=a;var u=(e.y-r.y)/n;this.scaleValues[3]=u}}}}])&&Hg(e.prototype,o),l&&Hg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zg(t){"@babel/helpers - typeof";return(Zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $g(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ty(t,e){return(ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ey(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oy(t);if(e){var n=oy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oy(t){return(oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50226=Xg;var ly=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ty(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ey(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(-1.5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){this.scaleValues=[];for(var e=0;e<t.length;e++)this.scaleValues.splice(e,0,0);var o=this.getSubSymbolScaleValue();this.scaleValues[t.length]=.8*o,this.scaleValues[t.length+1]=o,this.scaleValues[t.length+2]=-1.5;var l=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[t.length+3]=l,this.scaleValues[t.length+4]=o}this.isEdit&&this.scaleValues.length===t.length+3&&(this.scaleValues[t.length+3]=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),this.scaleValues[t.length+4]=.05),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=this.scaleValues.length,a=r*this.scaleValues[i-3],u=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),p=new SuperMapAlgoPlot.Point(u.x+a,u.y),s=[];s.push(u),s.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,s,{fillLimit:!0,fill:!0,fillColorLimit:!0,fillColor:"#ff0000",fillOpacity:1});var c=this.scaleValues[0];if(0===c)n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[1],t[0]).pntRight;else if(1===c)n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[1],t[0]).pntLeft;else{if(2!==c)return;n=t[0]}var P,f=[];if(f.push(t[0]),f.push(n),this.addScalePoint(n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,null,!0),t.length>this.minEditPts){for(var g=1;g<t.length-1;g++){var y,h=[],S=this.scaleValues[g],b=null,A=null,d=null,M=0,v=0,m=0;if(0===S){for(b=t[g],A=t[g+1],d=t[g-1],M=SuperMapAlgoPlot.PlottingUtil.radian(b,A)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=SuperMapAlgoPlot.PlottingUtil.radian(b,d)*SuperMapAlgoPlot.PlottingUtil.RTOD-M;v<0;)v+=360;m=v/2;var O=t[g+1].clone();O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(b,m*Math.PI/180,O),y=SuperMapAlgoPlot.PlottingUtil.linePnt(b,O,a)}else if(1===S){for(b=t[g],A=t[g+1],d=t[g-1],M=SuperMapAlgoPlot.PlottingUtil.radian(b,A)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=SuperMapAlgoPlot.PlottingUtil.radian(b,d)*SuperMapAlgoPlot.PlottingUtil.RTOD-M;v<0;)v+=360;m=180-v/2;var w=t[g-1].clone();O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(b,m*Math.PI/180,w),y=SuperMapAlgoPlot.PlottingUtil.linePnt(b,w,a)}else{if(2!==S)continue;y=t[g]}h.push(t[g]),h.push(y),this.addScalePoint(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,null,!0)}var U=t.length,L=this.scaleValues[U-1],T=0,j=0,R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[U-2],t[U-1]),V=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*a,t[U-2],t[U-1]);if(0===L)T=R.pntLeft,j=V.pntLeft;else if(1===L)T=R.pntRight,j=V.pntRight;else{if(2!==L)return;T=t[U-1].clone(),j=t[U-1].clone()}(h=[]).push(t[U-1]),h.push(T),this.addScalePoint(T),this.addScalePoint(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,null,!0)}else{var _=this.scaleValues[1];if(R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[0],t[1]),V=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*a,t[0],t[1]),0===_)T=R.pntLeft,j=V.pntLeft;else if(1===_)T=R.pntRight,j=V.pntRight;else{if(2!==_)return;T=t[1].clone(),j=t[1].clone()}(h=[]).push(t[1]),h.push(T),this.addScalePoint(T),this.addScalePoint(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,null,!0)}var E=this.scaleValues.length,x=this.scaleValues[E-2],B=Math.abs(r*x),C=this.scaleValues[E-1],Y=Math.abs(a*C),I=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,B);if(-1!==I.index){var D=I.index,N=I.pt;P=C>=0?(R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(Y,t[D],N)).pntRight:(R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(Y,t[D],N)).pntLeft;var k=SuperMapAlgoPlot.PlottingUtil.linePnt(N,P,Y),z=.3*Y,F=SuperMapAlgoPlot.PlottingUtil.linePnt(k,N,z),G=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*z,k,F),W=G.pntLeft,J=G.pntRight;(h=[]).push(N),h.push(k),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,null,!0),(h=[]).push(W),h.push(k),h.push(J);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},!0),this.addScalePoint(k),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=o.length,r=e;if(t>=0&&t<n){var i=!1,a=null,u=null;i=0===t?SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],r):t===n-1?SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],r):SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],o[t+1])!==(a=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],r))?a:(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],r))===a?a:u,this.scaleValues[t]=i?1:0}else if(t===n){var p=SuperMapAlgoPlot.PlottingUtil.distance(o[n-1],r)/2;this.scaleValues[t]=p/l}else if(t===n+1||t===n+2){for(var s=-1,c=0,P=new SuperMapAlgoPlot.Point(0,0),f=0;f<o.length-1;f++){var g=[];g.push(o[f]),g.push(o[f+1]);var y=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,o[f],o[f+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(y,g).isOnPolyLine){var h=SuperMapAlgoPlot.PlottingUtil.distance(r,y);-1===s?(s=f,P=y,c=h):c>h&&(s=f,P=y,c=h)}}if(-1===s||s>o.length-1)return;for(var S=0,b=0;b<s;b++){var A=o[b],d=o[b+1];S+=SuperMapAlgoPlot.PlottingUtil.distance(A,d)}var M=o[s];if((S+=SuperMapAlgoPlot.PlottingUtil.distance(M,P))<0||S>l)return;this.scaleValues[n+1]=S/l;var v,m=this.scaleValues.length,O=l*this.scaleValues[m-3];v=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[s],o[s+1],r)?c/O:-Math.abs(c/O),this.scaleValues[n+2]=v}}}}])&&$g(e.prototype,o),l&&$g(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ny(t){"@babel/helpers - typeof";return(ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ry(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function iy(t,e){return(iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ay(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uy(t);if(e){var n=uy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ny(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uy(t){return(uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50308=ly;var py=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1011);var e,o,l,n=ay(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!==e){SuperMapAlgoPlot.AlgoSymbol1011.prototype.calculateParts.apply(this,arguments),5>this.scaleValues.length&&(this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));for(var o=e*this.scaleValues[4],l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[1],t[0]),n=SuperMapAlgoPlot.PlottingUtil.distance(l.pntLeft,l.pntRight),r=n,i=2.5*n,a=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,u=[],p=120;p<420;p+=12)u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],r,.5*i,p+a-90));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),this.finish()}}}}])&&ry(e.prototype,o),l&&ry(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sy(t){"@babel/helpers - typeof";return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Py(t,e){return(Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gy(t);if(e){var n=gy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gy(t){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50318=py;var yy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).RATIO_OUTLINE=.02,e.RATIO_INLINE=.001,e.scaleValues=[],e.scaleValues.push(.02),e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e);2>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.RATIO_OUTLINE),this.scaleValues.push(.05));[].push(o[o.length-1]);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues.push(.5*this.getSubSymbolScaleValue()),this.scaleValues.push(this.getSubSymbolScaleValue()));for(var n=l*this.scaleValues[0],r=t[t.length-1],i=SuperMapAlgoPlot.PlottingUtil.distance(r,o[o.length-1]);i<=1.5*n;)o.pop(),i=SuperMapAlgoPlot.PlottingUtil.distance(r,o[o.length-1]);o.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o);var a=o[o.length-2],u=SuperMapAlgoPlot.PlottingUtil.dirAngle(r,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,n,n,u+14),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,n,n,u-14),c=[];c.push(p),c.push(r),c.push(s);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{lineTypeLimit:!0,fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1});var P=l*this.scaleValues[1],f=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],P,P,f+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],P,P,f-90),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=(l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t))*this.scaleValues[0];this.scalePoints=[];var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[o.length-1],S,S,u+180);this.scalePoints.push(b),this.scalePoints.push(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=o[o.length-1],r=e;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.distance(r,n)/l;if(.5<i)return;this.scaleValues[0]=i}else if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(r,o[0])/l;this.scaleValues[1]=a}}}}])&&cy(e.prototype,o),l&&cy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hy(t){"@babel/helpers - typeof";return(hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function by(t,e){return(by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ay(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dy(t);if(e){var n=dy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dy(t){return(dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50323=yy;var My=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ay(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.45),e.scaleValues.push(.2),e.scaleValues.push(Math.PI/2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=this.scaleValues[4]*SuperMapAlgoPlot.PlottingUtil.RTOD,n=o*this.scaleValues[0],r=o*this.scaleValues[1],i=o*this.scaleValues[3],a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(a.bfind){var u=a.pts,p=a.index;if((O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,e)).bfind){var s=O.pts,c=(O.index,new SuperMapAlgoPlot.Point(u.x,u.y)),P=new SuperMapAlgoPlot.Point(e[p].x,e[p].y),f=new SuperMapAlgoPlot.Point(e[p+1].x,e[p+1].y),g=SuperMapAlgoPlot.PlottingUtil.dirAngle(P,f)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,i,i,g+l),h=[],S=(SuperMapAlgoPlot.PlottingUtil.dirAngle(c,y),SuperMapAlgoPlot.PlottingUtil.RTOD,o*this.scaleValues[2]),b=[],A=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,S,S,g-270),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,2*S,2*S,g-280);b.push(u),b.push(A),b.push(d);var M=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(b);M=SuperMapAlgoPlot.PlottingUtil.clearSamePts(M),h=[];for(var v=0;v<M.length;v++)h.push(M[v]);var m=-1;if(SuperMapAlgoPlot.PlottingUtil.polylineDistance(h)/o>.8){var O;if(!(O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.8*o,M)))return;m=O.index,a.pts,h=[];for(var w=0;w<m;w++)h.push(M[w])}else{h=[];for(var U=0;U<M.length;U++)h.push(M[U])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var L=SuperMapAlgoPlot.PlottingUtil.dirAngle(A,d)*SuperMapAlgoPlot.PlottingUtil.RTOD;d=h[h.length-1];var T=new SuperMapAlgoPlot.Point(-.2*i,.05*i),j=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,T,L-5),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,j,L-5);(h=[]).push(d),h.push(R),h.push(V);var _={lineTypeLimit:!0,fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,_);var E=[],x=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,S,S,g-280),B=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,2*S,2*S,g-270);E.push(s),E.push(x),E.push(B);var C=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(E);C=SuperMapAlgoPlot.PlottingUtil.clearSamePts(C),h=[];for(var Y=0;Y<C.length;Y++)h.push(C[Y]);var I=-1;if(SuperMapAlgoPlot.PlottingUtil.polylineDistance(h)/o>.8){var D=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.8*o,C);if(!D.bfind)return;I=D.index,D.pts,h=[];for(var N=0;N<I;N++)h.push(C[N])}else{h=[];for(var k=0;k<C.length;k++)h.push(C[k])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),B=h[h.length-1];var z,F=SuperMapAlgoPlot.PlottingUtil.dirAngle(x,B)*SuperMapAlgoPlot.PlottingUtil.RTOD,G=new SuperMapAlgoPlot.Point(-.2*i,.05*i),W=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),J=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(B,G,F+5),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(B,W,F+5);(h=[]).push(B),h.push(J),h.push(H),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,_);var K,q=.1*o;if((a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(q,e)).bfind){K=a.index,z=a.pts;var Q,X=new SuperMapAlgoPlot.Point(e[K].x,e[K].y),Z=new SuperMapAlgoPlot.Point(e[K+1].x,e[K+1].y),$=SuperMapAlgoPlot.PlottingUtil.dirAngle(X,Z)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,tt=SuperMapAlgoPlot.PlottingUtil.circlePoint(z,.05*o,.05*o,$),et=.12*o;if((a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(et,e)).bfind){a.index,Q=a.pts;var ot,lt=SuperMapAlgoPlot.PlottingUtil.circlePoint(Q,.05*o,.05*o,$),nt=[],rt=[];nt.push(z),nt.push(tt),rt.push(Q),rt.push(lt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,nt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,rt);var it,at=.9*o;if((a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(at,e)).bfind){it=a.index,ot=a.pts;var ut,pt=new SuperMapAlgoPlot.Point(e[it].x,e[it].y),st=new SuperMapAlgoPlot.Point(e[it+1].x,e[it+1].y),ct=SuperMapAlgoPlot.PlottingUtil.dirAngle(pt,st)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,Pt=SuperMapAlgoPlot.PlottingUtil.circlePoint(ot,.05*o,.05*o,ct),ft=.88*o;if((a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(ft,e)).bfind){a.index,ut=a.pts;var gt=SuperMapAlgoPlot.PlottingUtil.circlePoint(ut,.05*o,.05*o,ct),yt=[],ht=[];yt.push(ot),yt.push(Pt),ht.push(ut),ht.push(gt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,yt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,ht),this.scalePoints=[],this.scalePoints.push(new SuperMapAlgoPlot.Point(c.x,c.y)),this.scalePoints.push(new SuperMapAlgoPlot.Point(d.x,d.y)),this.scalePoints.push(new SuperMapAlgoPlot.Point(s.x,s.y)),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(a=SuperMapAlgoPlot.PlottingUtil.clearSamePts(a),0===t){for(var u=[],p=0;p<a.length;p++)u.push(new SuperMapAlgoPlot.Point(a[p].x,a[p].y));for(var s=-1,c=0,P=new SuperMapAlgoPlot.Point(0,0),f=0;f<u.length-1;f++){var g=[];g.push(u[f]),g.push(u[f+1]);var y=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,u[f],u[f+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(y,g).index){var h=SuperMapAlgoPlot.PlottingUtil.distance(e,y);-1==s?(s=f,P=y,c=h):c>h&&(s=f,P=y,c=h)}}if(-1==s||s>u.length-1)return;if(!(v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(c,a)).bfind)return;var S=v.index;w=new SuperMapAlgoPlot.Point(a[(a[S].x,a[S].y)]),U=new SuperMapAlgoPlot.Point(a[(a[S+1].x,a[S+1].y)]),r=0;for(var b=0;b<s;b++)r+=SuperMapAlgoPlot.PlottingUtil.distance(a[b],a[b+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(a[s],P))<0||r>l)return;var A=SuperMapAlgoPlot.PlottingUtil.dirAngle(w,U),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(P,e)+A;this.scaleValues[4]=d;var M=r/l;this.scaleValues[0]=M}else if(1===t){var v;if(i=l*this.scaleValues[0],-1===(v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,a)).index)return;S=v.index;var m=v.pts,O=new SuperMapAlgoPlot.Point(m.x,m.y),w=new SuperMapAlgoPlot.Point(a[S].x,a[S].y),U=new SuperMapAlgoPlot.Point(a[S+1].x,a[S+1].y);A=SuperMapAlgoPlot.PlottingUtil.dirAngle(w,U);d=SuperMapAlgoPlot.PlottingUtil.dirAngle(O,e)-A;this.scaleValues[4]=d;var L=(r=SuperMapAlgoPlot.PlottingUtil.distance(O,e))/l;this.scaleValues[2]=L>.65?.65:L}else if(2==t){for(var T=-1,j=0,R=new SuperMapAlgoPlot.Point(0,0),V=a.length,_=0;_<V-1;_++){var E=[];E.push(a[_]),E.push(a[_+1]);var x=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,a[_],a[_+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(x,E).index){var B=SuperMapAlgoPlot.PlottingUtil.distance(e,x);-1==T?(T=_,R=x,j=B):j>B&&(T=_,R=x,j=B)}}if(-1==T||T>V-1)return;for(var C=0,Y=0;Y<T;Y++){var I=new SuperMapAlgoPlot.Point(a[Y].x,a[Y].y),D=new SuperMapAlgoPlot.Point(a[Y+1].x,a[Y+1].y);C+=SuperMapAlgoPlot.PlottingUtil.distance(I,D)}var N=new SuperMapAlgoPlot.Point(a[T].x,a[T].y);if((C+=SuperMapAlgoPlot.PlottingUtil.distance(N,R))<0||C>l)return;var k=C/l;this.scaleValues[1]=k}}}}])&&Sy(e.prototype,o),l&&Sy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function vy(t){"@babel/helpers - typeof";return(vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function my(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Oy(t,e){return(Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Uy(t);if(e){var n=Uy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Uy(t){return(Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50328=My;var Ly=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wy(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e;t.length>2&&(o=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]));for(var l=[],n=80;n<420;n+=12)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,e,n));l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,e,420)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var r=[],i=o>e?o:e;i*=1.5,r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],i,i,50)),r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,e,70)),r.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y));var a=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(r),u=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(a);this.addArrow(u,.1),this.finish()}}}])&&my(e.prototype,o),l&&my(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ty(t){"@babel/helpers - typeof";return(Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ry(t,e){return(Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_y(t);if(e){var n=_y(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ty(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _y(t){return(_y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50331=Ly;var Ey=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ry(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Vy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).bShowArrow=!0,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0>=this.scaleValues.length&&this.scaleValues.push(.2);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[0];this.computeArcAndArrow(t[0],e,o,40,140),this.computeArcAndArrow(t[0],e,o,160,260),this.computeArcAndArrow(t[0],e,o,290,380);for(var l=[],n=0;n<360;n+=12)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,n));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,{lineColorLimit:!0,fillStyle:1,color:"#0000FF",opacity:1}),this.computeSubCells(t[0],o),this.scalePoints=[];var r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,0);this.scalePoints.push(r),this.finish()}}},{key:"computeSubCells",value:function(t,e){}},{key:"computeArcAndArrow",value:function(t,e,o,l,n){for(var r=[],i=l;i<n;i+=12)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,i));r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,n)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var a=e-o,u=.5*(l+n),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.2*a+o,.2*a+o,u),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,u),c=[];if(c.push(p),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.bShowArrow){var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,u),f=Math.tan(.25),g=.2*e/Math.cos(f),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,g,g,u+f*SuperMapAlgoPlot.PlottingUtil.RTOD),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,g,g,u-f*SuperMapAlgoPlot.PlottingUtil.RTOD),S=[];S.push(P),S.push(y),S.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1})}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;n>.7&&(n=.6),this.scaleValues[0]=n}}}}])&&jy(e.prototype,o),l&&jy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xy(t){"@babel/helpers - typeof";return(xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function By(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Cy(t,e){return(Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Iy(t);if(e){var n=Iy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Iy(t){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50335=Ey;var Dy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50335);var e,o,l,n=Yy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).bShowArrow=!0,e}return e=r,(o=[{key:"computeSubCells",value:function(t,e){var o=1.2*e,l=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,45),n=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,225),r=[];r.push(l),r.push(n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,135),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,315),u=[];u.push(i),u.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}}])&&By(e.prototype,o),l&&By(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ny(t){"@babel/helpers - typeof";return(Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ky(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zy(t,e){return(zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gy(t);if(e){var n=Gy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ny(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gy(t){return(Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033501=Dy;var Wy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50335);var e,o,l,n=Fy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).bShowArrow=!1,e}return e=r,o&&ky(e.prototype,o),l&&ky(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Jy(t){"@babel/helpers - typeof";return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ky(t,e){return(Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Qy(t);if(e){var n=Qy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Qy(t){return(Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033502=Wy;var Xy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=l*this.scaleValues[2],a=l*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(o.x+i,o.y+a),p=l*r;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,p,0);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,180);this.addScalePoint(s,0),this.addScalePoint(u,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===r)return;var i=0,a=0,u=0,p=0;if(0===t){u=r*(i=this.scaleValues[2]),p=r*(a=this.scaleValues[3]);var s=new SuperMapAlgoPlot.Point(n.x+u,n.y+p),c=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=c}else 1===t&&(i=(u=e.x-n.x)/r,a=(p=e.y-n.y)/r,this.scaleValues[2]=i,this.scaleValues[3]=a)}}}])&&Hy(e.prototype,o),l&&Hy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zy(t){"@babel/helpers - typeof";return(Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $y(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function th(t,e){return(th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oh(t);if(e){var n=oh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oh(t){return(oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50342=Xy;var lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&th(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e={surroundLineFlag:!1,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE,fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#e99678",lineWidth:1e-6,lineColorLimit:!0,strokeColor:"#e99678",strokeOpacity:1,color:"#e99678",opacity:0,lineColor:"#e99678"},o=t[0],l=t[1],n=[],r=new SuperMapAlgoPlot.Point(o.x,o.y),i=new SuperMapAlgoPlot.Point(o.x,l.y),a=new SuperMapAlgoPlot.Point(l.x,l.y),u=new SuperMapAlgoPlot.Point(l.x,o.y),p=0;p=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var s=Math.abs(Math.abs(t[1].y)-Math.abs(t[0].y))/10,c=SuperMapAlgoPlot.PlottingUtil.dirAngle(u,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=(Math.abs(Math.abs(l.y)-Math.abs(s)),SuperMapAlgoPlot.PlottingUtil.circlePoint(u,s,s,c));(n=[]).push(new SuperMapAlgoPlot.Point(o.x,o.y)),n.push(new SuperMapAlgoPlot.Point(o.x,P.y)),n.push(new SuperMapAlgoPlot.Point(P.x,P.y)),n.push(new SuperMapAlgoPlot.Point(P.x,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,e);var f=SuperMapAlgoPlot.PlottingUtil.dirAngle(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,s,s,f);(n=[]).push(new SuperMapAlgoPlot.Point(i.x,i.y)),n.push(new SuperMapAlgoPlot.Point(i.x,g.y)),n.push(new SuperMapAlgoPlot.Point(g.x,g.y)),n.push(new SuperMapAlgoPlot.Point(g.x,i.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,e);var y=SuperMapAlgoPlot.PlottingUtil.dirAngle(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(o.x,P.y),S=new SuperMapAlgoPlot.Point(i.x,g.y),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,s,s,y);(n=[]).push(new SuperMapAlgoPlot.Point(h.x,h.y)),n.push(new SuperMapAlgoPlot.Point(h.x,b.y)),n.push(new SuperMapAlgoPlot.Point(b.x,b.y)),n.push(new SuperMapAlgoPlot.Point(b.x,h.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,e);var A=SuperMapAlgoPlot.PlottingUtil.dirAngle(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,d=new SuperMapAlgoPlot.Point(P.x,P.y),M=new SuperMapAlgoPlot.Point(g.x,g.y),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,s,s,A);if((n=[]).push(new SuperMapAlgoPlot.Point(d.x,d.y)),n.push(new SuperMapAlgoPlot.Point(d.x,v.y)),n.push(new SuperMapAlgoPlot.Point(v.x,v.y)),n.push(new SuperMapAlgoPlot.Point(v.x,d.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,e),(n=[]).push(r),n.push(i),n.push(a),n.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n),this.subText){var m=this.subText,O=new SuperMapAlgoPlot.Point((t[1].x+t[0].x)/2,(t[1].y+t[0].y)/2);this.addText(m,O,10*p,0,"#000000")}this.finish()}}}])&&$y(e.prototype,o),l&&$y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nh(t){"@babel/helpers - typeof";return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ih(t,e){return(ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ah(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uh(t);if(e){var n=uh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uh(t){return(uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50343=lh;var ph=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ih(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50343);var e,o,l,n=ah(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="P",e}return e=r,o&&rh(e.prototype,o),l&&rh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function sh(t){"@babel/helpers - typeof";return(sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ch(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ph(t,e){return(Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gh(t);if(e){var n=gh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gh(t){return(gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034301=ph;var yh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ph(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50343);var e,o,l,n=fh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="D",e}return e=r,o&&ch(e.prototype,o),l&&ch(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function hh(t){"@babel/helpers - typeof";return(hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bh(t,e){return(bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ah(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dh(t);if(e){var n=dh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dh(t){return(dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034302=yh;var Mh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50343);var e,o,l,n=Ah(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="R",e}return e=r,o&&Sh(e.prototype,o),l&&Sh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function vh(t){"@babel/helpers - typeof";return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Oh(t,e){return(Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Uh(t);if(e){var n=Uh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Uh(t){return(Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034303=Mh;var Lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0]*l,i=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],r,r,e+n),i.push(o);var a=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],r,r,e+n),a.push(o);var u=new SuperMapAlgoPlot.Point((i[0].x+a[a.length-1].x)/2,(i[0].y+a[a.length-1].y)/2),p=SuperMapAlgoPlot.PlottingUtil.linePnt(i[0],a[a.length-1],l),s=SuperMapAlgoPlot.PlottingUtil.linePnt(a[a.length-1],i[0],l),c=(SuperMapAlgoPlot.PlottingUtil.radian(s,p),SuperMapAlgoPlot.PlottingUtil.RTOD,[]);c.push(p),c.push.apply(c,i),c.push.apply(c,a),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);u=new SuperMapAlgoPlot.Point((i[0].x+a[a.length-1].x)/2,(i[0].y+a[a.length-1].y)/2);var P=SuperMapAlgoPlot.PlottingUtil.dirAngle(s,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=new SuperMapAlgoPlot.Point(-.06*l,.02*l),g=new SuperMapAlgoPlot.Point(-.06*l,-.02*l),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,f,P+180),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,g,P+180),S=[];S.push(u),S.push(y),S.push(h);var b={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,b);var A=new SuperMapAlgoPlot.Point((i[i.length-1].x+a[0].x)/2,(i[i.length-1].y+a[0].y)/2),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(A,f,P),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(A,g,P);(S=[]).push(A),S.push(d),S.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,b),this.finish()}}}])&&mh(e.prototype,o),l&&mh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Th(t){"@babel/helpers - typeof";return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Rh(t,e){return(Rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_h(t);if(e){var n=_h(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Th(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _h(t){return(_h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50344=Lh;var Eh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Vh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=this.subSymbols[0].symbolData.symbolSize.x;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=60*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o,s=new SuperMapAlgoPlot.Point((a.pts.x+i.pts.x)/2,(i.pts.y+a.pts.y)/2);if(null==this.subSymbols.length)return;if(null!=this.subSymbols[0].code){this.computeSubSymbol(this.subSymbols[0],s,p,u+90);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a.pts,p,p,u+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a.pts,2*p,2*p,u+90),f=[];f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*p,.2*p,u+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.05*p,.05*p,u),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.05*p,.05*p,u+180),S=[];S.push(g),S.push(y),S.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillLimit:!0,fill:!0})}i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(-1===r.index&&3===t&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&jh(e.prototype,o),l&&jh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xh(t){"@babel/helpers - typeof";return(xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ch(t,e){return(Ch=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ih(t);if(e){var n=Ih(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ih(t){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50352=Eh;var Dh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ch(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Yh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.5)),e.subText="冰",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){2!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(.5)),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o=[];e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n,r=.02*SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);l=SuperMapAlgoPlot.PlottingUtil.paraLine(o,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,r,!1);var i={lineColorLimit:!0,strokeColor:"#585756",strokeOpacity:1,color:"#585756",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,i),this.addMidLine(o,l,n),this.finish()}}},{key:"addMidLine",value:function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u,p,s,c,P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),f=.02*P,g=.1*P,y=.45*P,h=.55*P,S=.9*P,b=.5*P;n=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,t)).index,i=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(y,t)).index,a=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(b,t)).index,s=c.pts;var A,d,M,v,m,O,w=[],U=[];if(t.length>2){for(var L=n;L<r;L++)w.push(t[L]);A=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[n],t[n+1])*SuperMapAlgoPlot.PlottingUtil.RTOD}else w.push(i),w.push(a),A=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(n=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,t,h)).index,u=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(S,t,S)).index,p=c.pts,t.length>2){for(var T=n;T<r;T++)U.push(t[T]);d=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[r-1],t[r])*SuperMapAlgoPlot.PlottingUtil.RTOD}else U.push(u),U.push(p),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;M=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,1.2*f,1.2*f,A+90),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,1.2*f,1.2*f,A+270),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,1.2*f,1.2*f,d+90),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,1.2*f,1.2*f,d+270);var j=[];j.push(M),j.push(v);var R={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,R),(j=[]).push(m),j.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,R);var V,_,E,x=new SuperMapAlgoPlot.Point((M.x+v.x)/2,(M.y+v.y)/2),B=new SuperMapAlgoPlot.Point((m.x+O.x)/2,(m.y+O.y)/2);if(w[0]=x,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,R),U[U.length-1]=B,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,R),this.subText){var C=SuperMapAlgoPlot.PlottingUtil.distance(w[w.length-1],U[0]),Y=SuperMapAlgoPlot.PlottingUtil.dirAngle(w[w.length-1],U[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,I=this.subText;this.addText(I,s,C,Y,"#0000ff")}V=SuperMapAlgoPlot.PlottingUtil.dirAngle(x,e[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.dirAngle(x,o[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,E=SuperMapAlgoPlot.PlottingUtil.dirAngle(x,l[0])*SuperMapAlgoPlot.PlottingUtil.RTOD;var D=[];D.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(x,1.1*g,1.1*g,V)),D.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(x,1.1*g,1.1*g,E)),D.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(x,1.1*g,1.1*g,_));var N=[];N=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(D),N=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(N),N=SuperMapAlgoPlot.PlottingUtil.clearSamePts(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N);var k=[];k.push(D[1]),k.push(x),this.addArrow(k,.2*this.scaleValues[0]);var z=SuperMapAlgoPlot.PlottingUtil.distance(t[e.length-2],t[t.length-1]),F=[];F.push(SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-2],e[e.length-1],z+.3*f)),F.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[e.length-2],t[t.length-1],z+.4*f)),F.push(SuperMapAlgoPlot.PlottingUtil.linePnt(o[o.length-2],o[o.length-1],z+.3*f)),N=[],N=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(F),N=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(N),N=SuperMapAlgoPlot.PlottingUtil.clearSamePts(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N),(k=[]).push(F[1]);for(var G=t.length-1;G>=c.index;G--)k.push(t[G]);this.addArrow(k,.2*this.scaleValues[0])}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length}}])&&Bh(e.prototype,o),l&&Bh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Nh(t){"@babel/helpers - typeof";return(Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zh(t,e){return(zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Gh(t);if(e){var n=Gh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Nh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gh(t){return(Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50354=Dh;var Wh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.5)),e.subText="冰",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){2!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(.5)),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o=[];e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n,r=.02*SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);l=SuperMapAlgoPlot.PlottingUtil.paraLine(o,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,r,!1);var i={lineColorLimit:!0,strokeColor:"#585756",strokeOpacity:1,color:"#585756",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,i),this.addSubSymbolAndLine(o,l,n),this.finish()}}},{key:"addSubSymbolAndLine",value:function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u,p,s,c,P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),f=.02*P,g=.05*P,y=.4*P,h=.5*P,S=.85*P,b=.45*P;n=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,t)).index,i=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(y,t)).index,a=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(b,t)).index,s=c.pts;var A,d,M,v,m,O,w=[],U=[];if(t.length>2){for(var L=n;L<r;L++)w.push(t[L]);A=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[n],t[n+1])*SuperMapAlgoPlot.PlottingUtil.RTOD}else w.push(i),w.push(a),A=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(n=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,t,h)).index,u=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(S,t,S)).index,p=c.pts,t.length>2){for(var T=n;T<r;T++)U.push(t[T]);d=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[r-1],t[r])*SuperMapAlgoPlot.PlottingUtil.RTOD}else U.push(u),U.push(p),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;M=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,1.2*f,1.2*f,A+90),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,1.2*f,1.2*f,A+270),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,1.2*f,1.2*f,d+90),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,1.2*f,1.2*f,d+270);var j=[];j.push(M),j.push(v);var R={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,R),(j=[]).push(m),j.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,R);var V=new SuperMapAlgoPlot.Point((M.x+v.x)/2,(M.y+v.y)/2),_=new SuperMapAlgoPlot.Point((m.x+O.x)/2,(m.y+O.y)/2);if(w[0]=V,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,R),U[U.length-1]=_,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,R),this.subText){var E=SuperMapAlgoPlot.PlottingUtil.distance(w[w.length-1],U[0]),x=SuperMapAlgoPlot.PlottingUtil.dirAngle(w[w.length-1],U[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,B=this.subText;this.addText(B,s,E,x,"#0000ff")}x=0;var C,Y,I=[];if(C=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.95*P,t),Y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.85*P,t),l.length>2){for(var D=C.index;D>=Y.index;D--)I.push(t[D]);x=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[C.index],t[C.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD}else I.push(C.pts),I.push(Y.pts),x=SuperMapAlgoPlot.PlottingUtil.dirAngle(Y.pts,C.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addArrow(I,.3*this.scaleValues[0]);var N=.08*P;this.computeSubSymbol(this.subSymbols[0],l[l.length-1],N,x)}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length}}])&&kh(e.prototype,o),l&&kh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol5035401=Wh;var Jh=window.SuperMap=window.SuperMap||{},Hh=(Jh.Plot=Jh.Plot||{},window.SuperMapAlgoPlot=Jh.Plot||{});function Kh(t){"@babel/helpers - typeof";return(Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qh(t,e){return(Qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zh(t);if(e){var n=Zh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zh(t){return(Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qh(t,e)}(r,Hh.AlgoSymbol);var e,o,l,n=Xh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=Hh.PlottingUtil.clonePoints(this.controlPoints);if(!((t=Hh.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=Hh.PlottingUtil.getBeizerCtrlPt(t),o=Hh.PlottingUtil.generateBeizerPointsWithCtrlPt(e),l=Hh.PlottingUtil.polylineDistance(o);if(0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue()),!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n,this.scaleValues[1]=.5*this.getSubSymbolScaleValue()}for(var r=this.getLinePts(o,this.scaleValues[0],.5),i=new Hh.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),a=Hh.PlottingUtil.dirAngle(r.startPt,r.endPt)*Hh.PlottingUtil.RTOD,u=Hh.PlottingUtil.distance(r.startPt,r.endPt),p=[],s=0;s<=r.startIndex;s++)p.push(o[s]);p.push(new Hh.Point(r.startPt.x,r.startPt.y)),this.addCell(Hh.SymbolType.POLYLINESYMBOL,p);var c=[];if(r.endIndex<=o.length){c.push(new Hh.Point(r.endPt.x,r.endPt.y));for(var P=r.endIndex+1;P<=o.length-1;P++)c.push(o[P]);this.addArrow(c,this.scaleValues[2])}this.scalePoints=[];var f=Hh.PlottingUtil.circlePoint(i,.5*u,.5*u,a+90);if(this.addScalePoint(f,0),this.subSymbols.length>0)this.computeSubSymbol(this.subSymbols[0],centerPoint,.8*u,a-180);else{var g=new Hh.Point(0,.2*u),y=new Hh.Point(u,.2*u),h=new Hh.Point(u,-.2*u),S=new Hh.Point(0,-.2*u),b=Hh.PlottingUtil.coordinateTrans(p[p.length-1],g,a),A=Hh.PlottingUtil.coordinateTrans(p[p.length-1],y,a),d=Hh.PlottingUtil.coordinateTrans(p[p.length-1],h,a),M=Hh.PlottingUtil.coordinateTrans(p[p.length-1],S,a),v=[];v.push(b),v.push(A),v.push(d),v.push(M),v.push(b);var m={lineColorLimit:!0,strokeColor:"#008000",strokeOpacity:1,color:"#008000",opacity:1,lineColor:"#008000"};this.addCell(Hh.SymbolType.ARBITRARYPOLYGONSYMBOL,v,m);var O=new Hh.Point(.5*u,.2*u),w=new Hh.Point(.5*u,-.2*u),U=Hh.PlottingUtil.coordinateTrans(p[p.length-1],O,a),L=Hh.PlottingUtil.coordinateTrans(p[p.length-1],w,a);(v=[]).push(U),v.push(L),this.addCell(Hh.SymbolType.POLYLINESYMBOL,v,m)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=Hh.PlottingUtil.clonePoints(this.controlPoints);if((o=Hh.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=Hh.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=Hh.PlottingUtil.clearSamePts(l);var n=Hh.PlottingUtil.polylineDistance(l),r=Hh.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*Hh.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&qh(e.prototype,o),l&&qh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tS(t){"@babel/helpers - typeof";return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oS(t,e){return(oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nS(t);if(e){var n=nS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nS(t){return(nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Hh.AlgoSymbol50355=$h;var rS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===this.scaleValues.length&&(this.scaleValues[0]=.05,this.scaleValues[1]=.02,this.scaleValues[2]=0),!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n,this.scaleValues[1]=.5*this.getSubSymbolScaleValue(),this.scaleValues[2]=0}for(var r=this.getLinePts(o,this.scaleValues[0],.5),i=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),a=SuperMapAlgoPlot.PlottingUtil.dirAngle(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt),p=[],s=0;s<=r.startIndex;s++)p.push(o[s]);p.push(new SuperMapAlgoPlot.Point(r.startPt.x,r.startPt.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var c=[];if(r.endIndex<=o.length){c.push(new SuperMapAlgoPlot.Point(r.endPt.x,r.endPt.y));for(var P=r.endIndex+1;P<=o.length-1;P++)c.push(o[P]);this.addArrow(c,this.scaleValues[1])}if(this.subSymbols.length>0)this.computeSubSymbol(this.subSymbols[0],centerPoint,.8*u,a-180);else{var f=new SuperMapAlgoPlot.Point(0,.2*u),g=new SuperMapAlgoPlot.Point(u,.2*u),y=new SuperMapAlgoPlot.Point(u,-.2*u),h=new SuperMapAlgoPlot.Point(0,-.2*u),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],f,a),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],g,a),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],y,a),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],h,a),M=[];M.push(S),M.push(b),M.push(A),M.push(d),M.push(S);var v={lineColorLimit:!0,strokeColor:"#008000",strokeOpacity:1,color:"#008000",opacity:1,lineColor:"#008000"};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,v);var m=new SuperMapAlgoPlot.Point(.5*u,.2*u),O=new SuperMapAlgoPlot.Point(.5*u,-.2*u),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],m,a),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],O,a);(M=[]).push(w),M.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,v);var L=0,T=0,j=0,R=0,V=0,_=this.scaleValues[1];_=.7*SuperMapAlgoPlot.PlottingUtil.distance(p[0],p[p.length-1]);var E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(_,p);if(!E.bfind)return;L=E.index;var x,B,C,Y=E.pts,I=.1*u,D=(f=new SuperMapAlgoPlot.Point(p[L].x,p[L].y),g=new SuperMapAlgoPlot.Point(Y.x,Y.y),SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,f,g));R=D.pntLeft.x,V=D.pntLeft.y,T=D.pntRight.x,j=D.pntRight.y,0==(x=this.scaleValues[2])?B=new SuperMapAlgoPlot.Point(T,j):1==x&&(B=new SuperMapAlgoPlot.Point(R,V)),(M=[]).push(B),M.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,M),T=0,j=0,R=0,V=0;var N;N=.3*SuperMapAlgoPlot.PlottingUtil.distance(p[0],p[p.length-1]);var k=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(N,c);if(!k.bfind)return;L=k.index,C=k.pts;y=new SuperMapAlgoPlot.Point(c[L].x,c[L].y),h=new SuperMapAlgoPlot.Point(C.x,C.y);var z,F=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,y,h);R=F.pntLeft.x,V=F.pntLeft.y,T=F.pntRight.x,j=F.pntRight.y,0==x?z=new SuperMapAlgoPlot.Point(T,j):1==x&&(z=new SuperMapAlgoPlot.Point(R,V)),(M=[]).push(z),M.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,M),this.scalePoints=[];var G=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.5*u,.5*u,a+90);this.addScalePoint(G,0),this.addScalePoint(z,1)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,l),a=2*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/r;this.scaleValues[0]=a<=.3?a:.3}else{var u=r*(.5+.5*n),p=(t=-1,SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,l));if(!p.bfind)return;t=p.index,p.pts;var s=new SuperMapAlgoPlot.Point(l[t].x,l[t].y),c=new SuperMapAlgoPlot.Point(l[t+1].x,l[t+1].y),P=new SuperMapAlgoPlot.Point(e.x,e.y),f=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(s,c,P);this.scaleValues[2]=f?0:1}}}}])&&eS(e.prototype,o),l&&eS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iS(t){"@babel/helpers - typeof";return(iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uS(t,e){return(uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sS(t);if(e){var n=sS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sS(t){return(sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035501=rS;var cS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(15),e.scaleValues.push(15),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(15),this.scaleValues.push(15),this.scaleValues.push(1)),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());for(var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,l=e*this.scaleValues[0]*this.scaleValues[3],n=e-l,r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],e-n/2),i=[],a=0;a<=360;a+=5)i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],l,l,a));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.addText("展",t[1],1.5*l,o,"#000000"),this.computeSubSymbol(this.subSymbols[0],r,n,o+180);var u=[],p=[];u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],l,l,o+this.scaleValues[1])),u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],.5*n,.5*n,o+this.scaleValues[1])),this.addArrow(u,this.scaleValues[0]),p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],l,l,o-this.scaleValues[2])),p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],.5*n,.5*n,o-this.scaleValues[2])),this.addArrow(p,this.scaleValues[0]),this.scalePoints=[],this.scalePoints.push(new SuperMapAlgoPlot.Point(u[1].x,u[1].y)),this.scalePoints.push(new SuperMapAlgoPlot.Point(p[1].x,p[1].y)),this.scalePoints.push(new SuperMapAlgoPlot.Point(p[0].x,p[0].y)),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)){if(0==t){var l=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,n=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[1],e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[1]=n-l}if(1==t){l=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,n=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[1],e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=l-n}if(2==t){var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)*this.scaleValues[0];(n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1]))/r<=4&&(this.scaleValues[3]=n/r)}}}}])&&aS(e.prototype,o),l&&aS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PS(t){"@babel/helpers - typeof";return(PS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gS(t,e){return(gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hS(t);if(e){var n=hS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hS(t){return(hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60108=cS;var SS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.07),e.scaleValues.push(.3),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.07),this.scaleValues.push(.3),this.scaleValues.push(.1));var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD+180,l=e*this.scaleValues[1],n=e*this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n),i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n+l/2),a=[];a.push(t[0]),a.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);this.computeSubSymbol(this.subSymbols[0],i,l,o);var u=[],p=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n+l);u.push(p),u.push(t[1]),this.addArrow(u,this.scaleValues[0]);var s=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],1.3*n+l),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.3*n,.3*n,o+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.3*n,.3*n,o-90);(a=[]).push(c),a.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var f=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-n),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.3*n,.3*n,o+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.3*n,.3*n,o-90);(a=[]).push(g),a.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var h=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],2*n+l),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.5*n,1.5*n,o-80),b=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],3*n+l),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,1.5*n,1.5*n,o-80);(a=[]).push(h),a.push(S),a.push(b),a.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var d=new SuperMapAlgoPlot.Point((h.x+b.x)/2,(h.y+b.y)/2),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.6*n,1.6*n,o-80),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(d,1.65*n,1.65*n,o-75),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,1.6*n,1.6*n,o-80),O=[],w=[];O.push(M),O.push(v),O.push(m);var U=[],L=[];U=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(O),L=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L);var T=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e+2*n),j=SuperMapAlgoPlot.PlottingUtil.circlePoint(T,1.5*n,1.5*n,o-80),R=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e+3*n),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(R,1.5*n,1.5*n,o-80);(a=[]).push(T),a.push(j),a.push(R),a.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var _=new SuperMapAlgoPlot.Point((T.x+R.x)/2,(T.y+R.y)/2);M=SuperMapAlgoPlot.PlottingUtil.circlePoint(T,1.6*n,1.6*n,o-80),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(_,1.65*n,1.65*n,o-75),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(R,1.6*n,1.6*n,o-85),w.push(M),w.push(v),w.push(m),U=[],L=[],U=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(w),L=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.scalePoints=[],this.scalePoints.push(p),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)){SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=.18*l,r=(.9*l-SuperMapAlgoPlot.PlottingUtil.distance(e,o[1]))/n*.18;0<r&&r<.37&&(this.scaleValues[1]=r)}}}}])&&fS(e.prototype,o),l&&fS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bS(t){"@babel/helpers - typeof";return(bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dS(t,e){return(dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vS(t);if(e){var n=vS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vS(t){return(vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60115=SS;var mS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.07),e.scaleValues.push(.3),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.07),this.scaleValues.push(.3),this.scaleValues.push(.1));var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD+180,l=e*this.scaleValues[1],n=e*this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n),i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n+l/2),a=[];a.push(t[0]),a.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);this.computeSubSymbol(this.subSymbols[0],i,l,o);var u=[],p=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n+l);u.push(p),u.push(t[1]),this.addArrow(u,this.scaleValues[0]);var s=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],1.3*n+l),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.3*n,.3*n,o+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.3*n,.3*n,o-90);(a=[]).push(c),a.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var f=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-n),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.3*n,.3*n,o+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.3*n,.3*n,o-90);(a=[]).push(g),a.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var h=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],2*n+l),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.5*n,1.5*n,o-80),b=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],3*n+l),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,1.5*n,1.5*n,o-80);(a=[]).push(h),a.push(S),a.push(b),a.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var d=[],M=[];d.push(b),d.push(A),this.addArrow(d,.3*this.scaleValues[0]);var v=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e+2*n),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(v,1.5*n,1.5*n,o-80),O=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e+3*n),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,1.5*n,1.5*n,o-80);(a=[]).push(v),a.push(m),a.push(O),a.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),M.push(O),M.push(w),this.addArrow(M,.3*this.scaleValues[0]),this.scalePoints=[],this.scalePoints.push(p),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)){SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=.18*l,r=(.9*l-SuperMapAlgoPlot.PlottingUtil.distance(e,o[1]))/n*.18;0<r&&r<.37&&(this.scaleValues[1]=r)}}}}])&&AS(e.prototype,o),l&&AS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OS(t){"@babel/helpers - typeof";return(OS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function US(t,e){return(US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=TS(t);if(e){var n=TS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function TS(t){return(TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6011501=mS;var jS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&US(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=LS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){1==this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=.6*this.getSubSymbolScaleValue(),this.scaleValues[1]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,l=0;l<e.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);var n=.5*o,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==r.index){for(var i=r.pt,a=[],u=0,p=0;p<r.index+1;p++)a.push(e[p]),p>0&&(u+=SuperMapAlgoPlot.PlottingUtil.distance(a[p],a[p-1]));var s,c,P=n-u,f=o*this.scaleValues[1],g=[];if(P>=f){s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[r.index],f),a.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[r.index+1],f),g.push(c);for(var y=e.length,h=r.index+1;h<y;++h)g.push(e[h]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}else{for(var S,b,A=-1,d=a.length-1;d>=0;d--)if(S=new SuperMapAlgoPlot.Point(a[d].x,a[d].y),b=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(S,b)>f){A=d;break}if(-1==A)return;a.splice(A+1,a.length-1-A),s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[A],f),a.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);for(var M=-1,v=r.index;v<e.length;v++)if(S=new SuperMapAlgoPlot.Point(e[v].x,e[v].y),b=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(S,b)>f){M=v;break}if(-1==M)return;c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[M],f),g.push(c);for(var m=M+1;m<e.length;++m)g.push(e[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}if(!(a.length<2)){for(var O=0,w=0;w<t.length-1;w++)O+=SuperMapAlgoPlot.PlottingUtil.distance(t[w],t[w+1]);var U=O*this.scaleValues[0],L=new SuperMapAlgoPlot.Point(a[0].x,a[0].y),T=new SuperMapAlgoPlot.Point(a[1].x,a[1].y),j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,T,L),R=[];if(R.push(j.pntLeft),R.push(j.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R),!(g.length<2)){var V=new SuperMapAlgoPlot.Point(g[g.length-1].x,g[g.length-1].y),_=new SuperMapAlgoPlot.Point(g[g.length-2].x,g[g.length-2].y),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,_,V);(R=[]).push(E.pntLeft),R.push(E.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R);var x=s,B=c,C=180*SuperMapAlgoPlot.PlottingUtil.radian(x,B)/Math.PI+90;SuperMapAlgoPlot.PlottingUtil.distance(x,B),new SuperMapAlgoPlot.Point((s.x+c.x)/2,(s.y+c.y)/2);if(this.subSymbols.length>0){if(null!==this.subSymbols[0].symbolData)for(var Y=0;Y<this.subSymbols[0].symbolData.innerCells.length;Y++)26===this.subSymbols[0].symbolData.innerCells[Y].type&&this.subSymbols[0].symbolData.innerCells.splice(Y,1);this.computeSubSymbol(this.subSymbols[0],i,f,C)}this.addScalePoint(j.pntLeft),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&wS(e.prototype,o),l&&wS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function RS(t){"@babel/helpers - typeof";return(RS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _S(t,e){return(_S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ES(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xS(t);if(e){var n=xS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===RS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xS(t){return(xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6012702=jS;var BS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ES(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length===this.minEditPts){for(var e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t),o=[],l=0;l<e.length;l++)o.push(e[l]);if(!(o.length<4)){var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]),i=0;i=n<r?.2*n:.2*r;var a=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[0],o[1],.5*n-.5*i),u=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[0],o[1],.5*n+.5*i),p=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[1],o[2],.5*r-.5*i),s=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[1],o[2],.5*r+.5*i),c=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[2],o[3],.5*n-.5*i),P=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[2],o[3],.5*n+.5*i),f=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[3],o[0],.5*r-.5*i),g=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[3],o[0],.5*r+.5*i),y=[];y.push(g),y.push(o[0]),y.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=[];h.push(u),h.push(o[1]),h.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[];S.push(s),S.push(o[2]),S.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=[];b.push(P),b.push(o[3]),b.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=new SuperMapAlgoPlot.Point((o[0].x+o[2].x)/2,(o[0].y+o[2].y)/2);this.addText("避",A,3*i,0),this.finish()}}}}])&&VS(e.prototype,o),l&&VS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function CS(t){"@babel/helpers - typeof";return(CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IS(t,e){return(IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NS(t);if(e){var n=NS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NS(t){return(NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60203=BS;var kS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=DS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(90),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[2]=2*l}var n=o*this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(a.bfind){var u=a.pts.clone(),p=e[a.index].clone(),s=e[a.index+1].clone(),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r),f=[];f.push(a.pts),f.push(P);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var g=SuperMapAlgoPlot.PlottingUtil.radian(u,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=new SuperMapAlgoPlot.Point(-.2*i,.05*i),h=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,y,g),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,h,g),A=[];A.push(P),A.push(S),A.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fill:!0});var d=.3*i,M=.6*i,v=n-M;v<0&&(v=0);var m=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(v,e);if(m.bfind){var O=[];O.push(m.pts);for(var w=m.index;w>=0;w--)O.push(e[w]);var U=[];U.push(m.pts);for(var L=m.index+1;L<e.length;L++)U.push(e[L]);var T=.6*d,j=[];if(O.length>1){var R=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(T,O);if(R.bfind){(j=[]).push(R.pts);for(var V=R.index+1;V<O.length;V++)j.push(O[V]);O=[],j.length>1&&(O=O.concat(j))}}if(O.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O),U.length>1){var _=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(T,U);if(_.bfind){(j=[]).push(_.pts);for(var E=_.index+1;E<U.length;E++)j.push(U[E]);U=[],j.length>1&&(U=U.concat(j))}}var x=n+M;x>o&&(x=o),x=o-x;for(var B=[],C=U.length-1;C>=0;C--)B.push(U[C]);var Y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(x,B);if(Y.bfind){var I=[];I.push(Y.pts);for(var D=Y.index;D>=0;D--)I.push(B[D]);var N=[];N.push(Y.pts);for(var k=Y.index+1;k<B.length;k++)N.push(B[k]);if(I.length>1){var z=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(T,I);if(z.bfind){(j=[]).push(z.pts);for(var F=z.index+1;F<I.length;F++)j.push(I[F]);I=[],j.length>1&&(I=I.concat(j))}}if(I.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I),N.length>1){var G=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(T,N);if(G.bfind){(j=[]).push(G.pts);for(var W=G.index+1;W<N.length;W++)j.push(N[W]);N=[],j.length>1&&(N=N.concat(j))}}N.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N),this.subSymbols.length>0&&(this.computeSubSymbol(this.subSymbols[0],m.pts,d,c+r+180,.3),this.computeSubSymbol(this.subSymbols[1],Y.pts,d,c+r+180,.3)),this.addScalePoint(a.pts,0),this.addScalePoint(P,1),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(0>t||1<t)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=[],i=0;i<l.length;i++)r.push(l[i]);for(var a=-1,u=new SuperMapAlgoPlot.Point(0,0),p=0,s=0;s<r.length-1;s++){var c=[];c.push(r[s]),c.push(r[s+1]);var P=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,r[s],r[s+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(P,c).isOnPolyLine){var f=SuperMapAlgoPlot.PlottingUtil.distance(e,P);-1===a?(a=s,u=P,p=f):p>f&&(a=s,u=P,p=f)}}if(-1===a||a>r.length-1)return;for(var g=0,y=0;y<a;y++){var h=l[y].clone(),S=l[y+1].clone();g+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[a].clone();if((g+=SuperMapAlgoPlot.PlottingUtil.distance(b,u))<0||g>n)return;this.scaleValues[0]=g/n}if(1===t){var A=n*this.scaleValues[0],d=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(A,l);if(!d.bfind)return;var M=d.pts.clone(),v=new SuperMapAlgoPlot.Point(l[d.index].x,l[d.index].y),m=new SuperMapAlgoPlot.Point(l[d.index+1].x,l[d.index+1].y),O=SuperMapAlgoPlot.PlottingUtil.radian(v,m)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.radian(M,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[1]=w-O;var U=SuperMapAlgoPlot.PlottingUtil.distance(M,e);this.scaleValues[2]=U/n}}}}])&&YS(e.prototype,o),l&&YS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zS(t){"@babel/helpers - typeof";return(zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function GS(t,e){return(GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JS(t);if(e){var n=JS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JS(t){return(JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60205=kS;var HS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=WS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="爆",e}return e=r,o&&FS(e.prototype,o),l&&FS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function KS(t){"@babel/helpers - typeof";return(KS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QS(t,e){return(QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function XS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZS(t);if(e){var n=ZS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZS(t){return(ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60301=HS;var $S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=XS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.subText="火",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=l*this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,2*n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,2*n),u=[];u.push(t[0],i);var p=[];p.push(a,t[1]);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!1),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=this.subText,y=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(r.x,r.y),S=SuperMapAlgoPlot.PlottingUtil.distance(i,a);this.addText(g,h,S,y),this.addScalePoint(s[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n>.24&&(n=.24),this.scaleValues[0]=n}}}}])&&qS(e.prototype,o),l&&qS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tb(t){"@babel/helpers - typeof";return(tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ob(t,e){return(ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nb(t);if(e){var n=nb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nb(t){return(nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121505=$S;var rb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol2121505);var e,o,l,n=lb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.subText="隧",e}return e=r,o&&eb(e.prototype,o),l&&eb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function ib(t){"@babel/helpers - typeof";return(ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ab(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ub(t,e){return(ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sb(t);if(e){var n=sb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ib(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sb(t){return(sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60304=rb;var cb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pb(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.05*SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.paraLine(t,e,!0),l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,e,!1),n=o[0],r=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,o[0],o[1]),i=[];i.push(n),i.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var a=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2+.2/3,o[0],o[1]),u=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3,o[0],o[1]),p=[];p.push(a),p.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var s=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3*2,o[0],o[1]),c=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(3*.2+.2/3*2,o[0],o[1]),P=[];P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,o[0],o[1]),g=o[1],y=[];y.push(f),y.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=l[0],S=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,l[0],l[1]),b=[];b.push(h),b.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2+.2/3,l[0],l[1]),d=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3,l[0],l[1]),M=[];M.push(A),M.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3*2,l[0],l[1]),m=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(3*.2+.2/3*2,l[0],l[1]),O=[];O.push(v),O.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,l[0],l[1]),U=l[1],L=[];L.push(w),L.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L);var T=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(1/3,t[0],t[1]),j=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(1/3*2,t[0],t[1]),R=[];R.push(T),R.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R);var V=SuperMapAlgoPlot.PlottingUtil.radian(T,j)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.distance(T,j),E=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,T,j),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,.025*_,.025*_,V+90),B=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,.025*_,.025*_,V-90),C=[];C.push(x),C.push(B),C.push(T);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,C,{fillLimit:!0,fill:!0}),this.finish()}}}])&&ab(e.prototype,o),l&&ab(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pb(t){"@babel/helpers - typeof";return(Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gb(t,e){return(gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hb(t);if(e){var n=hb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hb(t){return(hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60305=cb;var Sb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0]*e,l=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.linePnt(n,l,e+.2*e),i=SuperMapAlgoPlot.PlottingUtil.linePnt(l,n,e+.2*e),a=1.5*o,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n,r),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l,i),s=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!1),P=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],3*e/11),f=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],4*e/11),g=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],7*e/11),y=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],8*e/11),h=[];h.push(u.pntRight),h.push(s[0]),h.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[];S.push(f),S.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=[];b.push(y),b.push(s[s.length-1]),b.push(p.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],3*e/11),d=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],4*e/11),M=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],7*e/11),v=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],8*e/11),m=[];m.push(u.pntLeft),m.push(c[0]),m.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m);var O=[];O.push(d),O.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=[];w.push(v),w.push(c[c.length-1]),w.push(p.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),this.finish()}}}])&&fb(e.prototype,o),l&&fb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bb(t){"@babel/helpers - typeof";return(bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ab(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function db(t,e){return(db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vb(t);if(e){var n=vb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vb(t){return(vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60306=Sb;var mb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Mb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=this.subSymbols[0].symbolData.symbolSize.x;var l=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=100*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o*2;if(null==this.subSymbols.length)return;if(null!=this.subSymbols[0].code){this.computeSubSymbol(this.subSymbols[0],a.pts,p,u-90);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a.pts,p,p,u+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a.pts,2*p,2*p,u+90),P=[];P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.2*p,.2*p,u+90),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.05*p,.05*p,u),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.05*p,.05*p,u+180),h=[];h.push(f),h.push(g),h.push(y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{fillLimit:!0,fill:!0})}i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]);if(3===t&&null==r.pt&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.distance(l,e);this.scaleValues[t+1]=a/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5),this.scaleValues[5]>1&&(this.scaleValues[5]=1)}}}}}])&&Ab(e.prototype,o),l&&Ab(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ob(t){"@babel/helpers - typeof";return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ub(t,e){return(Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tb(t);if(e){var n=Tb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ob(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tb(t){return(Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60310=mb;var jb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.32),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,{lineColorLimit:!0,strokeColor:"#00FF00",strokeOpacity:1,color:"#00FF00",opacity:1,lineColor:"#00FF00"});var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.4*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=o*r,p=new SuperMapAlgoPlot.Point(l.x-o*i,l.y-o*a);this.addText("!",p,4*u,0,"#00FF00"),this.scalePoints=[];var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,u,u,0);this.addScalePoint(s),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=(e.x-r.x)/n;this.scaleValues[2]=-i;var a=(e.y-r.y)/n;this.scaleValues[3]=-a}else if(1==t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(r.x+n*i,r.y+n*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,new SuperMapAlgoPlot.Point(e.x,e.y))/2/n;this.scaleValues[0]=p}}}}])&&wb(e.prototype,o),l&&wb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Rb(t){"@babel/helpers - typeof";return(Rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _b(t,e){return(_b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xb(t);if(e){var n=xb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xb(t){return(xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol80203=jb;var Bb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Eb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.25),e.scaleValues.push(.32),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"});var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.4*n}var r=this.scaleValues[0],i=this.scaleValues[1],a=this.scaleValues[2],u=this.scaleValues[3],p=o*r,s=l.y-o*u,c=new SuperMapAlgoPlot.Point(l.x-o*a,s),P=new SuperMapAlgoPlot.Point(l.x-o*i,s);this.addText("!",c,4*p,0,"#0000ff"),this.addText("!",P,4*p,0,"#0000ff"),this.scalePoints=[];var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,p,p,0);this.addScalePoint(f),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=(e.x-r.x)/n;this.scaleValues[2]=-i;var a=(e.y-r.y)/n;this.scaleValues[3]=-a}else if(1==t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(r.x+n*i,r.y+n*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,new SuperMapAlgoPlot.Point(e.x,e.y))/2/n;this.scaleValues[0]=p}}}}])&&Vb(e.prototype,o),l&&Vb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Cb(t){"@babel/helpers - typeof";return(Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ib(t,e){return(Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Db(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nb(t);if(e){var n=Nb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nb(t){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol8020301=Bb;var kb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Db(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],l),g=[];g.push(P),g.push.apply(g,u),g.push.apply(g,p),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD;if(this.subSymbols.length>0)this.computeSubSymbol(this.subSymbols[0],c,.9*s,y-90);else{y+=180;var h=new SuperMapAlgoPlot.Point(.3*s,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,h,y),b=[],A=new SuperMapAlgoPlot.Point(-.6*s,0),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,A,y);(b=[]).push(S),b.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var M=new SuperMapAlgoPlot.Point(-.35*s,0),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,.4*s,.4*s,45),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,.4*s,.4*s,315),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,M,y),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,v,y),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,m,y);(b=[]).push(w),b.push(O),b.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.scalePoints=[],this.addScalePoint(u[u.length-1]);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,y+90);this.addScalePoint(L),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90),u=new SuperMapAlgoPlot.Point((i.x+a.x)/2,(i.y+a.y)/2),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/l;p>=.8&&(p=.8),this.scaleValues[1]=p}}}}])&&Yb(e.prototype,o),l&&Yb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zb(t){"@babel/helpers - typeof";return(zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gb(t,e){return(Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jb(t);if(e){var n=Jb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jb(t){return(Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol90212=kb;var Hb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Wb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.04,e.scaleValues[1]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=.04),2===this.scaleValues.length&&this.scaleValues.push(.1),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=l,this.scaleValues[2]=.5*l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);if(0<this.subSymbols.length)this.computeSubSymbol(this.subSymbols[0],r,.7*a,i-90);else{a*=.7;var u=new SuperMapAlgoPlot.Point(.3*a,0),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,i),s=[],c=new SuperMapAlgoPlot.Point(-.6*a,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,c,i);(s=[]).push(p),s.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var f=new SuperMapAlgoPlot.Point(-.35*a,0),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.4*a,.4*a,45),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.4*a,.4*a,315),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,f,i),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,g,i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,y,i);(s=[]).push(S),s.push(h),s.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s)}for(var A=[],d=[],M=0;M<=n.startIndex;M++)A.push(e[M]);if(A.push(n.startPt),this.addStartPtArrow(A,this.scaleValues[2]),n.endIndex<=e.length){d.push(n.endPt);for(var v=n.endIndex+1;v<=e.length-1;v++)d.push(e[v]);this.addArrow(d,this.scaleValues[2])}for(var m=[],O=0;O<e.length;O++)m.push(e[O]);var w=o*this.scaleValues[1],U=SuperMapAlgoPlot.PlottingUtil.paraLine(m,w,!0),L=SuperMapAlgoPlot.PlottingUtil.paraLine(m,w,!1),T=[];for(O=0;O<U.length;O++)T.push(U[O]);var j=[];for(O=0;O<L.length;O++)j.push(L[O]);T=SuperMapAlgoPlot.PlottingUtil.clearSamePts(T),j=SuperMapAlgoPlot.PlottingUtil.clearSamePts(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j);var R=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(R.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(V,0),this.addScalePoint(L[0],1),this.finish()}}},{key:"addStartPtArrow",value:function(t,e){if(t.length<2)return t;var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints)*e,l=t[0];if(t.length>=2){for(var n=-1,r=0;r<t.length-1;r++)if(o<SuperMapAlgoPlot.PlottingUtil.distance(l,t[r])){n=r;break}t.splice(1,n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var i=t[1],a=t[0],u=o,p=SuperMapAlgoPlot.PlottingUtil.radian(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,p+22.5),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,p-22.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[s,t[0],c],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},!0)}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(o.length<this.minEditPts)return;if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l);if(-1===r.index)return;var i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.4?i:.4}if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[1]=a/n}}}}])&&Fb(e.prototype,o),l&&Fb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kb(t){"@babel/helpers - typeof";return(Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qb(t,e){return(Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zb(t);if(e){var n=Zb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zb(t){return(Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol90213=Hb;var $b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Xb(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),l=[];for(e=15;e<=75;e+=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=105;e<=165;e+=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=195;e<=255;e+=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=285;e<=345;e+=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1]),r=new SuperMapAlgoPlot.Point(-.5*o,.2*o),i=new SuperMapAlgoPlot.Point(.5*o,.2*o),a=new SuperMapAlgoPlot.Point(.5*o,-.2*o),u=new SuperMapAlgoPlot.Point(-.5*o,-.2*o),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],r,n),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],i,n),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],a,n),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],u,n),f=[];f.push(p),f.push(s),f.push(c),f.push(P),f.push(p);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"}),this.finish()}}}])&&qb(e.prototype,o),l&&qb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tA(t){"@babel/helpers - typeof";return(tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oA(t,e){return(oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nA(t);if(e){var n=nA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nA(t){return(nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol90215=$b;var rA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[0].x+p[p.length-1].x)/2,(u[0].y+p[p.length-1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],.5*(l-1.2*s)),g=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD+180,y=[];if(y.push(P),y.push.apply(y,u),y.push.apply(y,p),y.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.subSymbols.length>0)this.computeSubSymbol(this.subSymbols[0],c,.9*s,g-90);else{var h=new SuperMapAlgoPlot.Point(.3*s,0),S=new SuperMapAlgoPlot.Point(.4*s,0),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,h,g),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,S,g),d=[];d.push(b),d.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,d,{fill:!1,fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var M=new SuperMapAlgoPlot.Point(-.4*s,0),v=new SuperMapAlgoPlot.Point(-.3*s,0),m=new SuperMapAlgoPlot.Point(-.3*s,.2*s),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,M,g),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,v,g),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,m,g);(d=[]).push(b),d.push(O),d.push(U),d.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var L=new SuperMapAlgoPlot.Point(-.2*s,0),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,.3*s,.3*s,45),j=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,.3*s,.3*s,315),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,L,g),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,T,g),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,j,g);(d=[]).push(V),d.push(R),d.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var E=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,.15*s,.15*s,45),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,.15*s,.15*s,315),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,E,g),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,x,g);(d=[]).push(B),d.push(b),d.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0})}this.scalePoints=[],this.addScalePoint(u[u.length-1]);var Y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,g+90);this.addScalePoint(Y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90+i),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90+i),p=new SuperMapAlgoPlot.Point((a.x+u.x)/2,(a.y+u.y)/2),s=SuperMapAlgoPlot.PlottingUtil.distance(p,e)/l;s>=.8&&(s=.8),this.scaleValues[1]=s}}}}])&&eA(e.prototype,o),l&&eA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iA(t){"@babel/helpers - typeof";return(iA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uA(t,e){return(uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sA(t);if(e){var n=sA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sA(t){return(sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol90217=rA;var cA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.03),e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();this.scaleValues[0]=e,this.scaleValues[1]=.5*e,this.scaleValues[3]=.5*e}var o=this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);var i=this.GetCurvePts(t,o,l);if(0!==i.pt.length){var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r)*n,u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,a);if(-1!==u.index){for(var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],s=[],c=0;c<360;c+=12)s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,p,p,c));s.push(s[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var P=[],f=[],g=0;g<i.pt.length;g++)SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(s,i.pt[g])?f.length>1&&(P.push(f),f=[]):f.push(i.pt[g]);f.length>1&&P.push(f);for(var y=0;y<P.length;y++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[y]);var h=[],S=new SuperMapAlgoPlot.Point(u.pt.x-p,u.pt.y),b=new SuperMapAlgoPlot.Point(u.pt.x+.5*p,u.pt.y);h.push(S,b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var A=[],d=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,.3*p,.3*p,157.5),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,.3*p,.3*p,202.5);A.push(d),A.push(M),A.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0});var v=new SuperMapAlgoPlot.Point(i.pt[0].x,i.pt[0].y);v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);var m=new SuperMapAlgoPlot.Point(i.scalePt.x,i.scalePt.y);m.isScalePoint=!0,m.tag=1,this.scalePoints.push(m);var O=new SuperMapAlgoPlot.Point(u.pt.x,u.pt.y);O.isScalePoint=!0,O.tag=2,this.scalePoints.push(O);var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(u.pt.x,u.pt.y),p,p,0),U=new SuperMapAlgoPlot.Point(w.x,w.y);U.isScalePoint=!0,U.tag=3,this.scalePoints.push(U),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(4>this.scaleValues.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var a=o[0],u=SuperMapAlgoPlot.PlottingUtil.distance(a,i);this.scaleValues[1]=2*u/l}else if(1===t)a=o[0],u=SuperMapAlgoPlot.PlottingUtil.distance(a,i),this.scaleValues[0]=u/l;else if(2===t){for(var p=-1,s=0,c=new SuperMapAlgoPlot.Point(0,0),P=0;P<n.length-1;P++){var f=n[P],g=n[P+1],y=SuperMapAlgoPlot.PlottingUtil.projectPoint(i,f,g);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(y,f,g)){var h=SuperMapAlgoPlot.PlottingUtil.distance(i,y);-1===p?(p=P,c=y,s=h):s>h&&(p=P,c=y,s=h)}}if(-1===p||p>n.length-1)return;for(var S=[],b=0;b<p;b++)S.push(n[b]);S.push(c);var A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(S);if(A<0||A>r)return;this.scaleValues[2]=A/r}else if(3===t){var d=r*this.scaleValues[2],M=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,d);if(-1===M.index)return;var v=SuperMapAlgoPlot.PlottingUtil.distance(M.pt,e);this.scaleValues[3]=v/l}}}},{key:"GetCurvePts",value:function(t,e,o){for(var l,n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=r*e,a=r*o/2,u=[],p=[],s=n[0],c=!1,P=n[0],f=1;f<n.length;f++){var g=n[f],y=SuperMapAlgoPlot.PlottingUtil.distance(s,g);if(!(y<i&&f!==n.length-1)){for(var h,S=parseInt(y/i),b=0;b<S;b++){h=SuperMapAlgoPlot.PlottingUtil.linePnt(s,g,i),c||(l=h,c=!0);var A=this.GetCosPts2D(s,h,i,a);u=p.length>1&&0===b?this.ClearCurvePts2D(P,s,g,p,A,u):u.concat(A),p=(p=[]).concat(A),P=s,s=h}f===n.length-1&&(h=n[n.length-1],A=this.GetCosPts2D(s,h,i,a),u=p.length>1&&A.length>1?this.ClearCurvePts2D(P,s,g,p,A,u):u.concat(A))}}return{pt:u,scalePt:l}}},{key:"GetCosPts2D",value:function(t,e,o,l){for(var n=[],r=SuperMapAlgoPlot.PlottingUtil.distance(t,e),i=o/30,a=0;a<r;a+=i){var u=a*(2*Math.PI/o),p=l*Math.cos(u),s=new SuperMapAlgoPlot.Point(a,p),c=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,c);n.push(P)}return n}},{key:"ClearCurvePts2D",value:function(t,e,o,l,n,r){for(var i=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,a=180*SuperMapAlgoPlot.PlottingUtil.radian(e,t)/Math.PI-i;a<=0;)a+=360;var u=a/2,p=o;p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,u*Math.PI/180,p);for(var s=SuperMapAlgoPlot.PlottingUtil.linePnt(e,p,1),c=0,P=0;P<l.length;P++)if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,l[P])){c=P;break}if(0!=c)for(var f=0;f<l.length-c;f++)r.slice(f,r.length-1);for(var g=0;g<n.length;g++)SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,n[g])&&r.push(n[g]);return r}}])&&aA(e.prototype,o),l&&aA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PA(t){"@babel/helpers - typeof";return(PA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gA(t,e){return(gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hA(t);if(e){var n=hA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hA(t){return(hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2091503=cA;var SA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0];this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var l=this.scaleValues[1]*e,n=o*e,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,n);if(-1!==r.index){for(var i,a=r.pt,u=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[a,new SuperMapAlgoPlot.Point(a.x+l,a.y)]),p=0;p<t.length-1;p++){var s=t[p],c=t[p+1],P=SuperMapAlgoPlot.PlottingUtil.distance(a,s),f=SuperMapAlgoPlot.PlottingUtil.distance(a,c);if(!(P<l&&f<l))if(P>l&&f<l||P<l&&f>l){var g;g=P>l?s:c;var y=this.getLineAddCircleIntersectPts(s,c,u);y.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[y[0],g])}else{var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,s,c);if(SuperMapAlgoPlot.PlottingUtil.distance(a,h)>=l)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c]);else if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(h,s,c)){var S=this.getLineAddCircleIntersectPts(s,c,u);if(S.length>0){S.unshift(s),S.push(c);for(var b=0;b<S.length-1;b++)this.isLineInCircle(S[b],S[b+1],a,l)||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S[b],S[b+1]])}}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c])}}if(this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[a,new SuperMapAlgoPlot.Point(a.x+l,a.y)]),i=r.index>=t.length-1?SuperMapAlgoPlot.PlottingUtil.radian(t[t.length-2],t[t.length-1])*SuperMapAlgoPlot.PlottingUtil.RTOD:SuperMapAlgoPlot.PlottingUtil.radian(t[r.index],t[r.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,this.subSymbols.length>0){if(null!==this.subSymbols[0].symbolData)for(var A=0;A<this.subSymbols[0].symbolData.innerCells.length;A++)26===this.subSymbols[0].symbolData.innerCells[A].type&&this.subSymbols[0].symbolData.innerCells.splice(A,1);this.computeSubSymbol(this.subSymbols[0],a,l,i)}this.scalePoints=[];var d=a;d.isScalePoint=!0,d.tag=0,this.scalePoints.push(d);var M=new SuperMapAlgoPlot.Point(a.x+l,a.y);M.isScalePoint=!0,M.tag=1,this.scalePoints.push(M),this.finish()}}}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return l>SuperMapAlgoPlot.PlottingUtil.distance(n,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var l=o.slice();l[0].x===l[l.length-1].x&&l[0].y===l[l.length-1].y||l.push(l[0]);for(var n=[],r=0;r<l.length-1;r++){var i=l[r],a=l[r+1],u=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,i,a);u.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,i,a)&&n.push(u.intersectPoint)}for(var p=0;p<n.length-1;p++)SuperMapAlgoPlot.PlottingUtil.isSamePt(n[p],n[p+1])&&(n.splice(p,1),p--);if(t.x>e.x){for(var s=0;s<n.length&&s!==n.length-1;s++)if(n[s].x<n[s+1].x){var c=n[s];n[s]=n[s+1],n[s+1]=c}}else if(t.x<e.x){for(var P=0;P<n.length&&P!==n.length-1;P++)if(n[P].x>n[P+1].x){var f=n[P];n[P]=n[P+1],n[P+1]=f}}else if(t.y>e.y){for(var g=0;g<n.length&&g!==n.length-1;g++)if(n[g].y<n[g+1].y){var y=n[g];n[g]=n[g+1],n[g+1]=y}}else if(t.y<e.y)for(var h=0;h<n.length&&h!==n.length-1;h++)if(n[h].y>n[h+1].y){var S=n[h];n[h]=n[h+1],n[h+1]=S}return n}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){for(var n=0,r=-1,i=null,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.projectPoint,o[a],o[a+1])){var p=SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e);0===n?(n=p,r=a,i=u.projectPoint):p<n&&(n=p,r=a,i=u.projectPoint)}}if(-1===r)return;for(var s=0,c=0;c<r;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[c],o[c+1]);var P=(s+=SuperMapAlgoPlot.PlottingUtil.distance(i,o[r]))/l;P>1&&(P=1),this.scaleValues[0]=P}if(1===t){var f=this.scaleValues[0]*l,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);if(-1===g.index)return;var y=SuperMapAlgoPlot.PlottingUtil.distance(g.pt,e)/l;y>.4&&(y=.4),this.scaleValues[1]=y}}}}])&&fA(e.prototype,o),l&&fA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bA(t){"@babel/helpers - typeof";return(bA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dA(t,e){return(dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vA(t);if(e){var n=vA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vA(t){return(vA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2092101=SA;var mA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=l*this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,2*n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,2*n),u=[];u.push(t[0],i);var p=[];p.push(a,t[1]);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!1),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=.5*SuperMapAlgoPlot.PlottingUtil.distance(i,a);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,y,g),this.addScalePoint(s[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n>.24&&(n=.24),this.scaleValues[0]=n}}}}])&&AA(e.prototype,o),l&&AA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OA(t){"@babel/helpers - typeof";return(OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UA(t,e){return(UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=TA(t);if(e){var n=TA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function TA(t){return(TA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121504=mA;var jA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol2121505);var e,o,l,n=LA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="墩",e}return e=r,o&&wA(e.prototype,o),l&&wA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function RA(t){"@babel/helpers - typeof";return(RA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _A(t,e){return(_A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xA(t);if(e){var n=xA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===RA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xA(t){return(xA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121506=jA;var BA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol2121505);var e,o,l,n=EA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="复",e}return e=r,o&&VA(e.prototype,o),l&&VA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function CA(t){"@babel/helpers - typeof";return(CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IA(t,e){return(IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NA(t);if(e){var n=NA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NA(t){return(NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121507=BA;var kA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=DA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(1),e.scaleValues.push(0)),e.subText="遥",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);for(var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=50*this.getSubSymbolScaleValue(),i=n*r*.02,a=n*r*.005,u=.1*n,p=.1*l,s=0;s<=n;s+=u){var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,s+p);if(-1!==c.index){var P,f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,t[c.index],c.pt);P=this.scaleValues[0]>0?new SuperMapAlgoPlot.Point(f.pntLeft.x,f.pntLeft.y):new SuperMapAlgoPlot.Point(f.pntRight.x,f.pntRight.y);var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,P,c.pt),y=[];if(y.push(g.pntRight),y.push(P),y.push(g.pntLeft),0===s){var h=new SuperMapAlgoPlot.Point(P.x,P.y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,y,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0})}}var S=SuperMapAlgoPlot.PlottingUtil.radian(t[t.length-2],t[t.length-1])*SuperMapAlgoPlot.PlottingUtil.RTOD,b=this.scaleValues[1]*n,A=SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2]),d=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-2],t[t.length-1],.5*b+A);this.addText(this.subText,d,b,S),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e);this.scaleValues[0]=l?-1:1}}}])&&YA(e.prototype,o),l&&YA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zA(t){"@babel/helpers - typeof";return(zA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function GA(t,e){return(GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JA(t);if(e){var n=JA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JA(t){return(JA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121601=kA;var HA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol2121601);var e,o,l,n=WA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="障",e}return e=r,o&&FA(e.prototype,o),l&&FA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function KA(t){"@babel/helpers - typeof";return(KA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QA(t,e){return(QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function XA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZA(t);if(e){var n=ZA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZA(t){return(ZA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121602=HA;var $A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=XA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).subSymbols.length&&(e.subSymbols=SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultSubSymbols(e.libID,e.code)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(2>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL,e);for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,a=[],u=0;u<e.length;u++)l>e[u].x&&(l=e[u].x),n<e[u].x&&(n=e[u].x),r>e[u].y&&(r=e[u].y),i<e[u].y&&(i=e[u].y),a.push(e[u]);var p=(n-l)/5;p>10&&(p=10);for(var s=.2*p,c=[],P=0;P<360;P+=18){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),s,s,P);c.push(f)}for(var g=0,y=l;y<n;y+=p)for(var h=r;h<i;h+=p){var S=new SuperMapAlgoPlot.Point(y,h);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(a,S))if(0===g){g++;for(var b=[],A=0;A<c.length;A++){var d=new SuperMapAlgoPlot.Point(S.x+c[A].x,S.y+c[A].y);b.push(d)}b.push(b[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b);var M=[];M.push(b[10]),M.push(new SuperMapAlgoPlot.Point(b[10].x-.5*s,b[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=[];v.push(b[0]),v.push(new SuperMapAlgoPlot.Point(b[0].x+.5*s,b[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}else 1===g?(g++,null!==this.subSymbols[0]&&this.computeSubSymbol(this.subSymbols[0],S,.015*o,0)):(g=0,null!==this.subSymbols[1]&&this.computeSubSymbol(this.subSymbols[1],S,.015*o,0))}this.finish()}}}}])&&qA(e.prototype,o),l&&qA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function td(t){"@babel/helpers - typeof";return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ed(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function od(t,e){return(od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ld(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nd(t);if(e){var n=nd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===td(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nd(t){return(nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2122101=$A;var rd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&od(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ld(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=n*this.scaleValues[2],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r),a=4*o,u=[],p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y)),r=n*this.scaleValues[3],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y));for(var c=n*this.scaleValues[1],P=this.getDashLinePts(l,c),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},g=0;g<P.length;g++){var y=P[g];y=SuperMapAlgoPlot.PlottingUtil.clearSamePts(y);var h=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!1);1!=g?(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f)):(h.unshift(u[0]),h.push(u[2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),S.unshift(u[1]),S.push(u[3]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f))}a=2*o;var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.05*n),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.15*n);var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt),M=[];M.push(A.pntLeft),M.push(d.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(A.pntRight),M.push(d.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.45*n);var v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.55*n);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(v.pntLeft),M.push(m.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(v.pntRight),M.push(m.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.85*n);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.95*n);var w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(O.pntLeft),M.push(w.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(O.pntRight),M.push(w.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}}])&&ed(e.prototype,o),l&&ed(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function id(t){"@babel/helpers - typeof";return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ad(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ud(t,e){return(ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sd(t);if(e){var n=sd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===id(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sd(t){return(sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2122201=rd;var cd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ud(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(3)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(3)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=n*this.scaleValues[2],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r),a=4*o,u=[],p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y)),r=n*this.scaleValues[3],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y));for(var c=n*this.scaleValues[1],P=this.getDashLinePts(l,c),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},g=0;g<P.length;g++){var y=P[g];SuperMapAlgoPlot.PlottingUtil.clearSamePts(y);var h=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!1);1!=g?(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f)):(h.unshift(u[0]),h.push(u[2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),S.unshift(u[1]),S.push(u[3]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f))}a=2*o;var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.05*n),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.15*n);var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt),M=[];M.push(A.pntLeft),M.push(d.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(A.pntRight),M.push(d.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.45*n);var v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.55*n);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(v.pntLeft),M.push(m.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(v.pntRight),M.push(m.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.85*n);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.95*n);var w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(O.pntLeft),M.push(w.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(O.pntRight),M.push(w.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,0);var U=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1.5*a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.5*n);var L=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a*this.scaleValues[4],l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);var T=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1.5*a,l[b.index],b.pt);(M=[]).push(U.pntLeft),M.push(L.pntRight),M.push(T.pntRight);var j=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(M);j=SuperMapAlgoPlot.PlottingUtil.clearSamePts(j),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},this.addCell(SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL,j,f),this.scalePoints=[],this.addScalePoint(L.pntRight),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(0==t){SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);this.scaleValues[4]=l/10}}}}])&&ad(e.prototype,o),l&&ad(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pd(t){"@babel/helpers - typeof";return(Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gd(t,e){return(gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hd(t);if(e){var n=hd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hd(t){return(hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2122202=cd;var Sd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.5),e.scaleValues.push(.4)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2]*e,r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e*l),i=SuperMapAlgoPlot.PlottingUtil.distance(t[1],r),a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],r,i+.45*n),u=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-i+.45*n),p=2*o,s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[1],a),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],u),P=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!1),g=e-i-n/2,y=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],P[P.length-1],g),h=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],P[P.length-1],g+.2*n),S=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],P[P.length-1],g+.8*n),b=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],P[P.length-1],g+n),A={fillLimit:!0},d=[];d.push(P[0]),d.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,A);var M=[];M.push(s.pntRight),M.push(h),M.push(S),M.push(c.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,A);var v=[];v.push(b),v.push(P[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,A);var m=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],f[f.length-1],g),O=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],f[f.length-1],g+.2*n),w=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],f[f.length-1],g+.8*n),U=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],f[f.length-1],g+n),L=[];L.push(f[0]),L.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,A);var T=[];T.push(s.pntLeft),T.push(O),T.push(w),T.push(c.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,A);var j=[];j.push(U),j.push(f[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,A);var R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o/2,y,P[0]);this.addScalePoint(R.pntLeft,0),this.addScalePoint(r,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e);if(0===t&&(this.scaleValues[0]=n/l),1===t){var r=n/l;r>.8?r=.8:r<.2&&(r=.2),this.scaleValues[1]=r}}}}])&&fd(e.prototype,o),l&&fd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bd(t){"@babel/helpers - typeof";return(bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ad(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dd(t,e){return(dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Md(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vd(t);if(e){var n=vd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vd(t){return(vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2122301=Sd;var md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Md(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Ad(e.prototype,o),l&&Ad(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Od(t){"@babel/helpers - typeof";return(Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ud(t,e){return(Ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ld(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Td(t);if(e){var n=Td(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Od(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Td(t){return(Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000801=md;var jd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ud(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000801);var e,o,l,n=Ld(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&wd(e.prototype,o),l&&wd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Rd(t){"@babel/helpers - typeof";return(Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _d(t,e){return(_d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ed(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xd(t);if(e){var n=xd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xd(t){return(xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000802=jd;var Bd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_d(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000801);var e,o,l,n=Ed(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&Vd(e.prototype,o),l&&Vd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Cd(t){"@babel/helpers - typeof";return(Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Id(t,e){return(Id=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nd(t);if(e){var n=Nd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nd(t){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000803=Bd;var kd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Id(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000801);var e,o,l,n=Dd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i+180);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0),this.finish()}}}])&&Yd(e.prototype,o),l&&Yd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zd(t){"@babel/helpers - typeof";return(zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gd(t,e){return(Gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jd(t);if(e){var n=Jd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jd(t){return(Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000804=kd;var Hd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000804);var e,o,l,n=Wd(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&Fd(e.prototype,o),l&&Fd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Kd(t){"@babel/helpers - typeof";return(Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qd(t,e){return(Qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zd(t);if(e){var n=Zd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zd(t){return(Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000805=Hd;var $d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000804);var e,o,l,n=Xd(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&qd(e.prototype,o),l&&qd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function tM(t){"@babel/helpers - typeof";return(tM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oM(t,e){return(oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nM(t);if(e){var n=nM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nM(t){return(nM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000806=$d;var rM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&(this.computeSubSymbol(this.subSymbols[0],r,.05*a,i+90),this.computeSubSymbol(this.subSymbols[1],r,a,i+180));for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&eM(e.prototype,o),l&&eM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iM(t){"@babel/helpers - typeof";return(iM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uM(t,e){return(uM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sM(t);if(e){var n=sM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sM(t){return(sM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000807=rM;var cM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i+180);var u=[],p=new SuperMapAlgoPlot.Point(0,0);p.x=-a/6,p.y=a/3;var s=new SuperMapAlgoPlot.Point(0,0),c=SuperMapAlgoPlot.PlottingUtil.rotateAngle(s,i*SuperMapAlgoPlot.PlottingUtil.DTOR,p),P=new SuperMapAlgoPlot.Point(c.x+r.x,c.y+r.y);p.x=a/6,p.y=a/3;var f=SuperMapAlgoPlot.PlottingUtil.rotateAngle(s,i*SuperMapAlgoPlot.PlottingUtil.DTOR,p),g=new SuperMapAlgoPlot.Point(f.x+r.x,f.y+r.y);p.x=0,p.y=-a/3;var y=SuperMapAlgoPlot.PlottingUtil.rotateAngle(s,i*SuperMapAlgoPlot.PlottingUtil.DTOR,p),h=new SuperMapAlgoPlot.Point(y.x+r.x,y.y+r.y);u.push(P),u.push(g),u.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,{fillLimit:!0,fill:!0});for(var S=[],b=[],A=0;A<=n.startIndex;A++)S.push(e[A]);if(S.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),n.endIndex<=e.length){b.push(n.endPt);for(var d=n.endIndex+1;d<=e.length-1;d++)b.push(e[d]);this.addArrow(b)}var M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(v,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&aM(e.prototype,o),l&&aM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PM(t){"@babel/helpers - typeof";return(PM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gM(t,e){return(gM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hM(t);if(e){var n=hM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hM(t){return(hM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000808=cM;var SM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&(this.computeSubSymbol(this.subSymbols[0],r,a,i+180),this.computeSubSymbol(this.subSymbols[1],r,.5*a,i+180));for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&fM(e.prototype,o),l&&fM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bM(t){"@babel/helpers - typeof";return(bM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dM(t,e){return(dM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vM(t);if(e){var n=vM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vM(t){return(vM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000809=SM;var mM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(-.04),e.scaleValues.push(-.175),e.scaleValues.push(.1)),e.subText="集",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==e){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.addText(this.subText,o,.3*e,0,"#0000FF"),this.finish()}}}}])&&AM(e.prototype,o),l&&AM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OM(t){"@babel/helpers - typeof";return(OM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UM(t,e){return(UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=TM(t);if(e){var n=TM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function TM(t){return(TM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001101=mM;var jM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3001101);var e,o,l,n=LM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="暴",e}return e=r,o&&wM(e.prototype,o),l&&wM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function RM(t){"@babel/helpers - typeof";return(RM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _M(t,e){return(_M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xM(t);if(e){var n=xM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===RM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xM(t){return(xM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001102=jM;var BM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_M(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3001101);var e,o,l,n=EM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="骚",e}return e=r,o&&VM(e.prototype,o),l&&VM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function CM(t){"@babel/helpers - typeof";return(CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IM(t,e){return(IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NM(t);if(e){var n=NM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NM(t){return(NM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001103=BM;var kM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=DM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=this.scaleValues[1],l=this.scaleValues[2],n=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==n){if(!this.isEdit){var r=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[2]=r/n}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=new SuperMapAlgoPlot.Point(i.x+e*n,i.y+o*n),u=l*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,u,0),this.addText("私",a,u,0,"#0000FF"),this.addScalePoint(a,0);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t&&(this.scaleValues[0]=(r.x-n.x)/l,this.scaleValues[1]=(r.y-n.y)/l),1===t){var i=this.scaleValues[0],a=this.scaleValues[1],u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u);this.scaleValues[2]=p/l}}}}])&&YM(e.prototype,o),l&&YM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zM(t){"@babel/helpers - typeof";return(zM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function GM(t,e){return(GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JM(t);if(e){var n=JM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JM(t){return(JM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001104=kM;var HM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=WM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=this.scaleValues[1],l=this.scaleValues[2],n=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==n){if(!this.isEdit){var r=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[2]=r/n}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=new SuperMapAlgoPlot.Point(i.x+e*n,i.y+o*n),u=l*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.addText("盗",a,u,0),this.addScalePoint(a,0);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t&&(this.scaleValues[0]=(r.x-n.x)/l,this.scaleValues[1]=(r.y-n.y)/l),1===t){var i=this.scaleValues[0],a=this.scaleValues[1],u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u);this.scaleValues[2]=p/l}}}}])&&FM(e.prototype,o),l&&FM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KM(t){"@babel/helpers - typeof";return(KM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QM(t,e){return(QM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function XM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZM(t);if(e){var n=ZM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZM(t){return(ZM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001105=HM;var $M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=XM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.5),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.1*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],Math.sqrt(3)*e/4),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n*o),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[0],2*e),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[1],2*e),u=[];u.push(t[0]),u.push(i);var p=[];p.push(a),p.push(l);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.25*e,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.25*e,!1),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.25*e,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.25*e,!1);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.subSymbols.length>0){var g=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,y=.5*SuperMapAlgoPlot.PlottingUtil.distance(i,a);this.computeSubSymbol(this.subSymbols[0],r,y,g+180)}var h=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],e),S=new SuperMapAlgoPlot.Point(h.x,h.y),b=new SuperMapAlgoPlot.Point(h.x,h.y);S=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],1/6*Math.PI,S),b=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],11/6*Math.PI,b);var A=[];A.push(S),A.push(t[t.length-1]),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.finish()}}}])&&qM(e.prototype,o),l&&qM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tv(t){"@babel/helpers - typeof";return(tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ev(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ov(t,e){return(ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nv(t);if(e){var n=nv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nv(t){return(nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001301=$M;var rv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lv(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.1*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],Math.sqrt(3)*e/4),l=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);l.splice(t.length-1,1),l.push(o);var n=SuperMapAlgoPlot.PlottingUtil.paraLine(l,.25*e,!0),r={lineColorLimit:!0,strokeColor:"#00C000",color:"#00C000"},i=SuperMapAlgoPlot.PlottingUtil.paraLine(l,.25*e,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,r);var a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],e),u=new SuperMapAlgoPlot.Point(a.x,a.y),p=new SuperMapAlgoPlot.Point(a.x,a.y);u=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],1/6*Math.PI,u),p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],11/6*Math.PI,p);var s=[];s.push(u),s.push(t[t.length-1]),s.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,r),this.finish()}}}])&&ev(e.prototype,o),l&&ev(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iv(t){"@babel/helpers - typeof";return(iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function av(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uv(t,e){return(uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sv(t);if(e){var n=sv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sv(t){return(sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001302=rv;var cv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=pv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="震",e}return e=r,o&&av(e.prototype,o),l&&av(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Pv(t){"@babel/helpers - typeof";return(Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gv(t,e){return(gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hv(t);if(e){var n=hv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hv(t){return(hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002001=cv;var Sv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){var e={surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=new SuperMapAlgoPlot.Point(l.x+o*n,l.y+o*r),u=new SuperMapAlgoPlot.Point(a.x+1,a.y),p=[];t.push(t[0].clone());for(var s=0;s<t.length-1;s++){var c=SuperMapAlgoPlot.PlottingUtil.intersectLines(a,u,t[s],t[s+1]);c.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(c.intersectPoint,t[s],t[s+1])&&p.push(c.intersectPoint))}if(0>=p.length)this.finish();else{var P=p[0].clone(),f=p[0].clone();for(s=0;s<p.length;s++)P.x>p[s].x&&(P=p[s].clone()),f.x<p[s].x&&(f=p[s].clone());var g=new SuperMapAlgoPlot.Point(a.x-i/2,P.y),y=new SuperMapAlgoPlot.Point(a.x+i/2,f.y),h=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("HX",a,i,h,"#0000FF"),this.addScalePoint(a,0);var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i/2,i/2,90);this.addScalePoint(S,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=e,i=0,a=0;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,r))return;i=(r.x-n.x)/l,this.scaleValues[0]=i,a=(r.y-n.y)/l,this.scaleValues[1]=a}if(1===t){i=this.scaleValues[0],a=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(r,u);this.scaleValues[2]=p/l}}}}])&&fv(e.prototype,o),l&&fv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol3002002=Sv;function bv(t){"@babel/helpers - typeof";return(bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dv(t,e){return(dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vv(t);if(e){var n=vv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vv(t){return(vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Mv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(2>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),n=this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=new SuperMapAlgoPlot.Point(l.x+o*n,l.y+o*r),u=new SuperMapAlgoPlot.Point(a.x+1,a.y),p=[];e.push(e[0].clone());for(var s=0;s<e.length-1;s++){var c=SuperMapAlgoPlot.PlottingUtil.intersectLines(a,u,e[s],e[s+1]);c.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(c.intersectPoint,e[s],e[s+1])&&p.push(c.intersectPoint))}if(0>=p.length)this.finish();else{var P=p[0].clone(),f=p[0].clone();for(s=0;s<p.length;s++)P.x>p[s].x&&(P=p[s].clone()),f.x<p[s].x&&(f=p[s].clone());var g=[],y=new SuperMapAlgoPlot.Point(a.x-i/2,P.y);y.x<=f.x&&y.x>=P.x&&((g=[]).push(P),g.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g));var h=new SuperMapAlgoPlot.Point(a.x+i/2,f.y);h.x<=f.x&&h.x>=P.x&&((g=[]).push(f),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g));var S=SuperMapAlgoPlot.PlottingUtil.radian(y,h)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("火",a,i,S),this.addScalePoint(a,0);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i/2,i/2,90);this.addScalePoint(b,1),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=e,i=0,a=0;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,r))return;i=(r.x-n.x)/l,this.scaleValues[0]=i,a=(r.y-n.y)/l,this.scaleValues[1]=a}if(1===t){i=this.scaleValues[0],a=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(r,u);this.scaleValues[2]=p/l}}}}])&&Av(e.prototype,o),l&&Av(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ov(t){"@babel/helpers - typeof";return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Uv(t,e){return(Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tv(t);if(e){var n=Tv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ov(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tv(t){return(Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002004=mv;var jv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t={lineColorLimit:!0,strokeColor:"#0000ff",color:"#0000ff",lineColor:"#0000ff"},e=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,t);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),n=this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=new SuperMapAlgoPlot.Point(l.x+o*n,l.y+o*r),u=new SuperMapAlgoPlot.Point(a.x+1,a.y),p=[];e.push(e[0].clone());for(var s=0;s<e.length-1;s++){var c=SuperMapAlgoPlot.PlottingUtil.intersectLines(a,u,e[s],e[s+1]);c.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(c.intersectPoint,e[s],e[s+1])&&p.push(c.intersectPoint))}if(0>=p.length)this.finish();else{var P=p[0].clone(),f=p[0].clone();for(s=0;s<p.length;s++)P.x>p[s].x&&(P=p[s].clone()),f.x<p[s].x&&(f=p[s].clone());var g=[],y=new SuperMapAlgoPlot.Point(a.x-i/2,P.y);y.x<=f.x&&y.x>=P.x&&((g=[]).push(P),g.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,t));var h=new SuperMapAlgoPlot.Point(a.x+i/2,f.y);if(h.x<=f.x&&h.x>=P.x&&((g=[]).push(f),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,t)),this.subSymbols.length>0){var S=this.computeSubSymbol(this.subSymbols[0],a,i,0);if(null!=S)for(var b=0;b<S.length;b++)S[b].style.lineColorLimit=!0,S[b].style.strokeColor="#0000FF",S[b].style.color="#0000FF",S[b].style.surroundLineLimit=!0,S[b].style.surroundLineColor="#ffff00",S[b].style.surroundLineColorOpacity=1,S[b].style.surroundLineType=SuperMapAlgoPlot.AlgoSurroundLineType.INNER}this.addScalePoint(a,0);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i/2,i/2,90);this.addScalePoint(A,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=e,i=0,a=0;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,r))return;i=(r.x-n.x)/l,this.scaleValues[0]=i,a=(r.y-n.y)/l,this.scaleValues[1]=a}if(1===t){i=this.scaleValues[0],a=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(r,u);this.scaleValues[2]=p/l}}}}])&&wv(e.prototype,o),l&&wv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Rv(t){"@babel/helpers - typeof";return(Rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _v(t,e){return(_v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xv(t);if(e){var n=xv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xv(t){return(xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002005=jv;var Bv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=Ev(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="冰",e}return e=r,o&&Vv(e.prototype,o),l&&Vv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Cv(t){"@babel/helpers - typeof";return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Iv(t,e){return(Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nv(t);if(e){var n=Nv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nv(t){return(Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002501=Bv;var kv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=Dv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="塌",e}return e=r,o&&Yv(e.prototype,o),l&&Yv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function zv(t){"@babel/helpers - typeof";return(zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gv(t,e){return(Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jv(t);if(e){var n=Jv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jv(t){return(Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002502=kv;var Hv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=Wv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="堆",e}return e=r,o&&Fv(e.prototype,o),l&&Fv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Kv(t){"@babel/helpers - typeof";return(Kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qv(t,e){return(Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zv(t);if(e){var n=Zv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zv(t){return(Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002503=Hv;var $v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=Xv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="滑",e}return e=r,o&&qv(e.prototype,o),l&&qv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function tm(t){"@babel/helpers - typeof";return(tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function em(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function om(t,e){return(om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nm(t);if(e){var n=nm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nm(t){return(nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002504=$v;var rm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&om(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=lm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="滚",e}return e=r,o&&em(e.prototype,o),l&&em(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function im(t){"@babel/helpers - typeof";return(im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function am(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function um(t,e){return(um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sm(t);if(e){var n=sm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sm(t){return(sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002505=rm;var cm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&um(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.subText="标",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}var f=this.subText,g=.15*P,y=new SuperMapAlgoPlot.Point(n.endPt.x+g/2,n.endPt.y-g/2),h=i;this.addText(f,y,g,h);var S=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(S.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(b,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&am(e.prototype,o),l&&am(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pm(t){"@babel/helpers - typeof";return(Pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gm(t,e){return(gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ym(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hm(t);if(e){var n=hm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hm(t){return(hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030301=cm;var Sm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol4030301);var e,o,l,n=ym(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="劝",e}return e=r,o&&fm(e.prototype,o),l&&fm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function bm(t){"@babel/helpers - typeof";return(bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Am(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dm(t,e){return(dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vm(t);if(e){var n=vm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vm(t){return(vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030302=Sm;var mm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol4030301);var e,o,l,n=Mm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="疏",e}return e=r,o&&Am(e.prototype,o),l&&Am(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Om(t){"@babel/helpers - typeof";return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Um(t,e){return(Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tm(t);if(e){var n=Tm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Om(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tm(t){return(Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030303=mm;var jm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Um(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(this.controlPoints.length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=t[0].clone(),l=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.radian(o,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,e,e,n+90),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,e,e,n+270),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,n+90),u=i,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,n+270),s=r,c=a,P=SuperMapAlgoPlot.PlottingUtil.distance(s,c),f=SuperMapAlgoPlot.PlottingUtil.distance(u,p),g=SuperMapAlgoPlot.PlottingUtil.distance(s,u),y=SuperMapAlgoPlot.PlottingUtil.distance(c,p),h=SuperMapAlgoPlot.PlottingUtil.linePnt(s,c,.4*P),S=SuperMapAlgoPlot.PlottingUtil.linePnt(s,c,.6*P),b=SuperMapAlgoPlot.PlottingUtil.linePnt(s,u,.4*g),A=SuperMapAlgoPlot.PlottingUtil.linePnt(s,u,.6*g),d=SuperMapAlgoPlot.PlottingUtil.linePnt(c,p,.4*y),M=SuperMapAlgoPlot.PlottingUtil.linePnt(c,p,.6*y),v=SuperMapAlgoPlot.PlottingUtil.linePnt(u,p,.2*f),m=SuperMapAlgoPlot.PlottingUtil.linePnt(u,p,.25*f),O=SuperMapAlgoPlot.PlottingUtil.linePnt(u,p,.75*f),w=SuperMapAlgoPlot.PlottingUtil.linePnt(u,p,.8*f),U=[];U.push(S),U.push(c),U.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U);var L=[];L.push(M),L.push(p),L.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L);var T=[];T.push(O),T.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var j=[];j.push(v),j.push(u),j.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j);var R=[];R.push(b),R.push(s),R.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R);var V=SuperMapAlgoPlot.PlottingUtil.radian(h,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=new SuperMapAlgoPlot.Point((h.x+S.x)/2,(h.y+S.y)/2),E=SuperMapAlgoPlot.PlottingUtil.distance(h,S);this.addText("警",_,E,V),this.addScalePoint(r,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.controlPoints.length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;this.scaleValues[0]=n}}}])&&wm(e.prototype,o),l&&wm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Rm(t){"@babel/helpers - typeof";return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _m(t,e){return(_m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Em(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xm(t);if(e){var n=xm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xm(t){return(xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030401=jm;var Bm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_m(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol40305);var e,o,l,n=Em(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues.push(.05),this.scaleValues.push(.05),this.scaleValues.push(.02)):2===this.scaleValues.length?this.scaleValues.push(.3*this.getSubSymbolScaleValue()):1===this.scaleValues.length&&(this.scaleValues.push(.5*this.getSubSymbolScaleValue()),this.scaleValues.push(.3*this.getSubSymbolScaleValue()));var e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e);SuperMap.Plot.PlottingUtil.polylineDistance(o);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.1||l<=0)&&(l=.1),this.scaleValues[0]=l,this.scaleValues[1]=this.getSubSymbolScaleValue(),this.scaleValues[2]=.5*l}var n=this.getLinePts(o,this.scaleValues[0],.5),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMap.Plot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMap.Plot.PlottingUtil.RTOD,a=SuperMap.Plot.PlottingUtil.distance(n.startPt,n.endPt);this.computeSubSymbolC(r,a,i);for(var u=[],p=0;p<=n.startIndex;p++)u.push(o[p]);u.push(new SuperMapAlgoPlot.Point(n.startPt.x,n.startPt.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1});var s=[];if(n.endIndex<=o.length){s.push(new SuperMapAlgoPlot.Point(n.endPt.x,n.endPt.y));for(var c=n.endIndex+1;c<=o.length-1;c++)s.push(o[c]);this.addArrow(s,this.scaleValues[2])}var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,.5*a,.5*a,i+90);this.addScalePoint(P,0),this.finish()}}},{key:"computeSubSymbolC",value:function(t,e,o){for(var l=[],n=0;n<360;n+=12)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.5*e,.5*e,n));l.push(l[0]);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,{lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1})}}])&&Vm(e.prototype,o),l&&Vm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Cm(t){"@babel/helpers - typeof";return(Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ym(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Im(t,e){return(Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nm(t);if(e){var n=Nm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nm(t){return(Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030501=Bm;var km=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Im(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000801);var e,o,l,n=Dm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.subText="队",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i+180);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p),y=this.subText,h=.15*g,S=new SuperMapAlgoPlot.Point(n.endPt.x+h/2,n.endPt.y-h/2),b=i;this.addText(y,S,h,b),this.finish()}}}])&&Ym(e.prototype,o),l&&Ym(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zm(t){"@babel/helpers - typeof";return(zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gm(t,e){return(Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jm(t);if(e){var n=Jm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jm(t){return(Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030602=km;var Hm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol4030602);var e,o,l,n=Wm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="队",e}return e=r,o&&Fm(e.prototype,o),l&&Fm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Km(t){"@babel/helpers - typeof";return(Km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qm(t,e){return(Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zm(t);if(e){var n=Zm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Km(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zm(t){return(Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030802=Hm;var $m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Xm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.2));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=.5*e,l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.radian(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+270),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,o,o,r),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,o,o,r),s=[];s.push(p),s.push(a),s.push(i),s.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+270),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,o,o,r+180),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,o,o,r+180);(s=[]).push(f),s.push(c),s.push(P),s.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var y=.4*SuperMapAlgoPlot.PlottingUtil.distance(l,n),h=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),S=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("JZ",h,y,S),this.addScalePoint(i),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&qm(e.prototype,o),l&&qm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tO(t){"@babel/helpers - typeof";return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oO(t,e){return(oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nO(t);if(e){var n=nO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nO(t){return(nO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5010401=$m;var rO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125),this.scaleValues.push(0));var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o,l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),r=this.getDefaultSubSymbolSize()/n;(r>.3||r<=0)&&(r=.3);var i=1.5*r;2===t.length?(this.isEdit||(this.scaleValues[3]=this.scaleValues[2]+i),o=this.scaleValues[2],l=this.scaleValues[3]):(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[4],0)&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125)),this.isEdit||(this.scaleValues[4]=this.scaleValues[3]+i),o=this.scaleValues[3],l=this.scaleValues[4]);var a=n*o,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.pts,s=n*l;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,e)).bfind){var c=u.index,P=u.pts,f=new SuperMapAlgoPlot.Point(p.x,p.y),g=new SuperMapAlgoPlot.Point(P.x,P.y),y=SuperMapAlgoPlot.PlottingUtil.radian(f,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=[];h.push(P);for(var S=c+1;S<e.length;S++)h.push(e[S]);this.addArrow(h);var b=SuperMapAlgoPlot.PlottingUtil.distance(f,g);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,b,y),this.scalePoints=[],this.addScalePoint(P);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,b/2,b/2,y+90);this.addScalePoint(A),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=0,i=0;if(2===o.length?(r=this.scaleValues[2],i=this.scaleValues[3]):(r=this.scaleValues[3],i=this.scaleValues[4]),0===t){for(var a=i-r,u=e.clone(),p=[],s=0;s<l.length;s++)p.push(l[s].clone());for(var c,P=-1,f=0,g=0;g<p.length-1;g++){var y=[];y.push(p[g]),y.push(p[g+1]);var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(u,p[g],p[g+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(h,y).isOnPolyLine){var S=SuperMapAlgoPlot.PlottingUtil.distance(u,h);-1===P?(P=g,c=h,f=S):f>S&&(P=g,c=h,f=S)}}if(-1===P||P>p.length-1)return;for(var b=0,A=0;A<P;A++)b+=SuperMapAlgoPlot.PlottingUtil.distance(l[A],l[A+1]);if((b+=SuperMapAlgoPlot.PlottingUtil.distance(l[P],c))<0||b>n)return;var d=b/n;if(d>.7||d-a<0)return;2===o.length?(this.scaleValues[2]=d-a,this.scaleValues[3]=d):(this.scaleValues[3]=d-a,this.scaleValues[4]=d)}else if(1===t){var M=n*r,v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(M,l);if(!v.bfind)return;var m=v.pts,O=(2*SuperMapAlgoPlot.PlottingUtil.distance(m,e)+M)/n;if(.7<O)return;2===o.length?this.scaleValues[3]=O:this.scaleValues[4]=O}}}}])&&eO(e.prototype,o),l&&eO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iO(t){"@babel/helpers - typeof";return(iO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uO(t,e){return(uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sO(t);if(e){var n=sO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sO(t){return(sO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5021803=rO;var cO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(180)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(180));var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=o*n,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.index,s=u.pts,c=r*o*.5,P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(.5*c,0),g=new SuperMapAlgoPlot.Point(0,c),y=[],h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,P,i);y.push(h);var S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,f,i);y.push(S);var b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,g,i);y.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,y);var A=new SuperMapAlgoPlot.Point(0,-2*c),d=new SuperMapAlgoPlot.Point(.15*c,-1.6*c),M=new SuperMapAlgoPlot.Point(-.15*c,-1.6*c),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,A,i),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,d,i),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,M,i),w=[];w.push(v),w.push(m),w.push(O);var U={surroundLineFlag:!1,fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,w,U);var L=new SuperMapAlgoPlot.Point(0,-c),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,L,i);(w=[]).push(T),w.push(v.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,U);var j,R=[],V=[];for(j=0;j<=p;j++)R.push(e[j]);for(R.push(s),V.push(s),j=p+1;j<e.length;j++)V.push(e[j]);var _=1.2*c;if(a>_){var E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a-_,R);if(E.bfind){var x=E.pts,B=E.index,C=[];for(j=0;j<=B;j++)C.push(R[j]);C.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C)}}if(o-a>_){var Y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(_,V);if(Y.bfind){var I=Y.pts,D=Y.index;for((C=[]).push(I),j=D+1;j<V.length;j++)C.push(V[j]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C)}}I=void 0===I?e[e.length-1]:I,x=void 0===x?e[0]:x;var N=SuperMapAlgoPlot.PlottingUtil.radian(x,I)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("ZD0",s,_,N+90),this.scalePoints=[],this.addScalePoint(s),this.addScalePoint(v),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=e.clone(),i=-1,a=0,u=0;u<l.length-1;u++){var p=[];p.push(l[u]),p.push(l[u+1]);var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,l[u],l[u+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(s,p).isOnPolyLine){var c=SuperMapAlgoPlot.PlottingUtil.distance(r,s);-1===i?(i=u,a=c):a>c&&(i=u,a=c)}}if(-1===i)return SuperMapAlgoPlot.PlottingUtil.distance(r,l[0])>SuperMapAlgoPlot.PlottingUtil.distance(r,l[l.length-1])?void(i=l.length-1):void(i=0);var P=0;if(0===i)P=SuperMapAlgoPlot.PlottingUtil.distance(l[0],s);else for(var f=0;f<i;f++)P+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if(P<0||P>n)return;this.scaleValues[0]=P/n}else if(1===t){var g=this.scaleValues[0]*n,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,l);if(!y.bfind)return;var h=y.pts,S=SuperMapAlgoPlot.PlottingUtil.distance(h,e)/n;S>.5&&(S=.5),this.scaleValues[1]=S;var b=SuperMapAlgoPlot.PlottingUtil.radian(h,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=b+90}}}}])&&aO(e.prototype,o),l&&aO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PO(t){"@babel/helpers - typeof";return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gO(t,e){return(gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hO(t);if(e){var n=hO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hO(t){return(hO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5022001=cO;var SO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(90));var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=o*n,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.index,s=u.pts,c=r*o,P=s,f=new SuperMapAlgoPlot.Point(c,-.5*c),g=new SuperMapAlgoPlot.Point(c,.5*c),y=new SuperMapAlgoPlot.Point(-c,.5*c),h=new SuperMapAlgoPlot.Point(-c,-.5*c),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,f,i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,g,i),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,y,i),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,h,i);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[S,b,A,d,S]);var M=new SuperMapAlgoPlot.Point(.5*c,.5*c),v=new SuperMapAlgoPlot.Point(.5*c,-.5*c),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,v,i),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,M,i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[m,O]);var w=new SuperMapAlgoPlot.Point(0,.5*c),U=new SuperMapAlgoPlot.Point(0,-.5*c),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,w,i),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,U,i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[L,T]);var j=new SuperMapAlgoPlot.Point(c,0),R=new SuperMapAlgoPlot.Point(2*c,0),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,j,i),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,R,i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[V,_]);var E=new SuperMapAlgoPlot.Point(2*c,.15*c),x=new SuperMapAlgoPlot.Point(2*c,-.15*c),B=new SuperMapAlgoPlot.Point(2.6*c,0),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,E,i),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,x,i),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,B,i);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[C,Y,I],{lineTypeLimit:!0,lineColorLimit:!1,strokeColor:"#FF0000",strokeOpacity:1,color:"#FF0000",opacity:1,surroundLineLimit:!0,fillLimit:!0,fill:!0});var D,N=[],k=[];for(D=0;D<=p;D++)N.push(e[D]);for(N.push(s),k.push(s),D=p+1;D<e.length;D++)k.push(e[D]);var z=1.2*c;if(a>z){var F=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a-z,N);if(F.bfind){var G=F.pts,W=F.index,J=[];for(D=0;D<=W;D++)J.push(N[D]);J.push(G),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J)}}if(o-a>z){var H=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(z,k);if(H.bfind){var K=H.pts,q=H.index;for((J=[]).push(K),D=q+1;D<k.length;D++)J.push(k[D]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J)}}this.scalePoints=[],this.addScalePoint(s),this.addScalePoint(_),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=e.clone(),i=-1,a=0,u=0;u<l.length-1;u++){var p=[];p.push(l[u]),p.push(l[u+1]);var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,l[u],l[u+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(s,p).isOnPolyLine){var c=SuperMapAlgoPlot.PlottingUtil.distance(r,s);-1===i?(i=u,a=c):a>c&&(i=u,a=c)}}if(-1===i)return SuperMapAlgoPlot.PlottingUtil.distance(r,l[0])>SuperMapAlgoPlot.PlottingUtil.distance(r,l[l.length-1])?void(i=l.length-1):void(i=0);var P=0;if(0===i)P=SuperMapAlgoPlot.PlottingUtil.distance(l[0],s);else for(var f=0;f<i;f++)P+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if(P<0||P>n)return;this.scaleValues[0]=P/n}else if(1===t){var g=this.scaleValues[0]*n,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,l);if(!y.bfind)return;var h=y.pts,S=SuperMapAlgoPlot.PlottingUtil.distance(h,e)/n;S>.5&&(S=.5),this.scaleValues[1]=S;var b=SuperMapAlgoPlot.PlottingUtil.radian(h,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=b+90}}}}])&&fO(e.prototype,o),l&&fO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bO(t){"@babel/helpers - typeof";return(bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dO(t,e){return(dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vO(t);if(e){var n=vO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vO(t){return(vO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5022002=SO;var mO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=1.5*this.getDefaultSubSymbolSize();this.subSymbolScaleValue=n/l,this.subSymbolScaleValue>.2&&(this.subSymbolScaleValue=.2),this.scaleValues[0]=this.subSymbolScaleValue}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,l*r,0);for(var s=0;s<this.components.length;s++)this.components[s].style.strokeColor="#0000FF",this.components[s].style.lineColorLimit=!0,this.components[s].style.strokeOpacity=1,this.components[s].style.color="#0000FF",this.components[s].style.opacity=1;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e),this.addScalePoint(p);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,u,u,90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=0,a=0;if(0===t)i=(e.x-n.x)/r,this.scaleValues[2]=i,a=(e.y-n.y)/r,this.scaleValues[3]=a;else if(1===t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(n.x+r*i,n.y+r*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e);this.scaleValues[0]=p/r}}}}])&&AO(e.prototype,o),l&&AO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OO(t){"@babel/helpers - typeof";return(OO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UO(t,e){return(UO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=TO(t);if(e){var n=TO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function TO(t){return(TO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5022301=mO;var jO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=LO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,5!==e.scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen),e.scaleValues.push(e.sv_arrowTailWidth)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);5>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));var o=e*this.scaleValues[4],l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[1],t[0]);void 0!==t[0].z&&(l.pntLeft.z=t[0].z,l.pntRight.z=t[0].z),this.controlPoints=[],this.controlPoints.push(l.pntLeft),this.controlPoints.push(l.pntRight);for(var n=1;n<t.length;n++)this.controlPoints.push(new SuperMapAlgoPlot.Point(t[n].x,t[n].y));for(var r=[],i=0;i<this.scaleValues.length;i++)r.push(this.scaleValues[i]);this.scaleValues=[];for(var a=0;a<r.length-1;a++)this.scaleValues.push(r[a]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);for(var u=this.components[0],p=[],s=0;s<u.positionPoints.length;s++)p.push(u.positionPoints[s]);p.push(u.positionPoints[0]),u.positionPoints.push(u.positionPoints[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u.positionPoints,{fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1});var c=l.pntRight.clone();c.isScalePoint=!0,c.tag=3,this.addScalePoint(c),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),this.scaleValues=[];for(var P=0;P<r.length;P++)this.scaleValues.push(r[P]);this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){5>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));var l=o[0].clone(),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0!==n){var r=n*this.scaleValues[4],i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,o[1],o[0]);(o=[]).push(i.pntRight),o.push(i.pntLeft);for(var a=1;a<this.controlPoints.length;a++)o.push(new SuperMapAlgoPlot.Point(this.controlPoints[a].x,this.controlPoints[a].y));var u,p,s,c,P,f=o.length,g=this.operateCtrlPts(o);f=g.length,f--;var y=this.calcScaleValueCount(o.length);y++,this.scaleValues.length<y?(u=this.calcDefaultScaleValues()[0],p=this.calcDefaultScaleValues()[1],s=this.calcDefaultScaleValues()[2],c=this.calcDefaultScaleValues()[3],P=this.sv_arrowTailWidth):(u=this.scaleValues[0],p=this.scaleValues[1],s=this.scaleValues[2],c=this.scaleValues[3],P=this.scaleValues[4]);for(var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),S=[],b=0;b<this.scalePoints.length;b++)S.push(this.scalePoints[b].clone());if(0!==S.length){S[t]=e.clone();var A,d,M=f-1;A=f<=3?new SuperMapAlgoPlot.Point((g[0].x+g[1].x)/2,(g[0].y+g[1].y)/2):g[M-1].clone();var v,m,O,w,U,L,T=new SuperMapAlgoPlot.Point(0,0),j=new SuperMapAlgoPlot.Point(0,0),R=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,A,g[M],g[M+1],j,R),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,g[f],g[f-1],R,T),d=T.clone();var V=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(g[f],d,S[2]);if(v=V.dLen1,V.dLen2,0===v&&(v=.1),m=v,u=(v/=c+1)/h,1===t)w=(V=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(g[f],d,S[1])).dLen1,s=(U=V.dLen2)/v,c=(w-v)/v;else if(0===t)v=(V=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(g[f],d,S[0])).dLen1,p=(O=V.dLen2)/v,(L=SuperMapAlgoPlot.PlottingUtil.distance(g[f],g[f-1]))<2*v&&(v=.5*L),w=(V=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(g[f],d,S[1])).dLen1,s=(U=V.dLen2)/v,(c=(m-v)/v)<.1&&(s=U/(v=m/(1+(c=.1))),p=O/v),u=v/h;else if(2===t)u=v/h;else{P=SuperMapAlgoPlot.PlottingUtil.distance(e,l)/n}O=v*p,(L=SuperMapAlgoPlot.PlottingUtil.distance(g[f],g[f-1]))<2*v&&(O=(v=.5*L)*p,u=v/h),this.scaleValues[0]=u,this.scaleValues[1]=p,this.scaleValues[2]=s,this.scaleValues[3]=c,this.scaleValues[4]=P}}}}}])&&wO(e.prototype,o),l&&wO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function RO(t){"@babel/helpers - typeof";return(RO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _O(t,e){return(_O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xO(t);if(e){var n=xO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===RO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xO(t){return(xO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030103=jO;var BO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_O(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=EO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,e.scaleValues=[],e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);5>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth),this.scaleValues.push(30));var o=e*this.scaleValues[4],l=this.scaleValues[5],n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,n-l),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,n-l+180);if(SuperMapAlgoPlot.PlottingUtil.isRight(r,t[0],t[1])){var a=r;r=i,i=a}void 0!==t[0].z&&(r.z=t[0].z,i.z=t[0].z),this.controlPoints=[],this.controlPoints.push(r),this.controlPoints.push(i);for(var u=1;u<t.length;u++)this.controlPoints.push(new SuperMapAlgoPlot.Point(t[u].x,t[u].y));for(var p=[],s=0;s<this.scaleValues.length;s++)p.push(this.scaleValues[s]);this.scaleValues=[];for(var c=0;c<p.length-1;c++)this.scaleValues.push(p[c]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var P=this.components[0];P.positionPoints.push(P.positionPoints[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,P.positionPoints,{fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1});var f=i.clone();f.isScalePoint=!0,f.tag=3,this.addScalePoint(f),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),this.scaleValues=[];for(var g=0;g<p.length;g++)this.scaleValues.push(p[g]);this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){5>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));var l=o[0].clone(),n=o[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0!==r){var i=r*this.scaleValues[4],a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,o[1],o[0]);(o=[]).push(a.pntRight),o.push(a.pntLeft);for(var u=1;u<this.controlPoints.length;u++)o.push(new SuperMapAlgoPlot.Point(this.controlPoints[u].x,this.controlPoints[u].y));var p,s,c,P,f,g=o.length,y=this.operateCtrlPts(o);g=y.length,g--;var h=this.calcScaleValueCount(o.length);h++,this.scaleValues.length<h?(p=this.calcDefaultScaleValues()[0],s=this.calcDefaultScaleValues()[1],c=this.calcDefaultScaleValues()[2],P=this.calcDefaultScaleValues()[3],f=this.sv_arrowTailWidth):(p=this.scaleValues[0],s=this.scaleValues[1],c=this.scaleValues[2],P=this.scaleValues[3],f=this.scaleValues[4]);for(var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),b=[],A=0;A<this.scalePoints.length;A++)b.push(this.scalePoints[A].clone());if(0!==b.length){b[t]=e.clone();var d,M,v=g-1;d=g<=3?new SuperMapAlgoPlot.Point((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2):y[v-1].clone();var m,O,w,U,L,T,j=new SuperMapAlgoPlot.Point(0,0),R=new SuperMapAlgoPlot.Point(0,0),V=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,d,y[v],y[v+1],R,V),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,y[g],y[g-1],V,j),M=j.clone();var _=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(y[g],M,b[2]);if(m=_.dLen1,_.dLen2,0===m&&(m=.1),O=m,p=(m/=P+1)/S,1===t)U=(_=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(y[g],M,b[1])).dLen1,c=(L=_.dLen2)/m,P=(U-m)/m;else if(0===t)m=(_=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(y[g],M,b[0])).dLen1,s=(w=_.dLen2)/m,(T=SuperMapAlgoPlot.PlottingUtil.distance(y[g],y[g-1]))<2*m&&(m=.5*T),U=(_=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(y[g],M,b[1])).dLen1,c=(L=_.dLen2)/m,(P=(O-m)/m)<.1&&(c=L/(m=O/(1+(P=.1))),s=w/m),p=m/S;else if(2===t)p=m/S;else if(3===t){f=(i=SuperMapAlgoPlot.PlottingUtil.distance(e,l))/r;var E=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,e)*SuperMapAlgoPlot.PlottingUtil.RTOD,x=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[5]=x-E}w=m*s,(T=SuperMapAlgoPlot.PlottingUtil.distance(y[g],y[g-1]))<2*m&&(w=(m=.5*T)*s,p=m/S),this.scaleValues[0]=p,this.scaleValues[1]=s,this.scaleValues[2]=c,this.scaleValues[3]=P,this.scaleValues[4]=f}}}}}])&&VO(e.prototype,o),l&&VO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function CO(t){"@babel/helpers - typeof";return(CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IO(t,e){return(IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NO(t);if(e){var n=NO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NO(t){return(NO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030104=BO;var kO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1010);var e,o,l,n=DO(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){SuperMapAlgoPlot.AlgoSymbol1010.prototype.calculateParts.apply(this,arguments),this.components.length>0&&(this.components[0].style.fillStyle=0,this.components[0].style.fillLimit=!0),this.finish()}}])&&YO(e.prototype,o),l&&YO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zO(t){"@babel/helpers - typeof";return(zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function GO(t,e){return(GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JO(t);if(e){var n=JO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JO(t){return(JO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030105=kO;var HO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=WO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).MIN_GEOPT_COUNT=2,e.MAX_GEOPT_COUNT=1024,e.SV1_defaultATLenDivABLen=0,e.SV2_defaultAYPosScale=.65,e.SV_AJCtrl=.6,e.SV_ArrowWoCtrl=.6,e.SV2_DefaultAJWidDiviedByATLen=.148,e.SV3_DefaultAEWidDividedByATLen=.4,e.SV4_DefaultAELenDividedByATLen=.3,e.SV_ATScaleParameter=1.25,e.SV_ATLenDividedByATWid=1.35,e.SV_ATWidDividedByArrowWeiWid=.5,e.AB_VERTEX_COUNT=4,e.MIN_PTCOUNT_PERARROW=3,e.ATL_DIV_AWW=.7,e.ATL_DIV_ABL=.12,e.ATL_DIV_ABL_1=.18,e.DEFAULT_ARROW_TAIL_POS=.12,e.DUOJIANTOU_TAIL_RATE_1=8,e.DUOJIANTOU_TAIL_RATE_2=3,e.DUOJIANTOU_TAIL_RATE_3=.6,e.AB_CTRLPT_RATE1=0,e.AB_CTRLPT_RATE2=3,e.AB_CTRLPT_RATE3=.5,e.MIN_SCALEVALUE=.1,e.MAX_SCALEVALUE=1,e.m_scalePoints=[],e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol5030107",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),this.m_scalePoints=[];var t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.operateCtrlPts(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=this.scaleValues.length;if(n<2*l-1){0===n&&(this.scaleValues.push(this.SV1_defaultATLenDivABLen),n++);for(var r=2*l-1-n,i=0;i<r;i+=2)this.scaleValues.splice(n/2+1,0,this.SV1_defaultATLenDivABLen),this.scaleValues.splice(this.scaleValues.length,0,this.SV2_defaultAYPosScale)}else if(n>2*l-1){for(var a=0;a<l;a++)this.scaleValues.push(this.SV1_defaultATLenDivABLen);for(var u=0;u<l-1;u++)this.scaleValues.push(this.SV2_defaultAYPosScale)}var p=this.arrowMeshs(e);SuperMapAlgoPlot.PlottingUtil.clearSamePts(p.shapePts);for(var s=[],c=[],P=0;P<l;P++){var f=p.arrLeftPts2D[P],g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f),y=[],h=[],S=[],b=[];if(0===P){for(var A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*g,p.arrLeftPts2D[P]),d=0;d<=A.index;d++)h.push(p.arrLeftPts2D[P][d]);for(var M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.45*g,p.arrLeftPts2D[P]),v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*g,p.arrLeftPts2D[P]),m=M.index;m<=v.index;m++)S.push(p.arrLeftPts2D[P][m]);for(var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.95*g,p.arrLeftPts2D[P]).index;O<p.arrLeftPts2D[P].length;O++)b.push(p.arrLeftPts2D[P][O]);y.push(h),y.push(S),y.push(b)}else{A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.025*g,p.arrLeftPts2D[P]),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.85*g,p.arrLeftPts2D[P]);for(var w=A.index;w<=M.index;w++)h.push(p.arrLeftPts2D[P][w]);for(var U=(v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*g,p.arrLeftPts2D[P])).index;U<p.arrLeftPts2D[P].length;U++)S.push(p.arrLeftPts2D[P][U]);y.push(h),y.push(S)}s.push(y);var L=[],T=p.arrRightPts2D[P],j=SuperMapAlgoPlot.PlottingUtil.polylineDistance(T),R=[],V=[],_=[];if(P===l-1){for(var E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.1*j,p.arrRightPts2D[P]),x=0;x<E.index;x++)R.push(p.arrRightPts2D[P][x]);for(var B=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.15*j,p.arrRightPts2D[P]),C=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.6*j,p.arrRightPts2D[P]),Y=B.index;Y<=C.index;Y++)V.push(p.arrRightPts2D[P][Y]);for(var I=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.65*j,p.arrRightPts2D[P]).index;I<p.arrRightPts2D[P].length;I++)_.push(p.arrRightPts2D[P][I]);L.push(R),L.push(V),L.push(_)}else{E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.15*j,p.arrRightPts2D[P]);for(var D=0;D<E.index;D++)R.push(p.arrRightPts2D[P][D]);B=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.175*j,p.arrRightPts2D[P]),C=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.975*j,p.arrRightPts2D[P]);for(var N=B.index;N<=C.index;N++)V.push(p.arrRightPts2D[P][N]);L.push(R),L.push(V)}c.push(L)}for(var k=0;k<l;k++){for(var z=0;z<s[k].length-1;z++){var F=s[k][z];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,F)}var G=[];for(O=0;O<s[k][s[k].length-1].length;O++)G.push(s[k][s[k].length-1][O]);for(O=0;O<p.arrHeadPts2D[k].length;O++)G.push(p.arrHeadPts2D[k][O]);for(O=0;O<c[k][0].length;O++)G.push(c[k][0][O]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,G);for(var W=1;W<c[k].length;W++){var J=c[k][W];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J)}}this.scalePoints=[];for(var H=0;H<this.m_scalePoints.length;H++)this.m_scalePoints[H].isScalePoint=!0,this.m_scalePoints[H].tag=H,this.addScalePoint(this.m_scalePoints[H]);this.finish()}}},{key:"arrowMeshs",value:function(t){for(var e=[],o=[],l=[],n=new SuperMapAlgoPlot.Path2D,r=t.length,i=Math.floor(r/this.MIN_PTCOUNT_PERARROW),a=this.generateAWWidth(i,t),u=[],p=[],s=0,c=0,P=0,f=[],g=0,y=0;g<i;g++,y+=this.MIN_PTCOUNT_PERARROW){f[0]=t[y],f[1]=t[y+1],f[2]=t[y+2],s=this.scaleValues[g];var h=this.generateArrowBodyPts(f,a[g],s);s=h.dATLenDivABLen,u[g]=h.arrowBodyPts,p.push(s)}for(var S=[],b=0,A=0,d=0,M=[],v=[],m=0;m<i-1;m++,A+=this.MIN_PTCOUNT_PERARROW){d=A+this.MIN_PTCOUNT_PERARROW,M[0]=t[A],M[1]=t[A+1],M[2]=t[A+2],v[0]=t[d],v[1]=t[d+1],v[2]=t[d+2],b=this.scaleValues[i+m];var O=this.generateAYPts(M,u[m],v,u[m+1],b);S.push(O.arrowLeftYaoPts),S.push(O.arrowRightYaoPts)}var w=[],U=u[0],L=[],T=0,j=[];n.MoveTo(U[0]),n.CurveTo(U[1],U[2],U[3]),n.CurveTo(U[4],U[5],U[6]),n.ToSubPathPolygons(L),e.push(L[0]),T=L[0].length;for(var R=7;R<10;R++)n.LineTo(U[R]);for(L=[],n.ToSubPathPolygons(L);T<L[0].length;T++)j.push(L[0][T]);for(l.push(j),w.push(U[0]),w.push(t[0]),c=1,P=this.MIN_PTCOUNT_PERARROW;c<i;c++,P+=this.MIN_PTCOUNT_PERARROW){var V=u[c],_=c+c-2,E=S[_];for(n.LineTo(E[0]),n.CurveTo(E[1],E[2],E[3]),L=[],j=[],n.ToSubPathPolygons(L);T<L[0].length;T++)j.push(L[0][T]);o.push(j);var x=S[_+1];for(n.CurveTo(x[1],x[2],x[3]),L=[],j=[],n.ToSubPathPolygons(L);T<L[0].length;T++)j.push(L[0][T]);e.push(j);for(var B=7;B<10;B++)n.LineTo(V[B]);for(L=[],j=[],n.ToSubPathPolygons(L);T<L[0].length;T++)j.push(L[0][T]);l.push(j),w.push(t[P].clone())}var C=u[i-1];for(n.LineTo(C[10]),n.CurveTo(C[11],C[12],C[13]),n.CurveTo(C[14],C[15],C[16]),L=[],j=[],n.ToSubPathPolygons(L);T<L[0].length;T++)j.push(L[0][T]);o.push(j),w.push(C[16]);var Y=[];return n.ToSubPathPolygons(Y),{shapePts:Y[0],arrLeftPts2D:e,arrRightPts2D:o,arrHeadPts2D:l}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=this.operateCtrlPts(this.controlPoints),l=o.length,n=Math.floor(l/this.MIN_PTCOUNT_PERARROW),r=0;if(t<n){var i=[],a=t*this.MIN_PTCOUNT_PERARROW;i[0]=o[a],i[1]=o[a+1],i[2]=o[a+2];var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),p=new SuperMapAlgoPlot.Point(0,0),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,i[0],i[1],i[2],p,s),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,i[2],i[1],s,c),r=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(i[2],c,e).dLen1/(this.SV4_DefaultAELenDividedByATLen+1)/u}else{var P=[],f=[],g=(t-n)*this.MIN_PTCOUNT_PERARROW;P[0]=o[g],P[1]=o[g+1],P[2]=o[g+2];var y=(t-n+1)*this.MIN_PTCOUNT_PERARROW;f[0]=o[y],f[1]=o[y+1],f[2]=o[y+2];var h=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),b=new SuperMapAlgoPlot.Point(0,0);h.x=.5*(P[2].x+f[2].x),S.x=.5*(P[1].x+f[1].x),b.x=.5*(P[0].x+f[0].x),h.y=.5*(P[2].y+f[2].y),S.y=.5*(P[1].y+f[1].y),b.y=.5*(P[0].y+f[0].y);var A=SuperMapAlgoPlot.PlottingUtil.distance(h,S),d=SuperMapAlgoPlot.PlottingUtil.distance(b,S),M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h,S,e),v=M.dLen1;r=v<A?v/(A+d):((v=(M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(S,b,e)).dLen1)+A)/(A+d)}r>this.MAX_SCALEVALUE?r=this.MAX_SCALEVALUE:r<this.MIN_SCALEVALUE&&(r=this.MIN_SCALEVALUE),this.scaleValues[t]=r}this.calculateParts()}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=o%this.MIN_PTCOUNT_PERARROW,r=new SuperMapAlgoPlot.Point;if(2===n&&(r.x=.5*(e[o-2].x+e[o-1].x),r.y=.5*(e[o-2].y+e[o-1].y),r.x===e[o-1].x&&r.y===e[o-1].y||(e.push(e[o-1].clone()),e[o-1]=r,o++,l++)),o>3)for(var i=l-1,a=0,u=i;a<i;u--,a++)for(var p=u*this.MIN_PTCOUNT_PERARROW,s=0;s<p;s+=this.MIN_PTCOUNT_PERARROW){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[s+3],e[s+1],e[s+2])){var c=e[s];e[s]=e[s+3],e[s+3]=c,c=e[s+1],e[s+1]=e[s+4],e[s+4]=c,c=e[s+2],e[s+2]=e[s+5],e[s+5]=c}}return e}},{key:"generateArrowBodyPts",value:function(t,e,o){var l=[],n=[],r=[],i=[],a=[],u=[],p=[],s=t.length-1;if(s<2)return{dATLenDivABLen:o=0,arrowBodyPts:l};var c=o,P=this.SV2_DefaultAJWidDiviedByATLen,f=this.SV3_DefaultAEWidDividedByATLen,g=this.SV4_DefaultAELenDividedByATLen,y=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(y),S=0===e?h*this.ATL_DIV_ABL_1:(h+e)*this.ATL_DIV_ABL,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(S,y[1],y[0]);n[1]=b.pntLeft.clone(),r[1]=b.pntRight.clone();var A=0;A=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,0,1e-14)?S*this.ATL_DIV_AWW:h*c;var d=SuperMapAlgoPlot.PlottingUtil.distance(y[1],y[2]);A+A>d&&(A=.5*d);var M=A*P;y.push(y[s].clone());var v,m=0;v=h-A;var O=[],w=0;for(w=2;w<=s;w++)m+=SuperMapAlgoPlot.PlottingUtil.distance(y[w-1],y[w-2]),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v,0,1e-14)?O[w]=0:SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v-m,0,1e-14)?O[w]=M:O[w]=M+(S-M)*Math.pow((v-m)/v,this.SV_ATScaleParameter);O[s+1]=M;var U=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),T=new SuperMapAlgoPlot.Point(0,0);for(w=2;w<=s;w++){SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,y[w-2],y[w-1],y[w],L,T),s===w&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,y[s],y[s-1],T,U);var j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O[w],L,y[w-1]);r[w]=j.pntLeft,n[w]=j.pntRight}var R,V,_=U.clone();if(SuperMapAlgoPlot.PlottingUtil.distance(y[s],_)>0){var E=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,y[s],U);y[s]=E.clone()}for(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[s+1],y[s]),n[s+1]=b.pntLeft,r[s+1]=b.pntRight,w=2;w<=s;w++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,n[w-1],n[w],n[w+1],L,T),i[w]=L.clone(),a[w]=T.clone(),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,r[w-1],r[w],r[w+1],L,T),u[w]=L.clone(),p[w]=T.clone();SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,n[1],n[2],i[2],U),a[1]=U.clone(),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,r[1],r[2],u[2],U),p[1]=U.clone();V=SuperMapAlgoPlot.PlottingUtil.distance(n[s+1],n[s])*(1/3),(R=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(V,y[s],y[s+1])).x+=n[s+1].x-y[s].x,R.y+=n[s+1].y-y[s].y,V=(S-M)*Math.pow(V/v,this.SV_ATScaleParameter+.3),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(V,n[s+1],R),i[s+1]=b.pntLeft.clone(),V=SuperMapAlgoPlot.PlottingUtil.distance(r[s+1],r[s])*(1/3),(R=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(V,y[s],y[s+1])).x+=r[s+1].x-y[s].x,R.y+=r[s+1].y-y[s].y,V=(S-M)*Math.pow(V/v,this.SV_ATScaleParameter+.3),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(V,r[s+1],R),u[s+1]=b.pntRight.clone();var x=[],B=A*g,C=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(B,y[s],y[s+1]);this.m_scalePoints.push(C.clone()),B=A*f,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(B,y[s+1],C),x.push(b.pntRight),x.push(y[s+1]),x.push(b.pntLeft);var Y=[];for(Y.push(n[s+1]),w=s;w>=1;w--)Y.push(i[w+1]),Y.push(a[w]),Y.push(n[w]);var I=[];for(w=1;w<=s;w++)I.push(r[w]),I.push(p[w]),I.push(u[w+1]);I.push(r[s+1]),l.push.apply(l,I),l.push.apply(l,x),l.push.apply(l,Y),o=A/h;var D=[];for(w=Y.length-1;w>=0;w--)D.push(Y[w]);return{dATLenDivABLen:o,arrowBodyPts:l}}},{key:"generateAYPts",value:function(t,e,o,l,n){var r=new SuperMapAlgoPlot.Point(.5*(t[2].x+o[2].x),.5*(t[2].y+o[2].y)),i=new SuperMapAlgoPlot.Point(.5*(t[1].x+o[1].x),.5*(t[1].y+o[1].y)),a=new SuperMapAlgoPlot.Point(.5*(t[0].x+o[0].x),.5*(t[0].y+o[0].y)),u=SuperMapAlgoPlot.PlottingUtil.distance(r,i),p=SuperMapAlgoPlot.PlottingUtil.distance(a,i),s=n*(u+p),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0);if(s>u){s=u+p-s,c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(s,a,i);var g=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),y=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);g=g*s/p,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(g,t[0],t[1]),y=y*s/p,f=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(y,o[0],o[1])}else{c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(s,r,i);var h=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]),S=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]);h=h*s/u,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(h,t[2],t[1]),S=S*s/u,f=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(S,o[2],o[1])}this.m_scalePoints.push(c.clone());var b=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,P),A=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,f),d=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(b,c,P),M=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,c,f),v=e[11].clone(),m=e[10].clone(),O=l[5].clone(),w=l[6].clone(),U=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,c,P),L=SuperMapAlgoPlot.PlottingUtil.distance(U.intersectPoint,m),T=SuperMapAlgoPlot.PlottingUtil.distance(m,c);L=L>T?this.SV_AJCtrl*T:this.SV_AJCtrl*L;var j=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(L,m,v);v=j.clone(),e[11]=j.clone(),U=SuperMapAlgoPlot.PlottingUtil.intersectLines(w,O,c,f),L=(L=SuperMapAlgoPlot.PlottingUtil.distance(U.intersectPoint,w))>(T=SuperMapAlgoPlot.PlottingUtil.distance(w,c))?this.SV_AJCtrl*T:this.SV_AJCtrl*L,O=(j=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(L,w,O)).clone(),l[5]=j.clone();var R=[];R.push(m),R.push(v),R.push(d),R.push(c);var V=[];return V.push(c),V.push(M),V.push(O),V.push(w),{arrowLeftYaoPts:R,arrowRightYaoPts:V}}},{key:"generateAWWidth",value:function(t,e){var o=[];if(t>0)if(1==t)o.push(0);else{var l=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[this.MIN_PTCOUNT_PERARROW]);o.push(l);for(var n=1,r=this.MIN_PTCOUNT_PERARROW;n<t-1;n++,r+=this.MIN_PTCOUNT_PERARROW){l=.5*(SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r])+SuperMapAlgoPlot.PlottingUtil.distance(e[r],e[r+this.MIN_PTCOUNT_PERARROW])),o.push(l)}l=SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r]),o.push(l)}return o}},{key:"addArrowTail",value:function(t,e,o,l,n){if(!(t<0)){var r=o.length;switch(l){case 0:break;case 1:n.LineTo(o[0].x,o[0].y);break;case 2:var i=new SuperMapAlgoPlot.Point(.5*(o[0].x+o[r-1].x),.5*(o[0].y+o[r-1].y)),a=new SuperMapAlgoPlot.Point(.5*(e[2].x+e[3*t-1].x),.5*(e[2].y+e[3*t-1].y)),u=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[r-1]),p=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(u*this.DEFAULT_ARROW_TAIL_POS,i,a),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getPointsByTriangle(this.DUOJIANTOU_TAIL_RATE_1,this.DUOJIANTOU_TAIL_RATE_2,o[0].x,o[0].y,p.x,p.y,o[r-1].x,o[r-1].y,s,c);var P=new SuperMapAlgoPlot.Point(0,0);P=SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid(this.DUOJIANTOU_TAIL_RATE_3,o[0],p,s,P);var f=new SuperMapAlgoPlot.Point(0,0);f=SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid(this.DUOJIANTOU_TAIL_RATE_3,o[r-1],p,c,f),n.CurveTo(f,c,p),n.CurveTo(s,P,o[0]);break;case 3:i=new SuperMapAlgoPlot.Point(.5*(o[0].x+o[r-1].x),.5*(o[0].y+o[r-1].y)),a=new SuperMapAlgoPlot.Point(.5*(e[2].x+e[3*t-1].x),.5*(e[2].y+e[3*t-1].y)),u=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[r-1]),p=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(u*this.DEFAULT_ARROW_TAIL_POS,i,a),n.LineTo(p),n.closePath()}return n}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=this.operateCtrlPts(o),n=(l.length,this.MIN_PTCOUNT_PERARROW,0);if(pindex<arrowCount){var r=[],i=pindex*this.MIN_PTCOUNT_PERARROW;r[0]=l[i],r[1]=l[i+1],r[2]=l[i+2];for(var a=0,u=0;u<r.length-1;u++)a+=SuperMapAlgoPlot.PlottingUtil.distance(r[u],r[u+1]);var p=new SuperMapAlgoPlot.Point(0,0),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getPointsByTriangle(this.AB_CTRLPT_RATE1,AB_CTRLPT_RATE2,r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,p,s),SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid(this.AB_CTRLPT_RATE3,r[2].x,r[2].y,r[1].x,r[1].y,s.x,s.y,c),n=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(r[2],c,posPt).dLen1/(this.SV4_DefaultAELenDividedByATLen+1)/a}else{var P=[],f=[],g=(pindex-arrowCount)*this.MIN_PTCOUNT_PERARROW;P[0]=l[g],P[1]=l[g+1],P[2]=l[g+2];var y=(pindex-arrowCount+1)*this.MIN_PTCOUNT_PERARROW;f[0]=l[y],f[1]=l[y+1],f[2]=l[y+2];var h,S,b=new SuperMapAlgoPlot.Point(.5*(P[2].x+f[2].x),.5*(P[2].y+f[2].y)),A=new SuperMapAlgoPlot.Point(.5*(P[1].x+f[1].x),.5*(P[1].y+f[1].y)),d=new SuperMapAlgoPlot.Point(.5*(P[0].x+f[0].x),.5*(P[0].y+f[0].y));h=SuperMapAlgoPlot.PlottingUtil.distance(b,A),S=SuperMapAlgoPlot.PlottingUtil.distance(d,A);var M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(b,A,posPt);if(M.dLen1<h)n=M.dLen1/(h+S);else n=(SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(A,d,posPt).dLen1+h)/(h+S)}n>this.MAX_SCALEVALUE?n=this.MAX_SCALEVALUE:n<this.MIN_SCALEVALUE&&(n=this.MIN_SCALEVALUE),this.scaleValues[pindex]=n}}}])&&FO(e.prototype,o),l&&FO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KO(t){"@babel/helpers - typeof";return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QO(t,e){return(QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function XO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZO(t);if(e){var n=ZO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZO(t){return(ZO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030107=HO;var $O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=XO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,.8*a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}var P=e[0],f=e[1],g=e[e.length-2],y=e[e.length-1],h=.3*a,S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(h,f,P),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(h,g,y),A=S.pntLeft,d=b.pntLeft,M=[];M.push(P),M.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=[];v.push(y),v.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v);var m=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(m.pts,o*this.scaleValues[0],o*this.scaleValues[0],i+90);this.addScalePoint(O,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&qO(e.prototype,o),l&&qO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tw(t){"@babel/helpers - typeof";return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ew(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ow(t,e){return(ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nw(t);if(e){var n=nw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nw(t){return(nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030301=$O;var rw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[0],l=.1*o,n=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],l),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o/2,t[0],n),i=r.pntRight,a=r.pntLeft,u=[];u.push(i),u.push(t[0]),u.push(a);var p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(u);p=SuperMapAlgoPlot.PlottingUtil.clearSamePts(p);var s={lineColorLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0,strokeColor:"#0000ff",color:"#0000ff",surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,s);var c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,e,!1),P=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(c);P=SuperMapAlgoPlot.PlottingUtil.clearSamePts(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,s),this.addScalePoint(i,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=2*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n<.4&&(n=.4),this.scaleValues[0]=n}}}}])&&ew(e.prototype,o),l&&ew(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iw(t){"@babel/helpers - typeof";return(iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uw(t,e){return(uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sw(t);if(e){var n=sw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sw(t){return(sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5031401=rw;var cw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(90),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[2]=2*l}var n=o*this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(a.bfind){var u=a.pts.clone(),p=e[a.index].clone(),s=e[a.index+1].clone(),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r),f=[];f.push(a.pts),f.push(P);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var g=SuperMapAlgoPlot.PlottingUtil.radian(u,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=new SuperMapAlgoPlot.Point(-.2*i,.05*i),h=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,y,g),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,h,g),A=[];A.push(P),A.push(S),A.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fill:!0});var d=.3*i,M=.6*i,v=n-M;v<0&&(v=0);var m=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(v,e);if(m.bfind){var O=[];O.push(m.pts);for(var w=m.index;w>=0;w--)O.push(e[w]);var U=[];U.push(m.pts);for(var L=m.index+1;L<e.length;L++)U.push(e[L]);var T=.6*d,j=[];if(O.length>1){var R=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(T,O);if(R.bfind){(j=[]).push(R.pts);for(var V=R.index+1;V<O.length;V++)j.push(O[V]);O=[],j.length>1&&(O=O.concat(j))}}if(O.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O),U.length>1){var _=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(T,U);if(_.bfind){(j=[]).push(_.pts);for(var E=_.index+1;E<U.length;E++)j.push(U[E]);U=[],j.length>1&&(U=U.concat(j))}}var x=n+M;x>o&&(x=o),x=o-x;for(var B=[],C=U.length-1;C>=0;C--)B.push(U[C]);var Y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(x,B);if(Y.bfind){var I=[];I.push(Y.pts);for(var D=Y.index;D>=0;D--)I.push(B[D]);var N=[];N.push(Y.pts);for(var k=Y.index+1;k<B.length;k++)N.push(B[k]);if(I.length>1){var z=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(T,I);if(z.bfind){(j=[]).push(z.pts);for(var F=z.index+1;F<I.length;F++)j.push(I[F]);I=[],j.length>1&&(I=I.concat(j))}}if(I.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I),N.length>1){var G=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(T,N);if(G.bfind){(j=[]).push(G.pts);for(var W=G.index+1;W<N.length;W++)j.push(N[W]);N=[],j.length>1&&(N=N.concat(j))}}if(N.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N),this.subSymbols.length>0){if(null!==this.subSymbols[0].symbolData)for(var J=0;J<this.subSymbols[0].symbolData.innerCells.length;J++)34===this.subSymbols[0].symbolData.innerCells[J].type&&this.subSymbols[0].symbolData.innerCells.splice(J,1);this.computeSubSymbol(this.subSymbols[0],m.pts,1.2*d,c-90),this.computeSubSymbol(this.subSymbols[1],Y.pts,1.2*d,c-90)}this.addScalePoint(a.pts,0),this.addScalePoint(P,1),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(0>t||1<t)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=[],i=0;i<l.length;i++)r.push(l[i]);for(var a=-1,u=new SuperMapAlgoPlot.Point(0,0),p=0,s=0;s<r.length-1;s++){var c=[];c.push(r[s]),c.push(r[s+1]);var P=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,r[s],r[s+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(P,c).isOnPolyLine){var f=SuperMapAlgoPlot.PlottingUtil.distance(e,P);-1===a?(a=s,u=P,p=f):p>f&&(a=s,u=P,p=f)}}if(-1===a||a>r.length-1)return;for(var g=0,y=0;y<a;y++){var h=l[y].clone(),S=l[y+1].clone();g+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[a].clone();if((g+=SuperMapAlgoPlot.PlottingUtil.distance(b,u))<0||g>n)return;this.scaleValues[0]=g/n}if(1===t){var A=n*this.scaleValues[0],d=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(A,l);if(!d.bfind)return;var M=d.pts.clone(),v=new SuperMapAlgoPlot.Point(l[d.index].x,l[d.index].y),m=new SuperMapAlgoPlot.Point(l[d.index+1].x,l[d.index+1].y),O=SuperMapAlgoPlot.PlottingUtil.radian(v,m)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.radian(M,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[1]=w-O;var U=SuperMapAlgoPlot.PlottingUtil.distance(M,e);this.scaleValues[2]=U/n}}}}])&&aw(e.prototype,o),l&&aw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pw(t){"@babel/helpers - typeof";return(Pw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gw(t,e){return(gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hw(t);if(e){var n=hw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hw(t){return(hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5032003=cw;var Sw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=e*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI;if(!this.isEdit){var i=this.getSubSymbolScaleValue();this.scaleValues[2]=i}var a=e*this.scaleValues[2],u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==u.index){var p=u.pt,s=new SuperMapAlgoPlot.Point(l[u.index].x,l[u.index].y),c=new SuperMapAlgoPlot.Point(l[u.index+1].x,l[u.index+1].y),P=180*SuperMapAlgoPlot.PlottingUtil.radian(s,c)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,a,a,P+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,f]);var g=180*SuperMapAlgoPlot.PlottingUtil.radian(p,f)/Math.PI,y=new SuperMapAlgoPlot.Point(-.2*a,.05*a),h=new SuperMapAlgoPlot.Point(-.2*a,-.05*a),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,y,g),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,g);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[f,S,b],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0});var A=.5*SuperMapAlgoPlot.PlottingUtil.distance(p,f);y=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,A,A,P+r+30),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,A,A,P+r-30);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[y,h]),this.addScalePoint(p,0),this.addScalePoint(f,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=-1,a=0,u=new SuperMapAlgoPlot.Point(0,0),p=0;p<l.length-1;p++){var s=[];s.push(l[p]),s.push(l[p+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[p],l[p+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,s).index){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,c);-1==i?(i=p,u=c,a=P):a>P&&(i=p,u=c,a=P)}}if(-1==i||i>l.length-1)return;n=0;for(var f=0;f<i;f++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[i],u))<0||n>r)return;var g=n/r;this.scaleValues[0]=g}else if(1===t){var y=r*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,y);if(-1===h.index)return;var S=h.pt,b=l[h.index],A=l[h.index+1],d=SuperMapAlgoPlot.PlottingUtil.radian(b,A),M=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-d;this.scaleValues[1]=M;var v=(n=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/r;this.scaleValues[2]=v}}}}])&&fw(e.prototype,o),l&&fw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bw(t){"@babel/helpers - typeof";return(bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dw(t,e){return(dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vw(t);if(e){var n=vw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vw(t){return(vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5032004=Sw;var mw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Mw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var n=e*this.scaleValues[0],r=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,i=e*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==a.index){var u=a.pt,p=a.index,s=u,c=l[p],P=l[p+1],f=SuperMapAlgoPlot.PlottingUtil.radian(c,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,1.5*i,1.5*i,f+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,g]);var y=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(-.2*i,.05*i),S=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,h,y),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,S,y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[g,b,A],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0});var d=new SuperMapAlgoPlot.Point(.6*i,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,d,y),v=.4*i*this.scaleValues[5],m=.4*i*this.scaleValues[6],O=new SuperMapAlgoPlot.Point(0,-.9*(v-.25*m)),w=new SuperMapAlgoPlot.Point(0,.9*(v-.25*m)),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,O,y),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,w,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[U,L]);var T=.7*v,j=new SuperMapAlgoPlot.Point(0,-1.1*(v-.1*m)),R=new SuperMapAlgoPlot.Point(0,1.1*(v-.1*m)),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,j,y),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,R,y);if(this.subSymbols.length>0){for(var E=0;E<this.subSymbols.length;E++)if(null!==this.subSymbols[E].symbolData)for(var x=0;x<this.subSymbols[E].symbolData.innerCells.length;x++)34===this.subSymbols[E].symbolData.innerCells[x].type&&this.subSymbols[E].symbolData.innerCells.splice(x,1);this.computeSubSymbol(this.subSymbols[0],V,T,f-90),this.computeSubSymbol(this.subSymbols[1],_,T,f-90)}this.addScalePoint(u,0),this.addScalePoint(g,1);var B=new SuperMapAlgoPlot.Point(0,-v);SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,B,y);this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p,s,c=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(c=SuperMapAlgoPlot.PlottingUtil.clearSamePts(c),0===t){for(var P=[],f=0;f<c.length;f++)P.push(new SuperMapAlgoPlot.Point(c[f].x,c[f].y));for(var g=-1,y=0,h=new SuperMapAlgoPlot.Point(0,0),S=0;S<P.length-1;S++){var b=[];b.push(P[S]),b.push(P[S+1]);var A=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,P[S],P[S+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(A,b).index){var d=SuperMapAlgoPlot.PlottingUtil.distance(e,A);-1==g?(g=S,h=A,y=d):y>d&&(g=S,h=A,y=d)}}if(-1==g||g>P.length-1)return;r=0;for(var M=0;M<g;M++)r+=SuperMapAlgoPlot.PlottingUtil.distance(c[M],c[M+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(c[g],h))<0||r>l)return;var v=r/l;this.scaleValues[0]=v}else if(1===t){i=l*this.scaleValues[0];var m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(c,i);if(-1===m.index)return;a=m.pt,u=c[m.index],p=c[m.index+1],s=SuperMapAlgoPlot.PlottingUtil.radian(u,p);var O=SuperMapAlgoPlot.PlottingUtil.radian(a,e)-s;this.scaleValues[1]=O;var w=(r=SuperMapAlgoPlot.PlottingUtil.distance(a,e))/l/1.5;this.scaleValues[2]=w}}}}])&&Aw(e.prototype,o),l&&Aw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ow(t){"@babel/helpers - typeof";return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ww(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Uw(t,e){return(Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tw(t);if(e){var n=Tw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ow(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tw(t){return(Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50321=mw;var jw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lw(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=.5*o,n=o*this.getSubSymbolScaleValue()/1.2,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e);if(r.bfind){var i=r.pts.clone(),a=e[r.index].clone(),u=e[r.index+1].clone(),p=SuperMapAlgoPlot.PlottingUtil.radian(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,p+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,p+270),P=[];P.push(r.pts),P.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0});var f=SuperMapAlgoPlot.PlottingUtil.radian(i,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,n,n,f+30),y=[];y.push(s),y.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=new SuperMapAlgoPlot.Point(-.2*n,.05*n),b=new SuperMapAlgoPlot.Point(-.2*n,-.05*n),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,S,h),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,b,h),M=[];M.push(g),M.push(A),M.push(d);var v={fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,v);var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,n,n,f+330),O=[];O.push(s),O.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=SuperMapAlgoPlot.PlottingUtil.radian(s,m)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,S,w),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,b,w),T=[];T.push(m),T.push(U),T.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,T,v),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,n,p+270),this.finish()}}}}])&&ww(e.prototype,o),l&&ww(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Rw(t){"@babel/helpers - typeof";return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _w(t,e){return(_w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ew(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xw(t);if(e){var n=xw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xw(t){return(xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033001=jw;var Bw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_w(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ew(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0]*l,r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,n),u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),s=[];s.push(u.pntRight),s.push(u.pntLeft);var c={lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,c);var P=[];P.push(p.pntRight),P.push(p.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,c);var f=[];f.push(t[0]),f.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=[];g.push(a),g.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,2*n,y-90),this.addScalePoint(u.pntLeft,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n>.48&&(n=.48),this.scaleValues[0]=n}}}}])&&Vw(e.prototype,o),l&&Vw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Cw(t){"@babel/helpers - typeof";return(Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Iw(t,e){return(Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nw(t);if(e){var n=Nw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nw(t){return(Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033802=Bw;var kw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Dw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0]*l,r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,n),u=[];u.push(t[0]),u.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);var p=[];p.push(a),p.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),P=[];P.push(s.pntRight),P.push(s.pntLeft);var f={lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,f);var g=[];g.push(c.pntRight),g.push(c.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,f);var y=[];y.push(t[0]),y.push(i);var h=[];h.push(a),h.push(t[1]);var S=SuperMapAlgoPlot.PlottingUtil.paraLine(y,n,!0),b=SuperMapAlgoPlot.PlottingUtil.paraLine(y,n,!1),A=SuperMapAlgoPlot.PlottingUtil.paraLine(h,n,!0),d=SuperMapAlgoPlot.PlottingUtil.paraLine(h,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var M=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,2*n,M),this.addScalePoint(s.pntRight,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n>.48&&(n=.48),this.scaleValues[0]=n}}}}])&&Yw(e.prototype,o),l&&Yw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zw(t){"@babel/helpers - typeof";return(zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gw(t,e){return(Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ww(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jw(t);if(e){var n=Jw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jw(t){return(Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033803=kw;var Hw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ww(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.5),e.scaleValues.push(-5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),o=t.length;if(!(t.length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.5),this.scaleValues.push(-5));for(var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=[],i=[],a=0;a<=360;a+=5)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,a));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n)),i.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i);if(this.addArrow(i,this.scaleValues[0]*u/e),o>2){for(var p=[],s=0;s<=360;s+=5)p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[2],l,l,s));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}if(o>3)for(var c=3;c<t.length;c++){var P=[],f=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[2],t[c])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(P.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[2],l,l,f)),P.push(new SuperMapAlgoPlot.Point(t[c].x,t[c].y)),c>3){for(var g=.25*SuperMapAlgoPlot.PlottingUtil.distance(P[0],P[1]),y=.1*g,h=this.computeDashLine(g,y,P),S=0;S<h.length;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h[S]);u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P),this.addArrowWithOutLine(P,this.scaleValues[0]*u/e)}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P),this.addArrow(P,this.scaleValues[0]*u/e)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length}}])&&Fw(e.prototype,o),l&&Fw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kw(t){"@babel/helpers - typeof";return(Kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qw(t,e){return(Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zw(t);if(e){var n=Zw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zw(t){return(Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50341=Hw;var $w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Xw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.5),e.scaleValues.push(-5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),o=t.length;if(!(t.length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.5),this.scaleValues.push(-5));for(var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=[],i=[],a=0;a<=360;a+=5)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,a));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n)),i.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i);if(this.addArrow(i,this.scaleValues[0]*u/e),o>2){var p=[];n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[2])*SuperMapAlgoPlot.PlottingUtil.RTOD,p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n)),p.push(t[2]),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p),this.addArrow(p,this.scaleValues[0]*u/e)}if(o>3)for(var s=3;s<t.length;s++){p=[],n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[s])*SuperMapAlgoPlot.PlottingUtil.RTOD,p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n)),p.push(t[s]);for(var c=.25*SuperMapAlgoPlot.PlottingUtil.distance(p[0],p[1]),P=.1*c,f=this.computeDashLine(c,P,p),g=0;g<f.length;g++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[g]);u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p),this.addArrowWithOutLine(p,this.scaleValues[0]*u/e)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length}}])&&qw(e.prototype,o),l&&qw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tU(t){"@babel/helpers - typeof";return(tU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oU(t,e){return(oU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nU(t);if(e){var n=nU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nU(t){return(nU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034101=$w;var rU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.5),e.scaleValues.push(-5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),o=t.length;if(!(t.length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.5),this.scaleValues.push(-5));var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n+120),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n+240),a=[];if(a.push(t[1]),a.push(r),a.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a),o>2)for(var u=2;u<t.length;u++)if(u%2==0&&t.length-2>=u){var p=[];if(p.push(this.getMinDisPt(t[u],t[1],r,i)),p.push(t[u+1]),2==u){for(var s=.25*SuperMapAlgoPlot.PlottingUtil.distance(p[0],p[1]),c=.1*s,P=this.computeDashLine(s,c,p),f=0;f<P.length;f++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[f]);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);this.addArrowWithOutLine(p,this.scaleValues[0]*g/e)}else{g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);this.addArrow(p,this.scaleValues[0]*g/e)}}this.finish()}}},{key:"getMinDisPt",value:function(t,e,o,l){var n,r=SuperMapAlgoPlot.PlottingUtil.distance(t,e),i=SuperMapAlgoPlot.PlottingUtil.distance(t,o),a=SuperMapAlgoPlot.PlottingUtil.distance(t,l);return(n=(n=r<i?r:i)<a?n:a)==r?e:n==i?o:l}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length;if(!(o.length<2)){if(0==t){var n,r;if(2==l)n=r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);else if((n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]))<(r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[2]))){var i=n;n=r,r=i}var a=r*this.scaleValues[1];(i=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/a)<=2&&(this.scaleValues[1]=i*this.scaleValues[1])}if(1==t){var u=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[0],e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=u}}}}])&&eU(e.prototype,o),l&&eU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iU(t){"@babel/helpers - typeof";return(iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uU(t,e){return(uU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sU(t);if(e){var n=sU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sU(t){return(sU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034102=rU;var cU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=l*this.scaleValues[2],a=l*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(o.x+i,o.y+a),p=l*r,s=new SuperMapAlgoPlot.Point(u.x-.5*p,u.y);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],s,p,0);var c=new SuperMapAlgoPlot.Point(u.x+.5*p,u.y),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.5*p,.5*p,-90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.3*p,.3*p,90),g=[];g.push(P),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.2*p,.2*p,90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.05*p,.05*p,0),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.05*p,.05*p,180),b=[];b.push(y),b.push(h),b.push(S);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{fillLimit:!0,fill:!0});var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,180);this.addScalePoint(A,0),this.addScalePoint(u,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===r)return;var i=0,a=0,u=0,p=0;if(0===t){u=r*(i=this.scaleValues[2]),p=r*(a=this.scaleValues[3]);var s=new SuperMapAlgoPlot.Point(n.x+u,n.y+p),c=SuperMapAlgoPlot.PlottingUtil.distance(e,s);this.scaleValues[0]=c/r}else 1===t&&(i=(u=e.x-n.x)/r,a=(p=e.y-n.y)/r,this.scaleValues[2]=i,this.scaleValues[3]=a)}}}])&&aU(e.prototype,o),l&&aU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PU(t){"@babel/helpers - typeof";return(PU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gU(t,e){return(gU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hU(t);if(e){var n=hU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hU(t){return(hU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034201=cU;var SU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=l*this.scaleValues[2],a=l*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(o.x+i,o.y+a),p=l*r,s=new SuperMapAlgoPlot.Point(u.x-.5*p,u.y);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],s,p,0);var c=new SuperMapAlgoPlot.Point(u.x+.5*p,u.y),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.3*p,.3*p,-90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.5*p,.5*p,90),g=[];g.push(P),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*p,.2*p,-90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.05*p,.05*p,0),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.05*p,.05*p,180),b=[];b.push(y),b.push(h),b.push(S);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{fillLimit:!0,fill:!0});var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,180);this.addScalePoint(A,0),this.addScalePoint(u,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===r)return;var i=0,a=0,u=0,p=0;if(0===t){i=r*(u=this.scaleValues[2]),a=r*(p=this.scaleValues[3]);var s=new SuperMapAlgoPlot.Point(n.x+i,n.y+a),c=SuperMapAlgoPlot.PlottingUtil.distance(e,s);this.scaleValues[0]=c/r}else 1===t&&(u=(i=e.x-n.x)/r,p=(a=e.y-n.y)/r,this.scaleValues[2]=u,this.scaleValues[3]=p)}}}])&&fU(e.prototype,o),l&&fU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bU(t){"@babel/helpers - typeof";return(bU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dU(t,e){return(dU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vU(t);if(e){var n=vU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vU(t){return(vU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034202=SU;var mU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MU(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=.5*o,n=o*this.getSubSymbolScaleValue()*1.5,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e);if(r.bfind){var i=r.pts.clone(),a=e[r.index].clone(),u=e[r.index+1].clone(),p=SuperMapAlgoPlot.PlottingUtil.radian(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,p+90),c=[];c.push(r.pts),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{lineTypeLimit:!0});var P=SuperMapAlgoPlot.PlottingUtil.radian(i,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=new SuperMapAlgoPlot.Point(-.2*n,.05*n),g=new SuperMapAlgoPlot.Point(-.2*n,-.05*n),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,f,P),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,g,P),S=[];S.push(s),S.push(y),S.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{lineTypeLimit:!0,fillLimit:!0,fill:!0});var b=new SuperMapAlgoPlot.Point(0,-.6*n),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,p);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],A,n,p-90),this.finish()}}}}])&&AU(e.prototype,o),l&&AU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OU(t){"@babel/helpers - typeof";return(OU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UU(t,e){return(UU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=TU(t);if(e){var n=TU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function TU(t){return(TU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034203=mU;var jU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=LU(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=t[0].clone(),l=t[1].clone();e=2==t.length?l:t[2].clone();var n=new SuperMapAlgoPlot.Point((o.x+l.x)/2,(o.y+l.y)/2),r=SuperMapAlgoPlot.PlottingUtil.distance(n,e),i=.5*r,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,e),u=a.pntLeft,p=a.pntRight,s=!(n.x>e.x),c=[];s?(c.push(o),c.push(u)):(c.push(o),c.push(p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);var P=[];s?(P.push(l),P.push(p)):(P.push(l),P.push(u)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f,g,y,h,S,b=.37*r,A=SuperMapAlgoPlot.PlottingUtil.linePnt(n,e,b),d=.09*r,M=[];M.push(A),M.push(new SuperMapAlgoPlot.Point(A.x,A.y+d)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,M,{lineTypeLimit:!0}),s?(g=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,n,A)).pntLeft,y=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,n,A)).pntLeft,h=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,g,y)).pntRight,S=f.pntLeft):(g=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,n,A)).pntRight,y=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,n,A)).pntRight,h=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,g,y)).pntRight,S=f.pntLeft);var v=[];v.push(g),v.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{lineTypeLimit:!0});var m=[];m.push(h),m.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,{lineTypeLimit:!0}),this.addText("催",A,d,0),this.finish()}}}])&&wU(e.prototype,o),l&&wU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function RU(t){"@babel/helpers - typeof";return(RU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _U(t,e){return(_U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xU(t);if(e){var n=xU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===RU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xU(t){return(xU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034801=jU;var BU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_U(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=EU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(1e3),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue());var l=o*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,l);if(-1!==n.index){var r=t[0].clone(),i=n.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=[];u.push(n.pt);for(var p=n.index+1;p<e.length;p++)u.push(e[p]);this.addArrow(u);var s=.3*l,c=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(2/3*.5,t[0],n.pt);if(this.subSymbols.length>0){this.computeSubSymbol(this.subSymbols[0],c,s,a);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],2.1*s,2.1*s,a),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],3*s,3*s,a),g=[];g.push(P),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.2*s,.2*s,a),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.05*s,.05*s,a+90),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.05*s,.05*s,a+270),b=[];b.push(y),b.push(h),b.push(S);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{fillLimit:!0,fill:!0})}var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90);this.addScalePoint(A,0),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=o[0].clone(),r=e.clone(),i=SuperMapAlgoPlot.PlottingUtil.distance(r,n);if(0===t){var a=i/l;a<=.06&&(a=.06),a>=.15&&(a=.15),this.scaleValues[1]=a}}}}])&&VU(e.prototype,o),l&&VU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function CU(t){"@babel/helpers - typeof";return(CU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IU(t,e){return(IU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NU(t);if(e){var n=NU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NU(t){return(NU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035201=BU;var kU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=DU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=this.subSymbols[0].symbolData.symbolSize.x;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=60*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o;if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],a.pts,p,u-90),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(-1===r.index&&3===t&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&YU(e.prototype,o),l&&YU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zU(t){"@babel/helpers - typeof";return(zU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function GU(t,e){return(GU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JU(t);if(e){var n=JU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JU(t){return(JU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035202=kU;var HU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=WU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);t.splice(0,2),t.unshift(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=o*this.scaleValues[4],n=o*this.scaleValues[5],r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,t),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.radian(i.pts,r.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=SuperMapAlgoPlot.PlottingUtil.distance(r.pts,i.pts),p=i.pts.clone(),s=new SuperMapAlgoPlot.Point(0,.1*u),c=new SuperMapAlgoPlot.Point(.4*u,.1*u),P=new SuperMapAlgoPlot.Point(.4*u,-.1*u),f=new SuperMapAlgoPlot.Point(0,-.1*u),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,s,a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,c,a),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,P,a),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,f,a),b=[];b.push(g),b.push(y),b.push(h),b.push(S),b.push(g);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var A=new SuperMapAlgoPlot.Point(.05*u,0),d=new SuperMapAlgoPlot.Point(.15*u,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,A,a),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,d,a),m=[];m.push(M),m.push(v);var O={lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,O);var w=new SuperMapAlgoPlot.Point(.1*u,.05*u),U=new SuperMapAlgoPlot.Point(.1*u,-.05*u),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,w,a),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,U,a),j=[];j.push(L),j.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,O);var R=new SuperMapAlgoPlot.Point(.25*u,.05*u),V=new SuperMapAlgoPlot.Point(.35*u,.05*u),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,R,a),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,V,a),x=[];x.push(_),x.push(E),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x,O);var B=new SuperMapAlgoPlot.Point(.3*u,.05*u),C=new SuperMapAlgoPlot.Point(.3*u,-.05*u),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,B,a),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,C,a),D=[];D.push(Y),D.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D,O);var N=new SuperMapAlgoPlot.Point(.25*u,-.05*u),k=new SuperMapAlgoPlot.Point(.35*u,-.05*u),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,N,a),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,k,a),G=[];G.push(z),G.push(F),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,G,O);var W=new SuperMapAlgoPlot.Point(.4*u,0),J=new SuperMapAlgoPlot.Point(.8*u,0),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,W,a),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,J,a),q=[];q.push(H),q.push(K),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,q,O);var Q=new SuperMapAlgoPlot.Point(.7*u,.025*u),X=new SuperMapAlgoPlot.Point(.7*u,-.025*u),Z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,Q,a),$=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,X,a),tt=[];tt.push(K),tt.push(Z),tt.push($);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,tt,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0,fill:!0}),r.pts.isScalePoint=!0,r.pts.tag=this.scalePoints.length,this.scalePoints.push(r.pts.clone()),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(-1===r.index&&3===t&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&FU(e.prototype,o),l&&FU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KU(t){"@babel/helpers - typeof";return(KU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QU(t,e){return(QU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function XU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZU(t);if(e){var n=ZU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZU(t){return(ZU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035203=HU;var $U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=XU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue()/3);var l=this.scaleValues[0],n=this.scaleValues[1],r=e*this.scaleValues[2],i=new SuperMapAlgoPlot.Point(o.x+e*l,o.y+e*n),a=new SuperMapAlgoPlot.Point(i.x-4*r,i.y),u=new SuperMapAlgoPlot.Point(i.x-4*r,i.y-r/2),p=[];p.push(a),p.push(u);var s={lineTypeLimit:!0,fillLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,s);var c=new SuperMapAlgoPlot.Point(i.x-4*r,i.y),P=new SuperMapAlgoPlot.Point(i.x-r,i.y),f=[];f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,s),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,2*r,0);var g=new SuperMapAlgoPlot.Point(i.x+4*r,i.y),y=new SuperMapAlgoPlot.Point(i.x+r,i.y),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,s);var S=new SuperMapAlgoPlot.Point(i.x+4*r,i.y+r/2),b=new SuperMapAlgoPlot.Point(i.x+4*r,i.y),A=[];A.push(S),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,s),this.addScalePoint(i,0);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,2*r,2*r,90);this.addScalePoint(d,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=0,i=0;if(0===t&&(r=(e.x-n.x)/l,this.scaleValues[0]=r,i=(e.y-n.y)/l,this.scaleValues[1]=i),1===t){r=this.scaleValues[0],i=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(n.x+l*r,n.y+l*i),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e);this.scaleValues[2]=u/2/l}}}}])&&qU(e.prototype,o),l&&qU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tL(t){"@babel/helpers - typeof";return(tL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oL(t,e){return(oL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nL(t);if(e){var n=nL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nL(t){return(nL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035205=$U;var rL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.333333),e.scaleValues.push(.333333),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),o=(SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),this.scaleValues[0]),l=this.scaleValues[1],n=(this.scaleValues[2],this.scaleValues[3],this.ComputeSubSymbolPt(o,l,t,e));new SuperMapAlgoPlot.Point(n.x,n.y);this.finish()}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,l){var n,r,i=o[0],a=o[1],u=o[2],p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(u,i,a)*t,s=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,i,u)*e,c=[];SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,a,l)?((r=[]).push(i),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!1)):((r=[]).push(i),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!0));SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,u,l)?((r=[]).push(i),r.push(u),n=SuperMapAlgoPlot.PlottingUtil.paraLine(r,s,!1)):((r=[]).push(i),r.push(u),n=SuperMapAlgoPlot.PlottingUtil.paraLine(r,s,!0));if(2>c.length||2>n.length)return l;var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],n[0],n[1]);return P.isIntersectLines?P.intersectPoint:l}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l,n,r,i=[];if(2===o.length){l=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y);var a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),u=SuperMapAlgoPlot.PlottingUtil.radian(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD;r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,u+60),i.push(l),i.push(n),i.push(r)}else for(var p=0;p<o.length;p++)i.push(o[p]);l=i[0].clone(),n=i[1].clone(),r=i[2].clone();var s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(i);i.push(i[0]);var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var P=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(r,l,n),f=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(n,l,r),g=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(e,l,n)/P,y=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(e,l,r)/f;g>1&&(g=1),y>1&&(y=1),this.scaleValues[0]=g,this.scaleValues[1]=y}if(1===t){var h=this.scaleValues[0],S=this.scaleValues[1],b=this.ComputeSubSymbolPt(h,S,i,s),A=SuperMapAlgoPlot.PlottingUtil.distance(b,e)/c;this.scaleValues[2]=A;var d=SuperMapAlgoPlot.PlottingUtil.radian(b,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[3]=d}}}}])&&eL(e.prototype,o),l&&eL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iL(t){"@babel/helpers - typeof";return(iL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uL(t,e){return(uL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sL(t);if(e){var n=sL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sL(t){return(sL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5020801=rL;var cL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0),this.addScalePoint(p);var s=u,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=0,a=0;if(0===t)i=(e.x-n.x)/r,this.scaleValues[2]=i,a=(e.y-n.y)/r,this.scaleValues[3]=a;else if(1===t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(n.x+r*i,n.y+r*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e);this.scaleValues[0]=p/r}}}}])&&aL(e.prototype,o),l&&aL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PL(t){"@babel/helpers - typeof";return(PL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gL(t,e){return(gL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hL(t);if(e){var n=hL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hL(t){return(hL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5020802=cL;var SL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=yL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="挖",e}return e=r,o&&fL(e.prototype,o),l&&fL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function bL(t){"@babel/helpers - typeof";return(bL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dL(t,e){return(dL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ML(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vL(t);if(e){var n=vL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vL(t){return(vL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030101=SL;var mL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=ML(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="浇",e}return e=r,o&&AL(e.prototype,o),l&&AL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function OL(t){"@babel/helpers - typeof";return(OL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UL(t,e){return(UL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=TL(t);if(e){var n=TL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function TL(t){return(TL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030102=mL;var jL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=LL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="砌",e}return e=r,o&&wL(e.prototype,o),l&&wL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function RL(t){"@babel/helpers - typeof";return(RL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _L(t,e){return(_L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xL(t);if(e){var n=xL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===RL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xL(t){return(xL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030103=jL;var BL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_L(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=EL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="催",e}return e=r,o&&VL(e.prototype,o),l&&VL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function CL(t){"@babel/helpers - typeof";return(CL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IL(t,e){return(IL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NL(t);if(e){var n=NL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NL(t){return(NL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030104=BL;var kL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=DL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="石",e}return e=r,o&&YL(e.prototype,o),l&&YL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function zL(t){"@babel/helpers - typeof";return(zL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function GL(t,e){return(GL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JL(t);if(e){var n=JL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JL(t){return(JL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030105=kL;var HL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=WL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="沙",e}return e=r,o&&FL(e.prototype,o),l&&FL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function KL(t){"@babel/helpers - typeof";return(KL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QL(t,e){return(QL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function XL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZL(t);if(e){var n=ZL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZL(t){return(ZL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030106=HL;var $L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=XL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="练",e}return e=r,o&&qL(e.prototype,o),l&&qL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function tT(t){"@babel/helpers - typeof";return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oT(t,e){return(oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nT(t);if(e){var n=nT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nT(t){return(nT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030107=$L;var rT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lT(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.05*SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.paraLine(t,e,!0),l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,e,!1),n=o[0],r=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,o[0],o[1]),i=[];i.push(n),i.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var a=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2+.2/3,o[0],o[1]),u=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3,o[0],o[1]),p=[];p.push(a),p.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var s=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3*2,o[0],o[1]),c=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(3*.2+.2/3*2,o[0],o[1]),P=[];P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,o[0],o[1]),g=o[1],y=[];y.push(f),y.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=l[0],S=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,l[0],l[1]),b=[];b.push(h),b.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2+.2/3,l[0],l[1]),d=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3,l[0],l[1]),M=[];M.push(A),M.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3*2,l[0],l[1]),m=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(3*.2+.2/3*2,l[0],l[1]),O=[];O.push(v),O.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,l[0],l[1]),U=l[1],L=[];L.push(w),L.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L);var T=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,t[0],t[1]),j=t[0].clone(),R=[];R.push(T),R.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R);var V=SuperMapAlgoPlot.PlottingUtil.radian(T,j)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.distance(T,j),E=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,T,j),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,.025*_,.025*_,V+90),B=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,.025*_,.025*_,V-90),C=[];C.push(x),C.push(B),C.push(T);var Y={fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,C,Y);var I=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,t[1],t[0]),D=t[1].clone(),N=[];N.push(I),N.push(D),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N);var k=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,I,D),z=SuperMapAlgoPlot.PlottingUtil.circlePoint(k,.025*_,.025*_,V+90),F=SuperMapAlgoPlot.PlottingUtil.circlePoint(k,.025*_,.025*_,V-90),G=[];G.push(z),G.push(F),G.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,G,Y),this.finish()}}}])&&eT(e.prototype,o),l&&eT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iT(t){"@babel/helpers - typeof";return(iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uT(t,e){return(uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sT(t);if(e){var n=sT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sT(t){return(sT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030501=rT;var cT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=pT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=this.subSymbols[0].symbolData.symbolSize.x;var l=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=60*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o*2,s=new SuperMapAlgoPlot.Point(2*a.pts.x-i.pts.x,2*a.pts.y-i.pts.y),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,u),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,u-180);if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&(this.computeSubSymbol(this.subSymbols[0],a.pts,p,u-90),this.computeSubSymbol(this.subSymbols[1],c,p,u-90),this.computeSubSymbol(this.subSymbols[2],P,p,u-90)),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]);if(-1===r.index&&3===t&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.distance(l,e);this.scaleValues[t+1]=a/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5),this.scaleValues[5]>1&&(this.scaleValues[5]=1)}}}}}])&&aT(e.prototype,o),l&&aT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PT(t){"@babel/helpers - typeof";return(PT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gT(t,e){return(gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hT(t);if(e){var n=hT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hT(t){return(hT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6031001=cT;var ST=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yT(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o;if(2==t.length)e=t[0],o=t[1];else{var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]),r=SuperMapAlgoPlot.PlottingUtil.distance(t[2],t[0]);l>=n&&l>=r?(e=t[0],o=t[1]):n>=l&&n>=r?(e=t[1],o=t[2]):(e=t[0],o=t[2])}var i=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),u=.1*a,p=[];if(p=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),0!=(p=SuperMapAlgoPlot.PlottingUtil.clearSamePts(p)).length){for(var s=p[0].x,c=p[0].x,P=p[0].y,f=p[0].y,g=0;g<p.length;g++)s>p[g].x&&(s=p[g].x),c<p[g].x&&(c=p[g].x),P>p[g].y&&(P=p[g].y),f<p[g].y&&(f=p[g].y);for(var y=new SuperMapAlgoPlot.Point((c+s)/2,(f+P)/2),h=new SuperMapAlgoPlot.Point((c+s)/2,0),S=0,b=-1,A=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,a,a,i),d=0;d+1<p.length;d++){var M,v;if((M=SuperMap.Plot.PlottingUtil.intersectLines(y,A,p[d],p[d+1])).isIntersectLines){v=M.intersectPoint;var m,O=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(v,p);-1!==O.index&&(m=O.index,O.pt,0==S?(h.y=v.y,b=m):h.y<v.y&&(h.y=v.y,b=m),S++)}}if(0!=S&&-1!=b&&!(0>=p.length)){var w=[];w.push(h);for(var U=b+1;U<p.length;U++)w.push(new SuperMapAlgoPlot.Point(p[U].x,p[U].y));for(var L=0;L<=b;L++)w.push(new SuperMapAlgoPlot.Point(p[L].x,p[L].y));var T=new SuperMapAlgoPlot.Point(0,0),j=-1,R=.8*u,V=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(R,w);if(V.bfind){j=V.index,T=V.pts;var _=[];_.push(T);for(var E=j+1;E<w.length;E++)_.push(w[E]);w=[];for(var x=_.length-1;x>0;x--)w.push(_[x]);T=new SuperMapAlgoPlot.Point(0,0),j=-1;var B=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(R,w);if(B.bfind){j=B.index,T=B.pts,(_=[]).push(T);for(var C=j+1;C<w.length;C++)_.push(w[C]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_);var Y,I=new SuperMapAlgoPlot.Point((_[0].x+_[_.length-1].x)/2,(_[0].y+_[_.length-1].y)/2),D=[],N=SuperMapAlgoPlot.PlottingUtil.circlePoint(I,u,u,i),k=SuperMapAlgoPlot.PlottingUtil.circlePoint(I,u,u,i+180);D.push(N),D.push(k),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D);var z=i;SuperMapAlgoPlot.PlottingUtil.distance(y,N)>SuperMapAlgoPlot.PlottingUtil.distance(y,k)?(Y=N,z=SuperMapAlgoPlot.PlottingUtil.dirAngle(N,k)*SuperMapAlgoPlot.PlottingUtil.RTOD):(Y=k,z=SuperMapAlgoPlot.PlottingUtil.dirAngle(Y,N)*SuperMapAlgoPlot.PlottingUtil.RTOD);var F=SuperMapAlgoPlot.PlottingUtil.circlePoint(Y,.2*u,.2*u,z),G=SuperMapAlgoPlot.PlottingUtil.circlePoint(F,.05*u,.05*u,z+90),W=SuperMapAlgoPlot.PlottingUtil.circlePoint(F,.05*u,.05*u,z-90);(D=[]).push(G),D.push(W),D.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,D),this.finish()}}}}}}}])&&fT(e.prototype,o),l&&fT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bT(t){"@babel/helpers - typeof";return(bT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dT(t,e){return(dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vT(t);if(e){var n=vT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vT(t){return(vT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol70110=ST;var mT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0]*e,l=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.linePnt(n,l,e+.2*e),i=SuperMapAlgoPlot.PlottingUtil.linePnt(l,n,e+.2*e),a=1.5*o,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n,r),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l,i),s=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!1),P=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],3*e/11),f=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],4*e/11),g=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],7*e/11),y=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],8*e/11),h=[];h.push(u.pntRight),h.push(s[0]),h.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[];S.push(f),S.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=[];b.push(y),b.push(s[s.length-1]),b.push(p.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],3*e/11),d=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],4*e/11),M=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],7*e/11),v=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],8*e/11),m=[];m.push(u.pntLeft),m.push(c[0]),m.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m);var O=[];O.push(d),O.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=[];w.push(v),w.push(c[c.length-1]),w.push(p.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w);var U=new SuperMapAlgoPlot.Point((u.pntLeft.x+u.pntRight.x)/2,(u.pntLeft.y+u.pntRight.y)/2),L=new SuperMapAlgoPlot.Point((P.x+A.x)/2,(P.y+A.y)/2),T=[];T.push(U),T.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var j=SuperMapAlgoPlot.PlottingUtil.radian(U,L)*SuperMapAlgoPlot.PlottingUtil.RTOD,R=SuperMapAlgoPlot.PlottingUtil.distance(U,L),V=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,U,L),_=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,.025*R,.025*R,j+90),E=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,.025*R,.025*R,j-90),x=[];x.push(_),x.push(E),x.push(L);var B={fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,x,B);var C=new SuperMapAlgoPlot.Point((p.pntLeft.x+p.pntRight.x)/2,(p.pntLeft.y+p.pntRight.y)/2),Y=new SuperMapAlgoPlot.Point((y.x+v.x)/2,(y.y+v.y)/2),I=[];I.push(C),I.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I);var D=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,C,Y),N=SuperMapAlgoPlot.PlottingUtil.circlePoint(D,.025*R,.025*R,j+90),k=SuperMapAlgoPlot.PlottingUtil.circlePoint(D,.025*R,.025*R,j-90),z=[];z.push(N),z.push(k),z.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,z,B),this.finish()}}}])&&AT(e.prototype,o),l&&AT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OT(t){"@babel/helpers - typeof";return(OT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UT(t,e){return(UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=TT(t);if(e){var n=TT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function TT(t){return(TT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030601=mT;var jT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=LT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(1),e.scaleValues.push(1),e.scaleValues.push(1),e.scaleValues.push(1),e.scaleValues.push(1.3),e.scaleValues.push(90),e.scaleValues.push(90),e.scaleValues.push(270),e.scaleValues.push(270),e.scaleValues.push(1)),e.RTOD=57.29577951308232,e.subText="",e._style={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"},e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints&&!(t.length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0]*3,o=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.midPoint(t[0],t[1]),n=[];n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[1],e*this.scaleValues[1],o+this.scaleValues[6])),n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e/2,e/2,o+90)),n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],e*this.scaleValues[2],e*this.scaleValues[2],o+this.scaleValues[7]));var r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),a=.25*i,u=.1*a,p=this.computeDashLine(a,u,r);this.AddCellPoints(p,!0,u);var s=[];s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[3],e*this.scaleValues[3],o+this.scaleValues[8])),s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e/2,e/2,o+270)),s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],e*this.scaleValues[4],e*this.scaleValues[4],o+this.scaleValues[9]));var c=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(s);u=.1*(a=.25*(i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c)));var P,f=this.computeDashLine(a,u,c);this.AddCellPoints(f,!1,u),P=-1===this.scaleValues[10]?this.AddCellRec(f,e):this.AddCellRec(p,e);var g=p[0][0],y=p[p.length-1],h=y[y.length-1],S=f[0][0],b=f[f.length-1],A=b[b.length-1];this.addScalePoint(new SuperMapAlgoPlot.Point(g.x,g.y)),this.addScalePoint(new SuperMapAlgoPlot.Point(h.x,h.y)),this.addScalePoint(new SuperMapAlgoPlot.Point(S.x,S.y)),this.addScalePoint(new SuperMapAlgoPlot.Point(A.x,A.y)),this.addScalePoint(new SuperMapAlgoPlot.Point(P.x,P.y)),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l,n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)*this.scaleValues[0]*5;switch(t){case 0:if(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e))return;n=(SuperMapAlgoPlot.PlottingUtil.radian(o[0],e)-SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1]))*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/i,this.scaleValues[1]=l,this.scaleValues[6]=n,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1&&(this.scaleValues[5]=a);break;case 1:if(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e))return;n=(SuperMapAlgoPlot.PlottingUtil.radian(o[1],e)-SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1]))*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/i,this.scaleValues[2]=l,this.scaleValues[7]=n,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1.1&&(this.scaleValues[5]=a);break;case 2:if(!(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)))return;n=(SuperMapAlgoPlot.PlottingUtil.radian(o[0],e)-SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1]))*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/i,this.scaleValues[3]=l,this.scaleValues[8]=n,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1.1&&-1==this.scaleValues[10]&&(this.scaleValues[5]=a);break;case 3:if(!(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)))return;n=(SuperMapAlgoPlot.PlottingUtil.radian(o[1],e)-SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1]))*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/i,this.scaleValues[4]=l,this.scaleValues[9]=n,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1.1&&-1==this.scaleValues[10]&&(this.scaleValues[5]=a);break;case 4:var a,u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e);this.scaleValues[10]=u?-1:1,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1.1&&(this.scaleValues[5]=a)}}}},{key:"AddCellPoints",value:function(t,e,o){for(var l=0;l<t.length;l++){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t[l],this._style);var n=t[l],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.3*r),a=n[i.index+1],u=SuperMapAlgoPlot.PlottingUtil.radian(i.pt,a)*this.RTOD;u=e?u+90:u+270;var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(i.pt,o,o,u),s=[];s.push(i.pt),s.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,this._style)}}},{key:"AddCellRec",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=t[0],n=t[t.length-1],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.1*r),u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.9*i),p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(a.pt,o[0],o[1]),s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(u.pt,o[0],o[1]),c=SuperMapAlgoPlot.PlottingUtil.linePnt(p.projectPoint,a.pt,e*this.scaleValues[5]),P=SuperMapAlgoPlot.PlottingUtil.linePnt(s.projectPoint,u.pt,e*this.scaleValues[5]),f=[];return f.push(a.pt),f.push(c),f.push(P),f.push(u.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,this._style),SuperMapAlgoPlot.PlottingUtil.midPoint(c,P)}}])&&wT(e.prototype,o),l&&wT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function RT(t){"@babel/helpers - typeof";return(RT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _T(t,e){return(_T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ET(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xT(t);if(e){var n=xT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===RT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xT(t){return(xT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002701=jT;var BT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_T(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ET(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0];Math.sqrt(e*e/2);if(t.length>3){var o=[];o.push(t[0]),o.push(t[1]),o.push(t[2]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);this.addArrow(l,this.scaleValues[0]);for(var n=[],r=3;r<t.length;r++)n.push(t[r]);if(n.length>=2){var i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(n);this.addArrow(i,this.scaleValues[0])}}else if(t.length<=3){var a=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);this.addArrow(a,this.scaleValues[0])}this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)){0===this.scaleValues.length&&this.scaleValues.push(.2);SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1])}}}])&&VT(e.prototype,o),l&&VT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function CT(t){"@babel/helpers - typeof";return(CT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IT(t,e){return(IT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NT(t);if(e){var n=NT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NT(t){return(NT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50332=BT;var kT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=DT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=.1,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,0===e.scaleValues.length&&(e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen),e.scaleValues.push(e.sv_arrowTailWidth)),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());for(var e=this.GetBaseGeometry(),o=this.ComputeArrowEndBody(t,e.ptLeft,e.ptRight,e.dTailLenght),l=[],n=o.leftBody.length-1;n>0;n--)l.push(o.leftBody[n]);var r=this.arrowMeshs(e.tempPt);l=(l=l.concat(r.shapePts)).concat(o.rightBody);var i={fillLimit:!0,fillColorLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1,lineColorLimit:!0,strokeColor:"#0000ff",color:"#0000ff",lineColor:"#0000ff",surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,i),SuperMapAlgoPlot.AlgoSymbol1004.prototype.scaleValues=this.scaleValues;var a=SuperMapAlgoPlot.AlgoSymbol1004.prototype.updateScalePoints(e.tempPt);this.scalePoints=[],this.addScalePoint(a[a.length-1]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.scaleValues.length<4&&(this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen));var l=o.length;if(l<=2)return;var n,r,i,a,u=this.operateCtrlPts(o);l=u.length,l--;if(this.scaleValues.length<4){var p=this.calcDefaultScaleValues(l);n=p[0],r=p[1],i=p[2],a=p[3]}else n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=this.scaleValues[3];for(var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),c=[],P=0;P<this.scalePoints.length;P++)c.push(this.scalePoints[P].clone());if(0==c.length)return;c[t]=e.clone();var f,g,y=l-1;f=l<=3?new SuperMapAlgoPlot.Point((u[0].x+u[1].x)/2,(u[0].y+u[1].y)/2):u[y-1].clone();var h,S,b=new SuperMapAlgoPlot.Point(0,0),A=new SuperMapAlgoPlot.Point(0,0),d=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,f,u[y],u[y+1],A,d),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,u[l],u[l-1],d,b),g=b.clone();var M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(u[l],g,c[0]);h=M.dLen1,M.dLen2,0==h&&(h=.1),h,n=(h/=a+1)/s,0==t&&(n=h/s),h*r,(S=SuperMapAlgoPlot.PlottingUtil.distance(u[l],u[l-1]))<2*h&&((h=.5*S)*r,n=h/s),this.scaleValues[0]=n,this.scaleValues[1]=r,this.scaleValues[2]=i,this.scaleValues[3]=a}}},{key:"GetBaseGeometry",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<2)return null;var e=this.GetLeftAndRightPt(),o=[];o.push(e.leftPt),o.push(e.rightPt);for(var l=1;l<t.length;l++)o.push(t[l]);return{tempPt:o,ptLeft:e.leftPt,ptRight:e.rightPt,dTailLenght:e.dTailLenght}}},{key:"ComputeArrowEndBody",value:function(t,e,o,l){var n,r,i,a=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),u=(SuperMapAlgoPlot.PlottingUtil.polylineDistance(a),.5*SuperMapAlgoPlot.PlottingUtil.distance(e,o)),p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(a,.9*l),s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(a,.7*l),c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(a,.4*l);2==t.length?n=r=i=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*this.RTOD:t.length>=3&&(n=SuperMapAlgoPlot.PlottingUtil.radian(a[p.index-1],a[p.index+1])*this.RTOD,r=SuperMapAlgoPlot.PlottingUtil.radian(a[s.index-1],a[s.index+1])*this.RTOD,i=SuperMapAlgoPlot.PlottingUtil.radian(a[c.index-1],a[c.index+1])*this.RTOD);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,.9*u,.9*u,n+90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,.9*u,.9*u,n+270),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,.8*u,.8*u,r+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,.8*u,.8*u,r+270),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c.pt,.3*u,.3*u,i+90),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(c.pt,.3*u,.3*u,i+270),b=[];b.push(e),b.push(P),b.push(g),b.push(h),b.push(t[0]);var A=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(b),d=[];return d.push(o),d.push(f),d.push(y),d.push(S),d.push(t[0]),{leftBody:A,rightBody:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(d)}}},{key:"GetLeftAndRightPt",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),e=(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length;if(!(e<this.minEditPts)){var o,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[4]=this.getSubSymbolScaleValue();var n,r,i=l*this.scaleValues[4]*.1;if(2==e){var a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],l/3),u=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*this.RTOD;if(n=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i,i,u+90),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i,i,u+270),SuperMapAlgoPlot.PlottingUtil.isRight(n,t[0],t[1])){var p=n;n=r,r=p}o=l/3}else if(e>=3){for(var s=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),c=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(t[1],s),P=[],f=0;f<=c.index;f++)P.push(s[f]);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P),y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(s,.9*g);u=SuperMapAlgoPlot.PlottingUtil.radian(s[y.index-1],s[y.index+1])*this.RTOD;if(n=SuperMapAlgoPlot.PlottingUtil.circlePoint(y.pt,i,i,u+90),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(y.pt,i,i,u+270),SuperMapAlgoPlot.PlottingUtil.isRight(n,s[y.index-1],s[y.index+1])){p=n;n=r,r=p}var h=[];for(f=0;f<=y.index;f++)h.push(s[f]);o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(h)}return{leftPt:n,rightPt:r,dTailLenght:o}}}},{key:"updateScalePoints",value:function(t){var e=t.length,o=[];if(!(e<3)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l,0)){var n=this.operateCtrlPts(t);e=n.length,e--;for(var r=[],i=0;i<this.scaleValues.length;i++)r.push(this.scaleValues[i]);var a=this.genArrowBodyPts(l,n,r),u=a.ArrowBodyCenterPts,p=this.genAtPts(e,u,r,a.ArrowTouLen),s=this.calc3rdScalePt(e,u,r,a.ArrowTouLen);return o.push(new SuperMapAlgoPlot.Point(a.LeftBodyPtsTemp[e].x,a.LeftBodyPtsTemp[e].y)),o.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),o.push(new SuperMapAlgoPlot.Point(s.x,s.y)),o}}}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(r,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),a=i.arrowTouLen,u=i.leftBodyPts,p=i.rightBodyPts;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var s=[];s.push(u[u.length-1]),s.push(p[p.length-1]);var c=[];c.push(this.scaleValues[2]),c.push(this.scaleValues[3]),c.push(0),c.push(0);for(var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(r,s,c,a,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),f=0;f<u.length;f++)e.push(u[f]),o.push(u[f]);for(var g=0;g<P.length;g++)e.push(P[g]),n.push(P[g]);for(var y=p.length-1;y>=0;y--)e.push(p[y]),l.push(p[y])}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);if(3===e.length){var o=((e[0].x+e[1].x)/2+e[2].x)/2,l=((e[0].y+e[1].y)/2+e[2].y)/2,n=new SuperMapAlgoPlot.Point(o,l),r=e[2];e[2]=n,e.push(r)}return e}}])&&YT(e.prototype,o),l&&YT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zT(t){"@babel/helpers - typeof";return(zT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function GT(t,e){return(GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JT(t);if(e){var n=JT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JT(t){return(JT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033301=kT;var HT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=WT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.scaleValues.push(.2),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[1],l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-1.2*o),n=[];n.push(t[0]),n.push(l),this.addArrow(n,this.scaleValues[0]);for(var r=[],i=[],a=0;a<=360;a+=5)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,a)),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],.1*o,.1*o,a));var u={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"};if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,u),u={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,u),t.length>=3){var p=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[2],o),s=[];s.push(p),s.push(t[2]);var c=[];if(t.length>3){for(a=3;a<t.length;a++)s.push(t[a]);c=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(s)}this.addArrow(c,this.scaleValues[0])}r.length>0&&this.addScalePoint(r[0]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)&&0==t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/l;n<=.5&&(this.scaleValues[1]=n)}}}])&&FT(e.prototype,o),l&&FT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KT(t){"@babel/helpers - typeof";return(KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QT(t,e){return(QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function XT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ZT(t);if(e){var n=ZT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ZT(t){return(ZT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50336=HT;var $T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=XT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.scaleValues.push(.2),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[1],l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-1.2*o),n=[];n.push(t[0]),n.push(l),this.addArrow(n,this.scaleValues[0]);for(var r=[],i=[],a=0;a<=360;a+=5)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,a)),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],.15*o,.15*o,a));var u={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"};if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,u),u={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,lineColorLimit:!0,strokeColor:"#00ff00",strokeOpacity:1,color:"#00ff00",opacity:1,lineColor:"#00ff00",fillColor:"#00ff00"},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,u),t.length>=3){var p=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[2],o),s=[];s.push(p),s.push(t[2]);var c=[];if(t.length>3){for(a=3;a<t.length;a++)s.push(t[a]);c=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(s)}this.addArrow(c,this.scaleValues[0])}r.length>0&&this.addScalePoint(r[0]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)&&0==t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/l;this.scaleValues[1]=n,this.scaleValues[1]>.7&&(this.scaleValues[1]=.7)}}}])&&qT(e.prototype,o),l&&qT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tj(t){"@babel/helpers - typeof";return(tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ej(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oj(t,e){return(oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nj(t);if(e){var n=nj(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nj(t){return(nj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033601=$T;var rj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oj(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lj(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.scaleValues.push(.5),e.scaleValues.push(-5),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,l;if(this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue()),2==t.length)e=o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);else if((e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]))<(o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var n=e;e=o,o=n}if(t.length>3){var r=[];if(!this.isEdit){var i=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[3])*this.RTOD;this.scaleValues[2]=i}l=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,o,this.scaleValues[2]),r.push(l);for(var a=3;a<t.length;a++)r.push(t[a]);var u=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(r);this.addArrow(u,this.scaleValues[0])}var p=[],s=[],c=[];for(a=0;a<=this.scaleValues[2]-5;a+=5)p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,o,a));for(a=this.scaleValues[2]+5;a<=360;a+=5)s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,o,a));p.length>0&&s.push(p[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var P=[];for(a=0;a<=360;a+=5){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o*this.scaleValues[1],o*this.scaleValues[1],a);c.push(f),30!=a&&210!=a||P.push(f)}var g={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,g),c.length>0&&(this.addScalePoint(c[0]),t.length>3&&this.addScalePoint(l)),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)){if(0===t){var l,n;if(2===o.length)l=n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);else if((l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]))<(n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[2]))){var r=l;l=n,n=r}var i=n*this.scaleValues[1];(r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/i)<=2&&(this.scaleValues[1]*=r)}if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.radian(o[0],e)*this.RTOD;this.scaleValues[2]=a}}}}])&&ej(e.prototype,o),l&&ej(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ij(t){"@babel/helpers - typeof";return(ij="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aj(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uj(t,e){return(uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sj(t);if(e){var n=sj(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ij(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sj(t){return(sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50337=rj;var cj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uj(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pj(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.scaleValues.push(.2),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[1],l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-1.2*o),n=[];n.push(t[0]),n.push(l),this.addArrow(n,this.scaleValues[0]);for(var r=[],i=[],a=0;a<=360;a+=5){var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,a);r.push(u)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r);var p=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*this.RTOD;i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,p-20)),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,p+160));if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"}),t.length>=3){var s=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[2],o),c=[];c.push(s),c.push(t[2]);var P=[];if(t.length>3){for(a=3;a<t.length;a++)c.push(t[a]);P=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(c)}this.addArrow(P,this.scaleValues[0])}r.length>0&&this.addScalePoint(r[0]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)&&0==t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/l;this.scaleValues[1]=n,this.scaleValues[1]>.7&&(this.scaleValues[1]=.7)}}}])&&aj(e.prototype,o),l&&aj(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pj(t){"@babel/helpers - typeof";return(Pj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fj(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gj(t,e){return(gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hj(t);if(e){var n=hj(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hj(t){return(hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033701=cj;var Sj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gj(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yj(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.125,e.scaleValues[1]=.02,e.scaleValues[2]=.25,e.scaleValues[3]=.8),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<4&&(this.scaleValues=[],this.scaleValues[0]=.125,this.scaleValues[1]=.02,this.scaleValues[2]=.25,this.scaleValues[3]=.8),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[1],t[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=this.scaleValues[3],a=new SuperMapAlgoPlot.Point(l*e,n*e),u=new SuperMapAlgoPlot.Point(l*e,-n*e),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[1],a,o),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[1],u,o),c=[];c.push(p),c.push(s),c.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*e,t);if(P.bfind){var f=.05*e,g=P.pts,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,f,f,o+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,f,f,o+270);if((c=[]).push(y),c.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{lineTypeLimit:!0,surroundLineLimit:!0}),(P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i*e,t)).bfind){var S=P.pts,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,f,f,o+90),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,f,f,o+270);(c=[]).push(b),c.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{lineTypeLimit:!0,surroundLineLimit:!0});var d=SuperMapAlgoPlot.PlottingUtil.findPoint(t[1],t[0],l*e,0);t[1]=d,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t),this.scalePoints=[],this.addScalePoint(s),this.addScalePoint(g),this.addScalePoint(S),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[1],o[0]),r=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1]);90>SuperMapAlgoPlot.PlottingUtil.radian(o[1],n)*SuperMapAlgoPlot.PlottingUtil.RTOD&&(r=-r);var i=r/l;this.scaleValues[0]=i;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l;this.scaleValues[1]=a}else if(1==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(.1>u||u>.95)return;this.scaleValues[2]=u}else if(2==t){var p=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(.1>p||p>.95)return;this.scaleValues[3]=p}}}}])&&fj(e.prototype,o),l&&fj(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol37301=Sj;SuperMapAlgoPlot.WJAlgoSymbolFactory=SuperMapAlgoPlot.WJAlgoSymbolFactory||{};SuperMapAlgoPlot.WJAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(123===t)switch(e){case 20602:return new SuperMapAlgoPlot.AlgoSymbol15805(o);case 2060201:return new SuperMapAlgoPlot.AlgoSymbol2060201(o);case 2060202:return new SuperMapAlgoPlot.AlgoSymbol2060202(o);case 20915:return new SuperMapAlgoPlot.AlgoSymbol12500(o);case 2091501:return new SuperMapAlgoPlot.AlgoSymbol12501(o);case 2091502:return new SuperMapAlgoPlot.AlgoSymbol12502(o);case 2091503:return new SuperMapAlgoPlot.AlgoSymbol2091503(o);case 2092101:return new SuperMapAlgoPlot.AlgoSymbol2092101(o);case 21003:return new SuperMapAlgoPlot.AlgoSymbol13700(o);case 21206:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 2120601:return new SuperMapAlgoPlot.AlgoSymbol15201(o);case 2120602:return new SuperMapAlgoPlot.AlgoSymbol15202(o);case 21207:return new SuperMapAlgoPlot.AlgoSymbol21207(o);case 21212:return new SuperMapAlgoPlot.AlgoSymbol15800(o);case 2121201:return new SuperMapAlgoPlot.AlgoSymbol15801(o);case 2121202:return new SuperMapAlgoPlot.AlgoSymbol15802(o);case 2121203:return new SuperMapAlgoPlot.AlgoSymbol15803(o);case 2121204:return new SuperMapAlgoPlot.AlgoSymbol15804(o);case 2121205:return new SuperMapAlgoPlot.AlgoSymbol15806(o);case 21213:return new SuperMapAlgoPlot.AlgoSymbol15900(o);case 21214:return new SuperMapAlgoPlot.AlgoSymbol16200(o);case 2121401:return new SuperMapAlgoPlot.AlgoSymbol16201(o);case 2121402:return new SuperMapAlgoPlot.AlgoSymbol16202(o);case 2121403:return new SuperMapAlgoPlot.AlgoSymbol16203(o);case 2121404:return new SuperMapAlgoPlot.AlgoSymbol2121504(o);case 2121405:return new SuperMapAlgoPlot.AlgoSymbol2121505(o);case 2121406:return new SuperMapAlgoPlot.AlgoSymbol2121506(o);case 2121407:return new SuperMapAlgoPlot.AlgoSymbol2121507(o);case 21215:return new SuperMapAlgoPlot.AlgoSymbol21216(o);case 2121501:return new SuperMapAlgoPlot.AlgoSymbol2121601(o);case 2121502:return new SuperMapAlgoPlot.AlgoSymbol2121602(o);case 21217:return new SuperMapAlgoPlot.AlgoSymbol16700(o);case 21221:return new SuperMapAlgoPlot.AlgoSymbol17500(o);case 21220:return new SuperMapAlgoPlot.AlgoSymbol17400(o);case 2122001:return new SuperMapAlgoPlot.AlgoSymbol17401(o);case 2122101:return new SuperMapAlgoPlot.AlgoSymbol17501(o);case 21222:return new SuperMapAlgoPlot.AlgoSymbol17700(o);case 2122201:return new SuperMapAlgoPlot.AlgoSymbol2122201(o);case 2122202:return new SuperMapAlgoPlot.AlgoSymbol2122202(o);case 2122203:return new SuperMapAlgoPlot.AlgoSymbol17703(o);case 2122204:return new SuperMapAlgoPlot.AlgoSymbol17704(o);case 2122205:return new SuperMapAlgoPlot.AlgoSymbol1770501(o);case 21223:return new SuperMapAlgoPlot.AlgoSymbol17800(o);case 2122301:return new SuperMapAlgoPlot.AlgoSymbol17801(o);case 2122302:return new SuperMapAlgoPlot.AlgoSymbol17802(o);case 2122303:return new SuperMapAlgoPlot.AlgoSymbol17803(o);case 2122304:return new SuperMapAlgoPlot.AlgoSymbol17804(o);case 2122305:return new SuperMapAlgoPlot.AlgoSymbol17805(o);case 2122306:return new SuperMapAlgoPlot.AlgoSymbol17806(o);case 21605:return new SuperMapAlgoPlot.AlgoSymbol20300(o);case 2160501:return new SuperMapAlgoPlot.AlgoSymbol20301(o);case 30008:return new SuperMapAlgoPlot.AlgoSymbol30008(o);case 3000801:return new SuperMapAlgoPlot.AlgoSymbol3000801(o);case 3000802:return new SuperMapAlgoPlot.AlgoSymbol3000802(o);case 3000803:return new SuperMapAlgoPlot.AlgoSymbol3000803(o);case 3000804:return new SuperMapAlgoPlot.AlgoSymbol3000804(o);case 3000805:return new SuperMapAlgoPlot.AlgoSymbol3000805(o);case 3000806:return new SuperMapAlgoPlot.AlgoSymbol3000806(o);case 3000807:return new SuperMapAlgoPlot.AlgoSymbol3000807(o);case 3000808:return new SuperMapAlgoPlot.AlgoSymbol3000808(o);case 3000809:return new SuperMapAlgoPlot.AlgoSymbol3000809(o);case 30009:return new SuperMapAlgoPlot.AlgoSymbol30009(o);case 30010:return new SuperMapAlgoPlot.AlgoSymbol30010(o);case 30011:return new SuperMapAlgoPlot.AlgoSymbol30011(o);case 3001101:return new SuperMapAlgoPlot.AlgoSymbol3001101(o);case 3001102:return new SuperMapAlgoPlot.AlgoSymbol3001102(o);case 3001103:return new SuperMapAlgoPlot.AlgoSymbol3001103(o);case 3001104:return new SuperMapAlgoPlot.AlgoSymbol3001104(o);case 3001105:return new SuperMapAlgoPlot.AlgoSymbol3001105(o);case 30012:return new SuperMapAlgoPlot.AlgoSymbol30012(o);case 30013:return new SuperMapAlgoPlot.AlgoSymbol30013(o);case 3001301:return new SuperMapAlgoPlot.AlgoSymbol3001301(o);case 3001302:return new SuperMapAlgoPlot.AlgoSymbol3001302(o);case 30014:return new SuperMapAlgoPlot.AlgoSymbol30014(o);case 30018:return new SuperMapAlgoPlot.AlgoSymbol42500(o);case 30023:return new SuperMapAlgoPlot.AlgoSymbol30023(o);case 30024:return new SuperMapAlgoPlot.AlgoSymbol30020(o);case 3002401:return new SuperMapAlgoPlot.AlgoSymbol3002001(o);case 3002402:return new SuperMapAlgoPlot.AlgoSymbol3002002(o);case 3002403:return new SuperMapAlgoPlot.AlgoSymbol3002005(o);case 30025:return new SuperMapAlgoPlot.AlgoSymbol30025(o);case 3002501:return new SuperMapAlgoPlot.AlgoSymbol3002501(o);case 3002502:return new SuperMapAlgoPlot.AlgoSymbol3002502(o);case 3002503:return new SuperMapAlgoPlot.AlgoSymbol3002503(o);case 3002504:return new SuperMapAlgoPlot.AlgoSymbol3002504(o);case 3002505:return new SuperMapAlgoPlot.AlgoSymbol3002505(o);case 30026:return new SuperMapAlgoPlot.AlgoSymbol30026(o);case 30028:return new SuperMapAlgoPlot.AlgoSymbol30030(o);case 3002801:return new SuperMapAlgoPlot.AlgoSymbol3003001(o);case 30029:return new SuperMapAlgoPlot.AlgoSymbol30031(o);case 50106:return new SuperMapAlgoPlot.AlgoSymbol21900(o);case 5010301:return new SuperMapAlgoPlot.AlgoSymbol3010301(o);case 50108:return new SuperMapAlgoPlot.AlgoSymbol50108(o);case 5010303:return new SuperMapAlgoPlot.AlgoSymbol3010303(o);case 5010304:return new SuperMapAlgoPlot.AlgoSymbol3010304(o);case 5010401:return new SuperMapAlgoPlot.AlgoSymbol5010401(o);case 5020801:return new SuperMapAlgoPlot.AlgoSymbol5020801(o);case 5020802:return new SuperMapAlgoPlot.AlgoSymbol5020802(o);case 5021711:return new SuperMapAlgoPlot.AlgoSymbol26502(o);case 5021803:return new SuperMapAlgoPlot.AlgoSymbol5021803(o);case 5022001:return new SuperMapAlgoPlot.AlgoSymbol5022001(o);case 5022002:return new SuperMapAlgoPlot.AlgoSymbol5022002(o);case 50223:return new SuperMapAlgoPlot.AlgoSymbol50223(o);case 5022301:return new SuperMapAlgoPlot.AlgoSymbol5022301(o);case 40301:case 4030101:case 4030102:case 4030103:case 4030104:return new SuperMapAlgoPlot.AlgoSymbol22000(o);case 40302:case 4030201:case 4030202:case 4030203:case 4030204:return new SuperMapAlgoPlot.AlgoSymbol40302(o);case 40303:return new SuperMapAlgoPlot.AlgoSymbol26501(o);case 4030301:return new SuperMapAlgoPlot.AlgoSymbol4030301(o);case 4030302:return new SuperMapAlgoPlot.AlgoSymbol4030302(o);case 4030303:return new SuperMapAlgoPlot.AlgoSymbol4030303(o);case 40304:return new SuperMapAlgoPlot.AlgoSymbol40304(o);case 4030401:return new SuperMapAlgoPlot.AlgoSymbol4030401(o);case 40305:return new SuperMapAlgoPlot.AlgoSymbol40305(o);case 4030501:return new SuperMapAlgoPlot.AlgoSymbol4030501(o);case 4030602:return new SuperMapAlgoPlot.AlgoSymbol4030602(o);case 4030802:case 4031202:return new SuperMapAlgoPlot.AlgoSymbol4030802(o);case 50101:return new SuperMapAlgoPlot.AlgoSymbol25201(o);case 5010101:return new SuperMapAlgoPlot.AlgoSymbol21401(o);case 50102:return new SuperMapAlgoPlot.AlgoSymbol21500(o);case 5010202:return new SuperMapAlgoPlot.AlgoSymbol21502(o);case 5010203:return new SuperMapAlgoPlot.AlgoSymbol21503(o);case 5010204:return new SuperMapAlgoPlot.AlgoSymbol21504(o);case 50103:case 5010302:return new SuperMapAlgoPlot.AlgoSymbol21600(o);case 50104:return new SuperMapAlgoPlot.AlgoSymbol21800(o);case 50107:case 5010701:return new SuperMapAlgoPlot.AlgoSymbol22000(o);case 50208:return new SuperMapAlgoPlot.AlgoSymbol23400(o);case 50209:return new SuperMapAlgoPlot.AlgoSymbol23500(o);case 50210:return new SuperMapAlgoPlot.AlgoSymbol23800(o);case 50212:case 5021101:return new SuperMapAlgoPlot.AlgoSymbol23901(o);case 5021102:return new SuperMapAlgoPlot.AlgoSymbol23902(o);case 50220:return new SuperMapAlgoPlot.AlgoSymbol28900(o);case 50221:return new SuperMapAlgoPlot.AlgoSymbol29000(o);case 50225:return new SuperMapAlgoPlot.AlgoSymbol50225(o);case 50226:return new SuperMapAlgoPlot.AlgoSymbol50226(o);case 50222:return new SuperMapAlgoPlot.AlgoSymbol29101(o);case 5022201:return new SuperMapAlgoPlot.AlgoSymbol29103(o);case 50227:return new SuperMapAlgoPlot.AlgoSymbol35200(o);case 50301:return new SuperMapAlgoPlot.AlgoSymbol1004(o);case 5030101:return new SuperMapAlgoPlot.AlgoSymbol25200(o);case 5030102:return new SuperMapAlgoPlot.AlgoSymbol25201(o);case 50302:return new SuperMapAlgoPlot.AlgoSymbol25000(o);case 50303:return new SuperMapAlgoPlot.AlgoSymbol25400(o);case 5030103:return new SuperMapAlgoPlot.AlgoSymbol5030103(o);case 5030104:return new SuperMapAlgoPlot.AlgoSymbol5030104(o);case 5030105:return new SuperMapAlgoPlot.AlgoSymbol5030105(o);case 5030107:return new SuperMapAlgoPlot.AlgoSymbol5030107(o);case 5030106:return new SuperMapAlgoPlot.AlgoSymbol1021(o);case 5030301:return new SuperMapAlgoPlot.AlgoSymbol5030301(o);case 50308:return new SuperMapAlgoPlot.AlgoSymbol26400(o);case 50309:return new SuperMapAlgoPlot.AlgoSymbol26500(o);case 50310:return new SuperMapAlgoPlot.AlgoSymbol26600(o);case 5031001:return new SuperMapAlgoPlot.AlgoSymbol26601(o);case 50312:return new SuperMapAlgoPlot.AlgoSymbol28000(o);case 50313:return new SuperMapAlgoPlot.AlgoSymbol28100(o);case 50314:return new SuperMapAlgoPlot.AlgoSymbol28200(o);case 5031401:return new SuperMapAlgoPlot.AlgoSymbol5031401(o);case 50315:return new SuperMapAlgoPlot.AlgoSymbol28300(o);case 5031501:return new SuperMapAlgoPlot.AlgoSymbol28301(o);case 50316:return new SuperMapAlgoPlot.AlgoSymbol29800(o);case 50317:return new SuperMapAlgoPlot.AlgoSymbol1006(o);case 5031701:return new SuperMapAlgoPlot.AlgoSymbol1002(o);case 50318:return new SuperMapAlgoPlot.AlgoSymbol50318(o);case 50328:return new SuperMapAlgoPlot.AlgoSymbol50328(o);case 50320:return new SuperMapAlgoPlot.AlgoSymbol30000(o);case 5010201:return new SuperMapAlgoPlot.AlgoSymbol21501(o);case 5032001:case 5032002:case 5032003:return new SuperMapAlgoPlot.AlgoSymbol5032003(o);case 5032004:return new SuperMapAlgoPlot.AlgoSymbol5032004(o);case 50321:case 5032101:case 5032102:return new SuperMapAlgoPlot.AlgoSymbol50321(o);case 50322:return new SuperMapAlgoPlot.AlgoSymbol30200(o);case 50323:return new SuperMapAlgoPlot.AlgoSymbol50323(o);case 5032201:return new SuperMapAlgoPlot.AlgoSymbol30201(o);case 50330:return new SuperMapAlgoPlot.AlgoSymbol30800(o);case 50331:return new SuperMapAlgoPlot.AlgoSymbol50331(o);case 5033001:return new SuperMapAlgoPlot.AlgoSymbol5033001(o);case 50335:return new SuperMapAlgoPlot.AlgoSymbol50335(o);case 5033501:return new SuperMapAlgoPlot.AlgoSymbol5033501(o);case 5033502:return new SuperMapAlgoPlot.AlgoSymbol5033502(o);case 50338:return new SuperMapAlgoPlot.AlgoSymbol31300(o);case 5033801:return new SuperMapAlgoPlot.AlgoSymbol31301(o);case 5033802:return new SuperMapAlgoPlot.AlgoSymbol5033802(o);case 5033803:return new SuperMapAlgoPlot.AlgoSymbol5033803(o);case 50339:return new SuperMapAlgoPlot.AlgoSymbol31400(o);case 5033901:return new SuperMapAlgoPlot.AlgoSymbol31401(o);case 50341:return new SuperMapAlgoPlot.AlgoSymbol50341(o);case 5034101:return new SuperMapAlgoPlot.AlgoSymbol5034101(o);case 5034102:return new SuperMapAlgoPlot.AlgoSymbol5034102(o);case 50342:return new SuperMapAlgoPlot.AlgoSymbol50342(o);case 5034201:return new SuperMapAlgoPlot.AlgoSymbol5034201(o);case 5034202:return new SuperMapAlgoPlot.AlgoSymbol5034202(o);case 5034203:return new SuperMapAlgoPlot.AlgoSymbol5034203(o);case 50343:return new SuperMapAlgoPlot.AlgoSymbol50343(o);case 5034301:return new SuperMapAlgoPlot.AlgoSymbol5034301(o);case 5034302:return new SuperMapAlgoPlot.AlgoSymbol5034302(o);case 5034303:return new SuperMapAlgoPlot.AlgoSymbol5034303(o);case 50344:return new SuperMapAlgoPlot.AlgoSymbol50344(o);case 50348:return new SuperMapAlgoPlot.AlgoSymbol32300(o);case 5034801:return new SuperMapAlgoPlot.AlgoSymbol5034801(o);case 50352:return new SuperMapAlgoPlot.AlgoSymbol50352(o);case 5035201:return new SuperMapAlgoPlot.AlgoSymbol5035201(o);case 5035202:return new SuperMapAlgoPlot.AlgoSymbol5035202(o);case 5035203:return new SuperMapAlgoPlot.AlgoSymbol5035203(o);case 5035204:return new SuperMapAlgoPlot.AlgoSymbol21501(o);case 5035205:return new SuperMapAlgoPlot.AlgoSymbol5035205(o);case 50354:return new SuperMapAlgoPlot.AlgoSymbol50354(o);case 5035401:return new SuperMapAlgoPlot.AlgoSymbol5035401(o);case 50355:return new SuperMapAlgoPlot.AlgoSymbol50355(o);case 5035501:return new SuperMapAlgoPlot.AlgoSymbol5035501(o);case 60104:return new SuperMapAlgoPlot.GeoTooltipBox(o);case 60106:case 6010601:case 6010602:return new SuperMapAlgoPlot.AlgoSymbol26501(o);case 60108:return new SuperMapAlgoPlot.AlgoSymbol60108(o);case 60110:return new SuperMapAlgoPlot.AlgoSymbol34700(o);case 60111:return new SuperMapAlgoPlot.AlgoSymbol22103(o);case 6011101:return new SuperMapAlgoPlot.AlgoSymbol25400(o);case 6011102:return new SuperMapAlgoPlot.AlgoSymbol22103(o);case 60115:return new SuperMapAlgoPlot.AlgoSymbol60115(o);case 6011501:return new SuperMapAlgoPlot.AlgoSymbol6011501(o);case 60117:case 6011701:case 6011702:return new SuperMapAlgoPlot.AlgoSymbol21501(o);case 60127:return new SuperMapAlgoPlot.AlgoSymbol36400(o);case 6012702:return new SuperMapAlgoPlot.AlgoSymbol6012702(o);case 60131:return new SuperMapAlgoPlot.AlgoSymbol35000(o);case 60201:return new SuperMapAlgoPlot.AlgoSymbol60301(o);case 6020101:return new SuperMapAlgoPlot.AlgoSymbol6030101(o);case 6020102:return new SuperMapAlgoPlot.AlgoSymbol6030102(o);case 6020103:return new SuperMapAlgoPlot.AlgoSymbol6030103(o);case 6020104:return new SuperMapAlgoPlot.AlgoSymbol6030104(o);case 6020105:return new SuperMapAlgoPlot.AlgoSymbol6030105(o);case 6020106:return new SuperMapAlgoPlot.AlgoSymbol6030106(o);case 6020107:return new SuperMapAlgoPlot.AlgoSymbol6030107(o);case 60202:return new SuperMapAlgoPlot.AlgoSymbol60305(o);case 6020201:return new SuperMapAlgoPlot.AlgoSymbol6030501(o);case 60203:return new SuperMapAlgoPlot.AlgoSymbol60306(o);case 6020301:return new SuperMapAlgoPlot.AlgoSymbol6030601(o);case 60207:return new SuperMapAlgoPlot.AlgoSymbol60310(o);case 6020701:return new SuperMapAlgoPlot.AlgoSymbol6031001(o);case 70109:return new SuperMapAlgoPlot.AlgoSymbol40900(o);case 70110:return new SuperMapAlgoPlot.AlgoSymbol70110(o);case 70201:return new SuperMapAlgoPlot.AlgoSymbol41100(o);case 70202:return new SuperMapAlgoPlot.AlgoSymbol41200(o);case 7020201:return new SuperMapAlgoPlot.AlgoSymbol41201(o);case 7020202:return new SuperMapAlgoPlot.AlgoSymbol41202(o);case 80202:return new SuperMapAlgoPlot.AlgoSymbol42200(o);case 80203:return new SuperMapAlgoPlot.AlgoSymbol80203(o);case 8020301:return new SuperMapAlgoPlot.AlgoSymbol8020301(o);case 90114:return new SuperMapAlgoPlot.AlgoSymbol34300(o);case 90115:return new SuperMapAlgoPlot.AlgoSymbol34400(o);case 90207:return new SuperMapAlgoPlot.AlgoSymbol35500(o);case 90212:return new SuperMapAlgoPlot.AlgoSymbol90212(o);case 90213:return new SuperMapAlgoPlot.AlgoSymbol90213(o);case 90214:return new SuperMapAlgoPlot.AlgoSymbol36800(o);case 90215:return new SuperMapAlgoPlot.AlgoSymbol90215(o);case 90216:return new SuperMapAlgoPlot.AlgoSymbol37100(o);case 90217:return new SuperMapAlgoPlot.AlgoSymbol90217(o);case 90218:return new SuperMapAlgoPlot.AlgoSymbol37300(o);case 9021801:return new SuperMapAlgoPlot.AlgoSymbol37301(o);case 90305:return new SuperMapAlgoPlot.AlgoSymbol37700(o);case 90404:return new SuperMapAlgoPlot.AlgoSymbol40100(o);case 9040401:return new SuperMapAlgoPlot.AlgoSymbol40101(o);case 90507:return new SuperMapAlgoPlot.AlgoSymbol44100(o);case 30027:return new SuperMapAlgoPlot.AlgoSymbol3002701(o);case 50332:return new SuperMapAlgoPlot.AlgoSymbol50332(o);case 5033301:return new SuperMapAlgoPlot.AlgoSymbol5033301(o);case 50336:return new SuperMapAlgoPlot.AlgoSymbol50336(o);case 5033601:return new SuperMapAlgoPlot.AlgoSymbol5033601(o);case 50337:return new SuperMapAlgoPlot.AlgoSymbol50337(o);case 5033701:return new SuperMapAlgoPlot.AlgoSymbol5033701(o);default:return new SuperMapAlgoPlot.AlgoSymbol(o)}},SuperMapAlgoPlot.WJAlgoSymbolFactory.isAccessServer=function(t,e){if(123!==t)return!0;switch(e){case 20602:case 2060201:case 2060202:case 20915:case 2091501:case 2091502:case 2091503:case 2092101:case 21003:case 21206:case 2120601:case 2120602:case 21207:case 21212:case 2121201:case 2121202:case 2121203:case 2121204:case 2121205:case 21213:case 21214:case 2121401:case 2121402:case 2121403:case 2121404:case 2121405:case 2121406:case 2121407:case 21215:case 2121501:case 2121502:case 21217:case 21220:case 2122001:case 21221:case 2122101:case 21222:case 2122201:case 2122202:case 2122203:case 2122204:case 2122205:case 21223:case 2122301:case 2122302:case 2122303:case 2122304:case 2122305:case 2122306:case 21605:case 2160501:case 30008:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 30009:case 30010:case 30011:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30012:case 30013:case 3001301:case 3001302:case 30014:case 30018:case 30023:case 30024:case 3002401:case 3002402:case 3002403:case 30025:case 3002501:case 3002502:case 3002503:case 3002504:case 3002505:case 30026:case 30027:case 30028:case 3002801:case 30029:case 40301:case 4030101:case 4030102:case 4030103:case 4030104:case 40302:case 4030201:case 4030202:case 4030203:case 4030204:case 40303:case 4030301:case 4030302:case 4030303:case 40304:case 4030401:case 40305:case 4030501:case 4030602:case 4030802:case 4031202:case 50101:case 5010101:case 50102:case 5010201:case 5010202:case 5010203:case 5010204:case 50103:case 5010301:case 5010302:case 5010303:case 5010304:case 50104:case 5010401:case 50106:case 50107:case 5010701:case 50108:case 50208:case 5020801:case 5020802:case 50209:case 50210:case 5021101:case 5021102:case 50212:case 5021711:case 5021803:case 50220:case 5022001:case 5022002:case 50221:case 50222:case 5022201:case 50223:case 5022301:case 50225:case 50226:case 50227:case 50301:case 5030101:case 5030102:case 5030103:case 5030104:case 5030105:case 5030106:case 5030107:case 50302:case 50303:case 5030301:case 50308:case 50309:case 50310:case 5031001:case 50312:case 50313:case 50314:case 5031401:case 50315:case 5031501:case 50316:case 50317:case 5031701:case 50318:case 50328:case 50320:case 5032001:case 5032002:case 5032003:case 5032004:case 50321:case 5032101:case 5032102:case 50322:case 5032201:case 50323:case 50330:case 5033001:case 50331:case 50335:case 5033501:case 5033502:case 50338:case 5033801:case 5033802:case 5033803:case 50339:case 5033901:case 50341:case 5034101:case 5034102:case 50342:case 5034201:case 5034202:case 5034203:case 50343:case 5034301:case 5034302:case 5034303:case 50344:case 50348:case 5034801:case 50352:case 5035201:case 5035202:case 5035203:case 5035204:case 5035205:case 50354:case 5035401:case 50355:case 5035501:case 60104:case 60106:case 6010601:case 6010602:case 60108:case 60110:case 60111:case 6011101:case 6011102:case 60115:case 6011501:case 60117:case 6011701:case 6011702:case 60127:case 6012702:case 60131:case 60201:case 6020101:case 6020102:case 6020103:case 6020104:case 6020105:case 6020106:case 6020107:case 60202:case 6020201:case 60203:case 6020301:case 60207:case 6020701:case 70109:case 70110:case 70201:case 70202:case 7020201:case 7020202:case 80202:case 80203:case 8020301:case 90114:case 90115:case 90207:case 90212:case 90213:case 90214:case 90215:case 90216:case 90217:case 90218:case 9021801:case 90305:case 90404:case 9040401:case 90507:case 50332:case 5033301:case 50336:case 5033601:case 50337:case 5033701:return!1;default:return!0}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getSymbolWayType=function(t,e){if(123!==t)return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN;switch(e){case 21003:case 21217:case 21220:case 2122001:case 30008:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 30009:case 5021803:case 5022001:case 5022002:case 40301:case 4030101:case 4030102:case 4030103:case 4030104:case 40303:case 4030301:case 4030302:case 4030303:case 50101:case 5010101:case 50102:case 5010201:case 5010202:case 5010203:case 5010204:case 50103:case 5010301:case 5010302:case 5010303:case 5010304:case 50107:case 5010701:case 50210:case 5021711:case 50220:case 50221:case 50225:case 5030102:case 50303:case 5030301:case 50309:case 50320:case 5032001:case 5032002:case 5032003:case 5032004:case 50321:case 5032101:case 5032102:case 50322:case 5032201:case 50330:case 5033001:case 5034203:case 5035201:case 5035204:case 60127:case 60131:case 20915:case 2091502:case 2092101:case 21215:case 2121501:case 2121502:case 21605:case 30010:case 30011:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30012:case 30026:case 40302:case 4030201:case 4030202:case 4030203:case 4030204:case 50227:case 5035205:case 60201:case 6020101:case 6020102:case 6020103:case 6020104:case 6020105:case 6020106:case 6020107:case 70202:case 7020201:case 7020202:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;case 80203:case 8020301:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultSubSymbols=function(t,e){var o=[];if(123!==t)return o;switch(e){case 21220:case 2122001:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21219)),o.push(new SuperMapAlgoPlot.SubSymbol(123,2121901)),o;case 2092101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20921)),o;case 80202:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2170201)),o;case 21221:case 2122101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21220)),o.push(new SuperMapAlgoPlot.SubSymbol(123,2122001)),o;case 3000801:return o.push(new SuperMapAlgoPlot.SubSymbol(123,3000106)),o;case 50209:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1300)),o;case 3000802:return o.push(new SuperMapAlgoPlot.SubSymbol(123,3000107)),o;case 3000803:return o.push(new SuperMapAlgoPlot.SubSymbol(123,3000108)),o;case 3000804:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20303)),o;case 2121404:case 3000805:case 3000808:case 3001301:case 4030103:case 4030202:case 5020802:case 5010201:case 50108:case 3002501:case 3002502:case 3002503:case 3002504:case 3002505:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21601)),o;case 3000806:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20404)),o;case 3000807:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2010103)),o.push(new SuperMapAlgoPlot.SubSymbol(123,21601)),o;case 3000809:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21601)),o.push(new SuperMapAlgoPlot.SubSymbol(123,30006)),o;case 30010:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10305)),o;case 3001104:case 3001105:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20404)),o;case 30012:return o.push(new SuperMapAlgoPlot.SubSymbol(123,30007)),o;case 3002403:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21305)),o;case 40301:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40201)),o;case 5021803:return o.push(new SuperMapAlgoPlot.SubSymbol(123,50218)),o;case 50225:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10103)),o;case 50226:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10103)),o.push(new SuperMapAlgoPlot.SubSymbol(123,10103)),o;case 5032003:case 5032102:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20304)),o.push(new SuperMapAlgoPlot.SubSymbol(123,20301)),o;case 5030301:case 5022301:case 5033001:case 5034201:case 5034202:case 50342:case 6011102:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10110)),o;case 5033802:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20202)),o;case 5033803:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20203)),o;case 5034203:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2050302)),o;case 50352:return o.push(new SuperMapAlgoPlot.SubSymbol(123,50231)),o;case 5035202:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21226)),o;case 5035205:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2050308)),o;case 4030101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2030303)),o;case 4030102:case 4030201:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20303)),o;case 4030104:case 4030203:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20401)),o;case 4030204:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10110)),o;case 40302:case 40303:case 4030301:case 4030302:case 4030303:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40201)),o;case 5010202:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2040301)),o;case 5010203:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20501)),o;case 5010204:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20503)),o;case 50107:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10106)),o;case 5010701:return o.push(new SuperMapAlgoPlot.SubSymbol(123,5010503)),o;case 5021101:case 5021102:case 50212:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2020301)),o;case 5021711:return o.push(new SuperMapAlgoPlot.SubSymbol(123,5021707)),o;case 50227:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10103)),o;case 5030101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2050302)),o;case 50315:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21302)),o;case 5031501:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21302)),o.push(new SuperMapAlgoPlot.SubSymbol(123,21302)),o;case 5032001:case 5032101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20301)),o.push(new SuperMapAlgoPlot.SubSymbol(123,20301)),o;case 5032002:case 50321:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20304)),o.push(new SuperMapAlgoPlot.SubSymbol(123,20304)),o;case 5035201:return o.push(new SuperMapAlgoPlot.SubSymbol(123,50231)),o;case 5035204:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2040106)),o;case 5035401:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2030111)),o;case 60106:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10302)),o;case 6010601:return o.push(new SuperMapAlgoPlot.SubSymbol(123,1030201)),o;case 6010602:return o.push(new SuperMapAlgoPlot.SubSymbol(123,1030202)),o;case 6012702:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21509)),o;case 60207:return o.push(new SuperMapAlgoPlot.SubSymbol(123,5023103)),o;case 6020701:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2122601)),o.push(new SuperMapAlgoPlot.SubSymbol(123,2122602)),o.push(new SuperMapAlgoPlot.SubSymbol(123,2122603)),o;case 60115:case 6011501:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21504)),o;case 60108:return o.push(new SuperMapAlgoPlot.SubSymbol(123,60107)),o;case 90114:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6202)),o;case 90115:return o.push(new SuperMapAlgoPlot.SubSymbol(123,9010206)),o;case 90305:return o.push(new SuperMapAlgoPlot.SubSymbol(123,50304)),o;case 4030602:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40306)),o;case 4030802:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40308)),o;case 4031202:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40312)),o;case 60111:return o.push(new SuperMapAlgoPlot.SubSymbol(123,90106)),o;case 60117:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21701)),o;case 6011701:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20603)),o;case 6011702:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2170101)),o;case 90216:return o.push(new SuperMapAlgoPlot.SubSymbol(123,9020106)),o;default:return o}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getMinEditPts=function(t,e){if(123!==t)return 0;switch(e){case 20602:case 2060201:case 2060202:case 20915:case 21003:case 21206:case 2120601:case 2120602:case 21207:case 21212:case 2121201:case 2121202:case 2121203:case 2121204:case 2121205:case 21213:case 21214:case 2121401:case 2121402:case 2121403:case 2121404:case 2121405:case 2121406:case 2121407:case 21215:case 21217:case 21221:case 21222:case 2122201:case 2122202:case 2122203:case 2122204:case 2122205:case 21223:case 2122301:case 2122302:case 2122303:case 2122304:case 2122305:case 2122306:case 21605:case 30008:case 30009:case 30010:case 30013:case 30014:case 30018:case 30027:case 30028:case 3002801:case 30029:case 40301:case 40303:case 40304:case 40305:case 50101:case 50102:case 50103:case 50104:case 50106:case 50107:case 50108:case 50208:case 50209:case 50210:case 50212:case 50220:case 50221:case 50222:case 50223:case 50226:case 50302:case 50303:case 50308:case 50309:case 50310:case 50312:case 50313:case 50314:case 50315:case 50318:case 50328:case 50320:case 50321:case 5032101:case 5032102:case 50322:case 50323:case 50330:case 50331:case 50335:case 50338:case 50339:case 50341:case 5034101:case 5034102:case 50342:case 50343:case 5034301:case 5034302:case 5034303:case 50344:case 50348:case 50354:case 5035401:case 50355:case 5035501:case 60106:case 60108:case 60115:case 6011501:case 60127:case 60131:case 60202:case 6020201:case 60203:case 6020301:case 70109:case 70110:case 70201:case 70202:case 80202:case 80203:case 8020301:case 90114:case 90115:case 90207:case 90212:case 90213:case 90214:case 90215:case 90216:case 90217:case 90218:case 9021801:case 90305:case 90404:case 90507:case 2091501:case 2091502:case 2091503:case 2092101:case 2121501:case 2121502:case 21220:case 2122001:case 2122101:case 2160501:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 3001301:case 3001302:case 30025:case 3002501:case 3002502:case 3002503:case 3002504:case 3002505:case 30026:case 4030101:case 4030102:case 4030103:case 4030104:case 4030301:case 4030302:case 4030303:case 4030401:case 4030501:case 4030602:case 4030802:case 4031202:case 5010101:case 5010201:case 5010202:case 5010203:case 5010204:case 5010301:case 5010302:case 5010303:case 5010304:case 5010401:case 5010701:case 5020802:case 5021101:case 5021102:case 5021711:case 5021803:case 5022001:case 5022002:case 5022201:case 5022301:case 5030102:case 5030103:case 5030104:case 5030301:case 5031001:case 5031401:case 5031501:case 5032001:case 5032002:case 5032003:case 5032004:case 5032201:case 5033001:case 5033501:case 5033502:case 5033801:case 5033802:case 5033803:case 5033901:case 5034201:case 5034202:case 5034203:case 5034801:case 5035201:case 5035203:case 5035204:case 6010601:case 6010602:case 60110:case 60111:case 6011101:case 6011102:case 60117:case 6011701:case 6011702:case 6012702:case 7020201:case 7020202:case 9040401:case 50332:case 5033301:case 50336:case 5033601:case 50337:case 5033701:return 2;case 30011:case 30012:case 30024:case 3002401:case 3002402:case 3002403:case 40302:case 50225:case 50227:case 50301:case 50316:case 50317:case 5031701:case 50352:case 60104:case 60201:case 6020101:case 6020102:case 6020103:case 6020104:case 6020105:case 6020106:case 6020107:case 60207:case 6020701:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30023:case 4030201:case 4030202:case 4030203:case 4030204:case 5020801:case 5030101:case 5030105:case 5030106:case 5030107:case 5035202:case 5035205:return 3;default:return 0}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getMaxEditPts=function(t,e){if(123!==t)return 0;switch(e){case 21217:case 30018:case 30025:case 3002501:case 3002502:case 3002503:case 3002504:case 3002505:case 50104:case 50302:case 50313:case 50335:case 50338:case 50339:case 60202:case 6020201:case 60203:case 6020301:case 70201:case 90114:case 90115:case 90214:case 90216:case 90217:case 90218:case 9021801:case 90507:case 2120602:case 2121402:case 2121404:case 2121405:case 2121406:case 2121407:case 2122201:case 2122202:case 2160501:case 3001301:case 30026:case 4030401:case 5010401:case 5031401:case 5031501:case 5033501:case 5033502:case 5033801:case 5033802:case 5033803:case 5033901:case 50343:case 5034301:case 5034302:case 5034303:case 50344:case 60108:case 60115:case 6011501:case 90207:case 90212:case 90215:case 30027:return 2;case 21003:case 21207:case 21223:case 2122301:case 2122302:case 2122303:case 2122304:case 2122305:case 2122306:case 30023:case 50221:case 50222:case 50331:case 50348:case 60104:case 2021101:case 2021102:case 5021101:case 5021102:case 5022201:case 5034801:case 70110:return 3;case 50312:case 50317:case 5030106:return 4;case 21220:case 2122001:case 21221:case 50225:case 50226:case 50316:case 50320:case 5032004:case 50322:case 50328:case 60127:case 2122101:case 5020801:case 5031701:case 5032001:case 5032002:case 5032003:case 50321:case 5032101:case 5032102:case 5032201:case 80203:case 8020301:case 90213:return 30;case 30024:case 3002401:case 3002402:case 3002403:case 30028:case 3002801:case 30029:case 50227:case 50352:case 60207:case 6020701:case 5022001:case 5022002:case 5030101:case 50341:case 5034101:case 5034102:case 5035202:case 5035203:return 512;case 20915:case 21212:case 2121201:case 2121202:case 2121203:case 2121204:case 2121205:case 21213:case 21214:case 2121401:case 2121403:case 21215:case 21222:case 2122203:case 2122204:case 2122205:case 21605:case 30008:case 30010:case 30011:case 30012:case 40301:case 40302:case 40303:case 50101:case 50102:case 50106:case 50107:case 50108:case 50209:case 50210:case 50220:case 50223:case 50303:case 50309:case 50315:case 50330:case 60201:case 6020101:case 6020102:case 6020103:case 6020104:case 6020105:case 6020106:case 6020107:case 70202:case 80202:case 2091501:case 2091502:case 2091503:case 2121501:case 2121502:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 4030101:case 4030102:case 4030103:case 4030104:case 4030201:case 4030202:case 4030203:case 4030204:case 5010101:case 5010701:case 5020802:case 5022301:case 5030102:case 5030301:case 5035205:case 6010601:case 6010602:case 60110:case 60111:case 6011101:case 6011102:case 60117:case 6011701:case 6011702:case 7020201:case 7020202:case 50212:return 1e3;case 20602:case 2060201:case 2060202:case 21206:case 2120601:case 30009:case 30013:case 30014:case 40304:case 40305:case 50103:case 50208:case 50301:case 50308:case 50310:case 50314:case 50318:case 50323:case 50342:case 60106:case 60131:case 70109:case 90305:case 90404:case 2092101:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 3001302:case 4030301:case 4030302:case 4030303:case 4030501:case 4030602:case 4030802:case 4031202:case 5010201:case 5010202:case 5010203:case 5010204:case 5010301:case 5010302:case 5010303:case 5010304:case 5021711:case 5021803:case 5030103:case 5030104:case 5030105:case 5030107:case 5031001:case 5033001:case 5034201:case 5034202:case 5034203:case 5035201:case 5035204:case 50354:case 5035401:case 50355:case 5035501:case 6012702:case 9040401:case 5033301:case 50336:case 5033601:case 50337:case 5033701:return 9999;case 50332:return 6;default:return 0}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultStyle=function(t,e){var o={};if(123===t)switch(e){case 50108:case 30012:case 3000801:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30011:case 30013:case 30010:case 30014:case 30009:case 30008:case 30023:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:o.color=o.strokeColor="#0000ff"}return o},SuperMapAlgoPlot.WJAlgoSymbolFactory.zoomInCalSymbol=function(){return!1}}();

/***/ }),
/* 3 */
/***/ (function(module, exports) {

!function(){"use strict";function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var l,r=n(e);if(o){var i=n(this).constructor;l=Reflect.construct(r,arguments,i)}else l=r.apply(this,arguments);return function(e,o){if(o&&("object"===t(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,l)}}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,SuperMapAlgoPlot.AlgoSymbol);var n,r,i,a=l(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),0===(e=a.call(this,t)).scaleValues.length&&(e.scaleValues.push(.04),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return n=u,(r=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=0;y<f-1;++y){var S=new SuperMapAlgoPlot.Point(u[y].x,u[y].y),h=new SuperMapAlgoPlot.Point(u[y+1].x,u[y+1].y);g=.3*SuperMapAlgoPlot.PlottingUtil.distance(S,h);var b=[],A=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,u[y],u[y+1]),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*g,u[y],A);b.push(d.pntLeft),b.push(d.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?1:0}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f.isOnline){p=f.projectPoint,s=c;break}}if(-1===s)return void(this.scaleValues[2]=.05);for(var g=[],y=0,S=s;y<=S;y++)g.push(l[y]);g.push(p);var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g)/n;if(h>=1)return;this.scaleValues[2]=h}}}}])&&e(n.prototype,r),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),u}();function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=s(t);if(e){var n=s(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15800=r;var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.029615),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=o*l,r=this.scaleValues[2]*l*.5,i=!1;i=0===this.scaleValues[1];var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0!==a){for(var u=[],p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*r-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var f=u.length,g=0,y=0;y<f-1;++y){var S=new SuperMapAlgoPlot.Point(u[y].x,u[y].y),h=new SuperMapAlgoPlot.Point(u[y+1].x,u[y+1].y);g=.3*SuperMapAlgoPlot.PlottingUtil.distance(S,h);var b=[],A=new SuperMapAlgoPlot.Point(.5*(S.x+h.x),.5*(S.y+h.y)),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(S,h)*SuperMapAlgoPlot.PlottingUtil.RTOD,M=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,g,g,d+90),v=1.5*g,m=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,v,v,d+260),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,v,v,d+280);b.push(m),b.push(M),b.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.finish()}}}}])&&a(e.prototype,o),l&&a(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function P(t){"@babel/helpers - typeof";return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=S(t);if(e){var n=S(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15804=c;var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=y(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);for(var o=0,l=0,n=e.length-1;l<n;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);for(var r=0,i=0,a=t.length-1;i<a;i++)r+=SuperMapAlgoPlot.PlottingUtil.distance(t[i],t[i+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());for(var u=this.scaleValues[0]*r,p=this.scaleValues[1],s=this.scaleValues[2]*r,c=.3*s,P=s;P<o;P+=s){var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e);if(-1===f.index)return void this.finish();var g=P+c,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,e);if(-1===y.index)return void this.finish();var S=[],h=[];S.push(f.pts);var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[f.index],f.pts);0===p?S.push(new SuperMapAlgoPlot.Point(b.pntLeft.x,b.pntLeft.y)):S.push(new SuperMapAlgoPlot.Point(b.pntRight.x,b.pntRight.y)),h.push(y.pts);var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[y.index],y.pts);if(0===p?h.push(new SuperMapAlgoPlot.Point(A.pntLeft.x,A.pntLeft.y)):h.push(new SuperMapAlgoPlot.Point(A.pntRight.x,A.pntRight.y)),s===P){this.scalePoints=[];var d=new SuperMapAlgoPlot.Point(S[1].x,S[1].y);d.isScalePoint=!0,d.tag=0,this.scalePoints.push(d),(d=new SuperMapAlgoPlot.Point(S[0].x,S[0].y)).isScalePoint=!0,d.tag=1,this.scalePoints.push(d)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;for(var l=0,n=0,r=o.length-1;n<r;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),a=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,l*this.scaleValues[2]);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.distance(u.pt,a)/l,s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i[0],i[1],e);this.scaleValues[1]=s?1:0,this.scaleValues[0]=p}else if(1===t){for(var c=0,P=-1,f=[],g=0,y=i.length-1;g<y;g++){var S=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i[g],i[g+1]);if(S.isOnline){var h=SuperMapAlgoPlot.PlottingUtil.distance(S.projectPoint,this.controlPoints[1]);0==c?(c=h,P=g,f=e):h<c&&(c=h,P=g,f=e)}}if(-1==P)return;for(var b=0,A=0,d=P-1;A<d;A++)b+=SuperMapAlgoPlot.PlottingUtil.distance(i[A],i[A+1]);var M=(b+=SuperMapAlgoPlot.PlottingUtil.distance(f,i[P]))/l;M>.7&&(M=.7),this.scaleValues[2]=M}}}}])&&f(e.prototype,o),l&&f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function b(t){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=v(t);if(e){var n=v(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15200=h;var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=M(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var n=Math.floor(l*o.length/4),r=new SuperMapAlgoPlot.Point(o[n].x,o[n].y),i=new SuperMapAlgoPlot.Point(o[n+1].x,o[n+1].y),a=new SuperMapAlgoPlot.Point((r.x+i.x)/2,(r.y+i.y)/2),u=SuperMapAlgoPlot.PlottingUtil.radian(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=this.scaleValues[0]*e/2,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,4*p,4*p,u+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c,P],{lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&A(e.prototype,o),l&&A(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function O(t){"@babel/helpers - typeof";return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function U(t,e){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=j(t);if(e){var n=j(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29100=m;var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,l,n=L(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var n=l*(o.length-1)/4,r=new SuperMapAlgoPlot.Point(o[n].x,o[n].y),i=new SuperMapAlgoPlot.Point(o[n+1].x,o[n+1].y),a=new SuperMapAlgoPlot.Point((r.x+i.x)/2,(r.y+i.y)/2),u=SuperMapAlgoPlot.PlottingUtil.radian(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=this.scaleValues[0]*e/2,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,4*p,4*p,u+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,u+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c,P],{surroundLineLimit:!0,lineTypeLimit:!0})}this.finish()}}}])&&w(e.prototype,o),l&&w(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function E(t){"@babel/helpers - typeof";return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function V(t,e){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=B(t);if(e){var n=B(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29101=x;var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=R(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.0375),e.scaleValues.push(.025)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.35*this.getSubSymbolScaleValue());var l=.5*o,n=180*SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])/Math.PI,r=o*this.scaleValues[0],i=Math.sqrt(r*r+r*r)+r/2,a=l-i,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e).pts,p=this.computeXPts(u,r,e,n),s=[];s.push(new SuperMapAlgoPlot.Point(p[0].x,p[0].y)),s.push(new SuperMapAlgoPlot.Point(p[1].x,p[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=[];c.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),c.push(new SuperMapAlgoPlot.Point(p[3].x,p[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e).pts,f=this.computeXPts(P,r,e,n),g=[];g.push(new SuperMapAlgoPlot.Point(f[0].x,f[0].y)),g.push(new SuperMapAlgoPlot.Point(f[1].x,f[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=[];y.push(new SuperMapAlgoPlot.Point(f[2].x,f[2].y)),y.push(new SuperMapAlgoPlot.Point(f[3].x,f[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=l+i,h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(S,e).pts,b=this.computeXPts(h,r,e,n),A=[];A.push(new SuperMapAlgoPlot.Point(b[0].x,b[0].y)),A.push(new SuperMapAlgoPlot.Point(b[1].x,b[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var d=[];d.push(new SuperMapAlgoPlot.Point(b[2].x,b[2].y)),d.push(new SuperMapAlgoPlot.Point(b[3].x,b[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);for(var M=l-2*i,v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(M,e),m=v.index,O=v.pts,w=[],U=0;U<=m;U++)w.push(e[U]);w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w);var L=l+2*i,j=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(L,e),x=j.index,E=j.pts,T=[];if(x<=e.length){T.push(E);for(var V=x+1;V<=e.length-1;V++)T.push(e[V])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var R=e[0],B=e[1],Y=e[e.length-2],_=e[e.length-1],I=o*this.scaleValues[1],C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,B,R),D=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,Y,_),N=[];N.push(R),N.push(C.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N);var k=[];k.push(_),k.push(D.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,k);var z=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],i,i,90);this.addScalePoint(z,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=.5*SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;r>=.12&&(r=.12),this.scaleValues[0]=r}}},{key:"computeXPts",value:function(t,e,o,l){var n=[],r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+45),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+225);n.push(r),n.push(i);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+135),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+315);return n.push(a),n.push(u),n}}])&&T(e.prototype,o),l&&T(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _(t){"@babel/helpers - typeof";return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=N(t);if(e){var n=N(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol510100=Y;var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=D(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());for(var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[1]*e,l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,l).pt,r=[],i=0;i<t.length;i++){if(i===t.length-1){r.push(t[i]);break}r.push(t[i]);var a=[];if(this.intersectLineAndCircle(t[i],t[i+1],n,o,a))for(var u=0;u<a.length;u++)r.push(a[u])}for(var p=[],s=0;s<r.length;s++){if(s===r.length-1){0!==p.length&&(p.push(r[s]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p),p=[]);break}this.isLineInCircle(r[s],r[s+1],n,o)?0!==p.length&&(p.push(r[s]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p),p=[]):p.push(r[s])}this.computeSubSymbol(n,2*o),this.addScalePoint(n);var c=new SuperMapAlgoPlot.Point(n.x+o,n.y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(n,30,c),this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){for(var n=0,r=-1,i=null,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.projectPoint,o[a],o[a+1])){var p=SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e);0===n?(n=p,r=a,i=u.projectPoint):p<n&&(n=p,r=a,i=u.projectPoint)}}if(-1===r)return;for(var s=0,c=0;c<r;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[c],o[c+1]);var P=(s+=SuperMapAlgoPlot.PlottingUtil.distance(i,o[r]))/l;P>1&&(P=1),this.scaleValues[0]=P}if(1===t){var f=this.scaleValues[0]*l,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);if(-1===g.index)return;var y=SuperMapAlgoPlot.PlottingUtil.distance(g.pt,e)/l;y>.4&&(y=.4),this.scaleValues[1]=y}}}},{key:"intersectLineAndCircle",value:function(t,e,o,l,n){for(var r=!1,i=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[o,new SuperMapAlgoPlot.Point(o.x+l,o.y)]),a=0;a<i.length-1;a++){var u=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(t,e,i[a],i[a+1],u)&&(r=!0,n.push(u))}if(t.x>e.x){for(var p=0;p<n.length&&p!==n.length-1;p++)if(n[p].x<n[p+1].x){var s=n[p];n[p]=n[p+1],n[p+1]=s}}else if(t.x<e.x){for(var c=0;c<n.length&&c!==n.length-1;c++)if(n[c].x>n[c+1].x){var P=n[c];n[c]=n[c+1],n[c+1]=P}}else if(t.y>e.y){for(var f=0;f<n.length&&f!==n.length-1;f++)if(n[f].y<n[f+1].y){var g=n[f];n[f]=n[f+1],n[f+1]=g}}else if(t.y<e.y)for(var y=0;y<n.length&&y!==n.length-1;y++)if(n[y].y>n[y+1].y){var S=n[y];n[y]=n[y+1],n[y+1]=S}return r}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return SuperMapAlgoPlot.PlottingUtil.distance(n,o)<l}},{key:"computeSubSymbol",value:function(t,e){var o=.5*e,l=[];l.push(t),l.push(new SuperMapAlgoPlot.Point(t.x+o,t.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,l);var n=[];n.push(new SuperMapAlgoPlot.Point(t.x-o,t.y)),n.push(new SuperMapAlgoPlot.Point(t.x+o,t.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);var r=new SuperMapAlgoPlot.Point(t.x+.75*o,t.y),i=.8*o,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,i,i,155),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,i,i,205),p=[];p.push(a);var s=i*(Math.cos(25*SuperMapAlgoPlot.PlottingUtil.DTOR)-Math.cos(75*SuperMapAlgoPlot.PlottingUtil.DTOR));p.push(new SuperMapAlgoPlot.Point(r.x-s,r.y)),p.push(u),p.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p,{fillLimit:!0,fill:!0})}}])&&I(e.prototype,o),l&&I(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function z(t){"@babel/helpers - typeof";return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function J(t,e){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=G(t);if(e){var n=G(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol520100=k;var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol520100);var e,o,l,n=X(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return e=r,(o=[{key:"computeSubSymbol",value:function(t,e){var o=.5*e,l=[];l.push(t),l.push(new SuperMapAlgoPlot.Point(t.x+o,t.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,l);var n=.6*o,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,n,n,60),i=new SuperMapAlgoPlot.Point(t.x-.3*o,t.y),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,n,n,240),u=new SuperMapAlgoPlot.Point(t.x+.3*o,t.y),p=[];p.push(r),p.push(i),p.push(t),p.push(u),p.push(a),p.push(t),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p,{fillLimit:!0,fill:!0})}}])&&F(e.prototype,o),l&&F(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function W(t){"@babel/helpers - typeof";return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function H(t,e){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Z(t);if(e){var n=Z(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol520200=K;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Q(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05):1==this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.8*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,.3*o);if(-1!==l.index){var n=l.pt,r=l.index,i=o*this.scaleValues[0]*.5,a=SuperMapAlgoPlot.PlottingUtil.radian(n,e[r+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a+90),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a-90),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,u),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,p);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s.pntLeft,s.pntRight]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c.pntLeft,c.pntRight]);var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,.6*o);if(-1!==P.index){var f=P.pt,g=P.index,y=SuperMapAlgoPlot.PlottingUtil.radian(f,e[g+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,i,i,y+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,i,i,y-90),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,f,S),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,f,h);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b.pntLeft,b.pntRight]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[A.pntLeft,A.pntRight]),this.addDovetailArrow(e,this.scaleValues[1]),this.addScalePoint(h,0),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.6*n,l);if(!r.bfind)return;var i=2*SuperMapAlgoPlot.PlottingUtil.distance(e,r.pts);this.scaleValues[0]=i/n}}}])&&q(e.prototype,o),l&&q(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tt(t){"@babel/helpers - typeof";return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ot(t,e){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nt(t);if(e){var n=nt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol520300=$;var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.15*this.getSubSymbolScaleValue(o));var l=.5*o,n=180*SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])/Math.PI,r=o*this.scaleValues[0],i=Math.sqrt(r*r+r*r)+r/2,a=l-i,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e).pts,p=this.computeXPts(u,r,e,n),s=[];s.push(new SuperMapAlgoPlot.Point(p[0].x,p[0].y)),s.push(new SuperMapAlgoPlot.Point(p[1].x,p[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=[];c.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),c.push(new SuperMapAlgoPlot.Point(p[3].x,p[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e).pts,f=this.computeXPts(P,r,e,n),g=[];g.push(new SuperMapAlgoPlot.Point(f[0].x,f[0].y)),g.push(new SuperMapAlgoPlot.Point(f[1].x,f[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=[];y.push(new SuperMapAlgoPlot.Point(f[2].x,f[2].y)),y.push(new SuperMapAlgoPlot.Point(f[3].x,f[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=l+i,h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(S,e).pts,b=this.computeXPts(h,r,e,n),A=[];A.push(new SuperMapAlgoPlot.Point(b[0].x,b[0].y)),A.push(new SuperMapAlgoPlot.Point(b[1].x,b[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var d=[];d.push(new SuperMapAlgoPlot.Point(b[2].x,b[2].y)),d.push(new SuperMapAlgoPlot.Point(b[3].x,b[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var M=l-2*i,v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(M,e);if(v.bfind){for(var m=v.index,O=v.pts,w=[],U=0;U<=m;U++)w.push(e[U]);w.push(O);var L=o*this.scaleValues[1];this.computeDashLines(w,L)}var j=l+2*i,x=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(j,e);if(x.bfind){var E=x.index,T=x.pts,V=[];if(E<=e.length){V.push(T);for(var R=E+1;R<=e.length-1;R++)V.push(e[R])}this.computeDashLines(V,L)}var B=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],i,i,90);this.addScalePoint(B,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=.5*SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;r>=.12&&(r=.12),this.scaleValues[0]=r}}},{key:"computeXPts",value:function(t,e,o,l){var n=[],r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+45),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+225);n.push(r),n.push(i);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+135),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+315);return n.push(a),n.push(u),n}},{key:"computeDashLines",value:function(t,e){for(var o=this.computeDashLine(2*e,2*e,t),l=.5*e,n=0;n<o.length;n++){var r=o[n];if(!((r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r)).length<=1)){var i=new SuperMapAlgoPlot.Point(r[0].x,r[0].y),a=new SuperMapAlgoPlot.Point(r[r.length-1].x,r[r.length-1].y),u=180*SuperMapAlgoPlot.PlottingUtil.radian(i,a)/Math.PI,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,u+90),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,u+270),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,l,l,u+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,l,l,u+270),f=[];f.push(p),f.push(s),f.push(P),f.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fillLimit:!0,fill:!0})}}}}])&&et(e.prototype,o),l&&et(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function it(t){"@babel/helpers - typeof";return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ut(t,e){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=st(t);if(e){var n=st(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol520500=rt;var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=this.getLinePts(e,this.scaleValues[0]),n=new SuperMapAlgoPlot.Point((l.startPt.x+l.endPt.x)/2,(l.startPt.y+l.endPt.y)/2),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l.startPt,l.endPt)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.distance(l.startPt,l.endPt);if(0<this.subSymbols.length)this.computeSubSymbol(this.subSymbols[0],n,i,r-90);else{var a=new SuperMapAlgoPlot.Point(-.5*i,.25*i),u=new SuperMapAlgoPlot.Point(-.5*i,-.25*i),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,a,r),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,u,r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,s]);var c=new SuperMapAlgoPlot.Point(-.5*i,.125*i),P=new SuperMapAlgoPlot.Point(.25*i,.125*i),f=new SuperMapAlgoPlot.Point(.5*i,0),g=new SuperMapAlgoPlot.Point(.25*i,-.125*i),y=new SuperMapAlgoPlot.Point(-.5*i,-.125*i),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,c,r),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,P,r),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,f,r),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,g,r),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,y,r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S,h,b,A,d])}for(var M=[],v=[],m=0;m<=l.startIndex;m++)M.push(e[m]);if(M.push(l.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),l.endIndex<=e.length){v.push(l.endPt);for(var O=l.endIndex+1;O<=e.length-1;O++)v.push(e[O]);this.addDovetailArrow(v,this.scaleValues[1])}var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,.5*i,.5*i,r+90);this.addScalePoint(w,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&at(e.prototype,o),l&&at(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pt(t){"@babel/helpers - typeof";return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gt(t,e){return(gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=St(t);if(e){var n=St(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol530100=ct;var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=e*this.scaleValues[0],n=this.getLinePts(o,this.scaleValues[0],5/14),r=this.getLinePts(o,this.scaleValues[0],9/14),i=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),a=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI;this.createSubSymbol(i,l,a);var u=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),p=180*SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)/Math.PI;this.createSubSymbol(u,l,p);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.5*l,.5*l,p+90);this.addScalePoint(s);for(var c=[],P=[],f=[],g=0;g<=n.startIndex;g++)c.push(o[g]);if(c.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),n.endIndex<=r.startIndex){P.push(n.endPt);for(var y=n.endIndex+1;y<=r.startIndex;y++)P.push(o[y]);P.push(r.startPt),2===o.length&&SuperMapAlgoPlot.PlottingUtil.distance(o[0],n.endPt)<=SuperMapAlgoPlot.PlottingUtil.distance(o[0],r.startPt)&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),o.length>2&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P)}f.push(r.endPt);for(var S=r.endIndex+1;S<o.length;S++)f.push(o[S]);this.addArrow(f,this.scaleValues[1]),this.finish()}}},{key:"createSubSymbol",value:function(t,e,o){var l=this.getSubSymbolPts1(e);this.createSubSymbol1(t,e,o,l);var n=this.getSubSymbolPts2(e);this.createSubSymbol2(t,e,o,n)}},{key:"createSubSymbol2",value:function(t,e,o,l){for(var n=[],r=0;r<l.length;r++){var i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[r],o);n.push(i)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,{surroundLineLimit:!0})}},{key:"createSubSymbol1",value:function(t,e,o,l){for(var n=[],r=0;r<l.length;r++){var i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[r],o);n.push(i)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,{surroundLineLimit:!0})}},{key:"getSubSymbolPts1",value:function(t){var e=t/2,o=[];return o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o}},{key:"getSubSymbolPts2",value:function(t){var e=t/2,o=[];return o.push(new SuperMapAlgoPlot.Point(-e,e)),o.push(new SuperMapAlgoPlot.Point(e,e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(9*n/14,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;i<=.3&&(this.scaleValues[0]=i)}}}])&&ft(e.prototype,o),l&&ft(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bt(t){"@babel/helpers - typeof";return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dt(t,e){return(dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vt(t);if(e){var n=vt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol530200=ht;var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Mt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(),this.scaleValues[1]=.0625*this.getSubSymbolScaleValue());for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=o*this.scaleValues[0],n=o*this.scaleValues[1],r=e[0],i=0,a=1;a<e.length;a++){var u=e[a],p=SuperMapAlgoPlot.PlottingUtil.distance(r,u);switch(i%4){case 0:if(p>=l){var s=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,u,l);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r,s]),r=s,i++,a--}break;case 1:case 3:var c=3*n;if(p>c)r=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,u,c),i++,a--;break;case 2:if(p>2*n){var P=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,u,2*n);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[new SuperMapAlgoPlot.Point(.5*(r.x+P.x),.5*(r.y+P.y)),P],{fillLimit:!0,fill:!0}),r=P,i++,a--}}}this.finish()}}}])&&At(e.prototype,o),l&&At(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol610100=mt;SuperMapAlgoPlot.YJAlgoSymbolFactory=SuperMapAlgoPlot.YJAlgoSymbolFactory||{};SuperMapAlgoPlot.YJAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(999!==t)return new SuperMapAlgoPlot.AlgoSymbol(o);switch(e){case 510100:return new SuperMapAlgoPlot.AlgoSymbol510100(o);case 510200:return new SuperMapAlgoPlot.AlgoSymbol15804(o);case 520100:return new SuperMapAlgoPlot.AlgoSymbol520100(o);case 520200:return new SuperMapAlgoPlot.AlgoSymbol520200(o);case 520300:return new SuperMapAlgoPlot.AlgoSymbol520300(o);case 520400:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 520500:return new SuperMapAlgoPlot.AlgoSymbol520500(o);case 530100:return new SuperMapAlgoPlot.AlgoSymbol530100(o);case 530200:return new SuperMapAlgoPlot.AlgoSymbol530200(o);case 610100:return new SuperMapAlgoPlot.AlgoSymbol610100(o);case 610200:return new SuperMapAlgoPlot.AlgoSymbol29100(o);case 610300:return new SuperMapAlgoPlot.AlgoSymbol29101(o);default:return new SuperMapAlgoPlot.AlgoSymbol(o)}},SuperMapAlgoPlot.YJAlgoSymbolFactory.isAccessServer=function(t,e){if(999!==t)return!0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return!1;default:return!0}},SuperMapAlgoPlot.YJAlgoSymbolFactory.getSymbolWayType=function(t,e){if(999===t)switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.YJAlgoSymbolFactory.getDefaultSubSymbols=function(){return[]},SuperMapAlgoPlot.YJAlgoSymbolFactory.getMinEditPts=function(t,e){if(999!==t)return 0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return 2;default:return 0}},SuperMapAlgoPlot.YJAlgoSymbolFactory.getMaxEditPts=function(t,e){if(999!==t)return 0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:return 9999;case 610200:case 610300:return 3;default:return 0}},SuperMapAlgoPlot.YJAlgoSymbolFactory.getDefaultStyle=function(){return{}},SuperMapAlgoPlot.YJAlgoSymbolFactory.zoomInCalSymbol=function(){return!1}}();

/***/ }),
/* 4 */
/***/ (function(module, exports) {

/*!
 * 
 *          iclient-plot-webgl-common
 *          Copyright© 2000 - 2022 SuperMap Software Co.Ltd
 *          license: Apache-2.0
 *          version: v11.0.0-alpha
 *
 */!function(){"use strict";var t=window.SuperMap=window.SuperMap||{};t.Plot=t.Plot||{},window.SuperMapAlgoPlot=t.Plot||{};function e(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}var o=function(){function t(e,o,l,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),SuperMap.Util.isArray(e)&&(n=e[3],l=e[2],o=e[1],e=e[0]),this.left=null!=e?SuperMap.Util.toFloat(e):this.left,this.bottom=null!=o?SuperMap.Util.toFloat(o):this.bottom,this.right=null!=l?SuperMap.Util.toFloat(l):this.right,this.top=null!=n?SuperMap.Util.toFloat(n):this.top,this.centerLonLat=null,this.CLASS_NAME="SuperMap.Bounds"}var o,l,n;return o=t,n=[{key:"fromString",value:function(e,o){var l=e.split(",");return t.fromArray(l,o)}},{key:"fromArray",value:function(e,o){return!0===o?new t(e[1],e[0],e[3],e[2]):new t(e[0],e[1],e[2],e[3])}},{key:"fromSize",value:function(e){return new t(0,e.h,e.w,0)}},{key:"oppositeQuadrant",value:function(t){var e="";return e+="t"===t.charAt(0)?"b":"t",e+="l"===t.charAt(1)?"r":"l"}}],(l=[{key:"clone",value:function(){return new t(this.left,this.bottom,this.right,this.top)}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.left===t.left&&this.right===t.right&&this.top===t.top&&this.bottom===t.bottom),e}},{key:"toString",value:function(){return[this.left,this.bottom,this.right,this.top].join(",")}},{key:"toArray",value:function(t){return!0===t?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}},{key:"toBBOX",value:function(t,e){null==t&&(t=6);var o=Math.pow(10,t),l=Math.round(this.left*o)/o,n=Math.round(this.bottom*o)/o,r=Math.round(this.right*o)/o,i=Math.round(this.top*o)/o;return!0===e?n+","+l+","+i+","+r:l+","+n+","+r+","+i}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"getHeight",value:function(){return this.top-this.bottom}},{key:"getSize",value:function(){return new SuperMapAlgoPlot.Point(this.getWidth(),this.getHeight())}},{key:"getCenterPixel",value:function(){return new SuperMapAlgoPlot.Point((this.left+this.right)/2,(this.bottom+this.top)/2)}},{key:"getCenterLonLat",value:function(){return this.centerLonLat||(this.centerLonLat=new SuperMap.Point((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}},{key:"scale",value:function(e,o){var l,n;return e=e||1,null==o&&(o=this.getCenterLonLat()),"SuperMap.LonLat"===o.CLASS_NAME?(l=o.lon,n=o.lat):(l=o.x,n=o.y),new t((this.left-l)*e+l,(this.bottom-n)*e+n,(this.right-l)*e+l,(this.top-n)*e+n)}},{key:"add",value:function(e,o){if(null==e||null==o)throw new TypeError("Bounds.add cannot receive null values");return new t(this.left+e,this.bottom+o,this.right+e,this.top+o)}},{key:"extend",value:function(e){var o=null;if(e){switch(e.CLASS_NAME){case"SuperMap.LonLat":o=new t(e.lon,e.lat,e.lon,e.lat);break;case"SuperMap.Geometry.Point":o=new t(e.x,e.y,e.x,e.y);break;case"SuperMap.Bounds":o=e}o&&(this.centerLonLat=null,(null==this.left||o.left<this.left)&&(this.left=o.left),(null==this.bottom||o.bottom<this.bottom)&&(this.bottom=o.bottom),(null==this.right||o.right>this.right)&&(this.right=o.right),(null==this.top||o.top>this.top)&&(this.top=o.top))}}},{key:"containsLonLat",value:function(t,e){"boolean"==typeof e&&(e={inclusive:e}),e=e||{};var o=this.contains(t.lon,t.lat,e.inclusive),l=e.worldBounds;if(l&&!o){var n=l.getWidth(),r=(l.left+l.right)/2,i=Math.round((t.lon-r)/n);o=this.containsLonLat({lon:t.lon-i*n,lat:t.lat},{inclusive:e.inclusive})}return o}},{key:"containsPixel",value:function(t,e){return this.contains(t.x,t.y,e)}},{key:"contains",value:function(t,e,o){if(null==o&&(o=!0),null==t||null==e)return!1;var l=!1;return l=o?t>=this.left&&t<=this.right&&e>=this.bottom&&e<=this.top:t>this.left&&t<this.right&&e>this.bottom&&e<this.top,l}},{key:"intersectsBounds",value:function(t,e){if("boolean"==typeof e&&(e={inclusive:e}),(e=e||{}).worldBounds){var o=this.wrapDateLine(e.worldBounds);t=t.wrapDateLine(e.worldBounds)}else o=this;null==e.inclusive&&(e.inclusive=!0);var l=!1,n=o.left===t.right||o.right===t.left||o.top===t.bottom||o.bottom===t.top;if(e.inclusive||!n){var r=t.bottom>=o.bottom&&t.bottom<=o.top||o.bottom>=t.bottom&&o.bottom<=t.top,i=t.top>=o.bottom&&t.top<=o.top||o.top>t.bottom&&o.top<t.top,a=t.left>=o.left&&t.left<=o.right||o.left>=t.left&&o.left<=t.right,s=t.right>=o.left&&t.right<=o.right||o.right>=t.left&&o.right<=t.right;l=(r||i)&&(a||s)}if(e.worldBounds&&!l){var p=e.worldBounds,u=p.getWidth(),c=!p.containsBounds(o),P=!p.containsBounds(t);c&&!P?(t=t.add(-u,0),l=o.intersectsBounds(t,{inclusive:e.inclusive})):P&&!c&&(o=o.add(-u,0),l=t.intersectsBounds(o,{inclusive:e.inclusive}))}return l}},{key:"containsBounds",value:function(t,e,o){null==e&&(e=!1),null==o&&(o=!0);var l=this.contains(t.left,t.bottom,o),n=this.contains(t.right,t.bottom,o),r=this.contains(t.left,t.top,o),i=this.contains(t.right,t.top,o);return e?l||n||r||i:l&&n&&r&&i}},{key:"determineQuadrant",value:function(t){var e="",o=this.getCenterLonLat();return e+=t.lat<o.lat?"b":"t",e+=t.lon<o.lon?"l":"r"}},{key:"wrapDateLine",value:function(t,e){var o=(e=e||{}).leftTolerance||0,l=e.rightTolerance||0,n=this.clone();if(t){for(var r=t.getWidth();n.left<t.left&&n.right-l<=t.left;)n=n.add(r,0);for(;n.left+o>=t.right&&n.right>t.right;)n=n.add(-r,0);var i=n.left+o;i<t.right&&i>t.left&&n.right-l>t.right&&(n=n.add(-r,0))}return n}},{key:"toServerJSONObject",value:function(){return{rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},{key:"destroy",value:function(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}}])&&e(o.prototype,l),n&&e(o,n),Object.defineProperty(o,"prototype",{writable:!1}),t}();function l(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}SuperMap.Bounds=o;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,o,n;return e=t,n=[{key:"extend",value:function(t,e){if(t=t||{},e){for(var o in e){var l=e[o];void 0!==l&&(t[o]=l)}!("function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.toString&&(t.toString=e.toString)}return t}},{key:"copy",value:function(t,e){var o;if(t=t||{},e)for(var l in t)void 0!==(o=e[l])&&(t[l]=o)}},{key:"reset",value:function(t){for(var e in t=t||{})if(t.p){if("object"===_typeof(t[e])&&t[e]instanceof Array){for(var o in t[e])t[e][o].destroy&&t[e][o].destroy();t[e].length=0}else"object"===_typeof(t[e])&&t[e]instanceof Object&&t[e].destroy&&t[e].destroy();t[e]=null}}},{key:"getElement",value:function(){for(var t=[],e=0,o=arguments.length;e<o;e++){var l=arguments[e];if("string"==typeof l&&(l=document.getElementById(l)),1===arguments.length)return l;t.push(l)}return t}},{key:"isElement",value:function(t){return!(!t||1!==t.nodeType)}},{key:"isArray",value:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{key:"removeItem",value:function(t,e){for(var o=t.length-1;o>=0;o--)t[o]===e&&t.splice(o,1);return t}},{key:"indexOf",value:function(t,e){if(null==t)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var o=0,l=t.length;o<l;o++)if(t[o]===e)return o;return-1}},{key:"modifyDOMElement",value:function(t,e,o,l,n,r,i,a){e&&(t.id=e),o&&(t.style.left=o.x+"px",t.style.top=o.y+"px"),l&&(t.style.width=l.w+"px",t.style.height=l.h+"px"),n&&(t.style.position=n),r&&(t.style.border=r),i&&(t.style.overflow=i),parseFloat(a)>=0&&parseFloat(a)<1?(t.style.filter="alpha(opacity="+100*a+")",t.style.opacity=a):1===parseFloat(a)&&(t.style.filter="",t.style.opacity="")}},{key:"applyDefaults",value:function(t,e){t=t||{};var o="function"==typeof window.Event&&e instanceof window.Event;for(var l in e)(void 0===t[l]||!o&&e.hasOwnProperty&&e[l]&&!t[l])&&(t[l]=e[l]);return!o&&e&&e.hasOwnProperty&&e.toString&&!t.toString&&(t.toString=e.toString),t}},{key:"getParameterString",value:function(t){var e=[];for(var o in t){var l,n=t[o];if(null!=n&&"function"!=typeof n)l=Array.isArray(n)||"[object Object]"===n.toString()?encodeURIComponent(JSON.stringify(n)):encodeURIComponent(n),e.push(encodeURIComponent(o)+"="+l)}return e.join("&")}},{key:"urlAppend",value:function(t,e){var o=t;if(e){0===e.indexOf("?")&&(e=e.substring(1));var l=(t+" ").split(/[?&]/);o+=" "===l.pop()?e:l.length?"&"+e:"?"+e}return o}},{key:"urlPathAppend",value:function(t,e){var o=t;if(!e)return o;0===e.indexOf("/")&&(e=e.substring(1));var l=t.split("?");return l[0].indexOf("/",l[0].length-1)<0&&(l[0]+="/"),o="".concat(l[0]).concat(e).concat(l.length>1?"?".concat(l[1]):"")}},{key:"toFloat",value:function(e,o){return null==o&&(o=t.DEFAULT_PRECISION),"number"!=typeof e&&(e=parseFloat(e)),0===o?e:parseFloat(e.toPrecision(o))}},{key:"rad",value:function(t){return t*Math.PI/180}},{key:"getParameters",value:function(t){t=null===t||void 0===t?window.location.href:t;var e="";if(StringExt.contains(t,"?")){var o=t.indexOf("?")+1,l=StringExt.contains(t,"#")?t.indexOf("#"):t.length;e=t.substring(o,l)}for(var n={},r=e.split(/[&;]/),i=0,a=r.length;i<a;++i){var s=r[i].split("=");if(s[0]){var p=s[0];try{p=decodeURIComponent(p)}catch(t){p=unescape(p)}var u=(s[1]||"").replace(/\+/g," ");try{u=decodeURIComponent(u)}catch(t){u=unescape(u)}1==(u=u.split(",")).length&&(u=u[0]),n[p]=u}}return n}},{key:"createUniqueID",value:function(e){return null==e&&(e="id_"),t.lastSeqID+=1,e+t.lastSeqID}},{key:"normalizeScale",value:function(t){return t>1?1/t:t}},{key:"getResolutionFromScale",value:function(e,o){var l;e&&(null==o&&(o="degrees"),l=1/(t.normalizeScale(e)*INCHES_PER_UNIT[o]*DOTS_PER_INCH));return l}},{key:"getScaleFromResolution",value:function(t,e){return null==e&&(e="degrees"),t*INCHES_PER_UNIT[e]*DOTS_PER_INCH}},{key:"getBrowser",value:function(){return Browser}},{key:"supportCanvas",value:function(){return t.isSupportCanvas}},{key:"isInTheSameDomain",value:function(t){if(!t)return!0;var e=t.indexOf("//"),o=document.location.toString(),l=o.indexOf("//");if(-1===e)return!0;var n,r=n=t.substring(0,e),i=o.substring(l+2);l=i.indexOf("/");var a=i.indexOf(":"),s=i.substring(0,l),p=document.location.protocol;if(-1!==a||(s+=":"+("http:"===p.toLowerCase()?80:443)),p.toLowerCase()!==r.toLowerCase())return!1;var u=(r=t.substring(e+2)).indexOf(":");e=r.indexOf("/");var c,P=r.substring(0,e);return-1!==u?c=r.substring(0,u):(c=r.substring(0,e),P+=":"+("http:"===n.toLowerCase()?80:443)),c===document.domain&&P===s}},{key:"calculateDpi",value:function(t,e,o,l,n){if(t&&e&&o){var r,i=t.getWidth(),a=t.getHeight(),s=e.w,p=e.h;if(n=n||6378137,"degree"===(l=l||"degrees").toLowerCase()||"degrees"===l.toLowerCase()||"dd"===l.toLowerCase()){var u=i/s,c=a/p;r=254/(u>c?u:c)/o/(2*Math.PI*n/360)/1e4}else{r=254/(i/s)/o/1e4}return r}}},{key:"toJSON",value:function(e){var o=e;if(null==o)return null;switch(o.constructor){case String:return o=(o=(o=(o=(o=(o=(o='"'+o.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%25")).replace(/&/g,"%26");case Array:for(var l="",n=0,r=o.length;n<r;n++)l+=t.toJSON(o[n]),n!==o.length-1&&(l+=",");return"["+l+"]";case Number:return isFinite(o)?String(o):null;case Boolean:return String(o);case Date:return"{'__type':\"System.DateTime\",'Year':"+o.getFullYear()+",'Month':"+(o.getMonth()+1)+",'Day':"+o.getDate()+",'Hour':"+o.getHours()+",'Minute':"+o.getMinutes()+",'Second':"+o.getSeconds()+",'Millisecond':"+o.getMilliseconds()+",'TimezoneOffset':"+o.getTimezoneOffset()+"}";default:if(null!=o.toJSON&&"function"==typeof o.toJSON)return o.toJSON();if("object"===_typeof(o)){if(o.length){for(var i=[],a=0,s=o.length;a<s;a++)i.push(t.toJSON(o[a]));return"["+i.join(",")+"]"}var p=[];for(var u in o)"function"!=typeof o[u]&&"CLASS_NAME"!==u&&"parent"!==u&&p.push("'"+u+"':"+t.toJSON(o[u]));return p.length>0?"{"+p.join(",")+"}":"{}"}return o.toString()}}},{key:"getResolutionFromScaleDpi",value:function(e,o,l,n){return n=n||6378137,l=l||"",e>0&&o>0?(e=t.normalizeScale(e),"degree"===l.toLowerCase()||"degrees"===l.toLowerCase()||"dd"===l.toLowerCase()?254/o/e/(2*Math.PI*n/360)/1e4:254/o/e/1e4):-1}},{key:"getScaleFromResolutionDpi",value:function(t,e,o,l){return l=l||6378137,o=o||"",t>0&&e>0?"degree"===o.toLowerCase()||"degrees"===o.toLowerCase()||"dd"===o.toLowerCase()?254/e/t/(2*Math.PI*l/360)/1e4:254/e/t/1e4:-1}},{key:"transformResult",value:function(t){return t.responseText&&"string"==typeof t.responseText&&(t=JSON.parse(t.responseText)),t}},{key:"copyAttributes",value:function(t,e){if(t=t||{},e)for(var o in e){var l=e[o];void 0!==l&&"CLASS_NAME"!==o&&"function"!=typeof l&&(t[o]=l)}return t}},{key:"copyAttributesWithClip",value:function(t,e,o){if(t=t||{},e)for(var l in e){var n=!1;if(o&&o.length)for(var r=0,i=o.length;r<i;r++)if(l===o[r]){n=!0;break}if(!0!==n){var a=e[l];void 0!==a&&"CLASS_NAME"!==l&&"function"!=typeof a&&(t[l]=a)}}return t}},{key:"cloneObject",value:function(e){if(null===e||"object"!==_typeof(e))return e;if(e instanceof Date){var o=new Date;return o.setTime(e.getTime()),o}if(e instanceof Array)return e.slice(0);if(e instanceof Object){var l={};for(var n in e)e.attr&&(l[n]=t.cloneObject(e[n]));return l}throw new Error("Unable to copy obj! Its type isn't supported.")}},{key:"lineIntersection",value:function(t,e,o,l){var n,r,i=null,a=(l.x-o.x)*(t.y-o.y)-(l.y-o.y)*(t.x-o.x),s=(e.x-t.x)*(t.y-o.y)-(e.y-t.y)*(t.x-o.x),p=(l.y-o.y)*(e.x-t.x)-(l.x-o.x)*(e.y-t.y);if(0!=p)r=s/p,i=(n=a/p)>=0&&r<=1&&n<=1&&r>=0?new Geometry.Point(t.x+n*(e.x-t.x),t.y+n*(e.y-t.y)):"No Intersection";else if(0==a&&0==s){var u=Math.max(t.y,e.y),c=Math.min(t.y,e.y),P=Math.max(t.x,e.x),g=Math.min(t.x,e.x);i=(o.y>=c&&o.y<=u||l.y>=c&&l.y<=u)&&o.x>=g&&o.x<=P||l.x>=g&&l.x<=P?"Coincident":"Parallel"}else i="Parallel";return i}},{key:"getTextBounds",value:function(t,e,o){document.body.appendChild(o),o.style.width="auto",o.style.height="auto",t.fontSize&&(o.style.fontSize=t.fontSize),t.fontFamily&&(o.style.fontFamily=t.fontFamily),t.fontWeight&&(o.style.fontWeight=t.fontWeight),o.style.position="relative",o.style.visibility="hidden",o.style.display="inline-block",o.innerHTML=e;var l=o.clientWidth,n=o.clientHeight;return document.body.removeChild(o),{textWidth:l,textHeight:n}}},{key:"convertPath",value:function(t,e){return e?t.replace(/\{([\w-\.]+)\}/g,function(t,o){var l;return l=e[o]?paramToString(e[o]):t,encodeURIComponent(l)}):t}}],(o=null)&&l(e.prototype,o),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function r(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}n.lastSeqID=0,n.isSupportCanvas=!0,n.DEFAULT_PRECISION=14,SuperMap.Util=n;var i=function(){function t(e,o,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l=l||{},this.libID=e,this.code=o,this.symbolData=l.symbolData?l.symbolData:null,this.textContent=l.textContent?l.textContent:null,this.totalNum=l.totalNum?l.totalNum:null,this.CLASS_NAME="SuperMap.Plot.SubSymbol"}var e,o,l;return e=t,(o=[{key:"destroy",value:function(){this.libID=null,this.code=null,this.symbolData=null,this.totalNum=null}},{key:"clone",value:function(){var t=new SuperMap.Plot.SubSymbol(this.libID,this.code);return t.symbolData={},t.symbolData=SuperMap.Util.copyAttributes(t.symbolData,this.symbolData),t.textContent=this.textContent,t.totalNum=this.totalNum,t}}])&&r(e.prototype,o),l&&r(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();SuperMap.Plot.SubSymbol=i;SuperMap.Plot.ArrowTailType={ARROWTAIL_NONE:0,ARROWTAIL_LINE:1,ARROWTAIL_CURVE:2,ARROWTAIL_COATTAIL:3,ARROWTAIL_COATTAIL_POLYBODY:4},SuperMap.Plot.ArrowHeadType={ARROWHEAD_POLYLINE:0,ARROWHEAD_TRIANGLE:1,ARROWHEAD_COATTAIL:2,ARROWHEAD_TRIANGLE_SOLID:3,ARROWHEAD_WITH_EAR:4,ARROWHEAD_WITHOUT_EAR:5,ARROWHEAD_COATTAIL_HOLLOW:6},SuperMap.Plot.ArrowBodyType={ARROWBODY_POLYLINE:0,ARROWBODY_POLYBEZIER:1,ARROWBODY_PARALLEL:2,ARROWBODY_TRAPEZOID:3,ARROWBODY_MULTIPOLYBEZIER:4,ARROWBODY_COATTAIL:5},SuperMap.Plot.SymbolType={DOTSYMBOL:1,ALGOSYMBOL:2,TEXTSYMBOL:34,ELLIPSESYMBOL:31,CIRCLESYMBOL:29,RECTANGLESYMBOL:26,ARBITRARYPOLYGONSYMBOL:32,POLYLINESYMBOL:24,PARALLELOGRAM:28,ARCSYMBOL:44,NEWARCSYMBOL:4401,REGULARPOLYGON:410,CHORDSYMBOL:370,NEWCHORDSYMBOL:3701,PIESYMBOL:380,NEWPIESYMBOL:3801,KIDNEY:390,POLYBEZIERSYMBOL:590,PARALLELLINE:48,BRACESYMBOL:400,ANNOFRAMESYMBOL:320,ANNOFRAMESYMBOLM:321,TRAPEZOIDSYMBOL:350,POLYBEZIERCLOSESYMBOL:360,GROUPOBJECT:1e3,LINERELATION:1001,INTERFERENCEBEAM:1002,POLYGONREGION:1003,ARCREGION:1004,AIRROUTE:1005,NAVYROUTE:1006,MISSILEROUTE:1007,NAVYDEPLOYMENT:1008,AIRDEPLOYMENT:1009,SATELLITE:1010,SATELLITETIMEWINDOWS:1011,SYMBOLTEXT:1012,RUNWAY:1013,CURVEEIGHT:1014,ROUTENODE:1015,ARROWLINE:1016,PATHTEXT:1017,LITERATESIGN:1018,CONCENTRICCIRCLE:1019,FLAGGROUP:1020,SYMBOLTEXT1:1021,COMBINATIONALCIRCLE:1022,FREECURVE:1023,SYMBOLTEXTBOX:1024,NODECHAIN:1025,LINEMARKING:1026,AVOIDREGION:1027,WIRE:1028,LINEARARROW:1029,PICTURE:3e3},SuperMap.Plot.LineRelationType={SOLID:0,DASH:1,ARROW:2},SuperMap.Plot.AlgoSurroundLineType={NONE:0,INNER:1,OUT:2,ALL:3},SuperMap.Plot.RouteNodeType={RENDEZVOUS:"RENDEZVOUS",EXPANDING:"EXPANDING",VOLLEY:"VOLLEY",STANDBY:"STANDBY",SUPPLY:"SUPPLY",TAKEOFF:"TAKEOFF",INITIAL:"INITIAL",VISUALINITAL:"VISUALINITAL",LANCH:"LANCH",TURNING:"TURNING",AIMING:"AIMING",COMMONROUTE:"COMMONROUTE",WEAPONLAUNCH:"WEAPONLAUNCH",TARGET:"TARGET",ATTACK:"ATTACK",SUPPRESS:"SUPPRESS",EIGHTSPIRAL:"EIGHTSPIRAL",HAPPYVALLEY:"HAPPYVALLEY"},SuperMap.Plot.RelLineText={ONLINE:0,ONLEFTLINE:1,ONRIGHTLINE:2,ONBOTHLINE:3},SuperMap.Plot.RadiusLineType={NONE:0,SOLID:1,ARROW:2},SuperMap.Plot.Position={TOP:4,BOTTOM:5,LEFT:6,RIGHT:7},SuperMap.Plot.AnnoPosition={LEFTTOP:0,LEFTBOTTOM:1,RIGHTTOP:2,RIGHTBOTTOM:3,TOP:4,BOTTOM:5,LEFT:6,RIGHT:7,MIDDLE:8,ANCHOR:9},SuperMap.Plot.ArrowLineType={DOUBLELINE:0,TRIANGLESOLID:1,NONE:2},SuperMap.Plot.TextBoxType={WITHTIPBOX:0,RECTBOX:1,LINEBOX:2,NONEBOX:3},SuperMap.Plot.PositionOffsetType={LINE:0,GRADIENTLINE:1},SuperMap.Plot.AlignType={LEFT:0,RIGHT:1,UP:2,DOWN:3,VERTICALCENTER:4,HORIZONTALCENTER:5},SuperMap.Plot.EditMode={ADDCONTROLPOINT:0,EDITCONTROLPOINT:1,EDITCIRCUMRECTANGLE:2,REMOVECONTROLPOINT:3};SuperMap.Plot.EqualLargeType={WIDTH:0,HEIGHT:1,SAME:2},SuperMap.Plot.UniformDistributionType={LEVEL:0,VERTICAL:1};SuperMap.Plot.TransactionType={CREATE:0,EDIT:1,REMOVE:2};function a(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/* Copyright© 2000 - 2018 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0*/var u=function(){function t(e,o,l,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=parseFloat(e),this.y=parseFloat(o),this.tag=n||0==n?parseFloat(n):null,this.type=l||"Point",this.CLASS_NAME="SuperMapAlgoPlot"}var e,o,l;return e=t,(o=[{key:"clone",value:function(e){return null==e&&(e=new t(this.x,this.y)),SuperMap.Util.applyDefaults(e,this),e}},{key:"calculateBounds",value:function(){this.bounds=new Bounds(this.x,this.y,this.x,this.y)}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.x===t.x&&this.y===t.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(t.x)&&isNaN(t.y)),e}},{key:"move",value:function(t,e){this.x=this.x+t,this.y=this.y+e,this.clearBounds()}},{key:"toShortString",value:function(){return this.x+", "+this.y}},{key:"destroy",value:function(){this.x=null,this.y=null,this.tag=null,s(p(t.prototype),"destroy",this).call(this)}},{key:"getVertices",value:function(t){return[this]}}])&&a(e.prototype,o),l&&a(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();SuperMapAlgoPlot.Point=u;SuperMapAlgoPlot.AnalysisSymbol=SuperMapAlgoPlot.AnalysisSymbol||{};function c(t){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}SuperMapAlgoPlot.AnalysisSymbol.analysisBasicInfo=function(t){var e=new Object;return e.libID=t.libID,e.code=t.code,e.symbolType=t.symbolType,e.symbolName=t.symbolName,e.textContent=t.textContent,e.minEditPts=t.algoMinEditPts,e.maxEditPts=t.algoMaxEditPts,e.surroundLineType=t.surroundLineType,e},SuperMapAlgoPlot.AnalysisSymbol.analysisDotBasicInfo=function(t){var e=SuperMapAlgoPlot.PlottingUtil.DPI,o=new Object;o.anchorPoint=new SuperMapAlgoPlot.Point(t.anchorPoint.x,t.anchorPoint.y);var l=0,n=0;return void 0!==t.symbolSizeInLib?(l=Math.round(t.symbolSizeInLib.x*e/25.4/10),n=Math.round(t.symbolSizeInLib.y*e/25.4/10)):(l=Math.round(t.symbolSize.x*e/25.4/10),n=Math.round(t.symbolSize.y*e/25.4/10)),o.symbolSizeInLib=new SuperMap.Size(l,n),o.symbolSizeInLib.w=l,o.symbolSizeInLib.h=n,o.middleMarkBounds=new SuperMap.Bounds(t.middleMarkBounds.leftBottom.x,t.middleMarkBounds.leftBottom.y,t.middleMarkBounds.rightTop.x,t.middleMarkBounds.rightTop.y),o},SuperMapAlgoPlot.AnalysisSymbol.analysisAlgoBasicInfo=function(t,e){var o=new Object;if(o.subSymbols=[],o.scalePoints=[],o.scaleValues=[],e&&t.subSymbols)for(var l=0;l<t.subSymbols.length;l++)o.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(t.libID,t.subSymbols[l]));if(t.scalePoints){o.scalePoints=[];for(var n=0;n<t.scalePoints.length;n++){var r=new SuperMapAlgoPlot.Point(t.scalePoints[n].x,t.scalePoints[n].y);r.tag=n,r.isScalePoint=!0,o.scalePoints.push(r)}}if(t.scaleValues)for(var i=0;i<t.scaleValues.length;i++)o.scaleValues.push(t.scaleValues[i]);return o},SuperMapAlgoPlot.AnalysisSymbol.analysisSymbolCells=function(t,e){var o=[];if(t&&(function(t,o){if(t.innerCells&&t.innerCells.length)for(var l=0;l<t.innerCells.length;l++){var n=t.innerCells[l];if(t.symbolIsCanFill&&n.type!==SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL){var r=new Object,i=SuperMapAlgoPlot.AnalysisSymbol.getStyle(t,e);r.type=32,r.style={fillSymbolID:i.fillSymbolID,fillColor:i.fillColor,fillOpacity:i.fillOpacity,strokeOpacity:0,strokeWidth:0,fillLimit:!1,lineColorLimit:!0,lineWidthLimit:!0},r.positionPoints=[];for(var a=0;a<n.positionPoints.length;a++){var s=new SuperMapAlgoPlot.Point(n.positionPoints[a].x,n.positionPoints[a].y);r.positionPoints.push(s)}o.push(r)}}}(t,o),t.innerCells)){var l=t.innerCells;if(0!==l.length)for(var n=0;n<l.length;n++)o.push(SuperMapAlgoPlot.AnalysisSymbol.analysisInnerCell(l[n],e))}return o},SuperMapAlgoPlot.AnalysisSymbol.analysisInnerCell=function(t,e){var o=new Object;if(o.positionPoints=[],t){if(void 0!==t.polybezierClose&&(o.polybezierClose=t.polybezierClose),o.type=t.type,o.surroundLineFlag=t.surroundLineFlag,o.textContent=t.textContent,o.style=SuperMapAlgoPlot.AnalysisSymbol.getStyle(t,e),null!=t.positionPoints)for(var l=t.positionPoints,n=0;n<l.length;n++){var r=new SuperMapAlgoPlot.Point(l[n].x,l[n].y);o.positionPoints.push(r)}if(o.style.lineColorLimit=t.lineColorLimit,o.style.lineTypeLimit=t.lineTypeLimit,o.style.lineWidthLimit=t.lineWidthLimit,o.style.fillLimit=t.fillLimit,o.style.fillColorLimit=t.fillColorLimit,o.style.fontColorLimit=t.fontColorLimit,o.style.surroundLineLimit=t.surroundLineLimit,o.style.surroundLineFlag=t.surroundLineFlag,o.style.surroundLineType=t.surroundLineType,34==t.type?o.style.fontColorLimit=!0:o.style.fontColorLimit=t.fontColorLimit,o.type===SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL){var i=o.positionPoints[0],a=o.positionPoints[1],s=i.clone(),p=new SuperMapAlgoPlot.Point(a.x,i.y),u=a.clone(),c=new SuperMapAlgoPlot.Point(i.x,a.y);o.positionPoints=[],o.positionPoints.push(s),o.positionPoints.push(p),o.positionPoints.push(u),o.positionPoints.push(c),o.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL}o.type===SuperMapAlgoPlot.SymbolType.TEXTSYMBOL&&(o.style.fontSizeLimit=!0)}return o},SuperMapAlgoPlot.AnalysisSymbol.getStyle=function(t,e){function o(t){var e=t.red.toString(16);e.length<2&&(e="0"+e);var o=t.green.toString(16);o.length<2&&(o="0"+o);var l=t.blue.toString(16);return l.length<2&&(l="0"+l),"#"+e+o+l}function l(t){return"TOPLEFT"===t?"lt":"TOPCENTER"===t?"ct":"TOPRIGHT"===t?"rt":"BOTTOMLEFT"===t?"lb":"BOTTOMCENTER"===t?"cb":"BOTTOMRIGHT"===t?"rb":"MIDDLELEFT"===t?"lm":"MIDDLECENTER"===t?"cm":"MIDDLERIGHT"===t?"rm":0===t?"lt":1===t?"ct":2===t?"rt":6===t?"lb":7===t?"cb":8===t?"rb":9===t?"lm":10===t?"cm":11===t?"rm":"lt"}var n=SuperMapAlgoPlot.PlottingUtil.DPI,r={};return t.style?(e?(r.fillSymbolID=t.style.fillSymbolID,r.fillSymbolID||(r.fill=t.style.fill)):(!1===t.style.fill?t.style.fillSymbolID=1:!0===t.style.fill&&(t.style.fillSymbolID=0),r.fillSymbolID=t.style.fillSymbolID),void 0!==t.style.strokeGradientMode&&null!=t.style.strokeGradientMode?1===t.style.strokeGradientMode?r.strokeGradientMode="LINEAR":2===t.style.strokeGradientMode?r.strokeGradientMode="RADIAL":"LINEAR"!==t.style.strokeGradientMode&&"RADIAL"!==t.style.strokeGradientMode&&(r.strokeGradientMode="NONE"):r.strokeGradientMode="NONE",t.style.strokeBackColor?void 0!==t.style.strokeBackColor.red?(r.strokeBackColor=o(t.style.strokeBackColor),r.strokeBackOpacity=(t.style.strokeBackColor.alpha/255).toFixed(2)):(r.strokeBackColor=t.style.strokeBackColor,r.strokeBackOpacity=t.style.strokeBackOpacity):t.style.fillBackColor&&(void 0!==t.style.fillBackColor.red?(r.strokeBackColor=o(t.style.fillBackColor),r.strokeBackOpacity=(t.style.fillBackColor.alpha/255).toFixed(2)):(r.strokeBackColor=t.style.strokeBackColor,r.strokeBackOpacity=t.style.strokeBackOpacity)),void 0!==t.style.fillGradientMode&&null!=t.style.fillGradientMode&&(1===t.style.fillGradientMode?r.fillGradientMode="LINEAR":2===t.style.fillGradientMode?r.fillGradientMode="RADIAL":"LINEAR"!==t.style.fillGradientMode&&"RADIAL"!==t.style.fillGradientMode&&(r.fillGradientMode="NONE")),null!=t.style.fillGradientAngle&&void 0!==t.style.fillGradientAngle?r.fillAngle=t.style.fillGradientAngle:void 0!==t.style.fillAngle&&null!=t.style.fillAngle&&(r.fillAngle=t.style.fillAngle),void 0!==t.style.fillGradientOffsetRatioX&&null!=t.style.fillGradientOffsetRatioX?r.fillCenterOffsetX=t.style.fillGradientOffsetRatioX/100:void 0!==t.style.fillCenterOffsetX&&null!=t.style.fillCenterOffsetX&&(r.fillCenterOffsetX=t.style.fillCenterOffsetX/100),void 0!==t.style.fillGradientOffsetRatioY&&null!=t.style.fillGradientOffsetRatioY?r.fillCenterOffsetY=t.style.fillGradientOffsetRatioY/100:void 0!==t.style.fillCenterOffsetY&&null!=t.style.fillCenterOffsetY&&(r.fillCenterOffsetY=t.style.fillCenterOffsetY/100),void 0!==t.style.fillForeColor&&(r.fillColor=o(t.style.fillForeColor)),void 0!==t.style.fillOpaqueRate&&(r.fillOpacity=(t.style.fillOpaqueRate/100).toFixed(2),100!==t.style.fillOpaqueRate||1===t.style.fillGradientMode&&2===t.style.fillGradientMode||(r.fillOpacity=(t.style.fillForeColor.alpha/255).toFixed(2))),void 0!==t.style.fillBackColor&&(void 0!==t.style.fillBackColor.red?r.fillBackColor=o(t.style.fillBackColor):r.fillBackColor=t.style.fillBackColor),0===t.style.fillBackOpaque?r.fillBackOpacity=0:t.style.fillBackColor&&t.style.fillBackColor.alpha?r.fillBackOpacity=(t.style.fillBackColor.alpha/255).toFixed(2):r.fillBackOpacity=t.style.fillBackOpacity,void 0!==t.style.lineColor&&(!0===e?(r.color=o(t.style.lineColor),r.opacity=(t.style.lineColor.alpha/255).toFixed(2)):(r.strokeColor=o(t.style.lineColor),r.strokeOpacity=(t.style.lineColor.alpha/255).toFixed(2))),!0===e?void 0!==t.style.lineWidth?r.weight=Math.ceil(t.style.lineWidth*n/25.4):r.weight=t.style.strokeWidth:void 0!==t.style.lineWidth?r.strokeWidth=Math.ceil(t.style.lineWidth*n/25.4):r.strokeWidth=t.style.strokeWidth,e?(r.lineSymbolID=t.style.lineSymbolID,r.lineSymbolID||(r.dashArray=t.style.dashArray),!r.dashArray&&t.style.strokeDashstyle&&("dash"===t.style.strokeDashstyle?r.lineSymbolID=1:"dot"===t.style.strokeDashstyle?r.lineSymbolID=2:"dashdot"===t.style.strokeDashstyle?r.lineSymbolID=3:r.lineSymbolID=0)):1===t.style.lineSymbolID?r.strokeDashstyle="dash":2===t.style.lineSymbolID?r.strokeDashstyle="dot":3===t.style.lineSymbolID?r.strokeDashstyle="dashdot":t.style.strokeDashstyle?r.strokeDashstyle=t.style.strokeDashstyle:r.strokeDashstyle="solid",t.textStyle2D&&null!=t.textStyle2D?(void 0!==t.textStyle2D.sizeFixed&&(r.sizeFixed=t.textStyle2D.sizeFixed),void 0!==t.textStyle2D.fontName&&(r.fontFamily=t.textStyle2D.fontName),void 0!==t.textStyle2D.fontHeight&&(r.fontSize=Math.ceil(t.textStyle2D.fontHeight*n/25.4)),void 0!==t.textStyle2D.foreColor&&(r.fontColor=o(t.textStyle2D.foreColor)),void 0!==t.textStyle2D.align&&(r.labelAlign=l(t.textStyle2D.align)),void 0!==t.textStyle2D.rotation&&(r.labelRotation=-t.textStyle2D.rotation),void 0!==t.textStyle2D.bold&&(r.fontWeight=-t.textStyle2D.bold),r.labelXOffset=0,r.labelYOffset=0):t.textStyle&&null!=t.textStyle&&(void 0!==t.textStyle.sizeFixed&&(r.sizeFixed=t.textStyle.sizeFixed),void 0!==t.textStyle.fontName&&(r.fontFamily=t.textStyle.fontName),void 0!==t.textStyle.fontHeight&&(r.sizeFixed?r.fontSize=Math.ceil(t.textStyle.fontHeight*n/25.4):r.fontSize=t.textStyle.fontHeight),void 0!==t.textStyle.foreColor&&(r.fontColor=o(t.textStyle.foreColor)),void 0!==t.textStyle.align&&(r.labelAlign=l(t.textStyle.align)),void 0!==t.textStyle.rotation&&(r.labelRotation=-t.textStyle.rotation),void 0!==t.textStyle.bold&&(r.fontWeight=-t.textStyle.bold),r.labelXOffset=0,r.labelYOffset=0),void 0!==t.style.fontOpacity&&(r.fontOpacity=t.style.fontOpacity),void 0!==t.style.fontStroke?r.fontStroke=t.style.fontStroke:t.textStyle2D&&void 0!==t.textStyle2D.outline&&(r.fontStroke=t.textStyle2D.outline),void 0!==t.style.fontStrokeColor?r.fontStrokeColor=t.style.fontStrokeColor:t.textStyle2D&&void 0!==t.textStyle2D.backColor&&(r.fontStrokeColor=o(t.textStyle2D.backColor)),void 0!==r.fontStrokeWidth&&(r.fontStrokeWidth=t.style.fontStrokeWidth),void 0!==t.style.fontBackground&&(r.fontBackground=t.style.fontBackground),void 0!==t.style.fontBackgroundColor&&(r.fontBackgroundColor=t.style.fontBackgroundColor),void 0!==t.style.fontShadow&&(r.fontShadow=t.style.fontShadow),void 0!==t.style.fontShadowColor&&(r.fontShadowColor=t.style.fontShadowColor),void 0!==t.style.fontShadowOffsetX&&(r.fontShadowOffsetX=t.style.fontShadowOffsetX),void 0!==t.style.fontShadowOffsetY&&(r.fontShadowOffsetY=t.style.fontShadowOffsetY),void 0!==t.style.fontSpace&&(r.fontSpace=t.style.fontSpace),void 0!==t.style.fontPercent&&(r.fontPercent=t.style.fontPercent),void 0!==t.style.fontWeight&&(r.fontWeight=t.style.fontWeight),void 0!==t.style.fontStyle&&(r.fontStyle=t.style.fontStyle),void 0!==t.surroundLineColor&&null!=t.surroundLineColor&&(r.surroundLineColor=o(t.surroundLineColor),r.surroundLineColorOpacity=(t.surroundLineColor.alpha/255).toFixed(2)),void 0!==t.surroundLineWidth2D&&null!=t.surroundLineWidth2D?r.surroundLineWidth=Math.round(t.surroundLineWidth2D*n/25.4):void 0!==t.surroundLineWidth&&null!=t.surroundLineWidth&&(r.surroundLineWidth=Math.round(t.surroundLineWidth*n/25.4)),null!=t.style.graphicWidth&&(r.graphicWidth=t.style.graphicWidth),null!=t.style.graphicHeight&&(r.graphicHeight=t.style.graphicHeight),null!=t.style.graphicOpacity&&(r.graphicOpacity=t.style.graphicOpacity),null!=t.style.graphicXOffset&&(r.graphicXOffset=t.style.graphicXOffset),null!=t.style.graphicYOffset&&(r.graphicYOffset=t.style.graphicYOffset),!1===t.visible?r.display="none":r.display="display",r):r},SuperMapAlgoPlot.AnalysisSymbol.setStyle=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.DPI;if(null!=e)return e.style||(e.style={}),e.textStyle2D||(e.textStyle2D={}),o?(e.style.fillSymbolID=t.fillSymbolID,e.style.fillSymbolID||(e.style.fill=t.fill)):(!1===t.fill?t.fillSymbolID=1:!0===t.fill&&(t.fillSymbolID=0),e.style.fillSymbolID=t.fillSymbolID),t.fillGradientMode&&(e.style.fillGradientMode=t.fillGradientMode),t.fillGradientMode&&("LINEAR"===t.fillGradientMode?e.style.fillGradientMode=1:"RADIAL"===t.fillGradientMode?e.style.fillGradientMode=2:e.style.fillGradientMode=0),t.strokeGradientMode&&("LINEAR"===t.strokeGradientMode?e.style.strokeGradientMode=1:"RADIAL"===t.strokeGradientMode?e.style.strokeGradientMode=2:e.style.strokeGradientMode=0),t.strokeBackColor&&(e.style.strokeBackColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.strokeBackColor)),t.strokeBackOpacity&&(e.style.strokeBackColor.alpha=255*t.strokeBackOpacity),null!=t.fillAngle&&void 0!==t.fillAngle&&(e.style.fillAngle=t.fillAngle,e.style.fillGradientAngle=t.fillAngle),null!=t.fillCenterOffsetX&&void 0!==t.fillCenterOffsetX&&(e.style.fillCenterOffsetX=100*t.fillCenterOffsetX,e.style.fillGradientOffsetRatioX=100*t.fillCenterOffsetX),null!=t.fillCenterOffsetY&&void 0!==t.fillCenterOffsetY&&(e.style.fillCenterOffsetY=100*t.fillCenterOffsetY,e.style.fillGradientOffsetRatioY=100*t.fillCenterOffsetY),t.fillColor&&(e.style.fillForeColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fillColor)),void 0!==t.fillOpacity&&null!=t.fillOpacity&&(e.style.fillOpaqueRate=100*t.fillOpacity,e.style.fillForeColor.alpha=255),t.fillBackColor&&(e.style.fillBackColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fillBackColor)),void 0!==t.fillBackOpacity&&null!=t.fillBackOpacity&&(0===t.fillBackOpacity?(e.style.fillBackOpaque=0,e.style.fillBackColor.alpha=255):e.style.fillBackColor&&(e.style.fillBackOpaque=1,e.style.fillBackColor.alpha=255*t.fillBackOpacity)),!0===o&&t.color?e.style.lineColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.color):t.strokeColor&&(e.style.lineColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.strokeColor)),!0===o&&null!=t.opacity&&void 0!==t.opacity?(e.style.lineColor.alpha=255*t.opacity,e.style.lineColor.alpha<1&&(e.style.lineColor.alpha=1)):null!=t.strokeOpacity&&void 0!==t.strokeOpacity&&(e.style.lineColor.alpha=255*t.strokeOpacity,e.style.lineColor.alpha<1&&(e.style.lineColor.alpha=1)),!0===o&&t.weight?e.style.lineWidth=25.4*t.weight/l:t.strokeWidth&&(e.style.lineWidth=25.4*t.strokeWidth/l),o?(e.style.lineSymbolID=t.lineSymbolID,e.style.lineSymbolID||(e.style.dashArray=t.dashArray)):"dot"===t.strokeDashstyle?e.style.lineSymbolID=2:"dash"===t.strokeDashstyle||"longdash"===t.strokeDashstyle?e.style.lineSymbolID=1:"dashdot"===t.strokeDashstyle||"longdashdot"===t.strokeDashstyle?e.style.lineSymbolID=3:e.style.lineSymbolID=0,t.fontFamily&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.fontName=t.fontFamily:e.textStyle&&null!=e.textStyle&&(e.textStyle.fontName=t.fontFamily)),null!=t.sizeFixed&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.sizeFixed=t.sizeFixed:e.textStyle&&null!=e.textStyle&&(e.textStyle.sizeFixed=t.sizeFixed)),t.fontSize&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.fontHeight=25.4*t.fontSize/l:e.textStyle&&null!=e.textStyle&&(t.sizeFixed?e.textStyle.fontHeight=25.4*t.fontSize/l:e.textStyle.fontHeight=t.fontSize)),t.fontWeight&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.bold=t.fontWeight:e.textStyle&&null!=e.textStyle&&(e.textStyle.bold=t.fontWeight)),t.fontColor&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.foreColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontColor):e.textStyle&&null!=e.textStyle&&(e.textStyle.foreColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontColor))),t.labelRotation&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.rotation=-t.labelRotation:e.textStyle&&null!=e.textStyle&&(e.textStyle.rotation=-t.labelRotation)),void 0!==t.fontOpacity&&(e.style.fontOpacity=t.fontOpacity),void 0!==t.fontStroke&&(e.textStyle2D.outline=t.fontStroke),void 0!==t.fontStrokeColor&&(e.textStyle2D.backColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontStrokeColor)),void 0!==t.fontStrokeWidth&&(e.style.fontStrokeWidth=t.fontStrokeWidth),void 0!==t.fontBackground&&(e.style.fontBackground=t.fontBackground),void 0!==t.fontBackgroundColor&&(e.style.fontBackgroundColor=t.fontBackgroundColor),void 0!==t.fontShadow&&(e.style.fontShadow=t.fontShadow),void 0!==t.fontShadowColor&&(e.style.fontShadowColor=t.fontShadowColor),void 0!==t.fontShadowOffsetX&&(e.style.fontShadowOffsetX=t.fontShadowOffsetX),void 0!==t.fontShadowOffsetY&&(e.style.fontShadowOffsetY=t.fontShadowOffsetY),void 0!==t.fontSpace&&(e.style.fontSpace=t.fontSpace),void 0!==t.fontPercent&&(e.style.fontPercent=t.fontPercent),void 0!==t.fontWeight&&(e.style.fontWeight=t.fontWeight),void 0!==t.fontStyle&&(e.style.fontStyle=t.fontStyle),t.surroundLineColor&&(e.surroundLineColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.surroundLineColor)),null!=t.surroundLineColorOpacity&&void 0!==t.surroundLineColorOpacity&&(e.surroundLineColor.alpha=255*t.surroundLineColorOpacity),t.surroundLineWidth&&(e.surroundLineWidth2D=25.4*t.surroundLineWidth/l),void 0!==t.labelAlign&&("lt"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=0:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=0):"ct"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=1:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=1):"rt"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=2:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=2):"lb"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=6:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=6):"cb"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=7:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=7):"rb"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=8:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=8):"lm"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=9:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=9):"cm"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=10:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=10):"rm"===t.labelAlign&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=11:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=11))),null!=t.graphicWidth&&(e.style.graphicWidth=t.graphicWidth),null!=t.graphicHeight&&(e.style.graphicHeight=t.graphicHeight),null!=t.graphicOpacity&&(e.style.graphicOpacity=t.graphicOpacity),null!=t.graphicXOffset&&(e.style.graphicXOffset=t.graphicXOffset),null!=t.graphicYOffset&&(e.style.graphicYOffset=t.graphicYOffset),t.display&&"none"===t.display?e.visible=!1:e.visible=!0,t},SuperMapAlgoPlot.AnalysisSymbol.mergeDefaultStyleToFeature=function(t,e,o){var l,n;l=t.style,n=!0!==o?t.geometry:t,e&&!0===e.defaultFlag&&!1===n.isEdit&&(n.surroundLineType=e.surroundLineType,l.surroundLineColor=e.surroundLineColor,l.surroundLineWidth=e.surroundLineWidth,l.surroundLineColorOpacity=e.surroundLineColorOpacity,l.fillBackColor=e.fillBackColor,l.fillBackOpacity=e.fillBackOpacity,l.fillGradientMode=e.fillGradientMode,l.fillCenterOffsetX=e.fillCenterOffsetX,l.fillCenterOffsetY=e.fillCenterOffsetY,l.fillAngle=e.fillAngle,!0===o?(l.color=e.lineColor,l.weight=e.lineWidth,l.opacity=e.lineOpacity,l.lineSymbolID=e.lineType,l.lineCap=e.lineCap,l.lineJoin=e.lineJoin):(l.strokeColor=e.lineColor,l.strokeWidth=e.lineWidth,l.strokeOpacity=e.lineOpacity,l.strokeDashstyle=e.lineType,l.strokeLinecap=e.lineCap,l.strokeLinejoin=e.lineJoin),l.fillSymbolID=e.fillSymbolID,l.fillColor=e.fillColor,l.fillOpacity=e.fillOpacity,l.fontColor=e.fontColor,l.fontOpacity=e.fontOpacity,l.fontSize=e.fontSize,l.fontFamily=e.fontFamily,l.fontWeight=e.fontWeight,l.fontStyle=e.fontStyle,l.fontStroke=e.fontStroke,l.fontStrokeColor=e.fontStrokeColor,l.fontStrokeWidth=e.fontStrokeWidth,l.fontBackground=e.fontBackground,l.fontBackgroundColor=e.fontBackgroundColor,l.fontShadow=e.fontShadow,l.fontShadowColor=e.fontShadowColor,l.fontShadowOffsetX=e.fontShadowOffsetX,l.fontShadowOffsetY=e.fontShadowOffsetY,l.fontSpace=e.fontSpace,l.fontPercent=e.fontPercent,l.strokeGradientMode=e.strokeGradientMode,l.strokeBackColor=e.strokeBackColor,l.strokeBackOpacity=e.strokeBackOpacity)},SuperMapAlgoPlot.AnalysisSymbol.mergeSymbolDataAndServerData=function(t,e){Object.prototype.hasOwnProperty.call(t,"algoMinEditPts")||(t.algoMinEditPts=e.algoMinEditPts),Object.prototype.hasOwnProperty.call(t,"algoMaxEditPts")||(t.algoMaxEditPts=e.algoMaxEditPts),Object.prototype.hasOwnProperty.call(t,"innerCells")||(t.innerCells=SuperMap.Util.cloneObject(e.innerCells)),Object.prototype.hasOwnProperty.call(t,"symbolRanks")||(t.symbolRanks=SuperMap.Util.cloneObject(e.symbolRanks)),Object.prototype.hasOwnProperty.call(t,"symbolSizeInLib")||(t.symbolSizeInLib=SuperMap.Util.cloneObject(e.symbolSize)),Object.prototype.hasOwnProperty.call(t,"middleMarkExist")||(t.middleMarkExist=SuperMap.Util.cloneObject(e.middleMarkExist)),Object.prototype.hasOwnProperty.call(t,"middleMarkBounds")||(t.middleMarkBounds=SuperMap.Util.cloneObject(e.middleMarkBounds)),Object.prototype.hasOwnProperty.call(t,"anchorPoint")||(t.anchorPoint=SuperMap.Util.cloneObject(e.anchorPoint))},SuperMapAlgoPlot.AnalysisSymbol.setSymbolData=function(t,e,o){null==e&&(e={}),Object.prototype.hasOwnProperty.call(e,"type")||(0!=t.libID||t.code!=SuperMap.Plot.SymbolType.GROUPOBJECT&&t.code!=SuperMap.Plot.SymbolType.FLAGGROUP?e.type="GRAPHICOBJECT":e.type="GraphicCollection"),Object.prototype.hasOwnProperty.call(e,"version")||(e.version=2),e.isEdit=!0,e.uuid=t.uuid,e.associatedUuid=t.associatedUuid,Object.prototype.hasOwnProperty.call(e,"rotate2D")?e.rotate2D.x=t.dRotate:e.rotate2D={x:t.dRotate,y:0,z:0},Object.prototype.hasOwnProperty.call(e,"scale2D")?e.scale2D.x=t.dScale:e.scale2D={x:t.dScale,y:0,z:0},e.libID=t.libID,e.code=t.code,e.algoMaxEditPts=t.maxEditPts,e.algoMinEditPts=t.minEditPts,e.symbolType=t.symbolType,e.symbolName=t.symbolName,e.annotationPosition=t.annotationPosition?t.annotationPosition:t.textPosition,e.textContent=t.textContent,e.textDisplay=t.textDisplay,e.scaleByMap=t.scaleByMap,e.resolution=t.resolution,e.isLocked=t.isLocked,e.note=t.note,e.custom=t.custom,e.subSymbols=[];for(var l=0;l<t.subSymbols.length;l++){var n=t.subSymbols[l];e.subSymbols.push({libID:n.libID,code:n.code,symbolData:n.symbolData,textContent:n.textContent,totalNum:n.totalNum})}e.extendProperty=[];for(var r=t.getExtendProperty().getPropertyCount(),i=0;i<r;i++){var a=t.getExtendProperty().getPropertyByIndex(i);e.extendProperty.push({key:a.key,value:a.value})}e.avoidRegions=[];for(var s=0;s<t.avoidRegions.length;s++){for(var p=[],u=0;u<t.avoidRegions[0].latLngs.length;u++)p.push({x:t.avoidRegions[0].getLatLngs()[u].lng,y:t.avoidRegions[0].getLatLngs()[u].lat,z:0});e.avoidRegions.push(p)}if(!0===o?SuperMapAlgoPlot.AnalysisSymbol.setStyle(t.style,e,o):null!=t.feature&&SuperMapAlgoPlot.AnalysisSymbol.setStyle(t.feature.style,e),t.symbolType===SuperMapAlgoPlot.SymbolType.AIRROUTE||t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYROUTE||t.symbolType===SuperMapAlgoPlot.SymbolType.MISSILEROUTE){for(var c in e.routeNodes=[],t.routeNodes)e.routeNodes.push(t.routeNodes[c].setSymbolData());e.arrRoutePts=t.arrRoutePts,o||SuperMapAlgoPlot.AnalysisSymbol.setStyle(t.lineStyle,e)}else if(t.symbolType===SuperMapAlgoPlot.SymbolType.GROUPOBJECT||t.symbolType===SuperMapAlgoPlot.SymbolType.FLAGGROUP||t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYDEPLOYMENT||t.symbolType===SuperMapAlgoPlot.SymbolType.AIRDEPLOYMENT){if(e.subAssociatedUuids=t.subAssociatedUuids,e.geometries=[],o)for(u=0;u<t.subObjects.length;u++)e.geometries.push(t.subObjects[u].getSymbolData());else for(var P=0;P<t.components.length;P++)e.geometries.push(t.components[P].geometry.getSymbolData());0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.FLAGGROUP?e.ratios=t.ratio:0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.AIRDEPLOYMENT?(e.colNum=t.colNum,e.speceDis=t.speceDis,e.isShowTooltip=t.isShowTooltip):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYDEPLOYMENT&&(e.colNum=t.colNum,e.speceDis=t.speceDis)}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXT){var g=[];for(var y in t.symbolTexts)g.push(t.symbolTexts[y].setSymbolData());e.symbolTexts=g,e.addFrame=t.addFrame}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXT1)e.space=t.space,e.offsetX=t.offsetX,e.offsetY=t.offsetY;else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.TRAJECTORY)e.trajectoryType=t.trajectoryType,e.trajectoryLength=t.trajectoryLength,e.showTrackingLine=t.showTrackingLine,e.showTrackingPoint=t.showTrackingPoint,e.trackingPointRadius=t.trackingPointRadius,e.saveTrackingPoint=t.saveTrackingPoint;else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SATELLITE){if(Object.prototype.hasOwnProperty.call(e,"scaleValues"))for(var f=0;f<t.scaleValues.length;f++)e.scaleValues.length>f?e.scaleValues[f]=t.scaleValues[f]:e.scaleValues.push(t.scaleValues[f]);else e.scaleValues=[],e.scaleValues=t.scaleValues;e.visible=t.visible,e.orbitPoints=t.orbitPoints}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SATELLITETIMEWINDOWS)e.timeWindows=t.timeWindows;else{var h;h=!0===o?L.Util.latLngsToSuperMapPoints(t.getLatLngs()):t.controlPoints,e.localePoints=[];var S=h.length;t.symbolType===SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL&&(S=3);for(var A=0;A<S;A++)e.localePoints.push({x:h[A].x,y:h[A].y,z:0});if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.LINERELATION)e.endAssociation=t.endAssociatedUuid,e.lineRelationType=t.lineRelationType,e.startAssociation=t.startAssociatedUuid,e.subSectionCount=t.subSectionCount;else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.PICTURE){if(e.path=t.path,e.symbolTexts=[],null!=t.symbolTexts&&0!=t.symbolTexts.length)for(var M=0;M<t.symbolTexts.length;M++)e.symbolTexts.push(t.symbolTexts[M].setSymbolData());if(e.bloodVolumes=[],null!=t.bloodVolumes&&0!=t.bloodVolumes.length)for(var d=0;d<t.bloodVolumes.length;d++)e.bloodVolumes.push(t.bloodVolumes[d].setSymbolData());null!=t.trajectory&&(e.trajectory=t.trajectory.setSymbolData()),null!=e.antoRotation&&(t.antoRotation=e.antoRotation)}else if(t.symbolType===SuperMapAlgoPlot.SymbolType.DOTSYMBOL){e.surroundLineType=t.surroundLineType,e.symbolRank=t.symbolRank,e.negativeImage=t.negativeImage,e.horizontalMirror=t.horizontalMirror,e.verticalMirror=t.verticalMirror,e.space=25.4*t.space*10/SuperMapAlgoPlot.PlottingUtil.DPI,e.flagTextSize=t.flagTextSize,e.maxScale=t.maxScale,e.minScale=t.minScale,e.actualScale=t.actualScale,void 0!==t.fontSize&&(e.fontSize=t.fontSize),void 0!==t.strokeWidth&&(e.strokeWidth=t.strokeWidth);var b=25.4*t.symbolSize.w*10/SuperMapAlgoPlot.PlottingUtil.DPI,v=25.4*t.symbolSize.h*10/SuperMapAlgoPlot.PlottingUtil.DPI;e.symbolSize={x:b,y:v};var m=25.4*t.symbolSizeInLib.w*10/SuperMapAlgoPlot.PlottingUtil.DPI,O=25.4*t.symbolSizeInLib.h*10/SuperMapAlgoPlot.PlottingUtil.DPI;if(e.symbolSizeInLib={x:m,y:O},e.positionOffset=t.positionOffset,e.positionOffsetType=t.positionOffsetType,e.positionOffsetX=25.4*t.positionOffsetX*10/SuperMapAlgoPlot.PlottingUtil.DPI,e.positionOffsetY=25.4*t.positionOffsetY*10/SuperMapAlgoPlot.PlottingUtil.DPI*-1,!1===t.widthHeightLimit||!0===t.widthHeightLimit?e.limitWidthHeight=t.widthHeightLimit:e.limitWidthHeight=t.limitWidthHeight,e.symbolTexts=[],null!=t.symbolTexts&&0!=t.symbolTexts.length)for(var T=0;T<t.symbolTexts.length;T++)e.symbolTexts.push(t.symbolTexts[T].setSymbolData());if(e.bloodVolumes=[],null!=t.bloodVolumes&&0!=t.bloodVolumes.length)for(var w=0;w<t.bloodVolumes.length;w++)e.bloodVolumes.push(t.bloodVolumes[w].setSymbolData());if(e.pictureFrames=[],null!=t.pictureFrames&&0!=t.pictureFrames.length)for(var x=0;x<t.pictureFrames.length;x++)e.pictureFrames.push(t.pictureFrames[x].setSymbolData());null!=t.trajectory&&(e.trajectory=t.trajectory.setSymbolData()),null!=e.antoRotation&&(t.antoRotation=e.antoRotation)}else{if(e.surroundLineType=t.surroundLineType,Object.prototype.hasOwnProperty.call(e,"scaleValues"))for(var R=0;R<t.scaleValues.length;R++)e.scaleValues.length>R?e.scaleValues[R]=t.scaleValues[R]:e.scaleValues.push(t.scaleValues[R]);else e.scaleValues=[],e.scaleValues=t.scaleValues;e.subSymbolScaleValue=t.subSymbolScaleValue,e.baseScale=t.baseScale,e.strokeWidth=t.strokeWidth,e.polylineConnectLocationPoint=t.polylineConnectLocationPoint,22===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ALGOSYMBOL?(e.arrowHeadType=t.arrowHeadType,e.arrowBodyType=t.arrowBodyType,e.arrowTailType=t.arrowTailType):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ARROWLINE?e.arrowAngle=t.arrowAngle:0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE?e.defaultRadius=t.defaultRadius:0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE||(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.LINEMARKING?(e.islocationCircle=t.islocationCircle,e.textBoxType=t.textBoxType):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX?(e.roundBox=t.roundBox,e.textBoxType=t.textBoxType):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.PATHTEXT?(e.isAvoid=t.isAvoid,e.isCurve=t.isCurve,e.relLineText=t.relLineText,e.showPathLine=t.showPathLine,e.textToLineDistance=t.textToLineDistance,e.showPathLineArrow=t.showPathLineArrow):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ARCREGION&&(o?(e.centerPoint={x:t.centerPoint.lng,y:t.centerPoint.lat},e.circlePts=t.circlePts,e.spatialAnalystUrl=t.spatialAnalystUrl):e.centerPoint=t.centerPoint,e.endAngle=t.endAngle,e.radius=t.radius,e.radiusPosAngle=t.radiusPosAngle,e.startAngle=t.startAngle,e.textPosition=t.textPosition,e.radiusLineType=t.radiusLineType,e.radiusText=t.radiusText))}}t.symbolData=e},SuperMapAlgoPlot.AnalysisSymbol.parseSymbolData=function(t,e,o){if(null!=e){if(null!=e.isEdit&&(t.isEdit=e.isEdit),Object.prototype.hasOwnProperty.call(e,"version")&&(t.version=e.version),Object.prototype.hasOwnProperty.call(e,"libID")&&(t.libID=parseInt(e.libID)),Object.prototype.hasOwnProperty.call(e,"code")&&(t.code=parseInt(e.code)),Object.prototype.hasOwnProperty.call(e,"algoMaxEditPts")&&(t.maxEditPts=parseInt(e.algoMaxEditPts)),Object.prototype.hasOwnProperty.call(e,"algoMinEditPts")&&(t.minEditPts=parseInt(e.algoMinEditPts)),Object.prototype.hasOwnProperty.call(e,"symbolType")&&(t.symbolType=parseInt(e.symbolType)),Object.prototype.hasOwnProperty.call(e,"symbolName")&&(t.symbolName=e.symbolName),Object.prototype.hasOwnProperty.call(e,"textContent")&&(t.textContent=e.textContent),Object.prototype.hasOwnProperty.call(e,"bubbleHeight")&&(t.bubbleHeight=e.bubbleHeight),Object.prototype.hasOwnProperty.call(e,"bubbleWidth")&&(t.bubbleWidth=e.bubbleWidth),Object.prototype.hasOwnProperty.call(e,"description")&&(t.description=e.description),Object.prototype.hasOwnProperty.call(e,"mediaList")&&(t.mediaList=e.mediaList),null!=e.dScale?t.dScale=e.dScale:void 0!==e.scale2D&&(t.dScale=e.scale2D.x),null!=e.dRotate?t.dRotate=e.dRotate:void 0!==e.rotate2D&&(t.dRotate=e.rotate2D.x),null!=e.resolution&&(t.resolution=e.resolution),null!=e.uuid&&(t.uuid=e.uuid),null!=e.associatedUuid&&(t.associatedUuid=e.associatedUuid),null!=e.textDisplay&&(t.textDisplay=e.textDisplay),null!=e.annotationPosition&&(o?t.annotationPosition=e.annotationPosition:t.textPosition=e.annotationPosition),null!=e.scaleByMap&&(t.scaleByMap=e.scaleByMap),void 0!==e.isLocked&&(t.isLocked=e.isLocked),void 0!==e.note&&(t.note=e.note),void 0!==e.custom&&(t.custom=e.custom),e.extendProperty)for(var l=0;l<e.extendProperty.length;l++){var n=e.extendProperty[l];t.extendProperty.addProperty(n.key,n.value)}if(Object.prototype.hasOwnProperty.call(e,"subSymbols")&&null!=e.subSymbols){t.subSymbols=[];for(var r=0;r<e.subSymbols.length;r++){var i=e.subSymbols[r].libID;void 0===i&&(i=t.libID);var a=e.subSymbols[r].code;if(void 0!==a){var s={};void 0!==e.subSymbols[r].textContent&&(s.textContent=e.subSymbols[r].textContent),void 0!==e.subSymbols[r].totalNum&&(s.totalNum=e.subSymbols[r].totalNum),void 0!==e.subSymbols[r].symbolData&&(s.symbolData=e.subSymbols[r].symbolData),t.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(i,a,s))}}}if(e.avoidRegions&&0!==e.avoidRegions.length)for(var p=0;p<e.avoidRegions.length;p++){var u=null;if(Object.prototype.hasOwnProperty.call(e.avoidRegions[p][0],"controlPoints")){var c={libID:0,code:SuperMapAlgoPlot.SymbolType.AVOIDREGION,map:t.map,symbolData:e.avoidRegions[p][0]};if(o)(u=L.supermap.plotting.avoidRegion(0,SuperMapAlgoPlot.SymbolType.AVOIDREGION,[],c)).style=SuperMapAlgoPlot.AnalysisSymbol.getStyle(t.symbolData.avoidRegions[p][1],!0);else{u=new SuperMap.Geometry.AvoidRegion(c);var P=new SuperMap.Feature.Vector(u);P.style=SuperMapAlgoPlot.AnalysisSymbol.getStyle(e.avoidRegions[p][1],o),u.feature=P,u.calculateParts()}}else{for(var g=[],y=0;y<e.avoidRegions[p].length;y++)g.push(new SuperMapAlgoPlot.Point(e.avoidRegions[p][y].x,e.avoidRegions[p][y].y));if(o){var f={libID:0,code:SuperMapAlgoPlot.SymbolType.AVOIDREGION,map:t.map,latLngs:L.Util.superMapPointsToLatLngs(g)};u=L.supermap.plotting.avoidRegion(0,SuperMapAlgoPlot.SymbolType.AVOIDREGION,[],f)}else{var h={libID:0,code:SuperMapAlgoPlot.SymbolType.AVOIDREGION,map:t.map,controlPoints:g};u=new SuperMap.Geometry.AvoidRegion(h);var S=new SuperMap.Feature.Vector(u);u.feature=S,u.calculateParts()}}t.avoidRegions.push(u)}if(!0===o&&(t.style=SuperMapAlgoPlot.AnalysisSymbol.getStyle(e,!0)),t.symbolType===SuperMapAlgoPlot.SymbolType.AIRROUTE||t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYROUTE||t.symbolType===SuperMapAlgoPlot.SymbolType.MISSILEROUTE){for(var A in t.routeNodes=[],e.routeNodes){var M=new SuperMapAlgoPlot.RouteNode;t.routeNodes.push(M.parseSymbolData(e.routeNodes[A]))}t.arrRoutePts=[];for(var d=0;d<e.arrRoutePts.length;d++){for(var b=[],v=0;v<e.arrRoutePts[d].length;v++)Object.prototype.hasOwnProperty.call(e.arrRoutePts[d][v],"lat")&&Object.prototype.hasOwnProperty.call(e.arrRoutePts[d][v],"lng")?b.push(new SuperMapAlgoPlot.Point(e.arrRoutePts[d][v].lng,e.arrRoutePts[d][v].lat)):void 0===e.arrRoutePts[d][v].x&&void 0===e.arrRoutePts[d][v].y||b.push(new SuperMapAlgoPlot.Point(e.arrRoutePts[d][v].x,e.arrRoutePts[d][v].y));o&&(b=L.Util.superMapPointsToLatLngs(b)),t.arrRoutePts.push(b)}o||(t.lineStyle=SuperMapAlgoPlot.AnalysisSymbol.getStyle(e,!1))}else if(t.symbolType===SuperMapAlgoPlot.SymbolType.GROUPOBJECT||t.symbolType===SuperMapAlgoPlot.SymbolType.FLAGGROUP||t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYDEPLOYMENT||t.symbolType===SuperMapAlgoPlot.SymbolType.AIRDEPLOYMENT){if(null!=e.subAssociatedUuids&&(t.subAssociatedUuids=e.subAssociatedUuids),null!=e.geometries)if(o){for(var m=[],O=0;O<e.geometries.length;O++){var T=e.geometries[O];T.uuid=SuperMapAlgoPlot.PlottingUtil.generateUuid();var w=L.supermap.plotting.PlottingObject.createSymbol(T.libID,T.code,null,{symbolData:T});m.push(w)}t.subObjects=m}else for(var x=0;x<e.geometries.length;x++){var R=e.geometries[x],U=SuperMap.Geometry.PlottingGeometry.createFeature(R.libID,R.code,null,{symbolData:R,map:t.map});U.geometry.ownGroupObj=t,t.components.push(U)}else if(o){m=[];for(var E=0;E<e.subFeatures.length;E++){var I=e.subFeatures[E];I.uuid=SuperMapAlgoPlot.PlottingUtil.generateUuid();var C=L.supermap.plotting.PlottingObject.createSymbol(I.libID,I.code,null,{symbolData:I});m.push(C)}t.subObjects=m}else for(var B=0;B<e.subFeatures.length;B++){var _=e.subFeatures[B],D=SuperMap.Geometry.PlottingGeometry.createFeature(_.libID,_.code,null,{symbolData:_,map:t.map});D.geometry.ownGroupObj=t,t.components.push(D)}0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.FLAGGROUP&&(null!=e.ratios?t.ratios=e.ratios:null!=e.ratio&&(t.ratios=e.ratio)),0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.AIRDEPLOYMENT&&(t.colNum=e.colNum,t.speceDis=e.speceDis,t.isShowTooltip=e.isShowTooltip),0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYDEPLOYMENT&&(t.colNum=e.colNum,t.speceDis=e.speceDis)}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXT){t.addFrame=e.addFrame,t.symbolTexts=[];for(var N=0,k=e.symbolTexts.length;N<k;N++){var V=new SuperMapAlgoPlot.SymbolText;V.parseSymbolData(e.symbolTexts[N]),t.symbolTexts.push(V)}}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXT1)void 0!==e.space&&(t.space=e.space),void 0!==e.offsetX&&(t.offsetX=e.offsetX),void 0!==e.offsetY&&(t.offsetY=e.offsetY);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.TRAJECTORY)void 0!==e.trajectoryType&&(t.trajectoryType=e.trajectoryType),void 0!==e.trajectoryLength&&(t.trajectoryLength=e.trajectoryLength),void 0!==e.showTrackingLine&&(t.showTrackingLine=e.showTrackingLine),void 0!==e.showTrackingPoint&&(t.showTrackingPoint=e.showTrackingPoint),void 0!==e.trackingPointRadius&&(t.trackingPointRadius=e.trackingPointRadius),void 0!==e.saveTrackingPoint&&(t.saveTrackingPoint=e.saveTrackingPoint);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SATELLITE){if(e.scaleValues&&0!==e.scaleValues.length){t.scaleValues=[];for(var j=0;j<e.scaleValues.length;j++)t.scaleValues.push(e.scaleValues[j])}if(e.subSymbol&&(t.subSymbols=[e.subSymbol]),t.visible=e.visible,e.orbitPoints){t.orbitPoints=[];for(var Y=0;Y<e.orbitPoints.length;Y++)t.orbitPoints.push(new SuperMapAlgoPlot.OrbitPoint(e.orbitPoints[Y].x,e.orbitPoints[Y].y,e.orbitPoints[Y].z,e.orbitPoints[Y].number,e.orbitPoints[Y].time))}}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SATELLITETIMEWINDOWS){t.timeWindows=e.timeWindows;for(var z=0;z<t.timeWindows.length;z++)"Time"!==e.type&&"number"!==e.type||(t.timeWindows[z].type=e.type)}else{if(e.localePoints){t.controlPoints=[];for(var F=0;F<e.localePoints.length;F++)t.controlPoints.push(new SuperMapAlgoPlot.Point(e.localePoints[F].x,e.localePoints[F].y));!0===o&&(t.latLngs=L.Util.superMapPointsToLatLngs(t.controlPoints),delete t.controlPoints)}if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.LINERELATION)null!=e.startAssociation?t.startAssociatedUuid=e.startAssociation:null!=e.startAssociatedUuid&&(t.startAssociatedUuid=e.startAssociatedUuid),null!=e.endAssociation?t.endAssociatedUuid=e.endAssociation:null!=e.endAssociatedUuid&&(t.endAssociatedUuid=e.endAssociatedUuid),null!=e.lineRelationType&&(t.lineRelationType=e.lineRelationType),null!=e.subSectionCount&&(t.subSectionCount=e.subSectionCount);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.PICTURE){if(t.path=e.path,null!=e.symbolTexts&&0!==e.symbolTexts.length){t.symbolTexts=[];for(var W=0;W<e.symbolTexts.length;W++){var G=new SuperMapAlgoPlot.SymbolText;G.parseSymbolData(e.symbolTexts[W]),t.symbolTexts.push(G)}}if(null!=e.bloodVolumes&&0!==e.bloodVolumes.length){t.bloodVolumes=[];for(var H=0;H<e.bloodVolumes.length;H++){var q=new SuperMapAlgoPlot.BloodVolume;q.parseSymbolData(e.bloodVolumes[H]),t.bloodVolumes.push(q)}}if(null!=e.trajectory){var J=new SuperMapAlgoPlot.Trajectory;J.parseSymbolData(e.trajectory),t.trajectory=J}null!=e.antoRotation&&(t.antoRotation=e.antoRotation)}else if(t.symbolType===SuperMapAlgoPlot.SymbolType.DOTSYMBOL){t.surroundLineType=e.surroundLineType,t.symbolRank=e.symbolRank,t.negativeImage=e.negativeImage,t.horizontalMirror=e.horizontalMirror,t.verticalMirror=e.verticalMirror;var Z=SuperMapAlgoPlot.AnalysisSymbol.analysisDotBasicInfo(e);if(t.anchorPoint=Z.anchorPoint,t.symbolSizeInLib=Z.symbolSizeInLib,t.middleMarkBounds=Z.middleMarkBounds,void 0!==e.actualScale&&(t.actualScale=e.actualScale),void 0!==e.limitWidthHeight&&(t.limitWidthHeight=e.limitWidthHeight),void 0!==e.fontSize&&(t.fontSize=e.fontSize),void 0!==e.strokeWidth&&(t.strokeWidth=e.strokeWidth),void 0!==e.space&&(t.space=e.space*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10),void 0!==e.flagTextSize&&(t.flagTextSize=e.flagTextSize),void 0!==e.maxScale&&(t.maxScale=e.maxScale),void 0!==e.minScale&&(t.minScale=e.minScale),!1!==t.isEdit){var X={x:0,y:0};-1===e.symbolSize.x&&-1===e.symbolSize.x?(X.x=e.symbolSizeInLib.x*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10,X.y=e.symbolSizeInLib.y*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10):(X.x=e.symbolSize.x*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10,X.y=e.symbolSize.y*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10),t.setSymbolSize(X.x,X.y)}if(void 0!==e.positionOffset&&null!==e.positionOffset&&(t.positionOffset=e.positionOffset),void 0!==e.positionOffsetType&&null!==e.positionOffsetType&&(t.positionOffsetType=e.positionOffsetType),void 0!==e.positionOffsetX&&null!==e.positionOffsetX&&(t.positionOffsetX=e.positionOffsetX*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10),void 0!==e.positionOffsetY&&null!==e.positionOffsetY&&(t.positionOffsetY=e.positionOffsetY*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10*-1),null!=e.symbolTexts&&0!==e.symbolTexts.length){t.symbolTexts=[];for(var Q=0;Q<e.symbolTexts.length;Q++){var K=new SuperMapAlgoPlot.SymbolText;K.parseSymbolData(e.symbolTexts[Q]),t.symbolTexts.push(K)}}if(null!=e.bloodVolumes&&0!==e.bloodVolumes.length){t.bloodVolumes=[];for(var $=0;$<e.bloodVolumes.length;$++){var tt=new SuperMapAlgoPlot.BloodVolume;tt.parseSymbolData(e.bloodVolumes[$]),t.bloodVolumes.push(tt)}}if(null!=e.pictureFrames&&0!==e.pictureFrames.length){t.pictureFrames=[];for(var et=0;et<e.pictureFrames.length;et++){var ot=new SuperMapAlgoPlot.PictureFrame;ot.parseSymbolData(e.pictureFrames[et]),t.pictureFrames.push(ot)}}if(null!=e.trajectory){var lt=new SuperMapAlgoPlot.Trajectory;lt.parseSymbolData(e.trajectory),t.trajectory=lt}null!=e.antoRotation&&(t.antoRotation=e.antoRotation)}else{if(t.surroundLineType=e.surroundLineType,e.scaleValues&&0!==e.scaleValues.length){t.scaleValues=[];for(var nt=0;nt<e.scaleValues.length;nt++)t.scaleValues.push(e.scaleValues[nt])}if(void 0!==e.strokeWidth&&null!==e.strokeWidth&&(t.strokeWidth=e.strokeWidth),void 0!==e.baseScale&&null!==e.baseScale&&(t.baseScale=e.baseScale),void 0!==e.polylineConnectLocationPoint&&null!==e.polylineConnectLocationPoint&&(t.polylineConnectLocationPoint=e.polylineConnectLocationPoint),22===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ALGOSYMBOL)void 0!==e.arrowHeadType&&null!==e.arrowHeadType&&(t.arrowHeadType=e.arrowHeadType),void 0!==e.arrowBodyType&&null!==e.arrowBodyType&&(t.arrowBodyType=e.arrowBodyType),void 0!==e.arrowTailType&&null!==e.arrowTailType&&(t.arrowTailType=e.arrowTailType);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ARROWLINE)t.arrowAngle=e.arrowAngle,void 0!==e.arrowTypeStart&&(t.scaleValues[1]=e.arrowTypeStart),void 0!==e.arrowTypeEnd&&(t.scaleValues[2]=e.arrowTypeEnd);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE){if(e.radius&&0!==e.radius.length&&0===t.scaleValues.length)for(var rt=0;rt<e.radius.length;rt++)t.scaleValues.push(e.radius[rt])}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE)Object.prototype.hasOwnProperty.call(t.symbolData,"startAngle")&&(t.scaleValues[0]=t.symbolData.startAngle),Object.prototype.hasOwnProperty.call(t.symbolData,"endAngle")&&(t.scaleValues[1]=t.symbolData.endAngle);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.LINEMARKING)void 0!==e.islocationCircle&&null!==e.islocationCircle&&(t.islocationCircle=e.islocationCircle),void 0!==e.textBoxType&&null!==e.textBoxType&&(t.textBoxType=e.textBoxType),e.tipPoint&&(this.scaleValues[1]=e.tipPoint.x,this.scaleValues[2]=e.tipPoint.y);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX)void 0!==e.roundBox&&null!==e.roundBox&&(t.roundBox=e.roundBox),void 0!==e.textBoxType&&null!==e.textBoxType&&(t.textBoxType=e.textBoxType),e.tipPoint&&(this.scaleValues[1]=e.tipPoint.x,this.scaleValues[2]=e.tipPoint.y);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM)e.tipPoint1&&(this.scaleValues[0]=e.tipPoint1.x,this.scaleValues[1]=e.tipPoint1.y),e.tipPoint2&&(this.scaleValues[2]=e.tipPoint2.x,this.scaleValues[3]=e.tipPoint2.y);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.PATHTEXT)t.isAvoid=e.isAvoid,t.isCurve=e.isCurve,t.relLineText=e.relLineText,t.showPathLine=e.showPathLine,t.textToLineDistance=e.textToLineDistance,t.showPathLineArrow=e.showPathLineArrow;else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ARCREGION){if(o){if(t.centerPoint=L.latLng(e.centerPoint.y,e.centerPoint.x),t.symbolData.circlePts){for(var it=[],at=0;at<e.circlePts.length;at++)it.push(new SuperMapAlgoPlot.Point(e.circlePts[at].x,e.circlePts[at].y));0!==it.length&&(t.circlePts=it)}t.spatialAnalystUrl=e.spatialAnalystUrl}else t.centerPoint=new SuperMapAlgoPlot.Point(e.centerPoint.x,e.centerPoint.y);t.endAngle=e.endAngle,t.radius=e.radius,t.radiusPosAngle=e.radiusPosAngle,t.startAngle=e.startAngle,t.textPosition=e.textPosition,t.radiusLineType=e.radiusLineType,t.radiusText=e.radiusText}else 0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.POLYGONREGION&&(Object.prototype.hasOwnProperty.call(t.symbolData,"textPosition")?t.scaleValues[1]=t.symbolData.textPosition:void 0===t.scaleValues[1]&&(t.scaleValues[1]=t.symbolData.annotationPosition))}}}};SuperMapAlgoPlot.PlottingUtil=SuperMapAlgoPlot.PlottingUtil||{};SuperMapAlgoPlot.PlottingUtil.DEFAULT_PRECISION=14,SuperMapAlgoPlot.PlottingUtil.DPI=96,SuperMapAlgoPlot.PlottingUtil.RTOD=57.29577951308232,SuperMapAlgoPlot.PlottingUtil.DTOR=.017453292519943295,SuperMapAlgoPlot.PlottingUtil.dirAngle=function(t,e){var o,l,n,r;o=e.x,l=e.y,n=o-t.x,r=l-t.y;var i=Math.atan2(r,n);return i<0&&(i+=2*Math.PI),i},SuperMapAlgoPlot.PlottingUtil.generateUuid=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},SuperMapAlgoPlot.PlottingUtil.cloneObject=function(t){return JSON.parse(JSON.stringify(t))},SuperMapAlgoPlot.PlottingUtil.colorRGBA=function(t,e){var o=t.substring(1,3),l=parseInt(o,16),n=t.substring(3,5),r=parseInt(n,16),i=t.substring(5);return"rgba("+l+","+r+","+parseInt(i,16)+","+e+")"},SuperMapAlgoPlot.PlottingUtil.colorRGBToString=function(t){var e=t.red.toString(16);e.length<2&&(e="0"+e);var o=t.green.toString(16);o.length<2&&(o="0"+o);var l=t.blue.toString(16);return l.length<2&&(l="0"+l),"#"+e+o+l},SuperMapAlgoPlot.PlottingUtil.colorStringToRGB=function(t){var e={},o=t.substring(1,3);e.red=parseInt(o,16);var l=t.substring(3,5);e.green=parseInt(l,16);var n=t.substring(5);return e.blue=parseInt(n,16),e},SuperMapAlgoPlot.PlottingUtil.decimalToHex=function(t){for(var e=t.toString(16);e.length<8;)e="0"+e;var o=e.substring(0,2),l=e.substring(2,4),n=e.substring(4,6);return{color:"#"+e.substring(6)+n+l,alpha:parseInt(o,16)/255}},SuperMapAlgoPlot.PlottingUtil.hexToDecimal=function(t,e){var o=t.substring(1,3),l=t.substring(3,5),n=t.substring(5),r=parseInt(n+l+o,16),i=Math.round(255*e).toString(16);return parseInt(i+"000000",16)+r},SuperMapAlgoPlot.PlottingUtil.getAlign=function(t){return"TOPLEFT"===t?"lt":"TOPCENTER"===t?"ct":"TOPRIGHT"===t?"rt":"BOTTOMLEFT"===t?"lb":"BOTTOMCENTER"===t?"cb":"BOTTOMRIGHT"===t?"rb":"MIDDLELEFT"===t?"lm":"MIDDLECENTER"===t?"cm":"MIDDLERIGHT"===t?"rm":"lt"},SuperMapAlgoPlot.PlottingUtil.trim=function(t){return null==t?"":t.replace(/(^\s*)|(\s*$)/g,"")},SuperMapAlgoPlot.PlottingUtil.getTextWidth=function(t,e){" "===e&&(e="_");var o=1;t.fontSize<12&&(o=t.fontSize/12);var l=document.createElement("span");document.body.appendChild(l),l.style.width="auto",l.style.height="auto",t.fontSize&&(l.style.fontSize=new String(t.fontSize)+"px"),t.fontFamily&&(l.style.fontFamily=t.fontFamily),t.fontWeight&&(l.style.fontWeight=t.fontWeight),l.style.position="absolute",l.style.visibility="hidden",l.style.display="inline-block",l.innerHTML=e;var n=l.clientWidth,r=e.length;return null!=t.fontSpace&&null!=t.fontPercent?n=t.fontPercent/100*n+t.fontSpace*(t.fontPercent/100)*(r-1):null==t.fontSpace&&null!=t.fontPercent?n=t.fontPercent/100*n:null!=t.fontSpace&&null==t.fontPercent&&(n+=t.fontSpace*(r-1)),document.body.removeChild(l),n*o},SuperMapAlgoPlot.PlottingUtil.getTextCount=function(t){for(var e=0,o=0,l=0;l<t.length;l++)t.charCodeAt(l)>255?e++:o++;return e+o/2},SuperMapAlgoPlot.PlottingUtil.toJSON=function(t){var e=t;if(null==e)return null;switch(e.constructor){case String:return e=(e=(e=(e=(e=(e=(e='"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%2525")).replace(/&/g,"%26");case Array:for(var o=[],l=0,n=e.length;l<n;l++)o.push(SuperMapAlgoPlot.PlottingUtil.toJSON(e[l]));return"["+o.join(",")+"]";case Number:return isFinite(e)?String(e):null;case Boolean:return String(e);case Date:return"{'__type':\"System.DateTime\",'Year':"+e.getFullYear()+",'Month':"+(e.getMonth()+1)+",'Day':"+e.getDate()+",'Hour':"+e.getHours()+",'Minute':"+e.getMinutes()+",'Second':"+e.getSeconds()+",'Millisecond':"+e.getMilliseconds()+",'TimezoneOffset':"+e.getTimezoneOffset()+"}";default:if(null!=e.toJSON&&"function"==typeof e.toJSON)return e.toJSON();if("object"===c(e)){if(e.length){for(var r=[],i=0,a=e.length;i<a;i++)r.push(SuperMapAlgoPlot.PlottingUtil.toJSON(e[i]));return"["+r.join(",")+"]"}var s=[];for(var p in e)"function"!=typeof e[p]&&"CLASS_NAME"!==p&&"parent"!==p&&s.push('"'+p+'":'+SuperMapAlgoPlot.PlottingUtil.toJSON(e[p]));return s.length>0?"{"+s.join(",")+"}":"{}"}return e.toString()}},SuperMapAlgoPlot.PlottingUtil.copyFeature=function(t){var e=null;if(null!=t&&t.geometry){var o=t.geometry.clone();e=new SuperMap.Feature.Vector(o),t.style&&(e.style=SuperMapAlgoPlot.PlottingUtil.copyAttributes(e.style,t.style)),o.feature=e,o.calculateParts()}return e},SuperMapAlgoPlot.PlottingUtil.inverse=function(t){for(var e=[],o=t.length-1;o>=0;o--)e.push(t[o]);return e},SuperMapAlgoPlot.PlottingUtil.getSurroundLinePts=function(t,e){for(var o=[],l=[],n=0;n<t.length-1;n++){var r,i,a=[];if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)||!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].y,t[n+1].y)){a.push(t[n]),a.push(t[n+1]);var s=SuperMapAlgoPlot.PlottingUtil.parallel(a,e);if(r=s[0],i=s[1],0!=o.length){var p=SuperMapAlgoPlot.PlottingUtil.intersectLines(r,i,o[0],o[1]);if(p.isIntersectLines){var u=p.intersectPoint,c=SuperMapAlgoPlot.PlottingUtil.distance(r,i);SuperMapAlgoPlot.PlottingUtil.distance(u,i)>2*c?l.push(i):(l[l.length-1]=u,l.push(i))}else l.push(i)}else l.push(r),l.push(i);(o=[]).push(l[l.length-2]),o.push(l[l.length-1])}}if(t[0].x===t[t.length-1].x&&t[0].y===t[t.length-1].y&&1<l.length){var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(l[0],l[1],l[l.length-2],l[l.length-1]);if(P.isIntersectLines){var g=P.intersectPoint;l[l.length-1]=g,l[0]=g}}return l},SuperMapAlgoPlot.PlottingUtil.copyFontStyle=function(t,e){void 0===t.labelAlign&&void 0!==e.labelAlign&&(t.labelAlign=e.labelAlign),!0!==t.fontSizeLimit&&(void 0!==e.fontSize&&(t.fontSize=e.fontSize),void 0!==e.fontWeight&&(t.fontWeight=e.fontWeight),void 0!==e.fontStyle&&(t.fontStyle=e.fontStyle),void 0!==e.fontSpace&&(t.fontSpace=e.fontSpace),void 0!==e.fontPercent&&(t.fontPercent=e.fontPercent)),t.strokeWidth=e.strokeWidth},SuperMapAlgoPlot.PlottingUtil.getDataFromServer=function(t,e,o,l,n,r,i,a){var s;if(void 0!==r&&(s=r),"undefined"!=typeof SuperMap&&void 0!==SuperMap.GetSymbolInfoService){var p=new SuperMap.GetSymbolInfoService(t);p.events.on({processCompleted:i,processFailed:a,scope:s});var u=new SuperMap.GetSymbolInfoParameters;u.libID=e,u.code=o,n&&SuperMapAlgoPlot.PlottingUtil.extend(u,n),l&&null!=l&&(SuperMapAlgoPlot.PlottingUtil.isArray(l)||(l=[l]),u.inputPoints=l),p.processAsync(u)}else if(void 0!==("undefined"==typeof SuperMap?"undefined":c(SuperMap))&&void 0!==c(SuperMap.REST)&&void 0!==c(SuperMap.REST.GetSymbolInfoService)){var P=new SuperMap.REST.GetSymbolInfoService(t);P.events.on({processCompleted:i,processFailed:a,scope:s});var g=new SuperMap.REST.GetSymbolInfoParameters;if(g.libID=e,g.code=o,n&&SuperMapAlgoPlot.PlottingUtil.extend(g,n),l&&null!=l&&(SuperMapAlgoPlot.PlottingUtil.isArray(l)||(l=[l]),g.inputPoints=l),n&&n.credential){var y=n.credential;P.processAsync(g,y)}else P.processAsync(g)}},SuperMapAlgoPlot.PlottingUtil.innerOutlineDir=function(t){function e(t,e){function o(t){var e=Math.atan2(t.y,t.x);return e<0&&(e+=2*Math.PI),e}var l=o(e)-o(t);return l<-Math.PI&&(l+=2*Math.PI),l>Math.PI&&(l-=2*Math.PI),l}if(t.length<3)return 1;for(var o=0,l={x:0,y:0},n={x:0,y:0},r=2;r<t.length;r++)n.x=t[r].x-t[r-1].x,n.y=t[r].y-t[r-1].y,l.x=t[r-1].x-t[r-2].x,l.y=t[r-1].y-t[r-2].y,o+=e(l,n);return n.x=t[1].x-t[0].x,n.y=t[1].y-t[0].y,l.x=t[0].x-t[t.length-1].x,l.y=t[0].y-t[t.length-1].y,(o+=e(l,n))>=0?-1:1},SuperMapAlgoPlot.PlottingUtil.isNear=function(t,e){return e||(e=SuperMapAlgoPlot.PlottingUtil.TORLERANCE_STATIC),t<e&&t>-e},SuperMapAlgoPlot.PlottingUtil.equalFuzzy=function(t,e,o){return o||(o=1e-18),Math.abs(t-e)<=o},SuperMapAlgoPlot.PlottingUtil.intersectLines=function(t,e,o,l){var n={isIntersectLines:!1};if(t.x===e.x&&t.y===e.y||o.x===l.x&&o.y===l.y)return n;var r=e.x-t.x,i=e.y-t.y,a=l.x-o.x,s=l.y-o.y,p=r*s-a*i;if(SuperMapAlgoPlot.PlottingUtil.isNear(p))return n;var u=(r*(t.y-o.y)-i*(t.x-o.x))/p,c=new SuperMapAlgoPlot.Point(0,0);return c.x=u*a+o.x,c.y=u*s+o.y,n.isIntersectLines=!0,n.intersectPoint=c,n},SuperMapAlgoPlot.PlottingUtil.limitSigDigs=function(t,e){var o=0;if(e>0){var l=new Number(t);o=parseFloat(l.toPrecision(e))}return o},SuperMapAlgoPlot.PlottingUtil.containsPoint=function(t,e){for(var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t.components),l=SuperMapAlgoPlot.PlottingUtil.distance(o,e),n=0,r=SuperMapAlgoPlot.PlottingUtil.radian(e,t.components[0]),i=1;i<t.components.length;i++){var a=SuperMapAlgoPlot.PlottingUtil.radian(e,t.components[i]);r>a&&(r=a,n=i)}return l<SuperMapAlgoPlot.PlottingUtil.distance(o,t.components[n])},SuperMapAlgoPlot.PlottingUtil.intersects=function(t,e){var o=!1;if("SuperMap.Geometry.Point"===e.CLASS_NAME)o=t.containsPoint(e);else if("SuperMap.Geometry.LineString"===e.CLASS_NAME)o=e.intersects(t);else if("SuperMap.Geometry.LinearRing"===e.CLASS_NAME)o=SuperMap.Geometry.LineString.prototype.intersects.apply(this,[e]);else for(var l=0,n=e.components.length;l<n&&!(o=e.components[l].intersects(this));++l);return o},SuperMapAlgoPlot.PlottingUtil.getEnvelopePoints=function(t){function e(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(t[o].x!==e[o].x||t[o].y!==e[o].y)return!1;return!0}function o(t,e,o){for(var l=0;l<t.length;l++)if(SuperMapAlgoPlot.PlottingUtil.containsPoint(t[l].components[0],e))return o.index=l,!0;return!1}function l(t,e,o){for(var l=t.components[0].components,n=new SuperMapAlgoPlot.Point(0,0),r=0;r<l.length-1;r++)if(SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(e,o,l[r],l[r+1],n))return n;return null}function n(t,e){if(0===t.length||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[0].x,e[e.length-1].x,.5)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[0].y,e[e.length-1].y,.5))return e;for(var o=e[e.length-1],l=0;l<t.length;l++)if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l][0].x,o.x,.5)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l][0].y,o.y,.5)){e=e.concat(t[l]),t.splice(l,1);var r=n(t,e);if(void 0!==r&&0!==r.length)return r}else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l][t[l].length-1].x,o.x,.5)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l][t[l].length-1].y,o.y,.5)){for(var i=t[l].length-1;i>=0;i--)e.push(t[l][i]);t.splice(l,1);var a=n(t,e);if(void 0!==a&&0!==a.length)return a}return e}if(SuperMapAlgoPlot.PlottingUtil.isArray(t)||(t=[t]),0===t.length)return[];if(1===t.length)return t[0];for(var r=0;r<t.length;r++)for(var i=r+1;i<t.length;)e(t[r],t[i])?t.splice(i,1):i++;for(var a=[],s=0;s<t.length;s++)a.push(new SuperMap.Geometry.Polygon([new SuperMap.Geometry.LinearRing(t[s])]));for(var p=[],u=0;u<t.length;u++){var c=[],P=[],g=-1,y=-1,f=a.slice();f.splice(u,1);for(var h={},S=0;S<t[u].length;S++)if(o(f,t[u][S],h)){if(0!==P.length){var A=l(a[h.index],t[u][S-1],t[u][S]);A&&A!==t[u][S-1]&&A!==t[u][S]&&P.push(A),c.push(P),P=[]}}else{if(0===S&&(g=c.length),S===t[u].length-1&&(y=c.length),0===P.length&&void 0!==h.index){var M=l(a[h.index],t[u][S-1],t[u][S]);M&&M!==t[u][S-1]&&M!==t[u][S]&&P.push(M)}P.push(t[u][S].clone())}if(0!==P.length&&c.push(P),g<c.length&&y<c.length&&g!==y){for(var d=0;d<c[g].length;d++)c[y].push(c[g][d]);c.splice(g,1)}p=p.concat(c)}for(var b=[];0!==p.length;){var v=p[0];p.splice(0,1);var m=n(p,v);void 0!==m&&(v=m),v.length>2&&b.push(v)}return b},SuperMapAlgoPlot.PlottingUtil.isRight=function(t,e,o){var l=e,n=o,r=e,i=t;return(n.x-l.x)*(i.y-r.y)-(i.x-r.x)*(n.y-l.y)<0},SuperMapAlgoPlot.PlottingUtil.radian=function(t,e){var o,l,n=0;return o=e.x-t.x,l=e.y-t.y,(n=Math.atan2(l,o))<0&&(n+=2*Math.PI),n},SuperMapAlgoPlot.PlottingUtil.findBisectorPoint=function(t,e,o,l){var n=SuperMapAlgoPlot.PlottingUtil.radian(e,t),r=(n+SuperMapAlgoPlot.PlottingUtil.radian(e,o))/2,i=Math.cos(r-n+Math.PI/2),a=l;SuperMapAlgoPlot.PlottingUtil.isNear(i,.15)||(a=l/i);var s=e.x+a*Math.cos(r),p=e.y+a*Math.sin(r);return new SuperMapAlgoPlot.Point(s,p)},SuperMapAlgoPlot.PlottingUtil.findPoint=function(t,e,o,l){if(t===e||Math.abs(o)<1e-18)return t;var n=SuperMapAlgoPlot.PlottingUtil.radian(t,e)+l*Math.PI/180,r=t.x+o*Math.cos(n),i=t.y+o*Math.sin(n);return new SuperMapAlgoPlot.Point(r,i)},SuperMapAlgoPlot.PlottingUtil.isSameQuadrant=function(t,e,o,l){var n=(e.x-t.x)*(l.x-o.x),r=(e.y-t.y)*(l.y-o.y);return!(Math.abs(n)<1e-18&&Math.abs(r)<1e-18)&&((n>0||Math.abs(n)<1e-18)&&(r>0||Math.abs(r)<1e-18))},SuperMapAlgoPlot.PlottingUtil.isCross=function(t,e,o,l){var n=new SuperMapAlgoPlot.Point(0,0);return!(!SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(t,e,o,l,n)||n==t||n===e||n===o||n==l)},SuperMapAlgoPlot.PlottingUtil.intersectLineSegs=function(t,e,o,l,n){if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.x,e.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.y,e.y))return n.x=t.x,n.y=t.y,!1;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.x,l.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.y,l.y))return n.x=o.x,n.y=o.y,!1;var r=0,i=0;if(r=t.x>e.x?t.x:e.x,i=t.x<e.x?t.x:e.x,o.x-r>1e-16&&l.x-r>1e-16||o.x-i<-1e-16&&l.x-i<-1e-16)return!1;if(r=t.y>e.y?t.y:e.y,i=t.y<e.y?t.y:e.y,o.y-r>1e-16&&l.y-r>1e-16||o.y-i<-1e-16&&l.y-i<-1e-16)return!1;var a=e.x-t.x,s=e.y-t.y,p=l.x-o.x,u=l.y-o.y,c=t.x-o.x,P=t.y-o.y,g=a*u-p*s,y=g;if(Math.abs(a)>1e-18&&Math.abs(p)>1e-18&&(y/=a*p),Math.abs(y)<1e-18)return t===o?(n.x=t.x,n.y=t.y,!SuperMapAlgoPlot.PlottingUtil.isSameQuadrant(t,e,o,l)):e===l?(n.x=e.x,n.y=e.y,!SuperMapAlgoPlot.PlottingUtil.isSameQuadrant(t,e,o,l)):t===l?(n.x=t.x,n.y=t.y,SuperMapAlgoPlot.PlottingUtil.isSameQuadrant(t,e,o,l)):e===o&&(n.x=e.x,n.y=e.y,SuperMapAlgoPlot.PlottingUtil.isSameQuadrant(t,e,o,l));var f=(a*P-s*c)/g,h=(p*P-u*c)/g;return!(f<0&&(Math.abs(f*p)>1e-16||Math.abs(f*u)>1e-16))&&(!(f>1&&(Math.abs((f-1)*p)>1e-16||Math.abs((f-1)*u)>1e-16))&&(!(h<0&&(Math.abs(h*a)>1e-16||Math.abs(h*s)>1e-16))&&(!(h>1&&(Math.abs((h-1)*a)>1e-16||Math.abs((h-1)*s)>1e-16))&&(Math.abs(f)<1e-18?(n.x=o.x,n.y=o.y,!0):Math.abs(f-1)<1e-18?(n.x=l.x,n.y=l.y,!0):Math.abs(h)<1e-18?(n.x=t.x,n.y=t.y,!0):Math.abs(h-1)<1e-18?(n.x=e.x,n.y=e.y,!0):!(f<0&&(Math.abs(f*p)>1e-16||Math.abs(f*u)>1e-16))&&(!(f>1&&(Math.abs((f-1)*p)>1e-16||Math.abs((f-1)*u)>1e-16))&&(!(h<0&&(Math.abs(h*a)>1e-16||Math.abs(h*s)>1e-16))&&(!(h>1&&(Math.abs((h-1)*a)>1e-16||Math.abs((h-1)*s)>1e-16))&&(n.x=f*p+o.x,n.y=f*u+o.y,!0))))))))},SuperMapAlgoPlot.PlottingUtil.parallel=function(t,e){var o=[],l=t.length;if(!t||null==t||t.length<2)return o;var n=!1;t.length>3&&t[0].x===t[t.length-1].x&&t[0].y===t[t.length-1].y&&(n=!0),n?(o[0]=SuperMapAlgoPlot.PlottingUtil.findBisectorPoint(t[t.length-2],t[0],t[1],e),o[t.length-1]=o[0]):(o[0]=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,90),o[t.length-1]=SuperMapAlgoPlot.PlottingUtil.findPoint(t[t.length-1],t[t.length-2],-e,90));for(var r=t[0],i=t[1],a=t[1],s=1;s<t.length-1;s++)if(i=t[s],t[s]!==t[s-1]&&(r=t[s-1]),t[s]!==t[s+1]){a=t[s+1];var p=SuperMapAlgoPlot.PlottingUtil.findBisectorPoint(r,i,a,e);SuperMapAlgoPlot.PlottingUtil.isCross(r,o[s-1],i,p)&&(p=o[s-1]),o[s]=p}else{for(var u=s;u<l-1;){if(t[u]!==t[u+1]){a=t[u+1];break}u++}if(u<l-1){var c=SuperMapAlgoPlot.PlottingUtil.FindBisectorPoint(r,i,a,e);for(SuperMapAlgoPlot.PlottingUtil.isCross(r,o[s-1],i,c)&&(c=o[s-1]);s<u;)o[s]=c,s++;s=u-1}}return o},SuperMapAlgoPlot.PlottingUtil.distance=function(t,e){var o=[];o.push(t),o.push(e);var l=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;if(0===l.length){var n=o[0],r=o[1];return Math.sqrt((n.x-r.x)*(n.x-r.x)+(n.y-r.y)*(n.y-r.y))}var i=l[0],a=l[1];return Math.sqrt((i.x-a.x)*(i.x-a.x)+(i.y-a.y)*(i.y-a.y))},SuperMapAlgoPlot.PlottingUtil.projectPoint=function(t,e,o){if(e===o)return e;var l=new SuperMapAlgoPlot.Point(0,0),n=o.x-e.x,r=e.y-o.y,i=n*n,a=r*r,s=n*r,p=n*n+r*r;return l.x=(s*(e.y-t.y)+e.x*a+t.x*i)/p,l.y=(s*(e.x-t.x)+e.y*i+t.y*a)/p,l},SuperMapAlgoPlot.PlottingUtil.pointToLineDis=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.projectPoint(t,e,o);return SuperMapAlgoPlot.PlottingUtil.distance(t,l)},SuperMapAlgoPlot.PlottingUtil.pointToPloyLineDis=function(t,e,o){if(e===o)return SuperMapAlgoPlot.PlottingUtil.distance(t,e);var l=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y),n=(o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y),r=(e.x-o.x)*(e.x-o.x)+(e.y-o.y)*(e.y-o.y),i=(l+r-n)/(2*r);i<0?i=0:i>1&&(i=1);var a=(o.x-e.x)*i+e.x,s=(o.y-e.y)*i+e.y,p=(a-t.x)*(a-t.x)+(s-t.y)*(s-t.y);return Math.sqrt(p)},SuperMapAlgoPlot.PlottingUtil.isCounterClockwise=function(t,e,o){return(o.x-e.x)*(t.y-e.y)-(t.x-e.x)*(o.y-e.y)>0},SuperMapAlgoPlot.PlottingUtil.clearSamePts=function(t){for(var e=t.length,o=0;o<e-1;)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[o].x,t[o+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[o].y,t[o+1].y)?(t.splice(o,1),e--):o++;return t},SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt=function(t){var e=[],o=t.length;if(o<3)for(var l=0;l<o;++l)e[l]=t[l].clone();else{for(var n=0,r=0;r<3*o-2;r+=3)e[r]=t[n].clone(),e[r+1]=new SuperMapAlgoPlot.Point(0,0),e[r+2]=new SuperMapAlgoPlot.Point(0,0),n++;for(var i=1;i<o-1;i++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(8,3,t[i-1],t[i],t[i+1],e[3*i+1],e[3*i+2]);SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.6,e[0],e[3],e[4],e[2]),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.6,e[3*o-3],e[3*o-6],e[3*o-4],e[3*o-2]),e[1]=t[0].clone(),e[3*o-1]=t[o-1].clone()}return e},SuperMapAlgoPlot.PlottingUtil.isOnLine=function(t,e,o){if(e.x===o.x&&e.y===o.y)return!1;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.x,e.x))return SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.x,t.x);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.y,e.y))return SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.y,t.y);if(e.x===t.x&&e.y===t.y||t.x===o.x&&t.y===o.y)return!0;var l=(t.y-o.y)*(o.x-e.x)-(o.y-e.y)*(t.x-o.x);return(l/=(o.x-e.x)*(t.x-o.x))<1e-10&&l>1e-10},SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt=function(t,e){var o=t.slice();!0===e&&o.push(o[0]);for(var l=[],n=[],r=0;r<o.length-1;r++)o[r+1].x-o[0].x>-360&&o[r+1].x-o[0].x<-180&&l.push(r+1),o[r+1].x-o[0].x<360&&o[r+1].x-o[0].x>180&&n.push(r+1);if(n.length>l.length)for(var i=0;i<n.length;i++)o[n[i]].x=o[n[i]].x-360;else for(var a=0;a<l.length;a++)o[l[a]].x=o[l[a]].x+360;for(var s=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(o),p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(s),u=0;u<p.length;u++)p[u].x>180?p[u].x=p[u].x-360:p[u].x<-180&&(p[u].x=p[u].x+360);return p},SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt=function(t){var e=t.length,o=[];if(t.length<3)for(var l=0;l<e;l++)o[l]=t[l].clone();else for(var n=0;n<e;n+=3)if(!(n+4>=e)){var r=t[n].x,i=t[n].y,a=t[n+2].x,s=t[n+2].y,p=t[n+4].x,u=t[n+4].y,c=t[n+3].x,P=t[n+3].y;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,a,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,s,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,c,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(u,P,1e-10))o.push(new SuperMapAlgoPlot.Point(r,i)),o.push(new SuperMapAlgoPlot.Point(p,u));else for(var g=0;g<=1;g+=.03125){var y,f,h,S,A=g*g,M=A*g;y=1-3*g+3*A-M,f=3*(g-2*A+M),h=3*(A-M),S=M;var d=new SuperMapAlgoPlot.Point(y*r+f*a+h*p+S*c,y*i+f*s+h*u+S*P);o.push(d)}}return o},SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints0=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=[],r=[],i=[];if(t){r.push(e[0]);var a=o[0],s=o[1],p=e[0].x+l*a,u=e[0].y+l*s;r.push(new SuperMapAlgoPlot.Point(p,u)),n.push(new SuperMapAlgoPlot.Point(p,u));for(var c=1;c<e.length-1;c++){var P=o[4*c-2],g=o[4*c-1],y=e[c].x+l*P,f=e[c].y+l*g;r.push(new SuperMapAlgoPlot.Point(y,f)),n.push(new SuperMapAlgoPlot.Point(y,f)),r.push(new SuperMapAlgoPlot.Point(e[c].x,e[c].y)),P=o[4*c],g=o[4*c+1],y=e[c].x+l*P,f=e[c].y+l*g,r.push(new SuperMapAlgoPlot.Point(y,f)),n.push(new SuperMapAlgoPlot.Point(y,f))}var h=e.length-1;a=o[4*h-2],s=o[4*h-1],p=e[h].x+l*a,u=e[h].y+l*s,r.push(new SuperMapAlgoPlot.Point(p,u)),n.push(new SuperMapAlgoPlot.Point(p,u)),r.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y)),r.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y)),r.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y)),i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(r)}else{o=[];var S=(r=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(e))[1].x-r[0].x,A=r[1].y-r[0].y,M=S/l,d=A/l;o.push(M),o.push(d),n.push(r[1]);for(var b=1;b<e.length-1;b++){var v=(r[3*b-1].x-r[3*b].x)/l,m=(r[3*b-1].y-r[3*b].y)/l;o.push(v),o.push(m),n.push(r[3*b-1]);var O=(r[3*b+1].x-r[3*b].x)/l,L=(r[3*b+1].y-r[3*b].y)/l;o.push(O),o.push(L),n.push(r[3*b+1])}M=(S=r[3*(e.length-1)-1].x-r[3*(e.length-1)].x)/l,d=(A=r[3*(e.length-1)-1].y-r[3*(e.length-1)].y)/l,o.push(M),o.push(d),n.push(r[3*(e.length-1)-1]),i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(r)}return{scalePoints:n,scaleValues:o,beizerPoints:i}},SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=[],r=[],i=[];if(t){r.push(new SuperMapAlgoPlot.Point(e[0].x,e[0].y)),r.push(new SuperMapAlgoPlot.Point(e[0].x,e[0].y));var a=o[0],s=o[1],p=e[0].x+l*a,u=e[0].y+l*s;r.push(new SuperMapAlgoPlot.Point(p,u)),n.push(new SuperMapAlgoPlot.Point(p,u));for(var c=1;c<e.length-1;c++){r.push(new SuperMapAlgoPlot.Point(e[c].x,e[c].y));var P=o[4*c-2],g=o[4*c-1],y=e[c].x+l*P,f=e[c].y+l*g;r.push(new SuperMapAlgoPlot.Point(y,f)),n.push(new SuperMapAlgoPlot.Point(y,f)),P=o[4*c],g=o[4*c+1],y=e[c].x+l*P,f=e[c].y+l*g,r.push(new SuperMapAlgoPlot.Point(y,f)),n.push(new SuperMapAlgoPlot.Point(y,f))}var h=e.length-1;r.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y)),a=o[4*h-2],s=o[4*h-1],p=e[h].x+l*a,u=e[h].y+l*s,r.push(new SuperMapAlgoPlot.Point(p,u)),n.push(new SuperMapAlgoPlot.Point(p,u)),r.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y)),i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(r)}else{o=[];var S=(r=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(e))[2].x-r[0].x,A=r[2].y-r[0].y,M=S/l,d=A/l;o.push(M),o.push(d),n.push(r[2]);for(var b=1;b<e.length-1;b++){var v=(r[3*b+1].x-r[3*b].x)/l,m=(r[3*b+1].y-r[3*b].y)/l;o.push(v),o.push(m),n.push(r[3*b+1]);var O=(r[3*b+2].x-r[3*b].x)/l,L=(r[3*b+2].y-r[3*b].y)/l;o.push(O),o.push(L),n.push(r[3*b+2])}M=(S=r[3*(e.length-1)+1].x-r[3*(e.length-1)].x)/l,d=(A=r[3*(e.length-1)+1].y-r[3*(e.length-1)].y)/l,o.push(M),o.push(d),n.push(r[3*(e.length-1)+1]),i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(r)}return{scalePoints:n,scaleValues:o,beizerPoints:i}},SuperMapAlgoPlot.PlottingUtil.getTrianglePoints=function(t,e,o,l,n,r,i){var a=o.x,s=o.y,p=l.x,u=l.y,c=n.x,P=n.y;SuperMapAlgoPlot.PlottingUtil.getPointsByTriangle(t,e,a,s,p,u,c,P,r,i)},SuperMapAlgoPlot.PlottingUtil.getPointsByTriangle=function(t,e,o,l,n,r,i,a,s,p){var u=n+(i-o),c=r+(a-l),P=0,g=0;if(o==i)P=o,g=c;else if(l==a)P=u,g=l;else{var y=1*(a-l)/(i-o),f=l-o*y;g=y*(P=(c+u/y-f)/(y+1/y))+f}var h=Math.sqrt(1*(n-u)*(n-u)+1*(r-c)*(r-c)),S=Math.sqrt(1*(o-n)*(o-n)+1*(l-r)*(l-r)),A=Math.sqrt(1*(n-i)*(n-i)+1*(r-a)*(r-a)),M=0;u=P+(u-P)*(M=S+A?1+(A-S)*t/(A+S):1),c=g+(c-g)*M,0==h&&(h=1),s.x=n+(n-u)*S/(e*h),s.y=r+(r-c)*S/(e*h),p.x=n+(u-n)*A/(e*h),p.y=r+(c-r)*A/(e*h)},SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints=function(t,e,o,l,n){var r=e.x,i=e.y,a=o.x,s=o.y,p=l.x,u=l.y;return SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid(t,r,i,a,s,p,u,n)},SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid=function(t,e,o,l,n,r,i,a){var s=0,p=0,u=0,c=0;if(0==Math.abs(o-n))s=e+l-r,p=i;else if(0==Math.abs(e-l))s=r,p=o+n-i;else{var P=1*(o-n)/(e-l),g=i-P*r;p=P*(s=((n+o)/2+(e+l)/(2*P)-g)/(P+1/P))+g,s=2*s-r,p=2*p-i}var y=Math.sqrt(1*(e-l)*(e-l)+1*(o-n)*(o-n)),f=Math.sqrt(1*(e-s)*(e-s)+1*(o-p)*(o-p));return y>0?(u=e+(l-e)*f/y,c=o+(n-o)*f/y):(u=e,c=o),a.x=u+(s-u)*t,a.y=c+(p-c)*t,a},SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine=function(t,e,o){if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.x,e.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.y,e.y)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.x,o.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.y,o.y))return!0;var l=t.x-e.x,n=t.y-e.y,r=t.x-o.x,i=t.y-o.y,a=(l*r+n*i)/(Math.sqrt(l*l+n*n)*Math.sqrt(r*r+i*i));return!!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,-1,.1)},SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines=function(t,e){if(!e||0===e.length)return{isOnPolyLine:!1,index:-1};for(var o=!1,l=-1,n=0;n<e.length-1;n++)if(o=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(t,e[n],e[n+1])){l=n;break}return{isOnPolyLine:o,index:l}},SuperMapAlgoPlot.PlottingUtil.computePointToLineMinDis=function(t,e){for(var o=-1,l=-1,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1],a=SuperMapAlgoPlot.PlottingUtil.projectPoint(t,r,i);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(a,r,i)){var s=SuperMapAlgoPlot.PlottingUtil.distance(t,a);o<0?(o=s,l&&(l=n)):o>s&&(o=s,l=n)}}return l&&o<0&&(l=-1),{minDis:o,index:l}},SuperMapAlgoPlot.PlottingUtil.findPointInLine=function(t,e,o){if(t===e||Math.abs(o)<1e-18)return t;var l=e.x-t.x,n=e.y-t.y,r=o/Math.sqrt(l*l+n*n),i=t.x+l*r,a=t.y+n*r;return new SuperMapAlgoPlot.Point(i,a)},SuperMapAlgoPlot.PlottingUtil.operateControlPoints=function(t){var e=t,o=e.length;if(3==o){var l=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(1,t[0],t[1],t[2],l),e.push(l)}if(o>4&&(e.splice(4,o-4),o=e.length),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(t[0],t[1],e[2])){var n=e[0];e[0]=e[1],e[1]=n}if(!SuperMapAlgoPlot.PlottingUtil.pointIsRightToVerticle(e[0],e[1],e[2])){var r=e[2];e[2]=e[3],e[3]=r}return e},SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine=function(t,e,o){return(e.x-t.x)*(o.y-t.y)-(o.x-t.x)*(e.y-t.y)<0},SuperMapAlgoPlot.PlottingUtil.pointIsRightToVerticle=function(t,e,o){var l=new SuperMapAlgoPlot.Point(.5*(e.x+t.x),.5*(e.y+t.y)),n=new SuperMapAlgoPlot.Point(e.x-t.x,e.y-t.y),r=new SuperMapAlgoPlot.Point(o.x-l.x,o.y-l.y);return n.x*r.x+n.y*r.y>0},SuperMapAlgoPlot.PlottingUtil.linePnt=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.distance(t,e);if(0==l)return t;var n=o/l;return SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(n,t,e)},SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio=function(t,e,o){var l=new SuperMapAlgoPlot.Point(0,0);return l.x=e.x+(o.x-e.x)*t,l.y=e.y+(o.y-e.y)*t,l},SuperMapAlgoPlot.PlottingUtil.rotateAngle=function(t,e,o){var l=e,n=Math.cos(l),r=Math.sin(l),i=o.x-t.x,a=o.y-t.y;return o.x=i*n-a*r+t.x,o.y=i*r+a*n+t.y,o},SuperMapAlgoPlot.PlottingUtil.resize=function(t,e,o){return o.x=t.x+e*(o.x-t.x),o.y=t.y+e*(o.y-t.y),o},SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine=function(t,e){if(e<0||t.length<2)return{index:-1,pt:null};if(Math.abs(e)<1e-18)return{index:0,pt:t[0]};for(var o=0,l=0;l<t.length-1;l++)if((o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1]))>e||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o,e)){var n=o-e,r=t[l+1],i=t[l],a=n/SuperMapAlgoPlot.PlottingUtil.distance(r,i),s=new SuperMapAlgoPlot.Point(0,0);return s.x=r.x+(i.x-r.x)*a,s.y=r.y+(i.y-r.y)*a,{index:l,pt:s}}return{index:-1,pt:null}},SuperMapAlgoPlot.PlottingUtil.polylineDistance=function(t){if(0===t.length)return 0;for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);return e},SuperMapAlgoPlot.PlottingUtil.rotate=function(t,e,o,l){var n=l.x-t.x,r=l.y-t.y,i=n*e-r*o+t.x,a=n*o+r*e+t.y;return new SuperMapAlgoPlot.Point(i,a)},SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale=function(t,e,o){var l=e.x,n=e.y,r=o.x,i=o.y,a=Math.sqrt(1*(l-r)*(l-r)+1*(n-i)*(n-i)),s=0,p=0;return 0==a?(s=l,p=n):(s=l+(r-l)*t/a,p=n+(i-n)*t/a),new SuperMapAlgoPlot.Point(s,p)},SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale=function(t,e,o){var l=e.x,n=e.y,r=o.x,i=o.y,a=0,s=0,p=Math.sqrt(1*(l-r)*(l-r)+1*(n-i)*(n-i));return 0===p?(a=l,s=n):(a=l+(l-r)*t/p,s=n+(n-i)*t/p),new SuperMapAlgoPlot.Point(a,s)},SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine=function(t,e,o){var l=e.x,n=e.y,r=o.x,i=o.y,a=Math.sqrt(1*(l-r)*(l-r)+1*(n-i)*(n-i)),s=0,p=0;0==a?(p=0,s=t):(s=t*(l-r)/a,p=t*(n-i)/a);var u=-p+r,c=+s+i,P=+p+r,g=-s+i;return{pntLeft:new SuperMapAlgoPlot.Point(P,g),pntRight:new SuperMapAlgoPlot.Point(u,c)}},SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment=function(t,e,o){var l,n,r=0,i=0,a=0,s=1;if(i=e.x!==t.x?(e.y-t.y)/(e.x-t.x):1.7976931348623157e308,a=o.x!==t.x?(o.y-t.y)/(o.x-t.x):1.7976931348623157e308,r=o.y!==e.y?(o.x-e.x)/(e.y-o.y):1.7976931348623157e308,(l=e.x>=t.x&&e.y>=t.y?1:e.x<t.x&&e.y>t.y?2:e.x<=t.x&&e.y<=t.y?3:4)==(n=o.x>t.x&&o.y>t.y?1:o.x<t.x&&o.y>t.y?2:o.x<t.x&&o.y<t.y?3:4))(i<r&&a<r||i>r&&a>r)&&(s=0);else switch(l){case 1:(4==n&&i<r||2==n&&i>r)&&(s=0);break;case 2:(1==n&&i<r||3==n&&i>r)&&(s=0);break;case 3:(2==n&&i<r||4==n&&i>r)&&(s=0);break;case 4:(3==n&&i<r||1==n&&i>r)&&(s=0)}var p=new SuperMapAlgoPlot.Point(0,0);return SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r-1.7976931348623157e308,0)?(p.x=t.x,p.y=e.y):SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0)?(p.x=e.x,p.y=t.y):(p.x=(r*(e.y-t.y)+r*r*t.x+e.x)/(r*r+1),p.y=t.y+r*(p.x-t.x)),{isOnline:1===s,projectPoint:p}},SuperMapAlgoPlot.PlottingUtil.coordinateTrans=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(0,0),e),n=SuperMapAlgoPlot.PlottingUtil.radian(new SuperMapAlgoPlot.Point(0,0),e)+o*Math.PI/180,r=l*Math.cos(n)+t.x,i=l*Math.sin(n)+t.y;return new SuperMapAlgoPlot.Point(r,i)},SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen=function(t,e,o){var l,n,r=(o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y),i=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),a=Math.sqrt((t.x-o.x)*(t.x-o.x)+(t.y-o.y)*(t.y-o.y));if(0==a||0==i)l=0,n=0;else if(0==r)l=i,n=0;else{var s=(i*i+a*a-r)/2/i/a,p=0;s>=1?(s=1,p=0):p=Math.sqrt(1-s*s),l=a*s,n=a*p}return{dLen1:l,dLen2:n}},SuperMapAlgoPlot.PlottingUtil.paraLine=function(t,e,o){var l=[];if(2>t.length)return l;if(o){var n=t[1].clone();n=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/2,n),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],n,e));for(var r=1;r<t.length-1;r++)if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[r].x,t[r+1].x)||!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[r].y,t[r+1].y)){for(var i=SuperMapAlgoPlot.PlottingUtil.radian(t[r],t[r+1]),a=SuperMapAlgoPlot.PlottingUtil.radian(t[r],t[r-1])-i;a<0;)a+=2*Math.PI;var s=a/2,p=void 0;p=s>Math.PI/2?s-Math.PI/2:Math.PI/2-s;var u=e/Math.cos(p);n=t[r+1].clone(),n=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[r],s,n),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[r],n,u))}n=t[t.length-2].clone(),n=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],-1*Math.PI/2,n),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],n,e))}else{var c=t[1].clone();c=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],-Math.PI/2,c),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],c,e));for(var P=1;P<t.length-1;P++)if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[P].x,t[P+1].x)||!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[P].y,t[P+1].y)){for(var g=SuperMapAlgoPlot.PlottingUtil.radian(t[P],t[P+1]),y=SuperMapAlgoPlot.PlottingUtil.radian(t[P],t[P-1])-g;y<0;)y+=2*Math.PI;var f=Math.PI-y/2,h=void 0;h=f>Math.PI/2?f-Math.PI/2:Math.PI/2-f;var S=e/Math.cos(h);c=t[P-1].clone(),c=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[P],f,c),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[P],c,S))}c=t[t.length-2].clone(),c=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],Math.PI/2,c),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],c,e))}return l},SuperMapAlgoPlot.PlottingUtil.circlePoint=function(t,e,o,l){l*=Math.PI/180;var n=t.x+e*Math.cos(l),r=t.y+o*Math.sin(l);return new SuperMapAlgoPlot.Point(n,r)},SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt=function(t){if(!t||0===t.length)return null;for(var e=0,o=0,l=0;l<t.length;l++)e+=t[l].x,o+=t[l].y;return new SuperMapAlgoPlot.Point(e/t.length,o/t.length)},SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon=function(t,e){if(!t||0===t.length)return!1;for(var o=0,l=t.length,n=0;n<l;n++){var r=t[n],i=t[(n+1)%l];if(r.y!==i.y){var a=r.y<i.y?r.y:i.y,s=r.y>i.y?r.y:i.y;if(!(e.y<a||e.y>s))(e.y-r.y)*(i.x-r.x)/(i.y-r.y)+r.x>e.x&&o++}}return o%2==1},SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine=function(t,e){if(2>e.length)return{index:-1,pt:null};for(var o=0;o<e.length-1;o++){var l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(t,e[o],e[o+1]);if(l.isOnline)return{index:o,pt:l.projectPoint}}return{index:-1,pt:null}},SuperMapAlgoPlot.PlottingUtil.isPloyClockwise=function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length;if(!(o<3)){var l=e[0].y*(e[o-1].x-e[1].x);e.push(e[0].clone());for(var n=1;n<o;++n)l+=e[n].y*(e[n-1].x-e[n+1].x);return l>0?0:1}},SuperMapAlgoPlot.PlottingUtil.isSamePt=function(t,e){return!(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.x,e.x)||!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.y,e.y))},SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance=function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,t);return{index:o.index,pts:o.pt,bfind:-1!==o.index}},SuperMapAlgoPlot.PlottingUtil.ptInBounds=function(t,e){return t.x>e.left&&t.x<e.right&&t.y<e.top&&t.y>e.bottom},SuperMapAlgoPlot.PlottingUtil.InnerAngle=function(t,e,o){if(t==e||t==o)return 0;var l=SuperMapAlgoPlot.PlottingUtil.distance(t,e),n=SuperMapAlgoPlot.PlottingUtil.distance(t,o),r=SuperMapAlgoPlot.PlottingUtil.distance(e,o),i=(l*l+n*n-r*r)/(2*l*n);return i>1&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,1)?i=1:i<1&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,-1)&&(i=-1),Math.acos(i)},SuperMapAlgoPlot.PlottingUtil.plumbLineLen=function(t,e,o){return SuperMapAlgoPlot.PlottingUtil.distance(t,e)*Math.sin(SuperMapAlgoPlot.PlottingUtil.InnerAngle(e,t,o))},SuperMapAlgoPlot.PlottingUtil.paraPolygon=function(t,e,o){var l=[],n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=n.length;if(r<2)return l;var i=new SuperMapAlgoPlot.Point(0,0);if(o){if(r<3)i=n[1].clone(),SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[0],Math.PI,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],i,e));else{for(var a=SuperMapAlgoPlot.PlottingUtil.radian(n[0],n[1]),s=SuperMapAlgoPlot.PlottingUtil.radian(n[0],n[n.length-1])-a;s<0;)s+=2*Math.PI;var p,u=s/2;p=u>Math.PI/2?u-Math.PI/2:Math.PI/2-u;var c=e/Math.cos(p);i=n[1].clone(),i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[0],u,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],i,c))}for(var P=1;P<r-1;P++){for(var g=SuperMapAlgoPlot.PlottingUtil.radian(n[P],n[P+1]),y=SuperMapAlgoPlot.PlottingUtil.radian(n[P],n[P-1])-g;y<0;)y+=2*Math.PI;var f=y/2,h=void 0;h=f>Math.PI/2?f-Math.PI/2:Math.PI/2-f;var S=e/Math.cos(h);i=n[P+1].clone(),i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[P],f,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[P],i,S))}if(r<3)i=n[r-2].clone(),SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[r-1],0,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[r-1],i,e));else{for(var A=SuperMapAlgoPlot.PlottingUtil.radian(n[r-1],n[0]),M=SuperMapAlgoPlot.PlottingUtil.radian(n[r-1],n[r-2])-A;M<0;)M+=2*Math.PI;var d,b=M/2;d=b>Math.PI/2?b-Math.PI/2:Math.PI/2-b;var v=e/Math.cos(d);i=n[0].clone(),i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[r-1],b,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[r-1],i,v))}}else{if(r<3){var m=n[1].clone();SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[0],0,m),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],m,e))}else{for(var O=SuperMapAlgoPlot.PlottingUtil.radian(n[0],n[1]),L=SuperMapAlgoPlot.PlottingUtil.radian(n[0],n[r-1])-O;L<0;)L+=2*Math.PI;var T,w=Math.PI-L/2;T=w>Math.PI/2?w-Math.PI/2:Math.PI/2-w;var x=e/Math.cos(T);i=n[r-1].clone(),i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[0],w,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],i,x))}for(var R=1;R<r-1;R++){for(var U=SuperMapAlgoPlot.PlottingUtil.radian(n[R],n[R+1]),E=SuperMapAlgoPlot.PlottingUtil.radian(n[R],n[R-1])-U;E<0;)E+=2*Math.PI;var I=Math.PI-E/2,C=void 0;C=I>Math.PI/2?I-Math.PI/2:Math.PI/2-I;var B=e/Math.cos(C);i=n[R-1].clone(),i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[R],I,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[R],i,B))}if(r<3)i=n[r-2].clone(),SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[r-1],Math.PI,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[r-1],i,e));else{for(var _=SuperMapAlgoPlot.PlottingUtil.radian(n[r-1],n[0]),D=SuperMapAlgoPlot.PlottingUtil.radian(n[r-1],n[r-2])-_;D<0;)D+=2*Math.PI;var N,k=Math.PI-D/2;N=k>Math.PI/2?k-Math.PI/2:Math.PI/2-k;var V=e/Math.cos(N);i=n[r-2].clone(),i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[r-1],k,i),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[r-1],i,V))}}return l},SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis=function(t){if(2>t.length)return 0;for(var e=t[0].x,o=t[0].x,l=t[0].y,n=t[0].y,r=1;r<t.length;r++)e<t[r].x&&(e=t[r].x),o>t[r].x&&(o=t[r].x),l<t[r].y&&(l=t[r].y),n>t[r].y&&(n=t[r].y);return SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(e,l),new SuperMapAlgoPlot.Point(o,n))},SuperMapAlgoPlot.PlottingUtil.clonePoints=function(t){var e=[];if(void 0===t||null===t)return e;if(SuperMapAlgoPlot.PlottingUtil.isArray(t)||(t=[t]),t&&null!=t)for(var o=0;o<t.length;o++)void 0!==t[o]&&null!==t[o]&&t[o].clone&&e.push(t[o].clone());return e},SuperMapAlgoPlot.PlottingUtil.extend=function(t,e){if("function"==typeof SuperMap.Util.extend)return SuperMap.Util.extend(t,e);if(t=t||{},e){for(var o in e){var l=e[o];void 0!==l&&(t[o]=l)}!("function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.hasOwnProperty.call("toString")&&(t.toString=e.toString)}return t},SuperMapAlgoPlot.PlottingUtil.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},SuperMapAlgoPlot.PlottingUtil.indexOf=function(t,e){if(null==t)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var o=0,l=t.length;o<l;o++)if(t[o]===e)return o;return-1},SuperMapAlgoPlot.PlottingUtil.copyAttributes=function(t,e){if(t=t||{},e)for(var o in e){var l=e[o];void 0!==l&&"CLASS_NAME"!==o&&"function"!=typeof l&&(t[o]=l)}return t},SuperMapAlgoPlot.PlottingUtil.cloneObject=function(t){if(null===t||"object"!==c(t))return t;if(t instanceof Date){var e=new Date;return e.setTime(t.getTime()),e}if(t instanceof Array)return t.slice(0);if(t instanceof Object){var o={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(o[l]=SuperMapAlgoPlot.PlottingUtil.cloneObject(t[l]));return o}throw new Error("Unable to copy obj! Its type isn't supported.")},SuperMapAlgoPlot.PlottingUtil.rad=function(t){return t*Math.PI/180},SuperMapAlgoPlot.PlottingUtil.deg=function(t){return 180*t/Math.PI},SuperMapAlgoPlot.PlottingUtil.VincentyConstants={a:6378137,b:6356752.3142,f:1/298.257223563},SuperMapAlgoPlot.PlottingUtil.distVincenty=function(t,e){var o,l,n,r=SuperMapAlgoPlot.PlottingUtil.VincentyConstants,i=r.a,a=r.b,s=r.f;"undefined"!=typeof L&&void 0!==L.LatLng&&t instanceof L.LatLng&&e instanceof L.LatLng?(o=SuperMapAlgoPlot.PlottingUtil.rad(e.lng-t.lng),l=Math.atan((1-s)*Math.tan(SuperMapAlgoPlot.PlottingUtil.rad(t.lat))),n=Math.atan((1-s)*Math.tan(SuperMapAlgoPlot.PlottingUtil.rad(e.lat)))):(o=SuperMapAlgoPlot.PlottingUtil.rad(e.lon-t.lon),l=Math.atan((1-s)*Math.tan(SuperMapAlgoPlot.PlottingUtil.rad(t.lat))),n=Math.atan((1-s)*Math.tan(SuperMapAlgoPlot.PlottingUtil.rad(e.lat))));for(var p=Math.sin(l),u=Math.cos(l),c=Math.sin(n),P=Math.cos(n),g=o,y=2*Math.PI,f=20;Math.abs(g-y)>1e-12&&--f>0;){var h=Math.sin(g),S=Math.cos(g),A=Math.sqrt(P*h*(P*h)+(u*c-p*P*S)*(u*c-p*P*S));if(0==A)return 0;var M=p*c+u*P*S,d=Math.atan2(A,M),b=Math.asin(u*P*h/A),v=Math.cos(b)*Math.cos(b),m=M-2*p*c/v,O=s/16*v*(4+s*(4-3*v));y=g,g=o+(1-O)*s*Math.sin(b)*(d+O*A*(m+O*M*(2*m*m-1)))}if(0==f)return NaN;var T=v*(i*i-a*a)/(a*a),w=T/1024*(256+T*(T*(74-47*T)-128));return(a*(1+T/16384*(4096+T*(T*(320-175*T)-768)))*(d-w*A*(m+w/4*(M*(2*m*m-1)-w/6*m*(4*A*A-3)*(4*m*m-3))))).toFixed(3)/1e3},SuperMapAlgoPlot.PlottingUtil.destinationVincenty=function(t,e,o){var l,n,r=SuperMapAlgoPlot.PlottingUtil,i=r.VincentyConstants,a=i.a,s=i.b,p=i.f;"undefined"!=typeof L&&void 0!==L.LatLng&&t instanceof L.LatLng?(l=t.lng,n=t.lat):(l=t.lon,n=t.lat);for(var u=o,c=r.rad(e),P=Math.sin(c),g=Math.cos(c),y=(1-p)*Math.tan(r.rad(n)),f=1/Math.sqrt(1+y*y),h=y*f,S=Math.atan2(y,g),A=f*P,M=1-A*A,d=M*(a*a-s*s)/(s*s),b=1+d/16384*(4096+d*(d*(320-175*d)-768)),v=d/1024*(256+d*(d*(74-47*d)-128)),m=u/(s*b),O=2*Math.PI;Math.abs(m-O)>1e-12;){var T=Math.cos(2*S+m),w=Math.sin(m),x=Math.cos(m);O=m,m=u/(s*b)+v*w*(T+v/4*(x*(2*T*T-1)-v/6*T*(4*w*w-3)*(4*T*T-3)))}var R=h*w-f*x*g,U=Math.atan2(h*x+f*w*g,(1-p)*Math.sqrt(A*A+R*R)),E=p/16*M*(4+p*(4-3*M)),I=Math.atan2(w*P,f*x-h*w*g)-(1-E)*p*A*(m+E*w*(T+E*x*(2*T*T-1)));return"undefined"!=typeof L&&void 0!==L.LatLng&&t instanceof L.LatLng?L.latLng(r.deg(U),l+r.deg(I)):new SuperMap.LonLat(l+r.deg(I),r.deg(U))},SuperMapAlgoPlot.PlottingUtil.midPoint=function(t,e){var o=new SuperMapAlgoPlot.Point(0,0);return o.x=.5*(t.x+e.x),o.y=.5*(t.y+e.y),o},SuperMapAlgoPlot.PlottingUtil.makeDottedLine=function(t,e){for(var o,l,n=[],r=e,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=e,s=t[0].clone(),p=1,u=0,c=!0,P=!0;u<i;){var g;(l=[]).push(s),u+=r;var y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,t);if(g=y.index,o=y.pts,!(c=y.bfind))break;if(p<g)for(var f=p;f<g;f++)l.push(t[f]);l.push(o),n.push(l),u+=a;var h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,t);if(g=h.index,s=h.pts,p=g+1,!(P=h.bfind))break}if(!c){(l=[]).push(s);for(var S=p;S<t.length;S++)l.push(t[S]);2===l.length&&0===SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[1])||n.push(l)}if(!P){var A=t[t.length-1],M=SuperMapAlgoPlot.PlottingUtil.distance(o,A);if(M*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(M,0)){var d=SuperMapAlgoPlot.PlottingUtil.linePnt(A,o,M);(l=[]).push(d),l.push(A),n.push(l)}}return n};SuperMapAlgoPlot.Primitives=SuperMapAlgoPlot.Primitives||{};SuperMapAlgoPlot.Primitives={nSegmentCount:72,initialize:function(t){t&&t.nSegmentCount&&(this.nSegmentCount=t.nSegmentCount)},polyline:function(t){return t},parallelline:function(t){if(t&&t.length>=3){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);SuperMapAlgoPlot.PlottingUtil.isRight(t[0],t[1],t[2])&&(e=-e);for(var o=[],l=1;l<t.length;l++)o.push(t[l].clone());var n=SuperMapAlgoPlot.PlottingUtil.parallel(o,e);return t[0].x=n[0].x,t[0].y=n[0].y,[o,n]}return[]},kidney:function(t,e){if(t){var o=[];return o=e?this.getKendyShapePts(t):t,SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o}},bezier:function(t,e){if(t){var o=[];return o=e?SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t):t,SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o}},loopbezier:function(t,e){if(t){t[0].x===t[t.length-1].x&&t[0].y===t[t.length-1].y||t.push(t[0]);var o=[];return o=e?SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t):t,SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o}},parallelogram:function(t){if(t&&t.length>=3){var e=t[0].x+(t[2].x-t[1].x),o=t[0].y+(t[2].y-t[1].y),l=new SuperMapAlgoPlot.Point(e,o),n=[];return n.push.apply(n,t),n.push(l),n.push(n[0]),n}},polygon:function(t){if(t&&t.length>2)return t},circle:function(t){if(t&&2===t.length){for(var e=t[0],o=t[1],l=[],n=Math.sqrt((o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y)),r=360/this.nSegmentCount,i=0;i<this.nSegmentCount;i++){var a=(i*r+1)*Math.PI/180,s=new SuperMapAlgoPlot.Point(Math.cos(a)*n+e.x,Math.sin(a)*n+e.y);l[i]=s}return l}},rectangle:function(t){if(t&&2===t.length){var e=t[0],o=t[1],l=e.clone();return[l,new SuperMapAlgoPlot.Point(o.x,e.y),o.clone(),new SuperMapAlgoPlot.Point(e.x,o.y),l]}},sector:function(t){if(t&&t.length>=3){var e=this.getArcInfo(t[0],t[1],t[2]);e.dStartAngle*=Math.PI/180,e.dEndAngle*=Math.PI/180;var o=(e.dEndAngle-e.dStartAngle)/this.nSegmentCount,l=this.getArcSpatialData(e.pntCenter,e.dRadius,e.dRadius,0,e.dStartAngle,e.dEndAngle,o);if(l.push(e.pntCenter),0!==l.length)return l}},lune:function(t){if(t&&t.length>=3){var e=this.getArcInfo(t[0],t[1],t[2]);e.dStartAngle*=Math.PI/180,e.dEndAngle*=Math.PI/180;var o=(e.dEndAngle-e.dStartAngle)/this.nSegmentCount,l=this.getArcSpatialData(e.pntCenter,e.dRadius,e.dRadius,0,e.dStartAngle,e.dEndAngle,o);if(0!==l.length)return l}},arc:function(t){if(t&&t.length>=3){var e=this.getArcInfo(t[0],t[1],t[2]);e.dStartAngle*=Math.PI/180,e.dEndAngle*=Math.PI/180;var o=(e.dEndAngle-e.dStartAngle)/this.nSegmentCount,l=this.getArcSpatialData(e.pntCenter,e.dRadius,e.dRadius,0,e.dStartAngle,e.dEndAngle,o);if(0!==l.length)return l}},ellipse:function(t,e,o,l,n){if(!0===o){if((!l||null==l)&&t&&t.length>=3&&(l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])),(!n||null==n)&&t&&t.length>=3){var r=SuperMapAlgoPlot.PlottingUtil.projectPoint(t[2],t[0],t[1]);n=SuperMapAlgoPlot.PlottingUtil.distance(r,t[2])}}else n=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]),l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(e&&null!=e?e*=Math.PI/180:e=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1]),t&&t.length>0){var i=2*Math.PI,a=i/this.nSegmentCount,s=this.getArcSpatialData(t[0],l,n,e,0,i,a);if(!0===o){var p=Math.sin(e),u=Math.cos(e);t[2].x>t[1].x?(t[2].x=t[0].x-n*p,t[2].y=t[0].y+n*u):(t[2].x=t[0].x+n*p,t[2].y=t[0].y-n*u)}return s}},getArcSpatialData:function(t,e,o,l,n,r,i){var a=[];if(Math.abs(i)<1e-9)return a;for(;r<n;)r+=2*Math.PI;for(;r>n+2*Math.PI;)n+=2*Math.PI;var s=Math.cos(l)*e,p=Math.sin(l)*e,u=Math.cos(l)*o,c=Math.sin(l)*o,P=this.calcEllipseRadian(n,e,o),g=this.calcEllipseRadian(r,e,o);g-P<1e-5&&(g+=2*Math.PI);var y=Math.round(Math.abs((g-P)/i)+1);if(y<2)return a;for(var f=0;f<y-1;P+=i,f++){f===y-2&&(P=r);var h=t.x+s*Math.cos(P)-c*Math.sin(P),S=t.y+p*Math.cos(P)+u*Math.sin(P);a.push(new SuperMapAlgoPlot.Point(h,S))}return 0>a.length&&(a[a.length-1].x=t.x+s*Math.cos(g)-c*Math.sin(g),a[a.length-1].y=t.y+p*Math.cos(g)+u*Math.sin(g)),a},getArcCircleSpatialData:function(t,e,o,l){for(var n=[];l<o;)l+=2*Math.PI;for(;l>o+2*Math.PI;)o+=2*Math.PI;l-o<1e-10&&(l+=2*Math.PI);for(var r=(l-o)/50,i=o;i<l;i+=r){var a=t.x+e*Math.cos(i),s=t.y+e*Math.sin(i);n.push(new SuperMapAlgoPlot.Point(a,s))}var p=t.x+e*Math.cos(l),u=t.y+e*Math.sin(l);return n.push(new SuperMapAlgoPlot.Point(p,u)),n},getArcInfo:function(t,e,o){var l={};l.pntCenter=new SuperMapAlgoPlot.Point(0,0),l.dRadius=0,l.dStartAngle=0,l.dEndAngle=0;var n=e.x-t.x,r=e.y-t.y;if(Math.abs(n)<1e-9){var i={},a={};i.x=(e.x+t.x)/2,i.y=(e.y+t.y)/2,a.x=(e.x+o.x)/2,a.y=(e.y+o.y)/2;var s=0;Math.abs(o.x-e.x)>=1e-9&&(s=(o.y-e.y)/(o.x-e.x)),l.pntCenter.y=i.y,Math.abs(s)<1e-9?l.pntCenter.x=a.x:l.pntCenter.x=a.x-s*(i.y-a.y)}else{var p={},u={};p.x=(e.x+t.x)/2,p.y=(e.y+t.y)/2,u.x=(e.x+o.x)/2,u.y=(e.y+o.y)/2;var c=r/n,P=1;Math.abs(c)<1e-9?(l.pntCenter.x=p.x,Math.abs(o.x-e.x<1e-9)?l.pntCenter.y=u.y:l.pntCenter.y=-(o.x-e.x)/(o.y-e.y)*(l.pntCenter.x-u.x)+u.y):Math.abs(o.x-e.x)<1e-9?(l.pntCenter.y=u.y,l.pntCenter.x=-c*(l.pntCenter.y-p.y)+p.x):(P=(o.y-e.y)/(o.x-e.x),l.pntCenter.x=(c*P*(p.y-u.y)+P*p.x-c*u.x)/(P-c),l.pntCenter.y=(u.x-p.x+P*u.y-c*p.y)/(P-c))}var g=Math.atan2(t.y-l.pntCenter.y,t.x-l.pntCenter.x),y=Math.atan2(o.y-l.pntCenter.y,o.x-l.pntCenter.x);if(SuperMapAlgoPlot.PlottingUtil.isCounterClockwise(t,e,o)){for(;g>=2*Math.PI;)g-=2*Math.PI;for(;g<0;)g+=2*Math.PI;for(;y>2*Math.PI;)y-=2*Math.PI;for(;y<g;)y+=2*Math.PI}else{for(;y>=2*Math.PI;)y-=2*Math.PI;for(;y<0;)y+=2*Math.PI;for(;g>2*Math.PI;)g-=2*Math.PI;for(;y>g;)g+=2*Math.PI;var f=g;g=y,y=f}return l.dRadius=Math.sqrt((l.pntCenter.x-t.x)*(l.pntCenter.x-t.x)+(l.pntCenter.y-t.y)*(l.pntCenter.y-t.y)),l.dEndAngle=180*y/Math.PI,l.dStartAngle=180*g/Math.PI,l},calcEllipseRadian:function(t,e,o){var l=t,n=e*Math.sin(t),r=o*Math.cos(t),i=Math.atan2(n,r);if(t>Math.PI)for(;l>Math.PI;)l-=2*Math.PI,i+=2*Math.PI;else if(t<-Math.PI)for(;l<-Math.PI;)l+=2*Math.PI,i-=2*Math.PI;return i},getKendyShapePts:function(t){var e=[];if(2>(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length)return e;var o=this.calcShapePoints(t);if(12!=o.length)return e;o.push(o[0]),o.push(o[1]),o.splice(0,1);for(var l=0;l<o.length-3;l+=3){var n;n=this.getBezierPtsWithScalePts(o[l],o[l+1],o[l+2],o[l+3]),e=e.concat(n)}return e},calcShapePoints:function(t){var e=[],o=[],l=t.length;if(0!==l){if(1!==l){if(2==l){var n=this.calcProtudeC3(t[0],t[1]);o.push(t[0]),o.push(t[1]),o.push(n)}else if(o.push(t[0]),o.push(t[1]),o.push(t[2]),(SuperMapAlgoPlot.PlottingUtil.isSamePt(t[0],t[2])||SuperMapAlgoPlot.PlottingUtil.isSamePt(t[1],t[2]))&&(e.push(t[0]),e.push(t[1])),SuperMapAlgoPlot.PlottingUtil.isSamePt(t[0],t[1]))return e.push(t[0]),void e.push(t[2]);o=this.reNormalizeKidneyCtrlPoints(o);var r=new SuperMapAlgoPlot.Point(0,0),i=new SuperMapAlgoPlot.Point(0,0);r.x=.5*(o[0].x+o[1].x),r.y=.5*(o[0].y+o[1].y),i.x=r.x-.1*(o[2].x-r.x),i.y=r.y-.1*(o[2].y-r.y);var a=this.GetPtsByTriangle(3,0,o[1],o[0],i);e.push(a.pr),e.push(i),e.push(a.pl);var s=this.GetPtsByTriangle(4,2,o[2],o[0],o[1]);e.push(s.pr),e.push(o[1]),e.push(s.pl);var p=this.GetPtsByTriangle(2,0,o[0],o[1],o[2]);e.push(p.pr),e.push(o[2]),e.push(p.pl);var u=this.GetPtsByTriangle(4,1,o[1],o[2],o[0]);return e.push(u.pr),e.push(o[0]),e.push(u.pl),e}e.push(t[0])}},calcProtudeC3:function(t,e){var o,l=new SuperMapAlgoPlot.Point(0,0);return l.x=.5*(t.x+e.x),l.y=.5*(t.y+e.y),o=SuperMapAlgoPlot.PlottingUtil.distance(e,t)/2.7,this.GetPointsOfNormal(o,t,l).pt3},GetPointsOfNormal:function(t,e,o){var l,n=new SuperMapAlgoPlot.Point(0,0),r=new SuperMapAlgoPlot.Point(0,0),i=new SuperMapAlgoPlot.Point(0,0);return 0==(l=SuperMapAlgoPlot.PlottingUtil.distance(e,o))?(i.y=0,i.x=t):(i.x=t*(e.x-o.x)/l,i.y=t*(e.y-o.y)/l),n.x=-i.y+o.x,n.y=i.x+o.y,r.x=i.y+o.x,r.y=-i.x+o.y,{pt3:n,pt4:r}},reNormalizeKidneyCtrlPoints:function(t){var e=[];e.push(new SuperMapAlgoPlot.Point(0,0)),e.push(new SuperMapAlgoPlot.Point(0,0)),e.push(new SuperMapAlgoPlot.Point(0,0));var o=t.length;if(o<2)return e;if(2==o)e[0]=t[0],e[1]=t[1],e[2]=this.calcProtudeC3(t[0],t[1]);else{var l,n,r,i=t[0],a=t[1],s=t[2];if(l=SuperMapAlgoPlot.PlottingUtil.distance(a,i),n=SuperMapAlgoPlot.PlottingUtil.distance(s,a),r=SuperMapAlgoPlot.PlottingUtil.distance(i,s),n>=l&&n>=r){var p=i.clone();i=s.clone(),s=p.clone()}else if(r>=l&&r>=n){var u=s.clone();s=a.clone(),a=u.clone()}if(!SuperMapAlgoPlot.PlottingUtil.isRight(s,i,a)){var c=i.clone();i=a.clone(),a=c.clone()}e[0]=i,e[1]=a,e[2]=s}return e},GetPtsByTriangle:function(t,e,o,l,n){var r=new SuperMapAlgoPlot.Point(0,0),i=0,a=0;return i=SuperMapAlgoPlot.PlottingUtil.distance(n,o),a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),1==e&&(i*=2),2==e&&(a*=2),r.x=(i*l.x+a*o.x)/(i+a),r.y=(i*l.y+a*o.y)/(i+a),{pl:this.GetWhichPtOfNormal(t,o,r,n),pr:this.GetWhichPtOfNormal(t,l,r,n)}},GetWhichPtOfNormal:function(t,e,o,l){var n=0;n=SuperMapAlgoPlot.PlottingUtil.distance(l,e)/t;var r=this.GetPointsOfNormal(n,o,l);return SuperMapAlgoPlot.PlottingUtil.distance(e,r.pt4)>=(n=SuperMapAlgoPlot.PlottingUtil.distance(e,r.pt3))?r.pt3:r.pt4},getBezierPtsWithScalePts:function(t,e,o,l){var n=[],r=t.x,i=t.y,a=e.x,s=e.y,p=o.x,u=o.y,c=l.x,P=l.y;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,a,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,s,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,c,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(u,P,1e-10))n.push(new SuperMapAlgoPlot.Point(r,i)),n.push(new SuperMapAlgoPlot.Point(p,u));else for(var g=0;g<=1;g+=.03125){var y,f,h,S,A=g*g,M=A*g;y=1-3*g+3*A-M,f=3*(g-2*A+M),h=3*(A-M),S=M;var d=new SuperMapAlgoPlot.Point(y*r+f*a+h*p+S*c,y*i+f*s+h*u+S*P);n.push(d)}return n},getSpatialData:function(t,e,o,l){switch(null==l&&(l=!0),t){case 24:return this.polyline(e);case 390:return this.kidney(e,l);case 590:return this.bezier(e,l);case 360:return this.loopbezier(e,l);case 28:return this.parallelogram(e);case 32:return this.polygon(e);case 29:return this.circle(e);case 26:return this.rectangle(e);case 380:return this.sector(e);case 370:return this.lune(e);case 44:return this.arc(e);case 31:return this.ellipse(e,o,l);case 48:return this.parallelline(e);default:return e}}};SuperMapAlgoPlot.RouteNodePrimitives=SuperMapAlgoPlot.RouteNodePrimitives||{};SuperMapAlgoPlot.RouteNodePrimitives={initialize:function(){},rendezvousPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.textContent="会",o.style={surroundLineFlag:!1,fontSize:14,fontSizeLimit:!0},o.style.labelAlign="cm",t.push(o),t.push(e),t},expandingPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.textContent="展",o.style={surroundLineFlag:!1,fontSize:14,fontSizeLimit:!0},o.style.labelAlign="cm",t.push(o),t.push(e),t},volleyPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.textContent="齐",o.style={surroundLineFlag:!1,fontSize:14,fontSizeLimit:!0},o.style.labelAlign="cm",t.push(o),t.push(e),t},standbyPoint_Outer:function(t,e){var o=[],l=new SuperMapAlgoPlot.Point(0,0),n=new SuperMapAlgoPlot.Point(0,30);t||(t=90);var r=new Object;r.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r.positionPoints=[];for(var i=t+10;i<170+t;i+=10){var a=SuperMapAlgoPlot.PlottingUtil.findPoint(l,n,30,i);r.positionPoints.push(a)}r.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},o.push(r);var s=r.positionPoints[r.positionPoints.length-1],p=r.positionPoints[r.positionPoints.length-2],u=SuperMapAlgoPlot.PlottingUtil.findPoint(s,p,9,22.5),c=SuperMapAlgoPlot.PlottingUtil.findPoint(s,p,9,-22.5),P=new Object;P.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P.positionPoints=[],P.positionPoints.push(u),P.positionPoints.push(s.clone()),P.positionPoints.push(c),P.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},o.push(P);var g=new Object;g.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g.positionPoints=[];for(var y=190+t;y<350+t;y+=10){var f=SuperMapAlgoPlot.PlottingUtil.findPoint(l,n,30,y);g.positionPoints.push(f)}g.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},o.push(g);var h=g.positionPoints[g.positionPoints.length-1],S=g.positionPoints[g.positionPoints.length-2],A=SuperMapAlgoPlot.PlottingUtil.findPoint(h,S,9,22.5),M=SuperMapAlgoPlot.PlottingUtil.findPoint(h,S,9,-22.5),d=new Object;d.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d.positionPoints=[],d.positionPoints.push(A),d.positionPoints.push(h.clone()),d.positionPoints.push(M),d.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},o.push(d);for(var b=0;b<o.length;b++)for(var v=0;v<o[b].positionPoints.length;v++){var m=e*(Math.PI/180);SuperMapAlgoPlot.PlottingUtil.rotateAngle(l,m,o[b].positionPoints[v])}return o},standbyPoint_Inner:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(-20,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(20,10)),e.positionPoints.push(new SuperMapAlgoPlot.Point(20,-10)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e);var o=new Object;o.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(-5,0)),o.positionPoints.push(new SuperMapAlgoPlot.Point(17,0)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(o);var l=new Object;return l.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l.positionPoints=[],l.positionPoints.push(new SuperMapAlgoPlot.Point(-2,1.5)),l.positionPoints.push(new SuperMapAlgoPlot.Point(-5,0)),l.positionPoints.push(new SuperMapAlgoPlot.Point(-2,-1.5)),l.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(l),t},supplyPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.textContent="补",o.style={surroundLineFlag:!1,fontSize:14,fontSizeLimit:!0},o.style.labelAlign="cm",t.push(o),t.push(e),t},takeoffPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(-15,25)),e.positionPoints.push(new SuperMapAlgoPlot.Point(15,25)),e.positionPoints.push(new SuperMapAlgoPlot.Point(15,-25)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,-35)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-15,-25)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-15,25)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},initialPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,-30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},visualInitalPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,0)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},lanchPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(20,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-20,-30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},turningPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},aimingPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(20,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-20,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},targetPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,-30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},eightSpiralPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(30,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(-30,0)),o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t.push(o),t},happyValleyPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,20)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,20)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;o.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(30,-20)),o.positionPoints.push(new SuperMapAlgoPlot.Point(-30,-20)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var l=new Object;l.type=SuperMapAlgoPlot.SymbolType.ARCSYMBOL,l.positionPoints=[],l.positionPoints.push(new SuperMapAlgoPlot.Point(-30,20)),l.positionPoints.push(new SuperMapAlgoPlot.Point(-50,0)),l.positionPoints.push(new SuperMapAlgoPlot.Point(-30,-20)),l.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var n=new Object;return n.type=SuperMapAlgoPlot.SymbolType.ARCSYMBOL,n.positionPoints=[],n.positionPoints.push(new SuperMapAlgoPlot.Point(30,20)),n.positionPoints.push(new SuperMapAlgoPlot.Point(50,0)),n.positionPoints.push(new SuperMapAlgoPlot.Point(30,-20)),n.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t.push(o),t.push(l),t.push(n),t},attackPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,20)),o.positionPoints.push(new SuperMapAlgoPlot.Point(20,-20)),o.positionPoints.push(new SuperMapAlgoPlot.Point(-20,-20)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(o),t.push(e),t},suppressPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fontSize:14};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(-15,15)),o.positionPoints.push(new SuperMapAlgoPlot.Point(15,15)),o.positionPoints.push(new SuperMapAlgoPlot.Point(15,-15)),o.positionPoints.push(new SuperMapAlgoPlot.Point(-15,-15)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(o),t.push(e),t},getRouteNodeCells:function(t,e,o){switch(t){case SuperMapAlgoPlot.RouteNodeType.RENDEZVOUS:return this.rendezvousPoint();case SuperMapAlgoPlot.RouteNodeType.EXPANDING:return this.expandingPoint();case SuperMapAlgoPlot.RouteNodeType.VOLLEY:return this.volleyPoint();case SuperMapAlgoPlot.RouteNodeType.STANDBY:return e?this.standbyPoint_Inner():this.standbyPoint_Outer(null,o);case SuperMapAlgoPlot.RouteNodeType.SUPPLY:return this.supplyPoint();case SuperMapAlgoPlot.RouteNodeType.TAKEOFF:return this.takeoffPoint();case SuperMapAlgoPlot.RouteNodeType.INITIAL:return this.initialPoint();case SuperMapAlgoPlot.RouteNodeType.VISUALINITAL:return this.visualInitalPoint();case SuperMapAlgoPlot.RouteNodeType.LANCH:case SuperMapAlgoPlot.RouteNodeType.WEAPONLAUNCH:return this.lanchPoint();case SuperMapAlgoPlot.RouteNodeType.TURNING:case SuperMapAlgoPlot.RouteNodeType.COMMONROUTE:return this.turningPoint();case SuperMapAlgoPlot.RouteNodeType.AIMING:return this.aimingPoint();case SuperMapAlgoPlot.RouteNodeType.TARGET:return this.targetPoint();case SuperMapAlgoPlot.RouteNodeType.ATTACK:return this.attackPoint();case SuperMapAlgoPlot.RouteNodeType.SUPPRESS:return this.suppressPoint();case SuperMapAlgoPlot.RouteNodeType.EIGHTSPIRAL:return this.eightSpiralPoint();case SuperMapAlgoPlot.RouteNodeType.HAPPYVALLEY:return this.happyValleyPoint();default:return[]}},getRouteNodeNameByType:function(t){switch(t){case SuperMapAlgoPlot.RouteNodeType.RENDEZVOUS:return"会合点";case SuperMapAlgoPlot.RouteNodeType.EXPANDING:return"展开点";case SuperMapAlgoPlot.RouteNodeType.VOLLEY:return"齐射点";case SuperMapAlgoPlot.RouteNodeType.STANDBY:return"待机点";case SuperMapAlgoPlot.RouteNodeType.SUPPLY:return"补给点";case SuperMapAlgoPlot.RouteNodeType.TAKEOFF:return"起飞点";case SuperMapAlgoPlot.RouteNodeType.INITIAL:return"初始点";case SuperMapAlgoPlot.RouteNodeType.VISUALINITAL:return"可视化初始点";case SuperMapAlgoPlot.RouteNodeType.LANCH:return"发射点";case SuperMapAlgoPlot.RouteNodeType.WEAPONLAUNCH:return"武器发射点";case SuperMapAlgoPlot.RouteNodeType.TURNING:return"转弯点";case SuperMapAlgoPlot.RouteNodeType.COMMONROUTE:return"普通航路点";case SuperMapAlgoPlot.RouteNodeType.AIMING:return"目标瞄准点";case SuperMapAlgoPlot.RouteNodeType.TARGET:return"目标点";case SuperMapAlgoPlot.RouteNodeType.ATTACK:return"攻击点";case SuperMapAlgoPlot.RouteNodeType.SUPPRESS:return"压制点";case SuperMapAlgoPlot.RouteNodeType.EIGHTSPIRAL:return"八字盘旋点";case SuperMapAlgoPlot.RouteNodeType.HAPPYVALLEY:return"跑马圈点";default:return""}}};SuperMapAlgoPlot.AddPoint_WayType={UNKNOWN:0,POLYLINE:1,CURVE:2,CURVE_WITHCONTROLPT:3,POLYLINE_CLOSE:4,CURVE_CLOSE:5};function P(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.m_pData=null,this.CLASS_NAME="SuperMapAlgoPlot.Path2D"}var e,o,l;return e=t,l=[{key:"mtRef",value:function(t){return 0!=++t}},{key:"mtDeRef",value:function(t){return 0!=--t}}],(o=[{key:"MoveTo",value:function(t){this.ensureData(),this.detach();var e=this.getDataPtr();if(e.require_StartNewFigure=!1,0==e.elements[e.elements.length-1].GetType())e.elements[e.elements.length-1].SetPosition(t.x,t.y);else{var o=new SuperMapAlgoPlot.Element(t.x,t.y,0);e.elements.push(o)}e.cStart=e.elements.length-1}},{key:"LineTo",value:function(t){this.ensureData(),this.detach();var e=this.getDataPtr();if(e.MaybeStartNewFigure(),e.elements[e.elements.length-1].GetX()!=t.x||e.elements[e.elements.length-1].GetY()!=t.y){var o=new SuperMapAlgoPlot.Element(t.x,t.y,1);e.elements.push(o)}}},{key:"CurveTo",value:function(t,e,o){this.ensureData(),this.detach();var l=this.getDataPtr();if(l.elements[l.elements.length-1].GetX()!=t.x||l.elements[l.elements.length-1].GetY()!=t.y||t.x!=e.x||t.y!=e.y||e.x!=o.x||e.y!=o.y){l.MaybeStartNewFigure();var n=new SuperMapAlgoPlot.Element(t.x,t.y,2),r=new SuperMapAlgoPlot.Element(e.x,e.y,3),i=new SuperMapAlgoPlot.Element(o.x,o.y,3);l.elements.push(n),l.elements.push(r),l.elements.push(i)}}},{key:"CubicTo",value:function(t,e,o){this.ensureData(),this.detach();var l=this.getDataPtr();if(l.elements[l.elements.length-1].GetX()!=t.x||l.elements[l.elements.length-1].GetY()!=t.y||t.x!=e.x||t.y!=e.y||e.x!=o.x||e.y!=o.y){l.MaybeStartNewFigure();var n=new SuperMapAlgoPlot.Element(t.x,t.y,2),r=new SuperMapAlgoPlot.Element(e.x,e.y,3),i=new SuperMapAlgoPlot.Element(o.x,o.y,3);l.elements.push(n),l.elements.push(r),l.elements.push(i)}}},{key:"ToSubPathPolygons",value:function(t){var e,o,l=this.getDataPtr();if(this.IsEmpty())return!1;for(var n=[],r=this.GetElementCount(),i=0;i<r;i++){var a=l.elements[i];switch(a.GetType()){case 0:n.length>1&&t.push(n),n=[],e=a.GetX(),o=a.GetY(),n.push(new SuperMapAlgoPlot.Point(e,o));break;case 1:e=a.GetX(),o=a.GetY(),n.push(new SuperMapAlgoPlot.Point(e,o));break;case 2:if(3!=l.elements[i+1].GetType()||3!=l.elements[i+1].GetType())break;for(var s=l.elements[i-1].GetX(),p=l.elements[i-1].GetY(),u=a.GetX(),c=a.GetY(),P=l.elements[i+1].GetX(),g=l.elements[i+1].GetY(),y=l.elements[i+2].GetX(),f=l.elements[i+2].GetY(),h=0;h<=1;h+=.03125){var S=h*h,A=S*h,M=1-3*h+3*S-A,d=3*(h-2*S+A),b=3*(S-A),v=A;n.push(new SuperMapAlgoPlot.Point(M*s+d*u+b*P+v*y,M*p+d*c+b*g+v*f))}i+=2}}return n.length>1&&t.push(n),!0}},{key:"ensureData",value:function(){null==this.m_pData&&this.ensureData_helper()}},{key:"ensureData_helper",value:function(){var t=new SuperMapAlgoPlot.Path2DData,e=new SuperMapAlgoPlot.Element(0,0,0);t.elements.push(e),null==this.m_pData||this.mtDeRef(this.m_pData.ref)||(this.m_pData=null),this.m_pData=t}},{key:"detach",value:function(){1!=this.m_pData.ref&&this.detach_helper(),this.setBoundsDirty(!0)}},{key:"detach_helper",value:function(){var t=new SuperMapAlgoPlot.Path2DData;null==this.m_pData||this.mtDeRef(this.m_pData.ref)||(this.m_pData=null),this.m_pData=t}},{key:"setBoundsDirty",value:function(t){this.getDataPtr().isBoundsDirty=t}},{key:"getDataPtr",value:function(){return this.m_pData}},{key:"IsEmpty",value:function(){if(null==this.m_pData)return!0;var t=this.m_pData.elements.length;return 0==t||1==t&&0==this.m_pData.elements[0].GetType()}},{key:"GetElementCount",value:function(){return null!=this.m_pData?this.m_pData.elements.length:0}}])&&P(e.prototype,o),l&&P(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}SuperMapAlgoPlot.Path2D=g;var f=function(){function t(e,o,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.m_x=e,this.m_y=o,this.m_type=l,this.CLASS_NAME="SuperMapAlgoPlot.Element"}var e,o,l;return e=t,(o=[{key:"GetX",value:function(){return this.m_x}},{key:"GetY",value:function(){return this.m_y}},{key:"GetType",value:function(){return this.m_type}},{key:"GetPosition",value:function(){return SuperMapAlgoPlot.Point(this.m_x,this.m_y)}},{key:"SetPosition",value:function(t,e){this.m_x=t,this.m_y=e}},{key:"SetType",value:function(t){this.m_type=t}},{key:"IsCurveTo",value:function(){return 2==this.m_type}},{key:"IsLineTo",value:function(){return 1==this.m_type}},{key:"IsMoveTo",value:function(){return 0==this.m_type}},{key:"Equal",value:function(t){return SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.m_x,t.m_x,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.m_y,t.m_y,1e-10)&&this.m_type==t.m_type}},{key:"clone",value:function(){return new SuperMapAlgoPlot.Path2D.Element(this.m_x,this.m_y,this.m_type)}}])&&y(e.prototype,o),l&&y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}SuperMapAlgoPlot.Element=f;var S=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e){this.cStart=e.cStart,this.fillRule=e.fillRule,this.require_StartNewFigure=e.require_StartNewFigure,this.isBoundsDirty=e.isBoundsDirty,this.bounds=new SuperMap.Bounds(e.bounds.left,e.bounds.bottom,e.bounds.right,e.bounds.top),this.ref=1,this.elements=[];for(var o=0;o<e.elements.length;o++)this.elements.push(e.elements[o].clone())}else this.ref=1,this.bounds=new SuperMap.Bounds(0,0,0,0),this.elements=[];this.CLASS_NAME="SuperMapAlgoPlot.Path2DData"}var e,o,l;return e=t,(o=[{key:"IsClosed",value:function(){var t=this.elements[this.cStart],e=this.elements[this.elements.length-1];return t.GetX()==e.GetX()&&t.GetY()==e.GetY()}},{key:"Close",value:function(){this.require_StartNewFigure=!0;var t=this.elements[this.cStart],e=this.elements[this.elements.length-1];t!=e&&(t.Equal(e)?e.SetPosition(t.GetX(),t.GetY()):this.elements.push(new SuperMapAlgoPlot.Element(t.GetX(),t.GetY(),SuperMapAlgoPlot.ElementType.LineToElement)))}},{key:"MaybeStartNewFigure",value:function(){if(this.require_StartNewFigure){var t=this.elements[this.elements.length-1].clone();t.SetType(0),this.elements.push(t),this.require_StartNewFigure=!1}}}])&&h(e.prototype,o),l&&h(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();SuperMapAlgoPlot.Path2DData=S;SuperMapAlgoPlot.ArrowToolkit=SuperMapAlgoPlot.ArrowToolkit||{};function A(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}SuperMapAlgoPlot.ArrowToolkit.ConstValue={MAX_ARRAY_SIZE:128,sv_AtScaleParameter:1.5,sv_AtLenDivAtWidth:1.35,sv_AtWidthDivAwWidth:.5,DUOJIANTOU_TAIL_RATE_1:8,DUOJIANTOU_TAIL_RATE_2:3,DUOJIANTOU_TAIL_RATE_3:.6},SuperMapAlgoPlot.ArrowToolkit.ArrowTailType={ARROWTAIL_NONE:0,ARROWTAIL_LINE:1,ARROWTAIL_CURVE:2,ARROWTAIL_COATTAIL:3,ARROWTAIL_COATTAIL_POLYBODY:4},SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType={ARROWHEAD_POLYLINE:0,ARROWHEAD_TRIANGLE:1,ARROWHEAD_COATTAIL:2,ARROWHEAD_TRIANGLE_SOLID:3,ARROWHEAD_COATTAIL_HOLLOW:6,ARROWHEAD_WITH_EAR:4,ARROWHEAD_WITHOUT_EAR:5},SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType={ARROWBODY_POLYLINE:0,ARROWBODY_POLYBEZIER:1,ARROWBODY_COATTAIL:5,ARROWBODY_PARALLEL:2,ARROWBODY_TRAPEZOID:3,ARROWBODY_MULTIPOLYBEZIER:4},SuperMapAlgoPlot.ArrowToolkit.parallel=function(t,e){var o={leftParallelPts:[],rightParallelPts:[]};return 1===t.length||2===t.length&&t[0].x===t[1].x&&t[0].y===t[1].y?o:(o.leftParallelPts=SuperMapAlgoPlot.PlottingUtil.parallel(t,e),o.rightParallelPts=SuperMapAlgoPlot.PlottingUtil.parallel(t,-e),o)},SuperMapAlgoPlot.ArrowToolkit.trapezoid=function(t,e,o){var l={leftParallelPts:[],rightParallelPts:[]};if(1===t.length||2===t.length&&t[0].x===t[1].x&&t[0].y===t[1].y)return l;for(var n=0;n<t.length-1;n++){t[n].x===t[n+1].x&&t[n].y===t[n+1].y&&(l.leftParallelPts.push(l.leftParallelPts[l.leftParallelPts.length-1]),l.rightParallelPts.push(l.rightParallelPts[l.rightParallelPts.length-1]));var r=t[n+1];r=SuperMapAlgoPlot.PlottingUtil.rotate(t[n],0,1,r),l.leftParallelPts.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[n],r,e)),r=t[n],r=SuperMapAlgoPlot.PlottingUtil.rotate(t[n+1],0,-1,r),l.leftParallelPts.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[n+1],r,o)),r=t[n+1],r=SuperMapAlgoPlot.PlottingUtil.rotate(t[n],0,-1,r),l.rightParallelPts.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[n],r,e)),r=t[n],r=SuperMapAlgoPlot.PlottingUtil.rotate(t[n+1],0,1,r),l.rightParallelPts.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[n+1],r,o))}return l},SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts=function(t,e,o){var l={};switch(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o){case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_PARALLEL:case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_TRAPEZOID:var n=e[0],r=e[1],i=e[2],a=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0);if(!a&&t.length>2){var s=t.length;t.splice(2,s-2)}var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);l.arrowTouLen=p*n;for(var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,p-l.arrowTouLen).pt,c=[],P=l.arrowTouLen*i,g=l.arrowTouLen*r,y=t.length-1,f=0;f<y;f++)c.push(t[f]);c.push(u);var h={leftParallelPts:[],rightParallelPts:[]};h=!0===a?SuperMapAlgoPlot.ArrowToolkit.parallel(c,g):SuperMapAlgoPlot.ArrowToolkit.trapezoid(c,P,g);var S=t[t.length-1];t[t.length-1]=u,t.push(S);l.leftBodyPts=h.leftParallelPts,l.rightBodyPts=h.rightParallelPts,l.OpectrlPoints=null;break;case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER:var A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0==A)return;var M=SuperMapAlgoPlot.ArrowToolkit.OperateCtrlPts(t),d=M.length;d--;var b=SuperMapAlgoPlot.ArrowToolkit.generateMultiBezier(M,d,e,A);t=[];for(var v=0;v<M.length;v++)t.push(M[v]);l.arrowTouLen=b.arrowTouLen,l.leftBodyPts=b.leftBodyPts,l.rightBodyPts=b.rightBodyPts,l.OpectrlPoints=M}return t=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t),l.leftBodyPts=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l.leftBodyPts),l.rightBodyPts=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l.rightBodyPts),l.OpectrlPoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l.OpectrlPoints),l},SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone=function(t){var e=!0,o=[];if(t.length<=1)return{pts:t,isEast:e};var l=!1;if(void 0!==t[t.length-1].z&&(l=!0),!l)return{pts:t,isEast:e};for(var n=0;n<t.length;n++){var r=new SuperMap3D.PlotPoint3D(t[n].x,t[n].y,t[n].z);o.push(r)}for(var i=SuperMapAlgoPlot.PlottingUtil.clonePoints(o),a=[],s=[],p=0;p<i.length-1;p++)i[p+1].x-i[0].x>-360&&i[p+1].x-i[0].x<-180&&a.push(p+1),i[p+1].x-i[0].x<360&&i[p+1].x-i[0].x>180&&s.push(p+1);if(s.length>a.length){for(var u=0;u<s.length;u++)i[s[u]].x=i[s[u]].x-360;e=!1}else{for(var c=0;c<a.length;c++)i[a[c]].x=i[a[c]].x+360;e=!0}return{pts:i,isEast:e}},SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone=function(t){if(null===t||t.length<=1)return t;var e=!1;if(void 0!==t[0].z&&(e=!0),!e)return t;for(var o=[],l=0;l<t.length;l++){var n=new SuperMap3D.PlotPoint3D(t[l].x,t[l].y,t[l].z);o.push(n)}for(var r=SuperMapAlgoPlot.PlottingUtil.clonePoints(o),i=0;i<r.length;i++)r[i].x>180?r[i].x=r[i].x-360:r[i].x<-180&&(r[i].x=r[i].x+360);return r},SuperMapAlgoPlot.ArrowToolkit.eastCrossZone=function(t){var e=!1;if(void 0!==t[0].z&&(e=!0),!e)return t;for(var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=0;l<o.length;l++)o[l].x<0&&o[l].x>-180&&(o[l].x=o[l].x+360);return o},SuperMapAlgoPlot.ArrowToolkit.westCrossZone=function(t){var e=!1;if(void 0!==t[0].z&&(e=!0),!e)return t;for(var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=0;l<o.length;l++)o[l].x>0&&o[l].x<180&&(o[l].x=o[l].x-360);return o},SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts=function(t,e,o,l,n){var r=[];switch(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,e=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(e).pts,n){case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR:case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITHOUT_EAR:var i=o[0],a=o[1],s=0,p=0;3==o.length&&(s=o[2]),4==o.length&&(s=o[2],p=o[3]);var u=0;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(s,0)&&!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,0)){var c=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);c.splice(c.length-1,1),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c)*s*p}var P=new SuperMapAlgoPlot.Point((e[0].x+e[1].x)/2,(e[0].y+e[1].y)/2);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var g=l*i,y=t[t.length-1];return y=SuperMapAlgoPlot.PlottingUtil.rotate(P,0,1,y),r.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(P,y,g)),r.push(t[t.length-1]),y=t[t.length-1],y=SuperMapAlgoPlot.PlottingUtil.rotate(P,0,-1,y),r.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(P,y,g)),t=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t),r=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(r)}var f=l*a,h=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(f,P,t[t.length-1]);f=l*i,f+=u;var S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,t[t.length-1],h),A=S.pntLeft,M=S.pntRight,d=t[t.length-1];return r.push(M),r.push(d),r.push(A),t=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t),r=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(r)}},SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine=function(t,e,o,l){var n=[];if(2>t.length)return n;t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e,0);switch(o){case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYLINE:n=n.concat(t),l&&!a&&SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2])>e&&(r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i-e),n.splice(n.length-1,1),n.push(r.pt));break;case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYBEZIER:if(2==t.length)n=n.concat(t),l&&!a&&SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2])>e&&(r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i-e),n.splice(n.length-1,1),n.push(r.pt));else{var s=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s);if(a)n=n.concat(s);else{var u=s[s.length-1];if(!a&&(e<p||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,e,1e-7))){for(var c=s.length-1;c>1;c--){if(!(e>SuperMapAlgoPlot.PlottingUtil.distance(u,s[c]))){var P=SuperMapAlgoPlot.PlottingUtil.findPoint(u,s[c],e,0);s.push(P),n=s;break}s.splice(c,1)}l||n.push(u)}else n=n.concat(s)}}break;case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_COATTAIL:var g=e;if(g>i)return n;for(var y,f,h=Math.ceil(i/(1.4*g)),S=0,A=[],M=0;M<h;M++)y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g*S,t),f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g*(S+1),t),y.bfind&&f.bfind&&(A.push(y.pts),A.push(f.pts)),S=1.4*(M+1);n=A}return n=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(n)},SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine=function(t,e,o){var l=[];if(2>t.length)return l;switch(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o){case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_POLYLINE:var n=t[0],r=t[1],i=SuperMapAlgoPlot.PlottingUtil.distance(n,r);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,e,1e-7)||i>e){var a=SuperMapAlgoPlot.PlottingUtil.findPoint(n,r,e,0),s=e*Math.tan(.125*Math.PI),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,t[0],a);l.push(p.pntLeft),l.push(t[0]),l.push(p.pntRight)}else{r=t[2];var u=SuperMapAlgoPlot.PlottingUtil.findPoint(n,r,e,0),c=e*Math.tan(.125*Math.PI),P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,t[0],u);l.push(P.pntLeft),l.push(t[0]),l.push(P.pntRight)}break;case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE:break;case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID:var g=t[0],y=t[1],f=SuperMapAlgoPlot.PlottingUtil.distance(g,y);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(f,e,1e-7)||f>e){var h=e*Math.tan(.125*Math.PI),S=SuperMapAlgoPlot.PlottingUtil.findPoint(g,y,e,0),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(h,t[0],S);l.push(A.pntLeft),l.push(g),l.push(A.pntRight),l.push(A.pntLeft)}else{y=t[2];var M=e*Math.tan(.125*Math.PI),d=SuperMapAlgoPlot.PlottingUtil.findPoint(g,y,e,0),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,t[0],d);l.push(b.pntLeft),l.push(g),l.push(b.pntRight),l.push(b.pntLeft)}break;case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL:var v=t[0],m=2*Math.sqrt(e*e/3),O=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(m/2,O,1e-7)||O>m/2){var L=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],m,20),T=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],m,-20),w=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],m/2,0);l.push(v),l.push(L),l.push(w),l.push(T),l.push(v)}else{v=t[2];var x=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],m,20),R=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],m,-20),U=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],m/2,0);l.push(v),l.push(x),l.push(U),l.push(R),l.push(v)}break;case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW:var E=[],I=t[0],C=2*Math.sqrt(e*e/3),B=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(C/1.4,B,1e-7)||B>C/1.4){var _=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],C,20),D=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],C,-20),N=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],C/1.4,0);E.push(I),E.push(_),E.push(N),E.push(D),E.push(I);var k=new SuperMapAlgoPlot.Point((E[0].x+E[1].x)/2,(E[0].y+E[1].y)/2),V=new SuperMapAlgoPlot.Point((E[3].x+E[4].x)/2,(E[3].y+E[4].y)/2),j=new SuperMapAlgoPlot.Point((k.x+V.x)/2,(k.y+V.y)/2),Y=.75*SuperMapAlgoPlot.PlottingUtil.distance(k,V)/2,z=SuperMapAlgoPlot.PlottingUtil.findPointInLine(j,k,Y),F=SuperMapAlgoPlot.PlottingUtil.findPointInLine(j,V,Y);l.push(E[0]),l.push(z),l.push(E[1]),l.push(E[2]),l.push(E[3]),l.push(F),l.push(E[4])}else{I=t[0];var W=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],C,20),G=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],C,-20),H=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],C/1.4,0);E.push(I),E.push(W),E.push(H),E.push(G),E.push(I);k=new SuperMapAlgoPlot.Point((E[0].x+E[1].x)/2,(E[0].y+E[1].y)/2),V=new SuperMapAlgoPlot.Point((E[3].x+E[4].x)/2,(E[3].y+E[4].y)/2),j=new SuperMapAlgoPlot.Point((k.x+V.x)/2,(k.y+V.y)/2),Y=.75*SuperMapAlgoPlot.PlottingUtil.distance(k,V)/2,z=SuperMapAlgoPlot.PlottingUtil.findPointInLine(j,k,Y),F=SuperMapAlgoPlot.PlottingUtil.findPointInLine(j,V,Y);l.push(E[0]),l.push(z),l.push(E[1]),l.push(E[2]),l.push(E[3]),l.push(F),l.push(E[4])}}return l=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l)},SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePts=function(t,e,o,l){var n=e.length,r=[],i=0;t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;for(var a=0;a<t.length-1;a++)i+=SuperMapAlgoPlot.PlottingUtil.distance(t[a],t[a+1]);var s=i*o;switch(l){case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_NONE:break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_LINE:var p=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],s,90),u=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],s,-90);r.push(p),r.push(u);break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_CURVE:var c=new SuperMapAlgoPlot.Point(.5*(e[0].x+e[n-1].x),.5*(e[0].y+e[n-1].y)),P=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[n-1]),g=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(P*o,c,t[t.length-1]),y=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(SuperMapAlgoPlot.ArrowToolkit.ConstValue.DUOJIANTOU_TAIL_RATE_1,SuperMapAlgoPlot.ArrowToolkit.ConstValue.DUOJIANTOU_TAIL_RATE_2,e[0],g,e[n-1],y,f);var h=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(SuperMapAlgoPlot.ArrowToolkit.ConstValue.DUOJIANTOU_TAIL_RATE_3,e[0],g,y,h);var S=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(SuperMapAlgoPlot.ArrowToolkit.ConstValue.DUOJIANTOU_TAIL_RATE_3,e[n-1],g,f,S);break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL:var A=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],s,157.5),M=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],s,-157.5);r.push(A),r.push(t[0]),r.push(M);break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL_POLYBODY:var d=new SuperMapAlgoPlot.Point(.5*(e[0].x+e[n-1].x),.5*(e[0].y+e[n-1].y)),b=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[n-1]),v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(b*o,e[0],d);r.push(e[n-1]),r.push(v.pntLeft),r.push(e[0])}return t=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t),r=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(r)},SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePtsBySingleLine=function(t,e,o){var l=[];switch(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o){case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_NONE:break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_LINE:var n=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,90),r=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,-90);l.push(n),l.push(r);break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL:var i=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,157.5),a=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,-157.5);l.push(i),l.push(t[0]),l.push(a)}return l=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l)},SuperMapAlgoPlot.ArrowToolkit.OperateCtrlPts=function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);if(3==e.length){var o=((e[0].x+e[1].x)/2+e[2].x)/2,l=((e[0].y+e[1].y)/2+e[2].y)/2,n=new SuperMapAlgoPlot.Point(o,l),r=e[2].clone();e[2]=n,e.push(r)}return e},SuperMapAlgoPlot.ArrowToolkit.generateMultiBezier=function(t,e,o,l){var n=0,r=[],i=[],a=[],s=[],p=[],u=[],c=o[0],P=o[1],g=(t[0].x+t[1].x)/2,y=(t[0].y+t[1].y)/2,f=Math.abs(g-t[2].x),h=Math.abs(y-t[2].y),S=0;if(f>0&&h>0){var A=1/(g-t[2].x),M=-1/(y-t[2].y),d=1*t[2].y/(y-t[2].y)-1*t[2].x/(g-t[2].x);S=Math.abs(A*t[0].x+M*t[0].y+d)/Math.sqrt(A*A+M*M)}else h<=1e-4?S=Math.abs(y-t[1].y):f<=1e-4&&(S=Math.abs(g-t[1].x));var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(S,t[2],new SuperMapAlgoPlot.Point(g,y)),v=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(t[1],t[2],t[0]);v?(r[1]=t[1],i[1]=t[0]):(r[1]=t[0],i[1]=t[1]),t[1]=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);var m=Math.sqrt((b.pntLeft.x-b.pntRight.x)*(b.pntLeft.x-b.pntRight.x)+(b.pntLeft.y-b.pntRight.y)*(b.pntLeft.y-b.pntRight.y))*SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtWidthDivAwWidth,O=(n=m*SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtLenDivAtWidth)*P;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,0)||(O=(n=l*c)*P);var L,T,w=SuperMapAlgoPlot.PlottingUtil.distance(t[e],t[e-1]),x=2*n;w<x&&(O=(n=w/2)*P),t.push(t[e]),L=0,T=0;var R=0,U=[];for(R=2;R<=e;R++)L+=SuperMapAlgoPlot.PlottingUtil.distance(t[R],t[R-1]);for(L-=n,R=2;R<=e-1;R++)T+=SuperMapAlgoPlot.PlottingUtil.distance(t[R],t[R-1]),U[R]=O+(m-O)*Math.pow((L-T)/L,SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtScaleParameter);U[e]=O;var E,I,C=new SuperMapAlgoPlot.Point(0,0),B=new SuperMapAlgoPlot.Point(0,0),_=new SuperMapAlgoPlot.Point(0,0);for(R=2;R<=e-1;R++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,t[R-1],t[R],t[R+1],B,_),R==e-1&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,t[e],t[e-1],_,C),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U[R],B,t[R]),(v=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(_,B,E.pntRight))?(r[R]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y),i[R]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y)):(r[R]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y),i[R]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y));for(Math.sqrt(1*(t[e].x-C.x)*(t[e].x-C.x)+1*(t[e].y-C.y)*(t[e].y-C.y))>0&&(t[e]=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(n,t[e],C)),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O,t[e+1],t[e]),(v=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(t[e],t[e+1],E.pntLeft))?(i[e]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y),r[e]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y)):(i[e]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y),r[e]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y)),R=2;R<e;R++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,r[R-1],r[R],r[R+1],B,_),a[R]=new SuperMapAlgoPlot.Point(B.x,B.y),s[R]=new SuperMapAlgoPlot.Point(_.x,_.y),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,i[R-1],i[R],i[R+1],B,_),p[R]=new SuperMapAlgoPlot.Point(B.x,B.y),u[R]=new SuperMapAlgoPlot.Point(_.x,_.y),2==R&&(SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,r[1],r[2],a[2],C),s[1]=new SuperMapAlgoPlot.Point(C.x,C.y),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,i[1],i[2],p[2],C),u[1]=new SuperMapAlgoPlot.Point(C.x,C.y)),R==e-1&&(x=(w=SuperMapAlgoPlot.PlottingUtil.distance(r[e],r[e-1]))/3,(I=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(x,t[e],t[e+1])).x+=r[e].x-t[e].x,I.y+=r[e].y-t[e].y,x=(w=m-O)*Math.pow(x/L,SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtScaleParameter),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(x,r[e],I),a[e]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y),x=(w=SuperMapAlgoPlot.PlottingUtil.distance(i[e],i[e-1]))/3,(I=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(x,t[e],t[e+1])).x+=i[e].x-t[e].x,I.y+=i[e].y-t[e].y,x=(w=m-O)*Math.pow(x/L,SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtScaleParameter),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(x,i[e],I),p[e]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y));return{arrowTouLen:n,leftBodyPts:SuperMapAlgoPlot.ArrowToolkit.genArrowBody(e,r,a,s),rightBodyPts:SuperMapAlgoPlot.ArrowToolkit.genArrowBody(e,i,p,u)}},SuperMapAlgoPlot.ArrowToolkit.genArrowBody=function(t,e,o,l){var n=new SuperMapAlgoPlot.Path2D;if(!(t<2)){n.MoveTo(e[1]);for(var r=1;r<=t-1;r++)n.CubicTo(l[r],o[r+1],e[r+1]);var i=[];return n.ToSubPathPolygons(i),i[0]}};var M=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this.style=null,this.libID=e.libID?e.libID:0,this.code=e.code?e.code:0,this.maxEditPts=e.maxEditPts?e.maxEditPts:SuperMapAlgoPlot.AlgoSymbolFactory.getMaxEditPts(e.libID,e.code),this.minEditPts=e.minEditPts?e.minEditPts:SuperMapAlgoPlot.AlgoSymbolFactory.getMinEditPts(e.libID,e.code),this.isEdit=!!e.isEdit&&e.isEdit,this.controlPoints=e.controlPoints?e.controlPoints:[],this.scalePoints=e.scalePoints?e.scalePoints:[],this.scaleValues=e.scaleValues?e.scaleValues:[],this.subSymbols=e.subSymbols?e.subSymbols:SuperMapAlgoPlot.AlgoSymbolFactory.getDefaultSubSymbols(e.libID,e.code),this.polylineConnectLocationPoint=!!e.polylineConnectLocationPoint&&e.polylineConnectLocationPoint,this.style=e.style?e.style:SuperMapAlgoPlot.PlottingUtil.copyAttributes(this.style,SuperMapAlgoPlot.AlgoSymbolFactory.getDefaultStyle(e.libID,e.code)),this.textContent=e.textContent?e.textContent:"",this.map=e.map?e.map:null,this.scene=e.scene?e.scene:null,this.subSymbolDefaultPixelSize=e.subSymbolDefaultPixelSize?e.subSymbolDefaultPixelSize:30,this.symScaleDefinition=e.symScaleDefinition?e.symScaleDefinition:1,this.components=[],this.symbolType=0===this.libID?this.code:2}var e,o,l;return e=t,(o=[{key:"addScalePoint",value:function(t,e){if(null!=t){void 0!==e&&null!==e||(e=this.scalePoints.length);var o=new SuperMapAlgoPlot.Point(t.x,t.y);o.isScalePoint=!0,o.tag=e,this.scalePoints.push(o)}}},{key:"setOptions",value:function(t){if(t)for(var e in this)t[e]&&(this[e]=t[e])}},{key:"getAlgorithmResult",value:function(t){t.components=this.components,t.scalePoints=this.scalePoints,t.scaleValues=this.scaleValues}},{key:"destroy",value:function(){this.minEditPts=null,this.maxEditPts=null,this.controlPoints.length=0,this.controlPoints=null,this.scalePoints.length=0,this.scalePoints=null,this.scaleValues.length=0,this.scaleValues=null,this.subSymbols.length=0,this.subSymbols=null,this.subSymbolSize=0,this.components=null,this.style=null}},{key:"init",value:function(){if(this.components.length=0,this.scalePoints.length=0,this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),this.maxEditPts<this.controlPoints.length&&this.symbolType!==SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL){var t=this.controlPoints.shift(),e=this.controlPoints.pop();this.controlPoints=[],this.controlPoints.push(t,e)}}},{key:"finish",value:function(){}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),this.controlPoints.length>=this.minEditPts){var e={textContent:this.textContent,type:this.symbolType,surroundLineFlag:!1,positionPoints:t,style:{}};if(e.type===SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL&&e.positionPoints.push(e.positionPoints[0]),this.symbolType===SuperMapAlgoPlot.SymbolType.PARALLELLINE){if(this.controlPoints&&this.controlPoints.length>=3){var o=!1;void 0!==this.controlPoints[0].z&&(o=!0);var l=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]);SuperMapAlgoPlot.PlottingUtil.isRight(this.controlPoints[0],this.controlPoints[1],this.controlPoints[2])&&(l=-l);for(var n=[],r=1;r<this.controlPoints.length;r++)n.push(this.controlPoints[r].clone());var i=SuperMapAlgoPlot.PlottingUtil.parallel(n,l);if(this.controlPoints[0].x=i[0].x,this.controlPoints[0].y=i[0].y,o)for(var a=0;a<n.length;a++)i[a].z=n[a].z;this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i)}}else this.components.push(e)}}},{key:"modifyPoint",value:function(t,e){this.computeScaleValues(t,e),this.calculateParts()}},{key:"computeScaleValues",value:function(){}},{key:"getLonLatDistanceFromPixel",value:function(t){if(null===this.map)return 0;var e,o;if(this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map){var l=this.map.layerPointToLatLng(L.point(0,0)),n=this.map.layerPointToLatLng(L.point(t*this.symScaleDefinition,0));e=new SuperMapAlgoPlot.Point(l.lng,l.lat),o=new SuperMapAlgoPlot.Point(n.lng,n.lat)}else if(this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map){l=this.map.getLonLatFromPixel(new SuperMap.Pixel(0,0)),n=this.map.getLonLatFromPixel(new SuperMap.Pixel(t*this.symScaleDefinition,0));e=new SuperMapAlgoPlot.Point(l.lon,l.lat),o=new SuperMapAlgoPlot.Point(n.lon,n.lat)}return SuperMapAlgoPlot.PlottingUtil.distance(e,o)}},{key:"getPixelDistanceFromLonLat",value:function(t){if(null===this.map)return 0;var e,o;if(this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map){var l=this.map.latLngToLayerPoint(L.latLng(0,0)),n=this.map.latLngToLayerPoint(L.latLng(t,0));e=new SuperMapAlgoPlot.Point(l.x,l.y),o=new SuperMapAlgoPlot.Point(n.x,n.y)}else if(this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map){l=this.map.getPixelFromLonLat(new SuperMap.LonLat(0,0)),n=this.map.getPixelFromLonLat(new SuperMap.LonLat(t,0));e=new SuperMapAlgoPlot.Point(l.x,l.y),o=new SuperMapAlgoPlot.Point(n.x,n.y)}return SuperMapAlgoPlot.PlottingUtil.distance(e,o)}},{key:"getPixelFromLonLat",value:function(t,e){if(this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map){var o=this.map.latLngToLayerPoint(L.latLng(e,t));return{x:o.x,y:o.y}}if(this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map){var l=this.map.getPixelFromLonLat(new SuperMap.LonLat(t,e));return{x:l.x,y:l.y}}}},{key:"getLonLatFromPixel",value:function(t,e){if(this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map){var o=this.map.layerPointToLatLng(L.point(t,e));return{lon:o.lng,lat:o.lat}}if(this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map){var l=this.map.getLonLatFromPixel(new SuperMap.Pixel(t,e));return{lon:l.lon,lat:l.lat}}}},{key:"pixelBoundsToLonLat",value:function(t){var e=this.getLonLatFromPixel(t.left,t.top),o=this.getLonLatFromPixel(t.right,t.bottom);return new SuperMap.Bounds(e.lon,o.lat,o.lon,e.lat)}},{key:"annotationContent",value:function(t,e,o,l){var n=this.textContent;if(0!==n.length){var r=n.split("\n");n="";var i=0,a={};SuperMap.Util.copyAttributes(a,this.style),a.fontSize*=this.symScaleDefinition;for(var s=0;s<r.length;s++){i++;var p=r[s],u=SuperMapAlgoPlot.PlottingUtil.getTextWidth(a,p),c=this.getPixelFromLonLat(t,e),P=this.getPixelFromLonLat(o,l),g=parseFloat(Math.abs(P.x-c.x)),y=parseFloat(Math.abs(c.y-P.y)),f=0;if(a.weight?f=parseFloat(a.fontSize)+2*a.weight+.2*parseFloat(a.fontSize)+i:this.style.strokeWidth&&(f=parseFloat(a.fontSize)+2*a.strokeWidth+.2*parseFloat(a.fontSize)+i),f>y)break;if(u>=g){var h=p.split("");p="";for(var S="",A=h.length,M=0;M<A;M++){if(S+=h[M],SuperMapAlgoPlot.PlottingUtil.getTextWidth(a,S)>=g){var d=h[M];if(h[M]="\n",i++,a.weight?f=parseFloat(a.fontSize)*i+i+2*a.weight+.2*parseFloat(a.fontSize):this.style.strokeWidth&&(f=parseFloat(a.fontSize)*i+i+2*a.strokeWidth+.2*parseFloat(a.fontSize)),!(f<y)){0===n.length?n=p:(n+="\n",n+=p);break}h[M]+=d,S=d}p+=h[M],M===A-1&&(0===n.length?n=p:(n+="\n",n+=p))}}else 0===n.length?n=p:(n+="\n",n+=p)}if(0!==n.length){var b=a.labelAlign,v=0,m=0;"l"===b[0]?v=t:"r"===b[0]?v=o:"c"===b[0]&&(v=(t+o)/2),"t"===b[1]?m=e:"b"===b[1]?m=l:"m"===b[1]&&(m=(e+l)/2);var O=new SuperMapAlgoPlot.Point(v,m),L={};L.positionPoints=[O],L.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,L.textContent=n,L.style={surroundLineFlag:!1,labelAlign:b},this.components.push(L)}}}},{key:"addCell",value:function(t,e,o,l){if(t&&e){var n={};n.type=t,n.textContent=l,n.positionPoints=e,null==o?n.style={surroundLineFlag:!1}:(n.style=o,null==o.surroundLineFlag&&(n.style.surroundLineFlag=!1)),this.components.push(n)}}},{key:"addText",value:function(t,e,o,l,n){if(t&&e){var r={};r.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,r.textContent=t,r.positionPoints=[e];var i=o/t.length/2;r.style={},r.style.surroundLineFlag=!1,r.style.labelRotation=-l,r.style.fontSize=i,void 0===n?r.style.fontColor="#000000":(r.style.fontColor=n,r.style.fontColorLimit=!0),r.style.fontSizeLimit=!0,r.style.sizeFixed=!1,r.style.labelAlign="cm",r.style.label=t,this.components.push(r)}}},{key:"getLinePts",value:function(t,e,o){var l=new Object;if(e>.5)return l.startIndex=0,l.startPt=t[0],l.endIndex=t.length-1,l.endPt=t[t.length-1],l;null==o&&(o=.5);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*(o-e),t),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*(o+e),t);return l.startIndex=r.index,l.startPt=r.pts,l.endIndex=i.index,l.endPt=i.pts,l}},{key:"computeDashLine",value:function(t,e,o){var l=[],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(n<=0)return[];for(var r,i=o[0],a=1,s=0,p=!0,u=!0;s<n;){var c,P=[];P.push(i),s+=t;var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,o);if(c=g.index,r=g.pts,!(p=g.bfind))break;if(a<c)for(var y=a;y<c;y++)P.push(o[y]);P.push(r),l.push(P),s+=e;var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,o);if(c=f.index,i=f.pts,a=c+1,!(u=f.bfind))break}if(!p){var h=[];h.push(i);for(var S=a;S<o.length;S++)h.push(o[S]);2===h.length&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(SuperMapAlgoPlot.PlottingUtil.distance(h[0],h[1]),0)||l.push(h)}if(!u){var A=o[o.length-1],M=SuperMapAlgoPlot.PlottingUtil.distance(r,A);if(M*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(M,0)){var d=SuperMapAlgoPlot.PlottingUtil.linePnt(A,r,M),b=[];b.push(d),b.push(A),l.push(b)}}return l}},{key:"addArrow",value:function(t,e){if(t.length<2)return t;var o,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);void 0===e&&(e=(this.isEdit,.5*this.getSubSymbolScaleValue()));var n=t.slice();o=l*e;var r,i=t[t.length-1],a=o*Math.cos(.125*Math.PI);if(t.length>2){for(var s=-1,p=t.length-2;p>=0;p--)if(o<SuperMapAlgoPlot.PlottingUtil.distance(i,t[p])){s=p;break}t.splice(s+1,t.length-s),t.push(i)}if(t.length>1){SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2])>a&&(r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,[t[t.length-1],t[t.length-2]])).bfind&&(t.splice(t.length-1,1),t.push(r.pts)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var u=t[t.length-1],c=i,P=o;if(void 0===u)return t;var g=SuperMapAlgoPlot.PlottingUtil.radian(u,c)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,P,P,g+157.5),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,P,P,g+202.5),h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,i,f],h)}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}},{key:"addArrowWithOutLine",value:function(t,e){if(t.length<2)return t;var o,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);void 0===e&&(e=(this.isEdit,.5*this.getSubSymbolScaleValue()));var n=t.slice();o=l*e;var r,i=t[t.length-1],a=o*Math.cos(.125*Math.PI);if(t.length>2){for(var s=-1,p=t.length-2;p>=0;p--)if(o<SuperMapAlgoPlot.PlottingUtil.distance(i,t[p])){s=p;break}t.splice(s+1,t.length-s),t.push(i)}if(t.length>1){SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2])>a&&(r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,[t[t.length-1],t[t.length-2]])).bfind&&(t.splice(t.length-1,1),t.push(r.pts));var u=t[t.length-1],c=i,P=o;if(void 0===u)return t;var g=SuperMapAlgoPlot.PlottingUtil.radian(u,c)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,P,P,g+157.5),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,P,P,g+202.5),h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,i,f],h)}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}},{key:"addDovetailArrow",value:function(t,e){if(t.length<2)return t;var o,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);void 0===e&&(e=(this.isEdit,.5*this.getSubSymbolScaleValue())),o=l*e;var n=t[t.length-1];if(t.length>2){for(var r=-1,i=t.length-2;i>=0;i--)if(o<SuperMapAlgoPlot.PlottingUtil.distance(n,t[i])){r=i;break}t.splice(r+1,t.length-r),t.push(n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var a=t[t.length-2],s=t[t.length-1],p=o;if(void 0===a)return t;if(!(SuperMapAlgoPlot.PlottingUtil.distance(a,s)<o)){var u=SuperMapAlgoPlot.PlottingUtil.radian(a,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,u+157.5),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,u+202.5),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.5*p,.5*p,u+180),y=[];y.push(c),y.push(t[t.length-1]),y.push(P),y.push(g);var f={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,y,f)}}},{key:"getDefaultSubSymbolSize",value:function(){var t=0;if(this.map){var e=this.getLonLatFromPixel(0,0),o=this.getLonLatFromPixel(this.subSymbolDefaultPixelSize,0),l=new SuperMapAlgoPlot.Point(e.lon,e.lat),n=new SuperMapAlgoPlot.Point(o.lon,o.lat);t=SuperMapAlgoPlot.PlottingUtil.distance(l,n)}if(0===t){if(0!==this.subSymbolSize)return this.subSymbolSize;for(var r=0,i=0;i<this.controlPoints.length-1;i++)r+=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[i],this.controlPoints[i+1]);t=.3*r}return t}},{key:"getTextBounds",value:function(t,e){" "===e&&(e="_");var o=document.createElement("span");document.body.appendChild(o),o.style.width="auto",o.style.height="auto",t.fontSize&&(o.style.fontSize=new String(t.fontSize)+"px"),t.fontFamily&&(o.style.fontFamily=t.fontFamily),t.fontWeight&&(o.style.fontWeight=t.fontWeight),o.style.position="absolute",o.style.visibility="hidden",o.innerHTML=e;var l=new SuperMap.Bounds(o.clientLeft,o.clientTop+o.clientHeight-6,o.clientLeft+o.clientWidth,o.clientTop+4),n=this.pixelBoundsToLonLat(l);return document.body.removeChild(o),n}},{key:"calAssistantLine",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);this.symbolType===SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL&&(t.splice(1,0,new SuperMapAlgoPlot.Point(this.controlPoints[1].x,this.controlPoints[0].y)),t.push(new SuperMapAlgoPlot.Point(this.controlPoints[0].x,this.controlPoints[1].y)),t.push(new SuperMapAlgoPlot.Point(this.controlPoints[0].x,this.controlPoints[0].y)));var e={type:24,surroundLineFlag:!1,positionPoints:t,style:{color:"#0000ff",opacity:1,weight:1,dashArray:"5, 5",strokeColor:"#0000ff",strokeOpacity:1,strokeWidth:1,strokeDashstyle:"dash",lineColorLimit:!0,lineTypeLimit:!0,lineWidthLimit:!0,surroundLineFlag:!1}};this.components.push(e)}},{key:"getSubSymbolScaleValue",value:function(t,e){var o=0;o=t&&!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t,0)?t:SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);var l=this.getDefaultSubSymbolSize()/o;return void 0===e&&(e=.3),(l>e||l<=0)&&(l=e),l}},{key:"computeSubSymbol",value:function(t,e,o,l,n,r){if(null==t.symbolData||null==t.symbolData.innerCells)return null;void 0===n&&(n=0),void 0===r&&(r=0);for(var i=SuperMapAlgoPlot.AnalysisSymbol.analysisSymbolCells(t.symbolData,!0),a=0,s=0,p=0,u=0,c=0;c<i.length;c++){null!=i[c].polybezierClose&&(i[c].type===SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL||i[c].type===SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL?(i[c].type,SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL,i[c].positionPoints=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(i[c].positionPoints),i[c].isClosed&&i[c].positionPoints[0]!==i[c].positionPoints[symbolCell.positionPoints.length-1]&&i[c].positionPoints.push(i[c].positionPoints[0])):i[c].type===SuperMapAlgoPlot.SymbolType.KIDNEY&&(i[c].positionPoints=SuperMapAlgoPlot.Primitives.getSpatialData(i[c].type,i[c].positionPoints)));for(var P=SuperMapAlgoPlot.Primitives.getSpatialData(i[c].type,i[c].positionPoints,i[c].textContent,0,i[c].isCalculate),g=0,y=P.length;g<y;g++)a<P[g].x&&(a=P[g].x),s<P[g].y&&(s=P[g].y),p>P[g].x&&(p=P[g].x),u>P[g].y&&(u=P[g].y)}var f=new SuperMapAlgoPlot.Point(a,s),h=new SuperMapAlgoPlot.Point(p,u),S=(f.y-h.y)/o,A=(f.x-h.x)/o,M=A>S?A:S,d=new SuperMapAlgoPlot.Point(.5*(f.x+h.x),.5*(f.y+h.y));d.x+=n*(f.x-h.x),d.y+=r*(f.y-h.y);for(var b=0,v=i.length;b<v;b++){for(var m=0,O=i[b].positionPoints.length;m<O;m++)i[b].positionPoints[m].x-=d.x,i[b].positionPoints[m].y-=d.y,i[b].positionPoints[m].x/=M,i[b].positionPoints[m].y/=M,SuperMapAlgoPlot.PlottingUtil.rotateAngle(new SuperMapAlgoPlot.Point(0,0),l*Math.PI/180,i[b].positionPoints[m]),i[b].positionPoints[m].x+=e.x,i[b].positionPoints[m].y+=e.y;i[b].type===SuperMapAlgoPlot.SymbolType.TEXTSYMBOL&&(i[b].style.fontSize/=10*M,i[b].style.labelRotation=-l,i[b].style.sizeFixed=!1),i[b].isCalculate=!1,i[b].style.surroundLineType=0,i[b].style.surroundLineLimit=!0,i[b].style.lineTypeLimit=!0,this.components.push(i[b])}return i}},{key:"ComputeZValue",value:function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(t,e,o),n=new SuperMapAlgoPlot.Point(l.projectPoint.x,l.projectPoint.y),r=SuperMapAlgoPlot.PlottingUtil.distance(e,o),i=SuperMapAlgoPlot.PlottingUtil.distance(e,t),a=SuperMapAlgoPlot.PlottingUtil.distance(o,t);if(!l.isOnline){if(i>=r)return o.z;if(a>=r)return e.z}return n.x!=e.x&&e.x!=o.x?e.z+(n.x-e.x)/(e.x-o.x)*(e.z-o.z):n.y!=e.y&&e.y!=o.y?e.z+(n.y-e.y)/(e.y-o.y)*(e.z-o.z):0==(i=SuperMapAlgoPlot.PlottingUtil.distance(e,n))?e.z:e.z-(e.z-o.z)*(i/r)}},{key:"ComputeBeizerZValueByDis",value:function(t,e,o){if(t.length<2)return!1;for(var l=[],n=0;n<t.length;n++)l.push({x:t[n].x,y:t[n].y});var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0==r)return!1;var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),a=[];a.push(l[0]);for(var s=-1,p=0,u=e[0],c=1;c<l.length;c++){a.push(l[c]);var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a)/r,g=i*P,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,e),f=y.index,h=y.pts;if(y.bfind){for(var S=t[c-1].z,A=t[c].z,M=i*(P-p),d=0,b=++s;b<=f;b++){var v=S+(A-S)*((d+=b==s?SuperMapAlgoPlot.PlottingUtil.distance(u,e[b]):SuperMapAlgoPlot.PlottingUtil.distance(e[b-1],e[b]))/M);o.push({x:e[b].x,y:e[b].y,z:v})}s=f}p=P,u=h}for(var m=s+1;m<e.length;m++)o.push({x:e[m].x,y:e[m].y,z:t[t.length-1].z});return!0}},{key:"ComputeHeight",value:function(t,e,o,l){if(o!=l){if(0!=t.length)if(1==t.length)e.push({x:t[0].x,y:t[0].y,z:o});else if(2==t.length)e.push({x:t[0].x,y:t[0].y,z:o}),e.push({x:t[1].x,y:t[1].y,z:l});else{var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!=n){var r=[];r.push(t[0]),e.push({x:t[0].x,y:t[0].y,z:o});for(var i=1;i<t.length-1;i++){r.push(t[i]);var a=o+(l-o)*SuperMapAlgoPlot.PlottingUtil.polylineDistance(r)/n;e.push({x:t[i].x,y:t[i].y,z:a})}e.push({x:t[t.length-1].x,y:t[t.length-1].y,z:l})}else for(var s=0;s<t.length;s++)e.push({x:t[s].x,y:t[s].y,z:o})}}else for(var p=0;p<t.length;p++)e.push({x:t[p].x,y:t[p].y,z:o})}}])&&A(e.prototype,o),l&&A(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=O(t);if(e){var n=O(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol=M;var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=m(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).arrowAngle=t.arrowAngle?t.arrowAngle:45,0===e.scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(0),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.ArrowLine",e}return e=r,(o=[{key:"calculateParts",value:function(){if(this.init(),!(null==this.controlPoints||this.controlPoints.length<this.minEditPts)){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(o));var l,n=this.scaleValues[0]*o,r=this.arrowAngle*Math.PI/180/2,i=(l=e.length>2?SuperMapAlgoPlot.PlottingUtil.radian(e[e.length-1],e[e.length-2]):SuperMapAlgoPlot.PlottingUtil.radian(e[1],e[0]))-r,a=e[e.length-1].x+n*Math.cos(i),s=e[e.length-1].y+n*Math.sin(i),p=new SuperMapAlgoPlot.Point(a,s),u=l+r,c=e[e.length-1].x+n*Math.cos(u),P=e[e.length-1].y+n*Math.sin(u),g=new SuperMapAlgoPlot.Point(c,P),y=[];y.push(p),y.push(e[e.length-1].clone()),y.push(g);var f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},h=SuperMapAlgoPlot.PlottingUtil.radian(e[0],e[1]);i=h-r,a=e[0].x+n*Math.cos(i),s=e[0].y+n*Math.sin(i),p=new SuperMapAlgoPlot.Point(a,s),u=h+r,c=e[0].x+n*Math.cos(u),P=e[0].y+n*Math.sin(u),g=new SuperMapAlgoPlot.Point(c,P);var S=[];S.push(p),S.push(e[0].clone()),S.push(g);var A=this.scaleValues[1]===SuperMapAlgoPlot.ArrowLineType.DOUBLELINE?SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M=this.scaleValues[2]===SuperMapAlgoPlot.ArrowLineType.DOUBLELINE?SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL;this.scaleValues[1]===SuperMapAlgoPlot.ArrowLineType.DOUBLELINE?this.addCell(A,S,f):this.scaleValues[1]===SuperMapAlgoPlot.ArrowLineType.TRIANGLESOLID&&this.addCell(A,S,f),this.scaleValues[2]===SuperMapAlgoPlot.ArrowLineType.DOUBLELINE?this.addCell(M,y,f):this.scaleValues[2]===SuperMapAlgoPlot.ArrowLineType.TRIANGLESOLID&&this.addCell(M,y,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&b(e.prototype,o),l&&b(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function w(t){"@babel/helpers - typeof";return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function R(t,e){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=E(t);if(e){var n=E(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.ArrowLine=T;var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=U(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e.CLASS_NAME="SuperMapAlgoPlot.RegularPolygon",e}return e=r,(o=[{key:"calculateParts",value:function(){if(this.init(),!(this.controlPoints.length<this.minEditPts)){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),e=this.controlPoints.length+1,o=2*Math.PI/e;if(!this.isEdit){var l=this.controlPoints[this.controlPoints.length-1],n=new SuperMapAlgoPlot.Point(this.controlPoints[this.controlPoints.length-1].x,this.controlPoints[this.controlPoints.length-1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(this.controlPoints[0],o,n),this.scaleValues[0]=SuperMapAlgoPlot.PlottingUtil.distance(t[0],this.calculateMidPt(l,n))/SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1])}var r=[],i=this.controlPoints[this.controlPoints.length-1].clone();r.push(i.clone()),i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(this.controlPoints[0],o/2,i);var a=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(this.scaleValues[0],this.controlPoints[0],i);r.push(a);for(var s=1;s<e;s++)i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(this.controlPoints[0],o/2,i),r.push(i.clone()),i=SuperMapAlgoPlot.PlottingUtil.rotateAngle(this.controlPoints[0],o/2,i),a=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(this.scaleValues[0],this.controlPoints[0],i),r.push(a);var p=r[1];this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,{surroundLineFlag:!1,fill:!1}),this.addScalePoint(p),this.finish()}}},{key:"calculateMidPt",value:function(t,e){return new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2)}},{key:"modifyPoint",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[this.controlPoints.length-1]),l=this.scalePoints[0],n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,this.controlPoints[0],l),r=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],n);this.scaleValues[0]=r/o}this.calculateParts()}}])&&x(e.prototype,o),l&&x(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function C(t){"@babel/helpers - typeof";return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=N(t);if(e){var n=N(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.RegularPolygon=I;var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=D(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.1)),e.CLASS_NAME="SuperMapAlgoPlot.Brace",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o);this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(.1));for(var n=this.scaleValues[0],r=this.scaleValues[1],i=new SuperMapAlgoPlot.Point(l*n,l*n),a=new SuperMapAlgoPlot.Point(l*(.5-r/2),0),s=new SuperMapAlgoPlot.Point(.5*l,-l*r),p=new SuperMapAlgoPlot.Point(l*(.5+r/2),0),u=new SuperMapAlgoPlot.Point(l*(1-n),l*n),c=[],P=180*Math.PI/180,g=270*Math.PI/180,y=3*Math.PI/180,f=P;f<=g;f+=y){var h=new SuperMapAlgoPlot.Point(i.x+l*n,i.y);h=SuperMapAlgoPlot.PlottingUtil.rotateAngle(i,f,h),c.push(h)}c.push(a),c.push(s),c.push(p),P=270*Math.PI/180,g=360*Math.PI/180;for(var S=P;S<=g;S+=y){var A=new SuperMapAlgoPlot.Point(u.x+l*n,u.y);A=SuperMapAlgoPlot.PlottingUtil.rotateAngle(u,S,A),c.push(A)}for(var M=SuperMapAlgoPlot.PlottingUtil.radian(e,o),d=[],b=0;b<c.length;b++){var v=new SuperMapAlgoPlot.Point(c[b].x+e.x,c[b].y+e.y);v=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,M,v),d.push(v)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d),this.scalePoints=[];var m=new SuperMapAlgoPlot.Point(l*n,0),O=new SuperMapAlgoPlot.Point(m.x+e.x,m.y+e.y);(O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,M,O)).isScalePoint=!0,O.tag=0,this.addScalePoint(O);var L=new SuperMapAlgoPlot.Point(s.x+e.x,s.y+e.y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,M,L),L.isScalePoint=!0,L.tag=1,this.addScalePoint(L)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;n>0&&n<.4&&(this.scaleValues[0]=n)}else if(1==t){var r=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/l;0<i&&.2>i&&(this.scaleValues[1]=i)}}this.calculateParts()}}])&&B(e.prototype,o),l&&B(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function V(t){"@babel/helpers - typeof";return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Y(t,e){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=F(t);if(e){var n=F(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Brace=k;var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=z(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.Trapezoid",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=[],o=t[0],l=t[1],n=t[2],r=new SuperMapAlgoPlot.Point(0,0);this.GetPointsByTrapezoid(1,n,l,o,r),e.push(o),e.push(l),e.push(n),e.push(r);var i=SuperMapAlgoPlot.PlottingUtil.intersectLines(o,l,n,r),a=i.intersectPoint;i.isIntersectLines&&(a.x>o.x&&a.x<l.x||a.y>o.y&&a.y<l.y||a.x<o.x&&a.x>l.x||a.y<o.y&&a.y>l.y)&&(e[0]=r,e[3]=o),4==e.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e)}}},{key:"GetPointsByTrapezoid",value:function(t,e,o,l,n){var r=e.x,i=e.y,a=o.x,s=o.y,p=l.x,u=l.y,c=0,P=0,g=0,y=0;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(Math.abs(i-s),0))c=r+a-p,P=u;else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(Math.abs(r-a),0))c=p,P=i+s-u;else{var f=1*(i-s)/(r-a),h=u-f*p;P=f*(c=((s+i)/2+(r+a)/(2*f)-h)/(f+1/f))+h,c=2*c-p,P=2*P-u}var S=Math.sqrt(1*(r-a)*(r-a)+1*(i-s)*(i-s)),A=Math.sqrt(1*(r-c)*(r-c)+1*(i-P)*(i-P));S>0?(g=r+(a-r)*A/S,y=i+(s-i)*A/S):(g=r,y=i);var M=g+(c-g)*t,d=y+(P-y)*t;n.x=M,n.y=d}}])&&j(e.prototype,o),l&&j(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function G(t){"@babel/helpers - typeof";return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function q(){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=X(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function J(t,e){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=X(t);if(e){var n=X(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Trapezoid=W;var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Z(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.126),e.CLASS_NAME="SuperMapAlgoPlot.GeoTooltipBox",e}return e=r,(o=[{key:"destroy",value:function(){q(X(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=this.scaleValues[0];if(!(t<0||t>1)){if(t=(1-t)/2,this.controlPoints.length>=this.minEditPts){var e,o,l,n,r,i;this.controlPoints[2]&&(this.controlPoints[2].isFixedPos=!0),this.controlPoints[0].x<this.controlPoints[1].x?(e=this.controlPoints[0].x,l=this.controlPoints[1].x):(e=this.controlPoints[1].x,l=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(n=this.controlPoints[0].y,o=this.controlPoints[1].y):(n=this.controlPoints[1].y,o=this.controlPoints[0].y),r=this.controlPoints[2].x,i=this.controlPoints[2].y;var a=0,s=(o-n)/(l-e);a=r<e?i>o?Math.abs((i-o)/(r-e))>s?2:1:i<n&&Math.abs((i-n)/(r-e))>s?4:1:r>l?i>o?Math.abs((i-o)/(r-l))>s?2:3:i<n&&Math.abs((i-n)/(r-l))>s?4:3:i>o?2:i<n?4:0,this.scalePoints=[];var p=[];switch(p.push(new SuperMapAlgoPlot.Point(e,n)),p.push(new SuperMapAlgoPlot.Point(e,o)),p.push(new SuperMapAlgoPlot.Point(l,o)),p.push(new SuperMapAlgoPlot.Point(l,n)),a){case 0:break;case 1:this.addScalePoint(new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),p.splice(a,0,new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(e,n+(o-n)*t));break;case 2:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),p.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,o));break;case 3:this.addScalePoint(new SuperMapAlgoPlot.Point(l,o-(o-n)*t)),p.splice(a,0,new SuperMapAlgoPlot.Point(l,n+(o-n)*t)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(l,o-(o-n)*t));break;case 4:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,n)),p.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,n)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,n))}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p),this.annotationContent(e,o,l,n)}this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint&&0==t){var o,l,n,r,i,a,s=this.scalePoints[0];this.controlPoints[0].x<this.controlPoints[1].x?(o=this.controlPoints[0].x,n=this.controlPoints[1].x):(o=this.controlPoints[1].x,n=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(r=this.controlPoints[0].y,l=this.controlPoints[1].y):(r=this.controlPoints[1].y,l=this.controlPoints[0].y),i=this.controlPoints[2].x,a=this.controlPoints[2].y;var p=(l-r)/(n-o),u=.25;switch(i<o?a>l?Math.abs((a-l)/(i-o))>p?2:1:a<r&&Math.abs((a-r)/(i-o))>p?4:1:i>n?a>l?Math.abs((a-l)/(i-n))>p?2:3:a<r&&Math.abs((a-r)/(i-n))>p?4:3:a>l?2:a<r?4:0){case 1:case 3:var c=s.y+(e.y-s.y);c>l&&(c=l),c<(l+r)/2&&(c=(l+r)/2),u=1-2*(l-c)/(l-r);break;case 2:case 4:var P=s.x+(e.x-s.x);P>n&&(P=n),P<(o+n)/2&&(P=(o+n)/2),u=1-2*(n-P)/(n-o)}u<0&&(u=0),u>1&&(u=1),this.scaleValues[0]=u}this.calculateParts()}}])&&H(e.prototype,o),l&&H(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function K(t){"@babel/helpers - typeof";return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tt(){return(tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function et(t,e){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=lt(t);if(e){var n=lt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.GeoTooltipBox=Q;var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ot(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.GeoTooltipBoxM",e}return e=r,(o=[{key:"destroy",value:function(){tt(lt(r.prototype),"destory",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){var e,o,l,n;t[0].x<t[1].x?(e=t[0].x,l=t[1].x):(e=t[1].x,l=t[0].x),t[0].y<t[1].y?(n=t[0].y,o=t[1].y):(n=t[1].y,o=t[0].y),this.scalePoints=[];var r=[];r.push(new SuperMapAlgoPlot.Point(e,n)),r.push(new SuperMapAlgoPlot.Point(e,o)),r.push(new SuperMapAlgoPlot.Point(l,o)),r.push(new SuperMapAlgoPlot.Point(l,n)),this.isEdit||(this.scaleValues[0]=e,this.scaleValues[1]=n-.3*(o-n),this.scaleValues[2]=e+.5*(l-e),this.scaleValues[3]=n-.3*(o-n));for(var i=[],a=[],s=0;s<this.scaleValues.length/2;s++)i.push(this.getAction(this.scaleValues[2*s],this.scaleValues[2*s+1],e,o,l,n)),a.push(new SuperMapAlgoPlot.Point(this.scaleValues[2*s],this.scaleValues[2*s+1]));for(var p,u,c,P,g=a.length,y=[],f=[],h=[],S=[],A=[],M=0;M<i.length;M++)0===i[M]&&y.push(a[M]),1===i[M]&&f.push(a[M]),2===i[M]&&h.push(a[M]),3===i[M]&&S.push(a[M]),4===i[M]&&A.push(a[M]);var d=i.slice();d.sort();var b=new SuperMapAlgoPlot.Point(0,0);if(d[0]===d[d.length-1]&&0!==d[0]){var v=[];switch(d[0]){case 0:break;case 1:p=1/(2*f.length+1);for(var m=new SuperMapAlgoPlot.Point,O=0;O<2*f.length;O++)m=new SuperMapAlgoPlot.Point(e,n+(o-n)*p*(O+1)),v.unshift(m);break;case 2:u=1/(2*h.length+1);for(var L=new SuperMapAlgoPlot.Point,T=0;T<2*h.length;T++)L=new SuperMapAlgoPlot.Point(e+(l-e)*u*(T+1),o),v.unshift(L);break;case 3:c=1/(2*S.length+1);for(var w=new SuperMapAlgoPlot.Point,x=0;x<2*S.length;x++)w=new SuperMapAlgoPlot.Point(l,n+(o-n)*c*(x+1)),v.push(w);break;case 4:P=1/(2*A.length+1);for(var R=new SuperMapAlgoPlot.Point,U=0;U<2*A.length;U++)R=new SuperMapAlgoPlot.Point(e+(l-e)*P*(U+1),n),v.push(R)}for(var E=0;E<g;E++)for(var I=0;I<g;I++){var C=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(v[2*E+1],a[E],v[2*I],a[I],b);if(C&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,v[2*E+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,v[2*E+1].y)&&(C=!1),C){var B=a[I].clone();a[I]=a[E],a[E]=B}}for(var _=0;_<g;_++)r.splice(d[0],0,v[2*_]),r.splice(d[0],0,a[_]),r.splice(d[0],0,v[2*_+1])}else{for(var D,N,k=[],V=[],j=[],Y=[],z=0;z<i.length;z++)switch(i[z]){case 0:break;case 1:p=1/(2*f.length+1);for(var F=0;F<2*f.length;F++){var W=new SuperMapAlgoPlot.Point(e,n+(o-n)*p*(F+1));k.unshift(W)}for(var G=0;G<f.length;G++)for(var H=1;H<f.length;H++)(D=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(k[2*G+1],f[G],k[2*H],f[H],b))&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,k[2*G+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,k[2*G+1].y)&&(D=!1),D&&(N=f[H].clone(),f[H]=f[G],f[G]=N);break;case 2:u=1/(2*h.length+1);for(var q=0;q<2*h.length;q++){var J=new SuperMapAlgoPlot.Point(e+(l-e)*u*(q+1),o);V.unshift(J)}for(var Z=0;Z<h.length;Z++)for(var X=1;X<h.length;X++)(D=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(V[2*Z+1],h[Z],V[2*X],h[X],b))&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,V[2*Z+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,V[2*Z+1].y)&&(D=!1),D&&(N=h[X].clone(),h[X]=h[Z],h[Z]=N);break;case 3:c=1/(2*S.length+1);for(var Q=0;Q<2*S.length;Q++){var K=new SuperMapAlgoPlot.Point(l,n+(o-n)*c*(Q+1));j.push(K)}for(var $=0;$<S.length;$++)for(var tt=1;tt<S.length;tt++)(D=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(j[2*$+1],S[$],j[2*tt],S[tt],b))&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,j[2*$+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,j[2*$+1].y)&&(D=!1),D&&(N=S[tt].clone(),S[tt]=S[$],S[$]=N);break;case 4:P=1/(2*A.length+1);for(var et=0;et<2*A.length;et++){var ot=new SuperMapAlgoPlot.Point(e+(l-e)*P*(et+1),n);Y.push(ot)}for(var lt=0;lt<A.length;lt++)for(var nt=1;nt<A.length;nt++)(D=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(Y[2*lt+1],A[lt],Y[2*nt],A[nt],b))&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,Y[2*lt+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,Y[2*lt+1].y)&&(D=!1),D&&(N=A[nt].clone(),A[nt]=A[lt],A[lt]=N)}for(var rt=0;rt<A.length;rt++)r.splice(4,0,Y[2*rt]),r.splice(4,0,A[rt]),r.splice(4,0,Y[2*rt+1]);for(var it=0;it<S.length;it++)r.splice(3,0,j[2*it]),r.splice(3,0,S[it]),r.splice(3,0,j[2*it+1]);for(var at=0;at<h.length;at++)r.splice(2,0,V[2*at]),r.splice(2,0,h[at]),r.splice(2,0,V[2*at+1]);for(var st=0;st<f.length;st++)r.splice(1,0,k[2*st]),r.splice(1,0,f[st]),r.splice(1,0,k[2*st+1])}for(var pt=0;pt<a.length;pt++)this.addScalePoint(a[pt],pt)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r),this.annotationContent(e,o,l,n),this.finish()}},{key:"modifyPoint",value:function(t,e){!0===e.isScalePoint&&(null==t&&void 0===t||(this.scaleValues[2*t]=e.x,this.scaleValues[2*t+1]=e.y)),this.calculateParts()}},{key:"getAction",value:function(t,e,o,l,n,r){var i=(l-r)/(n-o);return t<o?e>l?Math.abs((e-l)/(t-o))>i?2:1:e<r&&Math.abs((e-r)/(t-o))>i?4:1:t>n?e>l?Math.abs((e-l)/(t-n))>i?2:3:e<r&&Math.abs((e-r)/(t-n))>i?4:3:e>l?2:e<r?4:0}}])&&$(e.prototype,o),l&&$(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function rt(t){"@babel/helpers - typeof";return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function at(){return(at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function st(t,e){return(st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ut(t);if(e){var n=ut(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.GeoTooltipBoxM=nt;var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).roundBox=!!t.roundBox&&t.roundBox,e.textBoxType=t.textBoxType?t.textBoxType:SuperMapAlgoPlot.TextBoxType.WITHTIPBOX,0===e.scaleValues.length&&(e.scaleValues.push(.126),e.scaleValues.push(0),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.SymbolTextBox",e}return e=r,(o=[{key:"destroy",value:function(){this.roundBox=null,this.textBoxType=null,at(ut(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=this.scaleValues[0];if(!(t<0||t>1)){if(t=(1-t)/2,this.controlPoints.length>=this.minEditPts){var e,o,l,n;this.scalePoints=[];var r=[];this.controlPoints[0].x<this.controlPoints[1].x?(e=this.controlPoints[0].x,l=this.controlPoints[1].x):(e=this.controlPoints[1].x,l=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(n=this.controlPoints[0].y,o=this.controlPoints[1].y):(n=this.controlPoints[1].y,o=this.controlPoints[0].y);var i=1,a=2,s=3,p=4;if(this.roundBox){var u=Math.max(e,l),c=Math.min(e,l),P=Math.max(o,n),g=Math.min(o,n),y=.1*Math.min(Math.abs(e-l),Math.abs(o-n)),f=new SuperMapAlgoPlot.Point(c+y,g+y),h=new SuperMapAlgoPlot.Point(c+y,P-y),S=new SuperMapAlgoPlot.Point(u-y,P-y),A=new SuperMapAlgoPlot.Point(u-y,g+y),M=this.calculateArc(f,y,3*Math.PI/2,Math.PI,-1,180),d=this.calculateArc(h,y,Math.PI,Math.PI/2,-1,180),b=this.calculateArc(S,y,Math.PI/2,0,-1,180),v=this.calculateArc(A,y,2*Math.PI,3*Math.PI/2,-1,180);i=M.length,a=M.length+d.length,s=M.length+d.length+b.length,p=M.length+d.length+b.length+v.length,r=M.concat(d,b,v)}else r.push(new SuperMapAlgoPlot.Point(e,n)),r.push(new SuperMapAlgoPlot.Point(e,o)),r.push(new SuperMapAlgoPlot.Point(l,o)),r.push(new SuperMapAlgoPlot.Point(l,n));this.isEdit||(this.scaleValues[1]=e+.1*(l-e),this.scaleValues[2]=n+-.3*(o-n));var m=new SuperMapAlgoPlot.Point(this.scaleValues[1],this.scaleValues[2]),O=this.getAction(this.scaleValues[1],this.scaleValues[2],e,o,l,n);if(this.textBoxType===SuperMapAlgoPlot.TextBoxType.WITHTIPBOX)switch(this.addScalePoint(m,0),O){case 0:break;case 1:this.addScalePoint(new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),r.splice(i,0,new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),r.splice(i,0,m),r.splice(i,0,new SuperMapAlgoPlot.Point(e,n+(o-n)*t));break;case 2:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),r.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),r.splice(a,0,m),r.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,o));break;case 3:this.addScalePoint(new SuperMapAlgoPlot.Point(l,o-(o-n)*t)),r.splice(s,0,new SuperMapAlgoPlot.Point(l,n+(o-n)*t)),r.splice(s,0,m),r.splice(s,0,new SuperMapAlgoPlot.Point(l,o-(o-n)*t));break;case 4:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,n)),r.splice(p,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,n)),r.splice(p,0,m),r.splice(p,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,n))}if(0!==r.length)if(this.textBoxType===SuperMapAlgoPlot.TextBoxType.NONEBOX){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,{surroundLineFlag:!1,weight:0,lineWidthLimit:!0})}else this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r)}else this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,this.controlPoints);this.annotationContent(e,o,l,n),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint)if(0===t)this.scaleValues[1]=e.x,this.scaleValues[2]=e.y;else if(1===t){var o,l,n,r,i,a,s=this.scalePoints[0];this.controlPoints[0].x<this.controlPoints[1].x?(o=this.controlPoints[0].x,n=this.controlPoints[1].x):(o=this.controlPoints[1].x,n=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(r=this.controlPoints[0].y,l=this.controlPoints[1].y):(r=this.controlPoints[1].y,l=this.controlPoints[0].y),i=this.scaleValues[1],a=this.scaleValues[2];var p=(l-r)/(n-o),u=.25;switch(i<o?a>l?Math.abs((a-l)/(i-o))>p?2:1:a<r&&Math.abs((a-r)/(i-o))>p?4:1:i>n?a>l?Math.abs((a-l)/(i-n))>p?2:3:a<r&&Math.abs((a-r)/(i-n))>p?4:3:a>l?2:a<r?4:0){case 1:case 3:var c=s.y+(e.y-s.y);c>l&&(c=l),c<(l+r)/2&&(c=(l+r)/2),u=1-2*(l-c)/(l-r);break;case 2:case 4:var P=s.x+(e.x-s.x);P>n&&(P=n),P<(o+n)/2&&(P=(o+n)/2),u=1-2*(n-P)/(n-o)}u<0&&(u=0),u>1&&(u=1),this.scaleValues[0]=u}this.calculateParts()}},{key:"calculateArc",value:function(t,e,o,l,n,r){(!n||1!=n&&-1!=n)&&(n=-1),r||(r=360);for(var i=Math.PI/r/2,a=i*n,s=Math.abs(l-o),p=[],u=o,c=0;c<s;c+=i){var P=new SuperMapAlgoPlot.Point(Math.cos(u)*e+t.x,Math.sin(u)*e+t.y);p.push(P),u=(u=(u+=a)<0?u+2*Math.PI:u)>2*Math.PI?u-2*Math.PI:u}return p}},{key:"getAction",value:function(t,e,o,l,n,r){var i=(l-r)/(n-o);return t<o?e>l?Math.abs((e-l)/(t-o))>i?2:1:e<r&&Math.abs((e-r)/(t-o))>i?4:1:t>n?e>l?Math.abs((e-l)/(t-n))>i?2:3:e<r&&Math.abs((e-r)/(t-n))>i?4:3:e>l?2:e<r?4:0}}])&&it(e.prototype,o),l&&it(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pt(t){"@babel/helpers - typeof";return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function yt(t,e){return(yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ht(t);if(e){var n=ht(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.SymbolTextBox=ct;var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ft(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),void 0===(e=n.call(this,t)).scaleValues[0]&&(e.scaleValues[0]=0),void 0===e.scaleValues[1]&&(e.scaleValues[1]=360),e.CLASS_NAME="SuperMapAlgoPlot.ConcentricCircle",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(null==(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t))||t.length<2)){for(;this.scaleValues[0]>360;)this.scaleValues[0]-=360;for(;this.scaleValues[0]<0;)this.scaleValues[0]+=360;for(;this.scaleValues[1]>360;)this.scaleValues[1]-=360;for(;this.scaleValues[1]<0;)this.scaleValues[1]+=360;for(;this.scaleValues[1]<=this.scaleValues[0];)this.scaleValues[1]+=360;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[1],this.scaleValues[0])&&(this.scaleValues[1]+=360);for(var e=[],o=0;o<t.length-1;o++){for(var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[o+1]),n=[],r=Math.PI/180,i=(this.scaleValues[1]-this.scaleValues[0])/72,a=this.scaleValues[0];a<this.scaleValues[1]+i/2;a+=i){var s=t[0].x+l*Math.cos(a*r),p=t[0].y+l*Math.sin(a*r);n.push(new SuperMapAlgoPlot.Point(s,p))}if(o>0){for(var u=[],c=0;c<e.length;c++)u.push(e[c]);for(var P=n.length-1;P>=0;P--)u.push(n[P]);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,{surroundLineFlag:!1,lineWidthLimit:!0,weight:0,strokeWidth:0})}e.length=0;for(var g=0;g<n.length;g++)e.push(n[g]);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),o<2){var y=o%2,f=t[0].x+l/2*Math.cos(this.scaleValues[y]*r),h=t[0].y+l/2*Math.sin(this.scaleValues[y]*r),S=new SuperMapAlgoPlot.Point(f,h);S.isScalePoint=!0,S.tag=o,this.addScalePoint(S)}}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){for(var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=180*SuperMapAlgoPlot.PlottingUtil.radian(o[0],e)/Math.PI;l>360;)l-=360;for(;l<0;)l+=360;t%2==0?this.scaleValues[0]=l:t%2==1&&(this.scaleValues[1]=l)}this.calculateParts()}}])&&gt(e.prototype,o),l&&gt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function At(t){"@babel/helpers - typeof";return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dt(t,e){return(dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vt(t);if(e){var n=vt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.ConcentricCircle=St;var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=bt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).angleRange=[],e.defaultRadius=t.defaultRadius?t.defaultRadius:60,e.CLASS_NAME="SuperMapAlgoPlot.CombinationalCircle",e}return e=r,(o=[{key:"calculateParts",value:function(){if(this.init(),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints),!(null==this.controlPoints||this.controlPoints.length<1)){var t=this.getCircleLonLat(this.controlPoints[0],this.defaultRadius);this.angleRange=[];for(var e=0;e<this.controlPoints.length;e++)null==this.scaleValues[e]&&(this.scaleValues[e]=t),this.angleRange.push([{Start:0,End:360}]);for(var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=0;l<o.length;l++)if(0!==this.angleRange[l].length&&(0!==this.angleRange[l][0].Start||0!==this.angleRange[l][0].End))for(var n=l+1;n<o.length;n++)if(0!==this.angleRange[n].length&&(0!==this.angleRange[n][0].Start||0!==this.angleRange[n][0].End)){var r=SuperMapAlgoPlot.PlottingUtil.distance(o[l],o[n]);if(r<this.scaleValues[l]+this.scaleValues[n])if(r>Math.abs(this.scaleValues[l]-this.scaleValues[n]))for(var i=0;i<2;i++){var a,s,p;0==i?(p=l,a=SuperMapAlgoPlot.PlottingUtil.radian(o[l],o[n])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((r*r+this.scaleValues[l]*this.scaleValues[l]-this.scaleValues[n]*this.scaleValues[n])/(2*r*this.scaleValues[l]))*SuperMapAlgoPlot.PlottingUtil.RTOD):(p=n,a=SuperMapAlgoPlot.PlottingUtil.radian(o[n],o[l])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((r*r+this.scaleValues[n]*this.scaleValues[n]-this.scaleValues[l]*this.scaleValues[l])/(2*r*this.scaleValues[n]))*SuperMapAlgoPlot.PlottingUtil.RTOD);var u=a-s,c=a+s,P=u<0&&c>0||u>360||c>360;u=this.adjustAngle(u),c=this.adjustAngle(c);for(var g=this.angleRange[p].length-1;g>=0;g--)if(P){if(c>this.angleRange[p][g].End||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,this.angleRange[p][g].End)){this.angleRange[p].splice(g,1);continue}if(c>this.angleRange[p][g].Start&&(this.angleRange[p][g].Start=c),u<this.angleRange[p][g].Start||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(u,this.angleRange[p][g].Start)){this.angleRange[p].splice(g,1);continue}u<this.angleRange[p][g].End&&(this.angleRange[p][g].End=u)}else if(u<this.angleRange[p][g].Start&&c>this.angleRange[p][g].End)this.angleRange[p].splice(g,1);else if(u>this.angleRange[p][g].Start&&c<this.angleRange[p][g].End)this.angleRange[p].push({Start:this.angleRange[p][g].Start,End:u}),this.angleRange[p].push({Start:c,End:this.angleRange[p][g].End}),this.angleRange[p].splice(g,1);else{if(u>this.angleRange[p][g].End)continue;if(u>this.angleRange[p][g].Start&&(this.angleRange[p][g].End=u),c<this.angleRange[p][g].Start)continue;c<this.angleRange[p][g].End&&(this.angleRange[p][g].Start=c)}}else{if(this.scaleValues[l]<this.scaleValues[n]){this.angleRange[l][0].Start=0,this.angleRange[l][0].End=0;break}this.angleRange[n][0].Start=0,this.angleRange[n][0].End=0}}for(var y=[],f=0;f<o.length;f++)if(0!==this.angleRange[f].length&&(0!==this.angleRange[f][0].Start||0!==this.angleRange[f][0].End))for(var h=this.angleRange[f].length-1;h>=0;h--){for(var S=this.adjustAngle(this.angleRange[f][h].Start),A=this.adjustAngle(this.angleRange[f][h].End);A<S;)A+=360;if(A-S==360)this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[o[f],new SuperMapAlgoPlot.Point(o[f].x,o[f].y+this.scaleValues[f])]);else{for(var M=[],d=(A-S)/72,b=S;b<A+d/2;b+=d){var v=o[f].x+this.scaleValues[f]*Math.cos(b*SuperMapAlgoPlot.PlottingUtil.DTOR),m=o[f].y+this.scaleValues[f]*Math.sin(b*SuperMapAlgoPlot.PlottingUtil.DTOR);M.push(new SuperMapAlgoPlot.Point(v,m))}y.push(M)}}for(var O=[];0!==y.length;){var L=y[0];y.splice(0,1),void 0!==(L=this.generatePolygon(y,L))&&O.push(L)}for(var T=O.length,w=T-1;w>=0;w--)for(var x=0;x<O[w].length;x++){for(var R=-1,U=-1,E=0;E<T;E++)if(parseInt(E)!==w){var I=O[E];if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(I,O[w][x])){R=w;O[U=parseInt(E)].push(O[U][0]),O[R].push(O[R][0]),O[U]=O[U].concat(O[R]),O.splice(R,1),T=O.length;break}}if(-1!==R&&-1!==U)break}for(var C=0;C<O.length;C++)O[C][0]!=O[C][O[C].length-1]&&O[C].push(O[C][0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,O[C]);for(var B=0;B<o.length;B++){var _=new SuperMapAlgoPlot.Point(o[B].x+this.scaleValues[B],o[B].y);_.isScalePoint=!0,_.tag=B,this.addScalePoint(_)}}}},{key:"generatePolygon",value:function(t,e){if(0===t.length||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[0].x,e[e.length-1].x,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[0].y,e[e.length-1].y,1e-10))return e;for(var o,l=e[e.length-1],n=0;n<t.length;n++)if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n][0].x,l.x,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n][0].y,l.y,1e-10)){if(e=e.concat(t[n]),t.splice(n,1),void 0!==(o=this.generatePolygon(t,e))&&0!==o.length)return o}else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n][t[n].length-1].x,l.x,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n][t[n].length-1].y,l.y,1e-10)){for(var r=t[n].length-1;r>=0;r--)e.push(t[n][r]);if(t.splice(n,1),void 0!==(o=this.generatePolygon(t,e))&&0!==o.length)return o}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>=this.controlPoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.distance(o[t],e);this.scaleValues[t]=l}this.calculateParts()}},{key:"adjustAngle",value:function(t){for(;t>360;)t-=360;for(;t<0;)t+=360;return t}},{key:"getCircleLonLat",value:function(t,e){return null===this.map?2*this.getDefaultSubSymbolSize():this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map?((o=this.map.latLngToLayerPoint(L.latLng(t.y,t.x))).x+=e,this.map.layerPointToLatLng(L.point(o.x,o.y)).lng-t.x):this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map?((o=this.map.getPixelFromLonLat(new SuperMap.LonLat(t.x,t.y))).x+=e,this.map.getLonLatFromPixel(new SuperMap.Pixel(o.x,o.y)).lon-t.x):void 0;var o}}])&&Mt(e.prototype,o),l&&Mt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ot(t){"@babel/helpers - typeof";return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tt(t,e){return(Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xt(t);if(e){var n=xt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.CombinationalCircle=mt;var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.FreeCurve",e}return e=r,(o=[{key:"calculateParts",value:function(){if(this.init(),!(null==this.controlPoints||this.controlPoints.length<this.minEditPts)){this.scalePoints=[];var t=[];if(this.controlPoints.length<3)t.push(this.controlPoints[0]),t.push(this.controlPoints[1]);else{if(!this.isEdit){var e=this.getLonLatFromPixel(0,0),o=this.getLonLatFromPixel(100,100),l=Math.abs(e.lon-o.lon),n=this.reSample(this.controlPoints,l/50);n.length<3&&(n=this.controlPoints),this.controlPoints=[],this.controlPoints=this.controlPoints.concat(n)}var r=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,this.controlPoints,this.scaleValues);r.scalePoints=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r.scalePoints),r.scaleValues=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r.scaleValues),this.scaleValues=r.scaleValues;for(var i=0,a=r.scalePoints.length;i<a;i++){var s=r.scalePoints[i];s.isScalePoint=!0,s.tag=i,this.addScalePoint(s)}t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(2>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=-1;n=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var r=(e.x-o[n].x)/l,i=(e.y-o[n].y)/l;this.scaleValues[2*t]=r,this.scaleValues[2*t+1]=i}this.calculateParts()}},{key:"reSample",value:function(t,e){var o=[];if(null==t||e<0)return o;var l=t.length;if(l>2){var n=new SuperMapAlgoPlot.Point(0,0),r=0,i=0,a=0,s=2*Math.PI;n=t[0],o.push(n);for(var p=!1,u=!1,c=!1,P=1;P<l;P++)if(i=Math.sqrt((t[P].y-n.y)*(t[P].y-n.y)+(t[P].x-n.x)*(t[P].x-n.x)),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,i))p&&(n=t[P-1],P--,o.push(n),a=0,s=2*Math.PI,p=!1,u=!1,c=!1);else{var g=(t[P].x-n.x)/i,y=(t[P].y-n.y)/i;if(r=y>0||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,y)?Math.acos(g):2*Math.PI-Math.acos(g),s>2*Math.PI&&r+2*Math.PI<s?(r+=2*Math.PI,a<0&&(a+=2*Math.PI)):a<0&&r-2*Math.PI>a&&(r-=2*Math.PI,s>2*Math.PI&&(s-=2*Math.PI)),r>a&&r<s||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,r-a)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,r-s)){var f=Math.atan(e/i);u?a<r-f&&(a=r-f):(u=!0,a=r-f),c?s>r+f&&(s=r+f):(c=!0,s=r+f),p=!0}else n=t[P-1],P--,o.push(n),a=0,s=2*Math.PI,p=!1,u=!1,c=!1}return o.push(t[l-1]),o}return o}},{key:"reSampleByAngle",value:function(t,e){var o=[],l=t.length;if(null==t||l<=0||e<=0)return o;for(var n=t,r=l,i=!1;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n[0].x,n[r-1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n[0].y,n[r-1].y);){if((r-=1)<=0)return o;i=!0}var a,s,p=[];for(a=0;a<r;a++)p.push(0);for(p[0]=1,p[r-1]=1,s=0,a=1;a<r-1;a++)if(SuperMapAlgoPlot.PlottingUtil.distance(n[s],n[a])>1e-10&&SuperMapAlgoPlot.PlottingUtil.distance(n[s],n[a+1])>1e-10){var u=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(n[a],n[s],n[a+1])/Math.PI;u>e&&u<180-e&&(p[a]=1,s++)}var c=0;for(a=0;a<r;a++)1==p[a]&&c++;if(c>0){for(i&&c++,o=[],s=0,a=0;a<r;a++)1==p[a]&&(o[s++]=n[a]);return i&&(o[s]=o[0]),o}return o}}])&&Lt(e.prototype,o),l&&Lt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ut(t){"@babel/helpers - typeof";return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function It(){return(It="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_t(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function Ct(t,e){return(Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_t(t);if(e){var n=_t(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.FreeCurve=Rt;var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ct(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues[1]=.1),e.CLASS_NAME="SuperMapAlgoPlot.NodeChain",e}return e=r,(o=[{key:"destroy",value:function(){It(_t(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){if(this.init(),this.controlPoints&&null!==this.controlPoints){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t),this.isEdit||(this.scaleValues[1]=.25*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=e*this.scaleValues[0],l=e*this.scaleValues[1];if(0<this.subSymbols.length&&null!==this.subSymbols[0]&&void 0!==this.subSymbols[0])if(this.subSymbols[0].code>0)for(var n=0;n<t.length;n++){var r=new SuperMapAlgoPlot.Point(t[n].x,t[n].y+o);this.computeSubSymbol(this.subSymbols[0],r,2*l,0)}else this.addCircles(t,o,l);else this.addCircles(t,o,l);var i=new SuperMapAlgoPlot.Point(t[0].x,t[0].y+o);this.addScalePoint(i);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,90);this.addScalePoint(a)}}}},{key:"addCircles",value:function(t,e,o){for(var l={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},n=0;n<t.length;n++){var r=new SuperMapAlgoPlot.Point(t[n].x,t[n].y+e),i=this.getCirclePts(r,o);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,l)}}},{key:"getCirclePts",value:function(t,e){for(var o=[],l=0;l<=360;l+=12){var n=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l);o.push(n)}return o}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)this.scaleValues[0]=(e.y-o[0].y)/l;else if(1===t){var n=l*this.scaleValues[0],r=new SuperMapAlgoPlot.Point(o[0].x,o[0].y+n),i=SuperMapAlgoPlot.PlottingUtil.distance(e,r);this.scaleValues[1]=i/l}}this.calculateParts()}}])&&Et(e.prototype,o),l&&Et(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Nt(t){"@babel/helpers - typeof";return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vt(){return(Vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zt(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function jt(t,e){return(jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zt(t);if(e){var n=zt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.NodeChain=Dt;var Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Yt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e.CLASS_NAME="SuperMapAlgoPlot.Runway",e}return e=r,(o=[{key:"destroy",value:function(){Vt(zt(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){if(this.init(),this.controlPoints.length>=this.minEditPts){for(var t=this.controlPoints[0],e=this.controlPoints[1],o=SuperMapAlgoPlot.PlottingUtil.distance(t,e),l=this.scaleValues[0]*o,n=SuperMapAlgoPlot.PlottingUtil.parallel(this.controlPoints,l/2),r=SuperMapAlgoPlot.PlottingUtil.parallel(this.controlPoints,-l/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,a=[],s=i+90;s<=i+270;s+=10){var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,l/2,l/2,s);a.push(p)}for(var u=[],c=i-90;c<=i+90;c+=10){var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,l/2,l/2,c);u.push(P)}var g=[];(g=(g=(g=(g=g.concat(a)).concat(r)).concat(u)).concat(n)).push(g[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g);var y=new SuperMapAlgoPlot.Point(a[0].x,a[0].y);this.addScalePoint(y)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint&&0==t){var o=SuperMapAlgoPlot.PlottingUtil.distance(e,this.controlPoints[0]),l=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]);this.scaleValues[0]=2*o/l}this.calculateParts()}}])&&kt(e.prototype,o),l&&kt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Wt(t){"@babel/helpers - typeof";return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ht(){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zt(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function qt(t,e){return(qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zt(t);if(e){var n=Zt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Runway=Ft;var Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.CurveEight",e}return e=r,(o=[{key:"destroy",value:function(){Ht(Zt(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){if(this.init(),this.controlPoints&&null!==this.controlPoints&&!(this.minEditPts>this.controlPoints.length))if(2===this.controlPoints.length){var t=this.controlPoints[0].clone(),e=this.controlPoints[1].clone(),o=SuperMapAlgoPlot.PlottingUtil.distance(t,e)/2,l=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,o,o,l+90),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,3*o,3*o,l+90);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[r,new SuperMapAlgoPlot.Point(r.x+o,r.y)]),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[i,new SuperMapAlgoPlot.Point(i.x+o,i.y)])}else{var a=this.controlPoints[0].clone(),s=this.controlPoints[1].clone(),p=this.controlPoints[2].clone(),u=0;u=SuperMapAlgoPlot.PlottingUtil.isRight(p,a,s)?180*SuperMapAlgoPlot.PlottingUtil.radian(s,a)/Math.PI+90:180*SuperMapAlgoPlot.PlottingUtil.radian(a,s)/Math.PI+90;var c=SuperMapAlgoPlot.PlottingUtil.distance(a,s)/2,P=new SuperMapAlgoPlot.Point((a.x+s.x)/2,(a.y+s.y)/2),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,c,c,u),y=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(p,a,s);if(y<=4*c){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,3*c,3*c,u);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[g,new SuperMapAlgoPlot.Point(g.x+c,g.y)]),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[f,new SuperMapAlgoPlot.Point(f.x+c,f.y)])}else{for(var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,y-c,y-c,u),S=180*Math.acos(c/(y-2*c))/Math.PI,A=u-S,M=u-180+S,d=u-180-S+360,b=[],v=u+S-360;v<=A;v+=4){var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,c,c,v);b.push(m)}var O=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,c,c,A);b.push(O);for(var L=[],T=M;T<d;T+=4){var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,c,c,T);L.push(w)}var x=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,c,c,d);L.push(x);var R=[];R=R.concat(b);for(var U=L.length-1;U>=0;U--)R.push(L[U]);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,R)}}}}])&&Gt(e.prototype,o),l&&Gt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qt(t){"@babel/helpers - typeof";return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function $t(t,e){return($t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ee(t);if(e){var n=ee(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ee(t){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.CurveEight=Xt;var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$t(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=te(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).relLineText=t.relLineText?t.relLineText:0,e.showPathLine=!t.showPathLine||t.showPathLine,e.showPathLineArrow=!!t.showPathLineArrow&&t.showPathLineArrow,e.isCurve=!!t.isCurve&&t.isCurve,e.isAvoid=!!t.isAvoid&&t.isAvoid,e.textToLineDistance=t.textToLineDistance?t.textToLineDistance:0,e.CLASS_NAME="SuperMapAlgoPlot.PathText",e}return e=r,(o=[{key:"calculateParts",value:function(){if(this.init(),null!==this.controlPoints&&0!==this.controlPoints.length&&!(this.controlPoints.length<this.minEditPts)){SuperMap.Util.isArray(this.textContent)||(this.textContent=[this.textContent]);var t=[];if(t=this.isCurve?SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(this.controlPoints):SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),this.relLineText===SuperMapAlgoPlot.RelLineText.ONBOTHLINE){this.relLineText=SuperMapAlgoPlot.RelLineText.ONRIGHTLINE;var e=this.getTextPathPts(t,!1);this.computeText(e,this.textContent[0],t),this.relLineText=SuperMapAlgoPlot.RelLineText.ONLEFTLINE;var o=this.showPathLine;this.showPathLine=!1;var l=this.getTextPathPts(t,!0);this.textContent.length>1?this.computeText(l,this.textContent[1],t):this.computeText(l,this.textContent[0],t),this.relLineText=SuperMapAlgoPlot.RelLineText.ONBOTHLINE,this.showPathLine=o}else{var n=[];n=this.relLineText===SuperMapAlgoPlot.RelLineText.ONRIGHTLINE?this.getTextPathPts(t,!1):this.relLineText===SuperMapAlgoPlot.RelLineText.ONLEFTLINE?this.getTextPathPts(t,!0):t,this.computeText(n,this.textContent[0],t)}this.finish()}}},{key:"getTextPathPts",value:function(t,e){t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var o=this.getLonLatDistanceFromPixel(this.textToLineDistance);if(0>=o)return SuperMapAlgoPlot.PlottingUtil.clonePoints(t);var l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,e);return SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)}},{key:"computeText",value:function(t,e,o){if(!(t.length<2)){for(var l=e.length,n=t,r=n.length,i=0,a=0;a<n.length-1;a++)i+=SuperMapAlgoPlot.PlottingUtil.distance(n[a],n[a+1]);var s={index:-1,pt:n[0]},p=0,u=0,c=0,P=180/Math.PI,g=this.getTextBounds(this.style,e),y="lm";y=this.relLineText===SuperMapAlgoPlot.RelLineText.ONLINE?"lm":this.relLineText===SuperMapAlgoPlot.RelLineText.ONLEFTLINE?"lb":"lt",(p=(i-g.getWidth())/2)<=0&&(p=0);for(var f=[],h=0;h<l;h++){var S=this.getTextBounds(this.style,e.charAt(h));f.push(new SuperMap.Bounds(0,-g.getHeight(),S.getWidth(),0))}for(var A,M=!1,d=!1,b=0,v=0,m=[];u<=p&&c<r-1;)c++,u+=SuperMapAlgoPlot.PlottingUtil.distance(n[c-1],n[c]);var O=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,p),L=SuperMapAlgoPlot.PlottingUtil.radian(n[c-1],n[c])*P;L>180&&(L-=360),L<-180&&(L+=360),L>90&&L<=180?(b=-180,M=!0,d=!0):L>-180&&L<-90&&(b=180,M=!0,d=!0),!0,0!=b?this.relLineText===SuperMapAlgoPlot.RelLineText.ONLINE||(y=this.relLineText===SuperMapAlgoPlot.RelLineText.ONLEFTLINE?"lt":"lb"):this.relLineText===SuperMapAlgoPlot.RelLineText.ONLINE||(y=this.relLineText===SuperMapAlgoPlot.RelLineText.ONLEFTLINE?"lb":"lt");for(var T=0;T<l&&!(p>i);T++){var w=T;for(d&&(w=l-T-1),v=(A=f[w]).getWidth(),M&&(p+=v);u<=p&&c<r-1;)c++,u+=SuperMapAlgoPlot.PlottingUtil.distance(n[c-1],n[c]);var x=(L=SuperMapAlgoPlot.PlottingUtil.radian(n[c-1],n[c])*P)+b;if((s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,p)).index<0)break;A.add(s.pt.x,s.pt.y);var R=e.charAt(w),U={};U.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,U.textContent=R,U.positionPoints=[s.pt],U.style={surroundLineFlag:!1,labelAlign:y,labelRotation:-x},m.push(U),M||(p+=v)}var E=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,p);if(this.showPathLine){if(this.relLineText===SuperMapAlgoPlot.RelLineText.ONLINE&&this.isAvoid){if(O.index>=0){for(var I=[],C=0;C<=O.index;C++)I.push(o[C]);I.push(O.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I)}if(E.index>=0){var B=[];B.push(E.pt);for(var _=E.index+1;_<o.length;_++)B.push(o[_]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B)}}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o);this.showPathLineArrow&&this.addArrow(o)}for(var D=0;D<m.length;D++)this.components.push(m[D])}}},{key:"addArrow",value:function(t){if(t.length<2)return t;var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints)*(this.isEdit,null==this.getSubSymbolScaleValue()?.05:.5*this.getSubSymbolScaleValue()),o=t[t.length-1];if(t.length>2){for(var l=-1,n=t.length-2;n>=0;n--)if(e<SuperMapAlgoPlot.PlottingUtil.distance(o,t[n])){l=n;break}t.splice(l+1,t.length-l),t.push(o)}var r=t[t.length-2],i=t[t.length-1],a=e;if(void 0===r)return t;if(!(SuperMapAlgoPlot.PlottingUtil.distance(r,i)<e)){var s=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,s+157.5),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,s+202.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[p,t[t.length-1],u],{surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0,fill:!0})}}}])&&Kt(e.prototype,o),l&&Kt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function le(t){"@babel/helpers - typeof";return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function re(){return(re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=se(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function ie(t,e){return(ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=se(t);if(e){var n=se(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.PathText=oe;var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ie(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ae(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).islocationCircle=!!t.islocationCircle&&t.islocationCircle,e.textBoxType=t.textBoxType?t.textBoxType:SuperMapAlgoPlot.TextBoxType.RECTBOX,0===e.scaleValues.length&&(e.scaleValues.push(.126),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(4)),e.CLASS_NAME="SuperMapAlgoPlot.LineMarking",e}return e=r,(o=[{key:"destroy",value:function(){this.islocationCircle=null,this.textBoxType=null,re(se(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init(),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);var t=this.scaleValues[0];if(!(t<0||t>1)){if(t=(1-t)/2,this.controlPoints.length>=this.minEditPts){var e,o,l,n;this.scalePoints=[];var r=[];this.controlPoints[0].x<this.controlPoints[1].x?(e=this.controlPoints[0].x,l=this.controlPoints[1].x):(e=this.controlPoints[1].x,l=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(n=this.controlPoints[0].y,o=this.controlPoints[1].y):(n=this.controlPoints[1].y,o=this.controlPoints[0].y),r.push(new SuperMapAlgoPlot.Point(e,n)),r.push(new SuperMapAlgoPlot.Point(e,o)),r.push(new SuperMapAlgoPlot.Point(l,o)),r.push(new SuperMapAlgoPlot.Point(l,n)),!1===this.isEdit&&(this.scaleValues[1]=e+.1*(l-e),this.scaleValues[2]=n+-.3*(o-n));var i=this.getAction(this.scaleValues[1],this.scaleValues[2],e,o,l,n),a=new SuperMapAlgoPlot.Point(this.scaleValues[1],this.scaleValues[2]);if(this.textBoxType===SuperMapAlgoPlot.TextBoxType.RECTBOX||this.textBoxType===SuperMapAlgoPlot.TextBoxType.LINEBOX){var s=[];switch(i){case 0:this.addScalePoint(a);break;case 1:this.addScalePoint(a),s.push(new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),s.push(a);break;case 2:this.addScalePoint(a),s.push(new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),s.push(a);break;case 3:this.addScalePoint(a),s.push(new SuperMapAlgoPlot.Point(l,o-(o-n)*t)),s.push(a);break;case 4:this.addScalePoint(a),s.push(new SuperMapAlgoPlot.Point(l-(l-e)*t,n)),s.push(a)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s)}if(0!==r.length&&this.textBoxType===SuperMapAlgoPlot.TextBoxType.RECTBOX)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r);else if(0!==r.length&&this.textBoxType===SuperMapAlgoPlot.TextBoxType.LINEBOX){var p=[];switch(i){case 0:break;case 1:p=(p=p.concat(r[0])).concat(r[1]);break;case 2:p=(p=p.concat(r[1])).concat(r[2]);break;case 3:p=(p=p.concat(r[2])).concat(r[3]);break;case 4:p=(p=p.concat(r[3])).concat(r[0])}0!==p.length?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p):this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,this.controlPoints)}this.islocationCircle&&this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[a,new SuperMapAlgoPlot.Point(a.x-.05,a.y-.05)]),this.annotationContent(e,o,l,n)}else this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,this.controlPoints);this.finish()}}},{key:"modifyPoint",value:function(t,e){!0===e.isScalePoint&&(this.scaleValues[1]=e.x,this.scaleValues[2]=e.y),this.calculateParts()}},{key:"getAction",value:function(t,e,o,l,n,r){var i=(l-r)/(n-o);return t<o?e>l?Math.abs((e-l)/(t-o))>i?2:1:e<r&&Math.abs((e-r)/(t-o))>i?4:1:t>n?e>l?Math.abs((e-l)/(t-n))>i?2:3:e<r&&Math.abs((e-r)/(t-n))>i?4:3:e>l?2:e<r?4:0}}])&&ne(e.prototype,o),l&&ne(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ue(t){"@babel/helpers - typeof";return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pe(){return(Pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fe(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function ge(t,e){return(ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=fe(t);if(e){var n=fe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.LineMarking=pe;var he=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ye(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subSectionCount=t.subSectionCount?t.subSectionCount:10,e.CLASS_NAME="SuperMapAlgoPlot.LineRelation",e}return e=r,(o=[{key:"destroy",value:function(){this.subSectionCount=null,Pe(fe(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();for(var t=0;t<this.controlPoints.length;t++)this.controlPoints[t].tag=t;var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);null!==e&&e.length>=this.minEditPts&&this.computeLine(e)}},{key:"computeLine",value:function(t){this.components.length=0;var e=t[0],o=t[t.length-1];this.subSectionCount<=1&&(this.subSectionCount=10);var l=SuperMapAlgoPlot.PlottingUtil.distance(e,o)/(2*this.subSectionCount-1);if(this.lineRelationType===SuperMapAlgoPlot.LineRelationType.SOLID)this.addCell(24,t,{surroundLineFlag:!1});else if(this.lineRelationType===SuperMapAlgoPlot.LineRelationType.DASH)for(var n=0;n<this.subSectionCount;n++){var r=SuperMapAlgoPlot.PlottingUtil.findPoint(e,o,2*n*l,0),i=SuperMapAlgoPlot.PlottingUtil.findPoint(e,o,(2*n+1)*l,0);this.addCell(24,[r,i],{surroundLineFlag:!1})}else if(this.lineRelationType===SuperMapAlgoPlot.LineRelationType.ARROW)for(var a=0;a<this.subSectionCount;a++){var s=SuperMapAlgoPlot.PlottingUtil.findPoint(e,o,2*a*l,0),p=SuperMapAlgoPlot.PlottingUtil.findPoint(e,o,(2*a+1)*l,0),u=SuperMapAlgoPlot.PlottingUtil.findPoint(p,s,l,60),c=SuperMapAlgoPlot.PlottingUtil.findPoint(p,s,l,-60);this.addCell(24,[u,p,c],{surroundLineFlag:!1})}}}])&&ce(e.prototype,o),l&&ce(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Se(t){"@babel/helpers - typeof";return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Me(){return(Me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ve(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function de(t,e){return(de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ve(t);if(e){var n=ve(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.LineRelation=he;var me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=be(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),void 0===(e=n.call(this,t)).scaleValues[0]&&(e.scaleValues[0]=0),void 0===e.scaleValues[1]&&(e.scaleValues[1]=0),e.CLASS_NAME="SuperMapAlgoPlot.PolygonRegion",e}return e=r,(o=[{key:"destroy",value:function(){Me(ve(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(null!=(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t))&&t.length>=this.minEditPts){if(this.addCell(32,t,{surroundLineFlag:!1}),this.textContent&&null!=this.textContent&&this.textContent.length>0){var e=[];this.scaleValues[1]>t.length&&(this.scaleValues[1]=0);var o={labelRotation:0,surroundLineFlag:!1,labelAlign:"lt"};if(0===this.scaleValues[1])e=[SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t)];else{var l=null,n=null;this.scaleValues[1]===t.length?(l=t[t.length-1],n=t[0]):(l=t[this.scaleValues[1]-1],n=t[this.scaleValues[1]]),o.labelRotation=-SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI*180;var r=this.scaleValues[0]*SuperMapAlgoPlot.PlottingUtil.distance(l,n);e=[SuperMapAlgoPlot.PlottingUtil.findPoint(l,n,r,0)]}this.addCell(34,e,o,this.textContent);var i=new SuperMapAlgoPlot.Point(e[0].x,e[0].y);i.isScalePoint=!0,i.tag=0,this.scalePoints=[],this.addScalePoint(i)}}else this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine()}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){for(var o=0,l=SuperMapAlgoPlot.PlottingUtil.distance(e,this.controlPoints[0]),n=1;n<this.controlPoints.length;n++){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,this.controlPoints[n]);r<l&&(l=r,o=n)}var i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i)).push(i[0].clone());var a=SuperMapAlgoPlot.PlottingUtil.computePointToLineMinDis(e,i);if(-1===a.minDis)this.scaleValues[1]=o+1,this.offsetX=0,this.offsetY=0;else{var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,i[a.index],i[a.index+1]),p=SuperMapAlgoPlot.PlottingUtil.distance(e,s),u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(this.controlPoints),c=SuperMapAlgoPlot.PlottingUtil.distance(e,u);if(c<p&&c<l)this.scaleValues[1]=0,this.scaleValues[0]=0;else if(l<p&&l<c)this.scaleValues[1]=o+1,this.scaleValues[0]=0;else if(p<l&&p<c){this.scaleValues[1]=a.index+1;var P=null,g=null;this.scaleValues[1]===this.controlPoints.length?(P=this.controlPoints[this.controlPoints.length-1],g=this.controlPoints[0]):(P=this.controlPoints[this.scaleValues[1]-1],g=this.controlPoints[this.scaleValues[1]]);var y=SuperMapAlgoPlot.PlottingUtil.distance(s,P),f=SuperMapAlgoPlot.PlottingUtil.distance(P,g);this.scaleValues[0]=y/f}}}this.calculateParts()}},{key:"parseSymbolData",value:function(){Me(ve(r.prototype),"parseSymbolData",this).call(this),this.symbolData&&(this.scaleValues[1]=this.symbolData.annotationPosition)}},{key:"setSymbolData",value:function(){Me(ve(r.prototype),"setSymbolData",this).call(this),this.symbolData&&(this.symbolData.annotationPosition=this.scaleValues[1])}}])&&Ae(e.prototype,o),l&&Ae(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Oe(t){"@babel/helpers - typeof";return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Le(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Te(t,e){return(Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function we(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xe(t);if(e){var n=xe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.PolygonRegion=me;var Re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=we(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.CLASS_NAME="SuperMapAlgoPlot.Wire",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=2*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);for(var l=o*this.scaleValues[0],n=o*this.scaleValues[0]/2,r=SuperMapAlgoPlot.PlottingUtil.clonePoints(e),i=parseInt((o-n)/l),a=0;a<=i&&!(n+l*a>o);a++){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,n+l*a);if(-1!==s.index){var p=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y),u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l/2,e[s.index],p);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u.pntLeft,u.pntRight])}}this.finish()}}}])&&Le(e.prototype,o),l&&Le(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ue(t){"@babel/helpers - typeof";return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ie(t,e){return(Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Be(t);if(e){var n=Be(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Wire=Re;var _e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ce(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(15),e.scaleValues.push(7.5),e.scaleValues.push(0),e.scaleValues.push(15),e.scaleValues.push(7.5),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.LinearArrow",e}return e=r,(o=[{key:"calculateParts",value:function(){if(this.init(),!(null==this.controlPoints||this.controlPoints.length<this.minEditPts)){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scalePoints=[],this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t),!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[0],0)&&!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[1],0)){var e=this.scaleValues[0]*(this.style.weight||this.style.strokeWidth),o=this.scaleValues[1]*(this.style.weight||this.style.strokeWidth),l=this.getLonLatDistanceFromPixel(e),n=this.getLonLatDistanceFromPixel(o),r=SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[0],t[1],l),i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],r),a=[];if(a.push(i.pntLeft),a.push(t[0]),a.push(i.pntRight),this.addScalePoint(i.pntLeft,0),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[2],0))this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a,{fillLimit:!0,fill:!0}),this.addScalePoint(r,1);else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[2],1))this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),this.addScalePoint(t[0],1);else{var s=l*this.scaleValues[2],p=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,t[0],s);a.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a,{fillLimit:!0,fill:!0}),this.addScalePoint(p,1)}}if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[3],0)&&!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[4],0)){var u=this.scaleValues[3]*(this.style.weight||this.style.strokeWidth),c=this.scaleValues[4]*(this.style.weight||this.style.strokeWidth),P=this.getLonLatDistanceFromPixel(u),g=this.getLonLatDistanceFromPixel(c),y=SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[1],t[0],P),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(g,t[0],y),h=[];if(h.push(f.pntLeft),h.push(t[1]),h.push(f.pntRight),this.addScalePoint(f.pntLeft,2),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[5],0))this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{fillLimit:!0,fill:!0}),this.addScalePoint(y,3);else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[5],1))this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addScalePoint(t[1],3);else{var S=P*this.scaleValues[5],A=SuperMapAlgoPlot.PlottingUtil.findPointInLine(y,t[1],S);h.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{fillLimit:!0,fill:!0}),this.addScalePoint(A,3)}}this.finish()}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),0===t){var l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[0],o[1]);if(l.isOnline){var n=this.scaleValues[0]*(this.style.weight||this.style.strokeWidth),r=this.getLonLatDistanceFromPixel(n),i=r*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[0],o[1],r),s=SuperMapAlgoPlot.PlottingUtil.findPointInLine(a,o[0],i);r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],l.projectPoint),n=this.getPixelDistanceFromLonLat(r),this.scaleValues[0]=n/(this.style.weight||this.style.strokeWidth);var p=SuperMapAlgoPlot.PlottingUtil.distance(e,l.projectPoint),u=this.getPixelDistanceFromLonLat(p);this.scaleValues[1]=u/(this.style.weight||this.style.strokeWidth),i=SuperMapAlgoPlot.PlottingUtil.distance(s,l.projectPoint),this.scaleValues[2]=i/r}}else if(1===t){var c=this.scaleValues[0]*(this.style.weight||this.style.strokeWidth),P=this.getLonLatDistanceFromPixel(c),g=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[0],o[1],P),y=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,g,o[0]);if(y.isOnline){var f=SuperMapAlgoPlot.PlottingUtil.distance(g,y.projectPoint);this.scaleValues[2]=f/P,this.scaleValues[2]<0?this.scaleValues[2]=0:this.scaleValues[2]>1&&(this.scaleValues[2]=1)}}else if(2===t){var h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[0],o[1]);if(h.isOnline){var S=this.scaleValues[3]*(this.style.weight||this.style.strokeWidth),A=this.getLonLatDistanceFromPixel(S),M=A*this.scaleValues[5],d=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[1],o[0],A),b=SuperMapAlgoPlot.PlottingUtil.findPointInLine(d,o[1],M);A=SuperMapAlgoPlot.PlottingUtil.distance(o[1],h.projectPoint),S=this.getPixelDistanceFromLonLat(A),this.scaleValues[3]=S/(this.style.weight||this.style.strokeWidth);var v=SuperMapAlgoPlot.PlottingUtil.distance(e,h.projectPoint),m=this.getPixelDistanceFromLonLat(v);this.scaleValues[4]=m/(this.style.weight||this.style.strokeWidth),M=SuperMapAlgoPlot.PlottingUtil.distance(b,h.projectPoint),this.scaleValues[5]=M/A}}else if(3===t){var O=this.scaleValues[3]*(this.style.weight||this.style.strokeWidth),L=this.getLonLatDistanceFromPixel(O),T=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[1],o[0],L),w=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,T,o[1]);if(w.isOnline){var x=SuperMapAlgoPlot.PlottingUtil.distance(T,w.projectPoint);this.scaleValues[5]=x/L,this.scaleValues[5]<0?this.scaleValues[5]=0:this.scaleValues[5]>1&&(this.scaleValues[5]=1)}}}this.calculateParts()}}])&&Ee(e.prototype,o),l&&Ee(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function De(t){"@babel/helpers - typeof";return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ke(t,e){return(ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=je(t);if(e){var n=je(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===De(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.LinearArrow=_e;var Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ke(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ve(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var l=0;l<o.scalePoints.length;l++)this.addScalePoint(o.scalePoints[l]);e=o.beizerPoints}SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),e.length<=0||(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish())}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0))return;var i=-1;i=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var a=(e.x-o[i].x)/n,s=(e.y-o[i].y)/n;this.scaleValues[2*t]=a,this.scaleValues[2*t+1]=s}}}])&&Ne(e.prototype,o),l&&Ne(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ze(t){"@babel/helpers - typeof";return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function We(){return(We="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qe(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function Ge(t,e){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function He(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=qe(t);if(e){var n=qe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qe(t){return(qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Polybezier=Ye;var Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=He(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.NewPie",e}return e=r,(o=[{key:"destroy",value:function(){We(qe(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[2]),l=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1]),n=[];n.push(t[0]),(n=n.concat(SuperMapAlgoPlot.Primitives.getArcCircleSpatialData(t[0],e,o,l))).push(t[0]),0!==n.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n)}}}])&&Fe(e.prototype,o),l&&Fe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ze(t){"@babel/helpers - typeof";return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qe(){return(Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=to(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function Ke(t,e){return(Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=to(t);if(e){var n=to(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function to(t){return(to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.NewPie=Je;var eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ke(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$e(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.NewArc",e}return e=r,(o=[{key:"destroy",value:function(){Qe(to(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[2]),l=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1]),n=SuperMapAlgoPlot.Primitives.getArcCircleSpatialData(t[0],e,o,l);0!==n.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}}}])&&Xe(e.prototype,o),l&&Xe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oo(t){"@babel/helpers - typeof";return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function no(){return(no="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ao(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function ro(t,e){return(ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ao(t);if(e){var n=ao(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.NewArc=eo;var so=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ro(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=io(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.NewChord",e}return e=r,(o=[{key:"destroy",value:function(){no(ao(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[2]),l=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1]),n=[];n.push(t[1]),(n=n.concat(SuperMapAlgoPlot.Primitives.getArcCircleSpatialData(t[0],e,o,l))).push(t[1]),0!==n.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n)}}}])&&lo(e.prototype,o),l&&lo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function po(t){"@babel/helpers - typeof";return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function co(t,e){return(co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=go(t);if(e){var n=go(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.NewChord=so;var yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Po(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(0),e.scaleValues.push(.3),e.scaleValues.push(.08)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1001",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),e=(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length;if(e>=this.minEditPts){this.scalePoints=[];var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=!1;void 0!==o[0].z&&(l=!0);var n=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(t,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_PARALLEL),r=n.arrowTouLen,i=n.leftBodyPts,a=n.rightBodyPts,s=[];s.push(i[i.length-1]),s.push(a[a.length-1]);var p=[];p.push(this.scaleValues[3]),p.push(this.scaleValues[4]),p.push(this.scaleValues[0]),p.push(this.scaleValues[1]);var u=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(t,s,p,r,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITHOUT_EAR),c=[];if(l){for(var P=[],g=[],y=[],f=0;f<e-1;f++)g.push({x:i[f].x,y:i[f].y,z:o[f].z}),y.push({x:a[f].x,y:a[f].y,z:o[f].z});var h={x:o[e-2].x,y:o[e-2].y,z:o[e-2].z},S={x:o[e-1].x,y:o[e-1].y,z:o[e-1].z},A=this.ComputeZValue(i[e-1],S,h);g.push({x:i[e-1].x,y:i[e-1].y,z:A});var M=this.ComputeZValue(a[e-1],S,h);y.push({x:a[e-1].x,y:a[e-1].y,z:M});for(var d=0;d<u.length;d++){var b=this.ComputeZValue(u[d],S,h);P.push({x:u[d].x,y:u[d].y,z:b})}c=(c=c.concat(g)).concat(P);for(var v=y.length-1;v>=0;v--)c.push(y[v]);var m=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),O=new SuperMapAlgoPlot.Point(m.x,m.y);O.isScalePoint=!0,O.tag=0,this.addScalePoint(O);var L=new SuperMapAlgoPlot.Point(i[i.length-1].x,i[i.length-1].y);L.isScalePoint=!0,L.tag=1,this.addScalePoint(L);var T=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);T.isScalePoint=!0,T.tag=2,this.addScalePoint(T);for(var w=0;w<this.scalePoints.length;w++){var x=new SuperMapAlgoPlot.Point(this.scalePoints[w].x,this.scalePoints[w].y);this.scalePoints[w].z=this.ComputeZValue(x,S,h)}}else{c=(c=c.concat(i)).concat(u);for(var R=a.length-1;R>=0;R--)c.push(a[R]);var U=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),E=new SuperMapAlgoPlot.Point(U.x,U.y);E.isScalePoint=!0,E.tag=0,this.addScalePoint(E);var I=new SuperMapAlgoPlot.Point(i[i.length-1].x,i[i.length-1].y);I.isScalePoint=!0,I.tag=1,this.addScalePoint(I);var C=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);C.isScalePoint=!0,C.tag=2,this.addScalePoint(C)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:0,weight:0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=new SuperMapAlgoPlot.Point(this.scalePoints[0].x,this.scalePoints[0].y),l=new SuperMapAlgoPlot.Point(this.scalePoints[1].x,this.scalePoints[1].y),n=new SuperMapAlgoPlot.Point(this.scalePoints[2].x,this.scalePoints[2].y),r=this.scaleValues[0],i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),a=i*r;if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,this.controlPoints[this.controlPoints.length-2],this.controlPoints[this.controlPoints.length-1]),p=s.projectPoint;if(s.isOnline){var u=SuperMapAlgoPlot.PlottingUtil.distance(p,this.controlPoints[this.controlPoints.length-1]);this.scaleValues[0]=u/i}}else if(1==t){var c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l,n).projectPoint,P=SuperMapAlgoPlot.PlottingUtil.distance(c,o);this.scaleValues[1]=P/a}else if(2==t){var g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,this.controlPoints[1],n).projectPoint,y=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(g,o,this.controlPoints[1]),f=y.projectPoint,h=SuperMapAlgoPlot.PlottingUtil.distance(f,o);!0===y.inOnline?this.scaleValues[4]=-h/a:this.scaleValues[4]=h/a}}this.calculateParts()}}])&&uo(e.prototype,o),l&&uo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function fo(t){"@babel/helpers - typeof";return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ho(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function So(t,e){return(So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ao(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Mo(t);if(e){var n=Mo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1001=yo;var bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&So(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ao(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).MIN_GEOPT_COUNT=2,e.MAX_GEOPT_COUNT=1024,e.SV1_defaultATLenDivABLen=0,e.SV2_defaultAYPosScale=.65,e.SV_AJCtrl=.6,e.SV_ArrowWoCtrl=.6,e.SV2_DefaultAJWidDiviedByATLen=.148,e.SV3_DefaultAEWidDividedByATLen=.4,e.SV4_DefaultAELenDividedByATLen=.3,e.SV_ATScaleParameter=1.25,e.SV_ATLenDividedByATWid=1.35,e.SV_ATWidDividedByArrowWeiWid=.5,e.AB_VERTEX_COUNT=4,e.MIN_PTCOUNT_PERARROW=3,e.ATL_DIV_AWW=.7,e.ATL_DIV_ABL=.12,e.ATL_DIV_ABL_1=.18,e.DEFAULT_ARROW_TAIL_POS=.12,e.DUOJIANTOU_TAIL_RATE_1=8,e.DUOJIANTOU_TAIL_RATE_2=3,e.DUOJIANTOU_TAIL_RATE_3=.6,e.AB_CTRLPT_RATE1=0,e.AB_CTRLPT_RATE2=3,e.AB_CTRLPT_RATE3=.5,e.MIN_SCALEVALUE=.1,e.MAX_SCALEVALUE=1,e.m_scalePoints=null,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1002",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),this.m_scalePoints=[];var t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.operateCtrlPts(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=this.scaleValues.length;if(n<2*l-1){0==n&&(this.scaleValues.push(this.SV1_defaultATLenDivABLen),n++);for(var r=2*l-1-n,i=0;i<r;i+=2)this.scaleValues.splice(n/2+1,0,this.SV1_defaultATLenDivABLen),this.scaleValues.splice(this.scaleValues.length,0,this.SV2_defaultAYPosScale)}else if(n>2*l-1){for(var a=0;a<l;a++)this.scaleValues.push(this.SV1_defaultATLenDivABLen);for(var s=0;s<l-1;s++)this.scaleValues.push(this.SV2_defaultAYPosScale)}var p=this.arrowMeshs(e);SuperMapAlgoPlot.PlottingUtil.clearSamePts(p.shapePts);var u=!1;if(void 0!==t[0].z&&(u=!0),u){var c=this.operateCtrlPts3D(t),P=p.arrLeftPts2D,g=p.arrRightPts2D,y=p.arrHeadPts2D;if(l!=P.length&&l!=g.length&&l!=y.length)return!1;for(var f=[],h=0;h<l;h++){for(var S=[],A=3*h;A<3*(h+1)&&A<c.length;A++)S.push(c[A]);f.push(S)}for(var M=[],d=[],b=[],v=0;v<l;v++)if(!(2>f[v].length)){for(var m=P[v][P[v].length-1],O=g[v][0],L=new SuperMapAlgoPlot.Point(.5*(m.x+O.x),.5*(m.y+O.y)),T=f[v][f[v].length-1],w=f[v][f[v].length-2],x=this.ComputeZValue(L,T,w),R={x:L.x,y:L.y,z:x},U=[],E=[],I=0;I<f[v].length-1;I++)if(0==v)E.push(f[v][I]);else{var C={x:f[v][I].x,y:f[v][I].y,z:.5*(f[v][I].z+f[v-1][I].z)};E.push(C)}E.push(R),this.ComputeBeizerZValueByDis(E,P[v],U),M.push(U),U=[];var B=[];B.push(R);for(var _=f[v].length-2;_>=0;_--)if(v==l-1)B.push(f[v][_]);else{var D={x:f[v][_].x,y:f[v][_].y,z:.5*(f[v][_].z+f[v+1][_].z)};B.push(D)}this.ComputeBeizerZValueByDis(B,g[v],U),d.push(U),U=[];for(var N=y[v],k=0;k<N.length;k++){var V=this.ComputeZValue(N[k],T,w);U.push({x:N[k].x,y:N[k].y,z:V})}b.push(U)}for(var j=[],Y=0;Y<l;Y++)j=(j=(j=j.concat(M[Y])).concat(b[Y])).concat(d[Y]);return SuperMapAlgoPlot.PlottingUtil.clearSamePts(j),p.shapePts.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{surroundLineFlag:!1}),this.scalePoints=this.scalePoints.concat(this.m_scalePoints),!0}p.shapePts.length>0&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p.shapePts,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:0,weight:0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p.shapePts,{surroundLineFlag:!1})),this.scalePoints=[];for(var z=0;z<this.m_scalePoints.length;z++)this.m_scalePoints[z].isScalePoint=!0,this.m_scalePoints[z].tag=z,this.addScalePoint(this.m_scalePoints[z])}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=this.operateCtrlPts(this.controlPoints),l=o.length,n=Math.floor(l/this.MIN_PTCOUNT_PERARROW),r=0;if(t<n){var i=[],a=t*this.MIN_PTCOUNT_PERARROW;i[0]=o[a],i[1]=o[a+1],i[2]=o[a+2];var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),p=new SuperMapAlgoPlot.Point(0,0),u=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,i[0],i[1],i[2],p,u),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,i[2],i[1],u,c),r=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(i[2],c,e).dLen1/(this.SV4_DefaultAELenDividedByATLen+1)/s}else{var P=[],g=[],y=(t-n)*this.MIN_PTCOUNT_PERARROW;P[0]=o[y],P[1]=o[y+1],P[2]=o[y+2];var f=(t-n+1)*this.MIN_PTCOUNT_PERARROW;g[0]=o[f],g[1]=o[f+1],g[2]=o[f+2];var h=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),A=new SuperMapAlgoPlot.Point(0,0);h.x=.5*(P[2].x+g[2].x),S.x=.5*(P[1].x+g[1].x),A.x=.5*(P[0].x+g[0].x),h.y=.5*(P[2].y+g[2].y),S.y=.5*(P[1].y+g[1].y),A.y=.5*(P[0].y+g[0].y);var M=SuperMapAlgoPlot.PlottingUtil.distance(h,S),d=SuperMapAlgoPlot.PlottingUtil.distance(A,S),b=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h,S,e),v=b.dLen1;r=v<M?v/(M+d):((v=(b=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(S,A,e)).dLen1)+M)/(M+d)}r>this.MAX_SCALEVALUE?r=this.MAX_SCALEVALUE:r<this.MIN_SCALEVALUE&&(r=this.MIN_SCALEVALUE),this.scaleValues[t]=r}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[];t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var n=new SuperMapAlgoPlot.Path2D,r=t.length,i=Math.floor(r/this.MIN_PTCOUNT_PERARROW),a=this.generateAWWidth(i,t),s=[],p=[],u=0,c=0,P=0,g=[];for(c=0,P=0;c<i;c++,P+=this.MIN_PTCOUNT_PERARROW){g[0]=t[P],g[1]=t[P+1],g[2]=t[P+2],u=this.scaleValues[c];var y=this.generateArrowBodyPts(g,a[c],u);u=y.dATLenDivABLen,s[c]=y.arrowBodyPts,p.push(u)}var f=[],h=0,S=0,A=0,M=[],d=[];for(c=0;c<i-1;c++,S+=this.MIN_PTCOUNT_PERARROW){A=S+this.MIN_PTCOUNT_PERARROW,M[0]=t[S],M[1]=t[S+1],M[2]=t[S+2],d[0]=t[A],d[1]=t[A+1],d[2]=t[A+2],h=this.scaleValues[i+c];var b=this.generateAYPts(M,s[c],d,s[c+1],h);f.push(b.arrowLeftYaoPts),f.push(b.arrowRightYaoPts)}var v=[],m=s[0],O=[],L=0,T=[];n.MoveTo(m[0]),n.CurveTo(m[1],m[2],m[3]),n.CurveTo(m[4],m[5],m[6]),n.ToSubPathPolygons(O),e.push(O[0]),L=O[0].length;for(var w=7;w<10;w++)n.LineTo(m[w]);for(O=[],n.ToSubPathPolygons(O);L<O[0].length;L++)T.push(O[0][L]);for(l.push(T),v.push(m[0]),v.push(t[0]),c=1,P=this.MIN_PTCOUNT_PERARROW;c<i;c++,P+=this.MIN_PTCOUNT_PERARROW){var x=s[c],R=c+c-2,U=f[R];for(n.LineTo(U[0]),n.CurveTo(U[1],U[2],U[3]),O=[],T=[],n.ToSubPathPolygons(O);L<O[0].length;L++)T.push(O[0][L]);o.push(T);var E=f[R+1];for(n.CurveTo(E[1],E[2],E[3]),O=[],T=[],n.ToSubPathPolygons(O);L<O[0].length;L++)T.push(O[0][L]);e.push(T);for(var I=7;I<10;I++)n.LineTo(x[I]);for(O=[],T=[],n.ToSubPathPolygons(O);L<O[0].length;L++)T.push(O[0][L]);l.push(T),v.push(t[P].clone())}var C=s[i-1];for(n.LineTo(C[10]),n.CurveTo(C[11],C[12],C[13]),n.CurveTo(C[14],C[15],C[16]),O=[],T=[],n.ToSubPathPolygons(O);L<O[0].length;L++)T.push(O[0][L]);o.push(T),v.push(C[16]);var B=[];return n.ToSubPathPolygons(B),{shapePts:B[0],arrLeftPts2D:e,arrRightPts2D:o,arrHeadPts2D:l}}},{key:"operateCtrlPts",value:function(t){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=o%this.MIN_PTCOUNT_PERARROW,r=new SuperMapAlgoPlot.Point;if(2==n&&(r.x=.5*(e[o-2].x+e[o-1].x),r.y=.5*(e[o-2].y+e[o-1].y),r.x==e[o-1].x&&r.y==e[o-1].y||(e.push(e[o-1].clone()),e[o-1]=r,o++,l++)),o>3)for(var i=l-1,a=0,s=i;a<i;s--,a++)for(var p=s*this.MIN_PTCOUNT_PERARROW,u=0;u<p;u+=this.MIN_PTCOUNT_PERARROW){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[u+3],e[u+1],e[u+2])){var c=e[u];e[u]=e[u+3],e[u+3]=c,c=e[u+1],e[u+1]=e[u+4],e[u+4]=c,c=e[u+2],e[u+2]=e[u+5],e[u+5]=c}}return e=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t,e)}},{key:"operateCtrlPts3D",value:function(t){var e=t,o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n={x:0,y:0,z:0};if(2==o%3&&(n.x=.5*(e[o-2].x+e[o-1].x),n.y=.5*(e[o-2].y+e[o-1].y),n.z=.5*(e[o-2].z+e[o-1].z),n.x==e[o-1].x&&n.y==e[o-1].y&&n.z==e[o-1].z||(e.push(e[o-1]),e[o-1]=n,o++,l++)),o>3)for(var r=l-1,i=0,a=r;i<r;a--,i++)for(var s=3*a,p=0;p<s;p+=3){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[p+3],e[p+1],e[p+2])){var u=e[p];e[p]=e[p+3],e[p+3]=u,u=e[p+1],e[p+1]=e[p+4],e[p+4]=u,u=e[p+2],e[p+2]=e[p+5],e[p+5]=u}}return e}},{key:"generateAWWidth",value:function(t,e){var o=[];if(t>0)if(1==t)o.push(0);else{var l=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[this.MIN_PTCOUNT_PERARROW]);o.push(l);for(var n=1,r=this.MIN_PTCOUNT_PERARROW;n<t-1;n++,r+=this.MIN_PTCOUNT_PERARROW){l=.5*(SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r])+SuperMapAlgoPlot.PlottingUtil.distance(e[r],e[r+this.MIN_PTCOUNT_PERARROW])),o.push(l)}l=SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r]),o.push(l)}return o}},{key:"generateArrowBodyPts",value:function(t,e,o){var l=[],n=[],r=[],i=[],a=[],s=[],p=[],u=t.length-1;if(u<2)return{dATLenDivABLen:o=0,arrowBodyPts:l};var c=o,P=this.SV2_DefaultAJWidDiviedByATLen,g=this.SV3_DefaultAEWidDividedByATLen,y=this.SV4_DefaultAELenDividedByATLen,f=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f),S=0==e?h*this.ATL_DIV_ABL_1:(h+e)*this.ATL_DIV_ABL,A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(S,f[1],f[0]);n[1]=A.pntLeft.clone(),r[1]=A.pntRight.clone();var M=0;M=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,0,1e-14)?S*this.ATL_DIV_AWW:h*c;var d=SuperMapAlgoPlot.PlottingUtil.distance(f[1],f[2]);M+M>d&&(M=.5*d);var b=M*P;f.push(f[u].clone());var v,m=0;v=h-M;var O=[],L=0;for(L=2;L<=u;L++)m+=SuperMapAlgoPlot.PlottingUtil.distance(f[L-1],f[L-2]),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v,0,1e-14)?O[L]=0:SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v-m,0,1e-14)?O[L]=b:O[L]=b+(S-b)*Math.pow((v-m)/v,this.SV_ATScaleParameter);O[u+1]=b;var T=new SuperMapAlgoPlot.Point(0,0),w=new SuperMapAlgoPlot.Point(0,0),x=new SuperMapAlgoPlot.Point(0,0);for(L=2;L<=u;L++){SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,f[L-2],f[L-1],f[L],w,x),u==L&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,f[u],f[u-1],x,T);var R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O[L],w,f[L-1]);r[L]=R.pntLeft,n[L]=R.pntRight}var U,E,I=T.clone();if(SuperMapAlgoPlot.PlottingUtil.distance(f[u],I)>0){var C=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(M,f[u],T);f[u]=C.clone()}for(A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(b,f[u+1],f[u]),n[u+1]=A.pntLeft,r[u+1]=A.pntRight,L=2;L<=u;L++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,n[L-1],n[L],n[L+1],w,x),i[L]=w.clone(),a[L]=x.clone(),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,r[L-1],r[L],r[L+1],w,x),s[L]=w.clone(),p[L]=x.clone();SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,n[1],n[2],i[2],T),a[1]=T.clone(),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,r[1],r[2],s[2],T),p[1]=T.clone();E=SuperMapAlgoPlot.PlottingUtil.distance(n[u+1],n[u])*(1/3),(U=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(E,f[u],f[u+1])).x+=n[u+1].x-f[u].x,U.y+=n[u+1].y-f[u].y,E=(S-b)*Math.pow(E/v,this.SV_ATScaleParameter+.3),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(E,n[u+1],U),i[u+1]=A.pntLeft.clone(),E=SuperMapAlgoPlot.PlottingUtil.distance(r[u+1],r[u])*(1/3),(U=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(E,f[u],f[u+1])).x+=r[u+1].x-f[u].x,U.y+=r[u+1].y-f[u].y,E=(S-b)*Math.pow(E/v,this.SV_ATScaleParameter+.3),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(E,r[u+1],U),s[u+1]=A.pntRight.clone();var B=[],_=M*y,D=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(_,f[u],f[u+1]);this.m_scalePoints.push(D.clone()),_=M*g,A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(_,f[u+1],D),B.push(A.pntRight),B.push(f[u+1]),B.push(A.pntLeft);var N=[];for(N.push(n[u+1]),L=u;L>=1;L--)N.push(i[L+1]),N.push(a[L]),N.push(n[L]);var k=[];for(L=1;L<=u;L++)k.push(r[L]),k.push(p[L]),k.push(s[L+1]);k.push(r[u+1]),l.push.apply(l,k),l.push.apply(l,B),l.push.apply(l,N),o=M/h;var V=[];for(L=N.length-1;L>=0;L--)V.push(N[L]);return{dATLenDivABLen:o,arrowBodyPts:l}}},{key:"generateAYPts",value:function(t,e,o,l,n){var r=new SuperMapAlgoPlot.Point(.5*(t[2].x+o[2].x),.5*(t[2].y+o[2].y)),i=new SuperMapAlgoPlot.Point(.5*(t[1].x+o[1].x),.5*(t[1].y+o[1].y)),a=new SuperMapAlgoPlot.Point(.5*(t[0].x+o[0].x),.5*(t[0].y+o[0].y)),s=SuperMapAlgoPlot.PlottingUtil.distance(r,i),p=SuperMapAlgoPlot.PlottingUtil.distance(a,i),u=n*(s+p),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),g=new SuperMapAlgoPlot.Point(0,0);if(u>s){u=s+p-u,c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(u,a,i);var y=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),f=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);y=y*u/p,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(y,t[0],t[1]),f=f*u/p,g=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(f,o[0],o[1])}else{c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(u,r,i);var h=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]),S=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]);h=h*u/s,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(h,t[2],t[1]),S=S*u/s,g=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(S,o[2],o[1])}this.m_scalePoints.push(c.clone());var A=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,P),M=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,g),d=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,c,P),b=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(M,c,g),v=e[11].clone(),m=e[10].clone(),O=l[5].clone(),L=l[6].clone(),T=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,c,P),w=SuperMapAlgoPlot.PlottingUtil.distance(T.intersectPoint,m),x=SuperMapAlgoPlot.PlottingUtil.distance(m,c);w=w>x?this.SV_AJCtrl*x:this.SV_AJCtrl*w;var R=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(w,m,v);v=R.clone(),e[11]=R.clone(),T=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,O,c,g),w=(w=SuperMapAlgoPlot.PlottingUtil.distance(T.intersectPoint,L))>(x=SuperMapAlgoPlot.PlottingUtil.distance(L,c))?this.SV_AJCtrl*x:this.SV_AJCtrl*w,O=(R=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(w,L,O)).clone(),l[5]=R.clone();var U=[];U.push(m),U.push(v),U.push(d),U.push(c);var E=[];return E.push(c),E.push(b),E.push(O),E.push(L),{arrowLeftYaoPts:U,arrowRightYaoPts:E}}}])&&ho(e.prototype,o),l&&ho(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function vo(t){"@babel/helpers - typeof";return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Oo(t,e){return(Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=To(t);if(e){var n=To(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1002=bo;var wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(.28),e.scaleValues.push(.433333),e.scaleValues.push(.53),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1003",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),e=(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length;if(e>=this.minEditPts){if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.controlPoints[0].x,this.controlPoints[1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.controlPoints[0].y,this.controlPoints[1].y))return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=!1;void 0!==o[0].z&&(l=!0);var n=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(t,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_TRAPEZOID),r=n.arrowTouLen,i=n.leftBodyPts,a=n.rightBodyPts,s=[];s.push(i[i.length-1]),s.push(a[a.length-1]);var p=[];p.push(this.scaleValues[3]),p.push(this.scaleValues[4]),p.push(0),p.push(0);var u=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(t,s,p,r,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITHOUT_EAR),c=[];c=(c=c.concat(i)).concat(u);for(var P=a.length-1;P>=0;P--)c.push(a[P]);if(c.push(i[0]),l){for(var g=[],y={x:o[1].x,y:o[1].y,z:o[1].z},f={x:o[0].x,y:o[0].y,z:o[0].z},h=0;h<c.length;h++){var S=this.ComputeZValue(c[h],y,f);g.push({x:c[h].x,y:c[h].y,z:S})}var A=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),M=new SuperMapAlgoPlot.Point(A.x,A.y);M.isScalePoint=!0,M.tag=0,this.addScalePoint(M);var d=new SuperMapAlgoPlot.Point(i[i.length-1].x,i[i.length-1].y);d.isScalePoint=!0,d.tag=1,this.addScalePoint(d);var b=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);b.isScalePoint=!0,b.tag=2,this.addScalePoint(b);for(var v={x:o[e-1].x,y:o[e-1].y,z:o[e-1].z},m={x:o[e-2].x,y:o[e-2].y,z:o[e-2].z},O=[],L=0;L<this.scalePoints.length;L++){var T={x:this.scalePoints[L].x,y:this.scalePoints[L].y},w=this.ComputeZValue(T,v,m);O.push({x:T.x,y:T.y,z:w})}this.scalePoints=O,this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g)}else{var x=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),R=new SuperMapAlgoPlot.Point(x.x,x.y);R.isScalePoint=!0,R.tag=0,this.addScalePoint(R);var U=new SuperMapAlgoPlot.Point(i[i.length-1].x,i[i.length-1].y);U.isScalePoint=!0,U.tag=1,this.addScalePoint(U);var E=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);E.isScalePoint=!0,E.tag=2,this.addScalePoint(E),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c)}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=new SuperMapAlgoPlot.Point(this.scalePoints[0].x,this.scalePoints[0].y),l=new SuperMapAlgoPlot.Point(this.scalePoints[1].x,this.scalePoints[1].y),n=new SuperMapAlgoPlot.Point(this.scalePoints[2].x,this.scalePoints[2].y),r=this.scaleValues[0];this.controlPoints=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(this.controlPoints).pts;var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),a=i*r;if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,this.controlPoints[0],this.controlPoints[1]),p=s.projectPoint;if(s.isOnline){var u=SuperMapAlgoPlot.PlottingUtil.distance(p,this.controlPoints[1]);this.scaleValues[0]=u/i}}else if(1==t){var c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l,n).projectPoint,P=SuperMapAlgoPlot.PlottingUtil.distance(c,o),g=a*this.scaleValues[1];this.scaleValues[1]=P/a,this.scaleValues[2]=(a*this.scaleValues[2]+P-g)/a}else if(2==t){var y=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,this.controlPoints[1],n).projectPoint,f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(y,o,this.controlPoints[1]),h=f.projectPoint,S=SuperMapAlgoPlot.PlottingUtil.distance(h,o);!0===f.inOnline?this.scaleValues[4]=-S/a:this.scaleValues[4]=S/a}}this.calculateParts()}}])&&mo(e.prototype,o),l&&mo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xo(t){"@babel/helpers - typeof";return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Uo(t,e){return(Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Io(t);if(e){var n=Io(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Io(t){return(Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1003=wo;var Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Eo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).MAX_ARRAY_SIZE=128,e.sv1_DefaultAtLenDivAbLen=.2,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_AtScaleParameter=1.5,e.sv_AtLenDivAtWidth=1.35,e.sv_AtWidthDivAwWidth=.5,e.sv_defaultAwLenDivAbLen=.15,0===e.scaleValues.length&&(e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1004",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),this.applyUse()}},{key:"applyUse",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.arrowMeshs(t);SuperMapAlgoPlot.PlottingUtil.clearSamePts(e.shapePts);var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=o.length,n=!1;if(void 0!==o[0].z&&(n=!0),n){for(var r=e.leftBodyPts,i=e.rightBodyPts,a=e.arrowHeadPts,s=e.shapePts,p=[],u=0;u<s.length;u++)p.push({x:s[u].x,y:s[u].y,z:0});if(0==s.length)return!1;var c=this.updateScalePoints(t),P=[],g={x:(o[0].x+o[1].x)/2,y:(o[0].y+o[1].y)/2},y={x:(r[r.length-1].x+i[0].x)/2,y:(r[r.length-1].y+i[0].y)/2},f=this.ComputeZValue(y,o[l-1],o[l-2]),h=0,S=0;r[0].x==o[0].x&&r[0].y==o[0].y?(h=o[0].z,S=o[1].z):(h=o[1].z,S=o[0].z),P.push({x:g.x,y:g.y,z:h});for(var A=2;A<l-1;A++)P.push(o[A]);P.push({x:y.x,y:y.y,z:f});var M=[];this.ComputeBeizerZValueByDis(P,r,M),(P=[]).push({x:y.x,y:y.y,z:f});for(var d=l-2;d>=2;d--)P.push(o[d]);P.push({x:g.x,y:g.y,z:S});var b=[];this.ComputeBeizerZValueByDis(P,i,b);for(var v=[],m=0;m<a.length;m++){var O=this.ComputeZValue(a[m],o[l-1],o[l-2]);v.push({x:a[m].x,y:a[m].y,z:O})}if(M.length>0&&b.length>0&&v.length>0){p=(p=(p=(p=[]).concat(M)).concat(v)).concat(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{surroundLineFlag:!1});for(var L=[],T=0;T<c.length;T++){var w=this.ComputeZValue(c[T],o[l-1],o[l-2]),x=new SuperMapAlgoPlot.Point(c[T].x,c[T].y);x.z=w,L.push(x)}3!=c.length?this.scalePoints=[]:this.scalePoints=this.scalePoints.concat(L)}}else{if(0==e.shapePts.length)return;if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.shapePts,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:0,weight:0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e.shapePts,{surroundLineFlag:!1}),c=this.updateScalePoints(t),this.scalePoints=[],3!=c.length)c=[];else for(var R=0;R<c.length;R++)c[R].isScalePoint=!0,c[R].tag=R,this.addScalePoint(c[R])}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.scaleValues.length<4&&(this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen));var l=o.length;if(l<=2)return;var n,r,i,a,s=this.operateCtrlPts(o);l=s.length,l--;var p=this.calcScaleValueCount(o.length);if(this.scaleValues.length<p){var u=this.calcDefaultScaleValues(l);n=u[0],r=u[1],i=u[2],a=u[3]}else n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=this.scaleValues[3];for(var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),P=[],g=0;g<this.scalePoints.length;g++)P.push(this.scalePoints[g].clone());if(0==P.length)return;P[t]=e.clone();var y,f,h=l-1;y=l<=3?new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2):s[h-1].clone();var S,A,M,d,b,v,m=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y,s[h],s[h+1],O,L),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,s[l],s[l-1],L,m),f=m.clone();var T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],f,P[2]);S=T.dLen1,T.dLen2,0==S&&(S=.1),A=S,n=(S/=a+1)/c,1==t?(d=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],f,P[1])).dLen1,i=(b=T.dLen2)/S,a=(d-S)/S):0==t?(S=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],f,P[0])).dLen1,r=(M=T.dLen2)/S,(v=SuperMapAlgoPlot.PlottingUtil.distance(s[l],s[l-1]))<2*S&&(S=.5*v),d=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],f,P[1])).dLen1,i=(b=T.dLen2)/S,(a=(A-S)/S)<.1&&(i=b/(S=A/(1+(a=.1))),r=M/S),n=S/c):2==t&&(n=S/c),M=S*r,(v=SuperMapAlgoPlot.PlottingUtil.distance(s[l],s[l-1]))<2*S&&(M=(S=.5*v)*r,n=S/c),this.scaleValues[0]=n,this.scaleValues[1]=r,this.scaleValues[2]=i,this.scaleValues[3]=a}}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(r,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),a=i.arrowTouLen,s=i.leftBodyPts,p=i.rightBodyPts;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var u=[];u.push(s[s.length-1]),u.push(p[p.length-1]);var c=[];c.push(this.scaleValues[2]),c.push(this.scaleValues[3]),c.push(0),c.push(0);for(var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(r,u,c,a,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),g=0;g<s.length;g++)e.push(s[g]),o.push(s[g]);for(var y=0;y<P.length;y++)e.push(P[y]),n.push(P[y]);for(var f=p.length-1;f>=0;f--)e.push(p[f]),l.push(p[f])}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n}}},{key:"updateScalePoints",value:function(t){var e=t.length,o=[];if(!(e<3)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l,0)){var n=this.operateCtrlPts(t);e=n.length,e--;for(var r=[],i=0;i<this.scaleValues.length;i++)r.push(this.scaleValues[i]);var a=this.genArrowBodyPts(l,n,r),s=a.ArrowBodyCenterPts,p=this.genAtPts(e,s,r,a.ArrowTouLen),u=this.calc3rdScalePt(e,s,r,a.ArrowTouLen);return o.push(new SuperMapAlgoPlot.Point(a.LeftBodyPtsTemp[e].x,a.LeftBodyPtsTemp[e].y)),o.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),o.push(new SuperMapAlgoPlot.Point(u.x,u.y)),o}}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o=SuperMapAlgoPlot.PlottingUtil.clonePoints(e);if(3===o.length){var l=((o[0].x+o[1].x)/2+o[2].x)/2,n=((o[0].y+o[1].y)/2+o[2].y)/2,r=new SuperMapAlgoPlot.Point(l,n),i=o[2];o[2]=r,o.push(i)}return o}},{key:"genArrowBodyPts",value:function(t,e,o){var l,n,r,i=[],a=[],s=[],p=[],u=[],c=[],P=e.length;if(P--,o.length<this.calcScaleValueCount(P)){var g=this.calcDefaultScaleValues(P);n=g[0],r=g[1]}else n=o[0],r=o[1];var y=SuperMapAlgoPlot.PlottingUtil.clonePoints(e),f=(y[0].x+y[1].x)/2,h=(y[0].y+y[1].y)/2,S=Math.abs(f-y[2].x),A=Math.abs(h-y[2].y),M=0;if(S>0&&A>0){var d=1/(f-y[2].x),b=-1/(h-y[2].y),v=1*y[2].y/(h-y[2].y)-1*y[2].x/(f-y[2].x);M=Math.abs(d*y[0].x+b*y[0].y+v)/Math.sqrt(d*d+b*b)}else A<=1e-4?M=Math.abs(h-y[1].y):S<=1e-4&&(M=Math.abs(f-y[1].x));var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[2],new SuperMapAlgoPlot.Point(f,h)),O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[1],y[2],y[0]);O?(i[1]=y[1],a[1]=y[0]):(i[1]=y[0],a[1]=y[1]),y[1]=new SuperMapAlgoPlot.Point((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2);var L=Math.sqrt((m.pntLeft.x-m.pntRight.x)*(m.pntLeft.x-m.pntRight.x)+(m.pntLeft.y-m.pntRight.y)*(m.pntLeft.y-m.pntRight.y))*this.sv_AtWidthDivAwWidth,T=(l=L*this.sv_AtLenDivAtWidth)*r;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||(T=(l=t*n)*r);var w,x,R=SuperMapAlgoPlot.PlottingUtil.distance(y[P],y[P-1]),U=2*l;R<U&&(T=(l=R/2)*r),y.push(y[P].clone()),w=0,x=0;var E=0,I=[];for(E=2;E<=P;E++)w+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]);for(w-=l,E=2;E<=P-1;E++)x+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]),I[E]=T+(L-T)*Math.pow((w-x)/w,this.sv_AtScaleParameter);I[P]=T;var C,B,_=new SuperMapAlgoPlot.Point(0,0),D=new SuperMapAlgoPlot.Point(0,0),N=new SuperMapAlgoPlot.Point(0,0);for(E=2;E<=P-1;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y[E-1],y[E],y[E+1],D,N),E==P-1&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,y[P],y[P-1],N,_),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I[E],D,y[E]),(O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(N,D,C.pntRight))?(i[E]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y),a[E]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y)):(i[E]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),a[E]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y));for(Math.sqrt(1*(y[P].x-_.x)*(y[P].x-_.x)+1*(y[P].y-_.y)*(y[P].y-_.y))>0&&(y[P]=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(l,y[P],_)),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(T,y[P+1],y[P]),(O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[P],y[P+1],C.pntLeft))?(a[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),i[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y)):(a[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y),i[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y)),E=2;E<P;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,i[E-1],i[E],i[E+1],D,N),s[E]=new SuperMapAlgoPlot.Point(D.x,D.y),p[E]=new SuperMapAlgoPlot.Point(N.x,N.y),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,a[E-1],a[E],a[E+1],D,N),u[E]=new SuperMapAlgoPlot.Point(D.x,D.y),c[E]=new SuperMapAlgoPlot.Point(N.x,N.y),2==E&&(SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,i[1],i[2],s[2],_),p[E]=new SuperMapAlgoPlot.Point(_.x,_.y),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,a[1],a[2],u[2],_),c[E]=new SuperMapAlgoPlot.Point(_.x,_.y)),E==P-1&&(U=(R=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=i[P].x-y[P].x,B.y+=i[P].y-y[P].y,U=(R=L-T)*Math.pow(U/w,this.sv_AtScaleParameter),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,i[P],B),s[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),U=(R=SuperMapAlgoPlot.PlottingUtil.distance(a[P],a[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=a[P].x-y[P].x,B.y+=a[P].y-y[P].y,U=(R=L-T)*Math.pow(U/w,this.sv_AtScaleParameter),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,a[P],B),u[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y));return{ArrowBodyCenterPts:SuperMapAlgoPlot.PlottingUtil.clonePoints(y),LeftBodyPtsTemp:i,RightBodyPtsTemp:a,LeftBodyPtsLeftCtrlPts:s,LeftBodyPtsRightCtrlPts:p,RightBodyPtsLeftCtrlPts:u,RightBodyPtsRightCtrlPts:c,ArrowTouLen:l}}},{key:"calcScaleValueCount",value:function(){return 4}},{key:"calcDefaultScaleValues",value:function(){var t=[];return t.push(this.sv1_DefaultAtLenDivAbLen),t.push(this.sv2_DefaultAjWidthDivAtLen),t.push(this.sv3_DefaultAeWidthDivAtLen),t.push(this.sv4_DefaultAeLenDivAtLen),t}},{key:"genAtPts",value:function(t,e,o,l){var n=o[2],r=[],i=l*o[3],a=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(i,e[t],e[t+1]);i=l*n;var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[t+1],a);return r.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),r.push(e[t+1]),r.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),r}},{key:"calc3rdScalePt",value:function(t,e,o,l){var n=l*o[3];return SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(n,e[t],e[t+1])}}])&&Ro(e.prototype,o),l&&Ro(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Bo(t){"@babel/helpers - typeof";return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _o(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Do(t,e){return(Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function No(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ko(t);if(e){var n=ko(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1004=Co;var Vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Do(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=No(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1005",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues[0]=this.getSubSymbolScaleValue();var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,e,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYBEZIER,!1),l=[];if(t.length>2)for(var n=0;n<o.length;n++){if(o[n].x===t[t.length-2].x||o[n].y===t[t.length-2].y){l.push(o[n]),l.push(o[o.length-1]);break}l.push(o[n])}var r=o[o.length-1],i=o[o.length-2],a=SuperMapAlgoPlot.PlottingUtil.distance(r,i),s=[];s.push(o[o.length-1]),s.push(o[o.length-2]),s.push(t[t.length-2]),!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,e,1e-7)&&a<=e?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l):this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o);var p=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(s,e,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_POLYLINE);p.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{surroundLineLimit:!0,lineTypeLimit:!0})}}}])&&_o(e.prototype,o),l&&_o(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jo(t){"@babel/helpers - typeof";return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zo(t,e){return(zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Wo(t);if(e){var n=Wo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wo(t){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1005=Vo;var Go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).QIANJI_RATE1=9,e.QIANJI_RATE2=20,e.QIANJI_RATE4=5,e.QIANJI_RATE3=1/3,e.QIANJI_TAIL_RATE1=8,e.QIANJI_TAIL_RATE2=3,e.QIANJI_TAIL_RATE3=.6,e.SV1_Default=.25,e.SV1_MinValue=0,e.SV1_MaxValue=.5,e.DEFAULT_ARROW_TAIL_POS=.4,e.SCALE_VALUE_COUNT=1,e.MIN_LEN_LeftToRightCenter=1e-7,e.SCALE_AT=1/3,e.SCALE_ATAJ=1/7,e.SCALE_ATAE=1/3,e.SCALE_AW=2/3,e.SCALE_ATAJctrlDefSide=.8,e.SCALE_ATAJctrlSameSide=2/3,e.SCALE_MM_LEFT=.25,e.SCALE_MM_RIGHT=.75,e.BEZIER_K1=1/3,e.QIANJI_OPERATE_RATE1=1,0===e.scaleValues.length&&e.scaleValues.push(e.SV1_Default),e.m_dMaxDis=0,e.m_bIsAnimation=!1,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1006",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),this.m_scalePoints=[];var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length,l=!1;void 0!==e[0].z&&(l=!0);var n=this.arrowMeshs(t);if(l){for(var r=[],i=0;i<o;i++)r.push(e[i]);var a=n.LeftArowLeftBody,s=n.LeftArowHead,p=n.LeftArowRightBody,u=n.RightArowLeftBody,c=n.RightArowHead,P=n.RightArowRightBody;if(0==a.length)return!1;var g=[],y=[],f=[];if(3==r.length)a[0].x==r[0].x&&a[0].y==r[0].y?(y.push(r[0]),y.push(r[2]),f.push(r[1]),f.push(r[2])):(y.push(r[1]),y.push(r[2]),f.push(r[0]),f.push(r[2]));else{if(4!=r.length)return!1;a[0].x==r[0].x&&a[0].y==r[0].y?(y.push(r[0]),f.push(r[1])):(y.push(r[1]),f.push(r[0])),s[1].x==r[2].x&&s[1].y==r[2].y?(y.push(r[2]),f.push(r[3])):(y.push(r[3]),f.push(r[2]))}var h=new SuperMapAlgoPlot.Point;h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(a[a.length-1],{x:y[0].x,y:y[0].y},{x:y[1].x,y:y[1].y}).projectPoint;var S=this.ComputeZValue(h,y[1],y[0]),A=[];this.ComputeHeight(a,A,y[0].z,S),g=g.concat(A);for(var M=0;M<s.length;M++){h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(s[M],{x:y[0].x,y:y[0].y},{x:y[1].x,y:y[1].y}).projectPoint;var d=this.ComputeZValue(h,y[1],y[0]);g.push({x:s[M].x,y:s[M].y,z:d})}h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(p[0],{x:y[0].x,y:y[0].y},{x:y[1].x,y:y[1].y}).projectPoint,this.ComputeZValue(h,y[1],y[0]),h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(p[p.length-1],{x:y[0].x,y:y[0].y},{x:y[1].x,y:y[1].y}).projectPoint;var b=this.ComputeZValue(h,y[1],y[0]);h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(u[0],{x:f[0].x,y:f[0].y},{x:f[1].x,y:f[1].y}).projectPoint;var v=(this.ComputeZValue(h,f[1],f[0])+b)/2,m=[];this.ComputeHeight(p,m,S,v),g=g.concat(m),h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(u[u.length-1],{x:f[0].x,y:f[0].y},{x:f[1].x,y:f[1].y}).projectPoint;var O=this.ComputeZValue(h,f[1],f[0]),L=[];this.ComputeHeight(u,L,v,O),g=g.concat(L);for(var T=0;T<c.length;T++){h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(c[T],{x:f[0].x,y:f[0].y},{x:f[1].x,y:f[1].y}).projectPoint;var w=this.ComputeZValue(h,f[1],f[0]);g.push({x:c[T].x,y:c[T].y,z:w})}h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(P[0],{x:f[0].x,y:f[0].y},{x:f[1].x,y:f[1].y}).projectPoint;var x=this.ComputeZValue(h,f[1],f[0]),R=[];this.ComputeHeight(P,R,x,f[0].z),(g=g.concat(R)).length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{surroundLineFlag:!1}),this.m_scalePoints.length>0&&(this.m_scalePoints[0]={x:this.m_scalePoints[0].x,y:this.m_scalePoints[0].y,z:v});for(var U=0;U<this.m_scalePoints.length;U++)this.m_scalePoints[U].isScalePoint=!0,this.m_scalePoints[U].tag=U,this.addScalePoint(this.m_scalePoints[U]);return!0}var E=n.shapePts;E.length>0&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,E,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:0,weight:0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,{surroundLineFlag:!1})),this.scalePoints=[];for(var I=0;I<this.m_scalePoints.length;I++)this.m_scalePoints[I].isScalePoint=!0,this.m_scalePoints[I].tag=I,this.addScalePoint(this.m_scalePoints[I])}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o,l=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(this.controlPoints).pts,n=SuperMapAlgoPlot.PlottingUtil.operateControlPoints(l),r=new SuperMapAlgoPlot.Point((n[0].x+n[1].x)/2,(n[0].y+n[1].y)/2),i=new SuperMapAlgoPlot.Point((n[2].x+n[3].x)/2,(n[2].y+n[3].y)/2),a=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r,i);if(a.isOnline){var s=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r),p=SuperMapAlgoPlot.PlottingUtil.distance(r,i);(o=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(s,0)?this.SV1_MinValue:s/p)>this.SV1_MaxValue&&(o=this.SV1_MaxValue)}else o=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r)<SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,i)?this.SV1_MinValue:this.SV1_MaxValue;this.scaleValues=[],this.scaleValues.push(o)}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=new SuperMapAlgoPlot.Path2D;t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var o=[];this.m_bIsAnimation&&4==t.length?o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t):(o=SuperMapAlgoPlot.PlottingUtil.operateControlPoints(t),void 0!==t[0].z&&(o[o.length-1].z=o[o.length-2].z));var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[3]),r=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]),i=o[1].clone(),a=.5*(o[0].x+o[3].x),s=.5*(o[0].y+o[3].y),p=new SuperMapAlgoPlot.Point(a,s),u=.5*(o[1].x+o[2].x),c=.5*(o[1].y+o[2].y),P=new SuperMapAlgoPlot.Point(u,c),g=SuperMapAlgoPlot.PlottingUtil.distance(p,P);g<this.MIN_LEN_LeftToRightCenter&&(g=this.MIN_LEN_LeftToRightCenter),p.x=a+n*(a-u)/(g*this.QIANJI_RATE1),p.y=s+n*(s-c)/(g*this.QIANJI_RATE1),P.x=u+r*(u-a)/(g*this.QIANJI_RATE1),P.y=c+r*(c-s)/(g*this.QIANJI_RATE1);var y=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0);y.x=a+n*(a-u)/(g*this.QIANJI_RATE2),y.y=s+n*(s-c)/(g*this.QIANJI_RATE2),f.x=u+r*(u-a)/(g*this.QIANJI_RATE2),f.y=c+r*(c-s)/(g*this.QIANJI_RATE2);var h=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),S=new SuperMapAlgoPlot.Point((o[2].x+o[3].x)/2,(o[2].y+o[3].y)/2),A=o[3].x-(o[3].x-p.x)*this.SCALE_AT,M=o[3].y-(o[3].y-p.y)*this.SCALE_AT,d=o[2].x-(o[2].x-P.x)*this.SCALE_AT,b=o[2].y-(o[2].y-P.y)*this.SCALE_AT,v=new SuperMapAlgoPlot.Point(0,0),m=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0);m.x=A-(M-o[3].y)*this.SCALE_ATAJ,m.y=M+(A-o[3].x)*this.SCALE_ATAJ,v.x=A+(M-o[3].y)*this.SCALE_ATAJ,v.y=M-(A-o[3].x)*this.SCALE_ATAJ,L.x=d-(b-o[2].y)*this.SCALE_ATAJ,L.y=b+(d-o[2].x)*this.SCALE_ATAJ,O.x=d+(b-o[2].y)*this.SCALE_ATAJ,O.y=b-(d-o[2].x)*this.SCALE_ATAJ;var T=new SuperMapAlgoPlot.Point(0,0),w=new SuperMapAlgoPlot.Point(0,0),x=new SuperMapAlgoPlot.Point(0,0),R=new SuperMapAlgoPlot.Point(0,0);T.x=3*v.x-2*A-(o[3].x-A)*this.SCALE_ATAE,T.y=3*v.y-2*M-(o[3].y-M)*this.SCALE_ATAE,w.x=3*m.x-2*A-(o[3].x-A)*this.SCALE_ATAE,w.y=3*m.y-2*M-(o[3].y-M)*this.SCALE_ATAE,x.x=3*O.x-2*d-(o[2].x-d)*this.SCALE_ATAE,x.y=3*O.y-2*b-(o[2].y-b)*this.SCALE_ATAE,R.x=3*L.x-2*d-(o[2].x-d)*this.SCALE_ATAE,R.y=3*L.y-2*b-(o[2].y-b)*this.SCALE_ATAE,p.x=a+n*(a-u)/(g*this.QIANJI_RATE4),p.y=s+n*(s-c)/(g*this.QIANJI_RATE4),P.x=u+r*(u-a)/(g*this.QIANJI_RATE4),P.y=c+r*(c-s)/(g*this.QIANJI_RATE4);var U=new SuperMapAlgoPlot.Point(0,0);U.x=o[0].x+(p.x-o[0].x)*this.SCALE_AW,U.y=o[0].y+(p.y-o[0].y)*this.SCALE_AW;var E=new SuperMapAlgoPlot.Point(0,0);E.x=o[1].x+(P.x-o[1].x)*this.SCALE_AW,E.y=o[1].y+(P.y-o[1].y)*this.SCALE_AW;var I=new SuperMapAlgoPlot.Point(0,0);I.x=v.x+(p.x-v.x)*this.SCALE_ATAJctrlSameSide,I.y=v.y+(p.y-v.y)*this.SCALE_ATAJctrlSameSide;var C=new SuperMapAlgoPlot.Point(0,0);C.x=L.x+(P.x-L.x)*this.SCALE_ATAJctrlSameSide,C.y=L.y+(P.y-L.y)*this.SCALE_ATAJctrlSameSide;var B=new SuperMapAlgoPlot.Point(0,0);B.x=m.x+(y.x-m.x)*this.SCALE_ATAJctrlDefSide,B.y=m.y+(y.y-m.y)*this.SCALE_ATAJctrlDefSide;var _=new SuperMapAlgoPlot.Point(0,0);_.x=O.x+(f.x-O.x)*this.SCALE_ATAJctrlDefSide,_.y=O.y+(f.y-O.y)*this.SCALE_ATAJctrlDefSide;var D=new SuperMapAlgoPlot.Point(0,0);D.x=h.x+(S.x-h.x)*l,D.y=h.y+(S.y-h.y)*l,this.m_scalePoints.push(new SuperMapAlgoPlot.Point(D.x,D.y));var N=new SuperMapAlgoPlot.Point(0,0),k=new SuperMapAlgoPlot.Point(0,0);N.x=o[0].x+(o[3].x-o[0].x)*l,N.y=o[0].y+(o[3].y-o[0].y)*l,k.x=o[1].x+(o[2].x-o[1].x)*l,k.y=o[1].y+(o[2].y-o[1].y)*l,N.x=N.x+(D.x-N.x)*this.QIANJI_RATE3,N.y=N.y+(D.y-N.y)*this.QIANJI_RATE3,k.x=k.x+(D.x-k.x)*this.QIANJI_RATE3,k.y=k.y+(D.y-k.y)*this.QIANJI_RATE3;var V=[];V.push(o[0].clone()),V.push(U.clone()),V.push(I.clone()),V.push(v.clone()),e.MoveTo(V[0]),e.CurveTo(V[1],V[2],V[3]);var j,Y,z=[],F=[],W=[],G=[],H=[],q=[];for(e.ToSubPathPolygons(q),j=q[0],Y=q[0].length,e.LineTo(T),e.LineTo(o[3]),e.LineTo(w),(V=[]).push(m),V.push(B),V.push(N),V.push(D),e.LineTo(V[0]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)z.push(q[0][Y]);for(Y=q[0].length,e.CurveTo(V[1],V[2],V[3]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)F.push(q[0][Y]);for(Y=q[0].length,(V=[]).push(k),V.push(_),V.push(O),e.CurveTo(V[0],V[1],V[2]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)W.push(q[0][Y]);for(Y=q[0].length,e.LineTo(x),e.LineTo(o[2]),e.LineTo(R),(V=[]).push(L),V.push(C),V.push(E),V.push(i),e.LineTo(V[0]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)G.push(q[0][Y]);for(Y=q[0].length,e.CurveTo(V[1],V[2],V[3]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)H.push(q[0][Y]);return q=[],e.ToSubPathPolygons(q),{shapePts:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(q[0]),LeftArowLeftBody:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(j),LeftArowHead:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(z),LeftArowRightBody:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(F),RightArowLeftBody:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(W),RightArowHead:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(G),RightArowRightBody:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(H)}}}])&&Yo(e.prototype,o),l&&Yo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ho(t){"@babel/helpers - typeof";return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jo(t,e){return(Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xo(t);if(e){var n=Xo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xo(t){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1006=Go;var Qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1007",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=!1;void 0!==t[0].z&&(e=!0),this.scaleValues[0]=this.getSubSymbolScaleValue();var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,o,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYLINE,!0),n=[];n.push(t[t.length-1]),n.push(l[l.length-1]),n.push(t[t.length-2]);var r=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(n,o,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID);if(e){for(var i=t.length,a=[],s=[],p=0;p<i;++p)a.push({x:l[p].x,y:l[p].y,z:t[p].z});var u={x:t[i-1].x,y:t[i-1].y,z:t[i-1].z},c={x:t[i-2].x,y:t[i-2].y,z:t[i-2].z},P=this.ComputeZValue(l[i-1],u,c);a[i-1].z=P;for(var g=0;g<r.length;++g){var y=this.ComputeZValue(r[g],u,c);s.push({x:r[g].x,y:r[g].y,z:y})}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);s.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,surroundLineLimit:!0,lineTypeLimit:!0})}else{this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);r.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}}}}])&&qo(e.prototype,o),l&&qo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ko(t){"@babel/helpers - typeof";return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $o(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tl(t,e){return(tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function el(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ol(t);if(e){var n=ol(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ol(t){return(ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1007=Qo;var ll=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=el(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1008",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues[0]=this.getSubSymbolScaleValue();var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=Math.sqrt(e*e/3),l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,o,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYBEZIER,!0),n=[];n.push(t[t.length-1]),n.push(l[l.length-1]),n.push(t[t.length-2]);var r=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(n,e,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL);l.push(t[t.length-1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);r.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,{surroundLineFlag:!1,fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}}}])&&$o(e.prototype,o),l&&$o(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nl(t){"@babel/helpers - typeof";return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function il(t,e){return(il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function al(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sl(t);if(e){var n=sl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sl(t){return(sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1008=ll;var pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&il(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=al(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1009",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=!1;void 0!==t[0].z&&(e=!0),this.scaleValues[0]=this.getSubSymbolScaleValue();var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,0,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYLINE,!1),n=[];n.push(l[l.length-1]),n.push(l[l.length-2]),n.push(t[t.length-2]);var r=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(n,o,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_POLYLINE),i=[];i.push(l[0]),i.push(l[1]);var a=SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePtsBySingleLine(i,o,SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL);if(e){for(var s=t.length,p=[],u=[],c=[],P=0;P<s;++P)p.push({x:t[P].x,y:t[P].y,z:t[P].z});var g,y={x:t[s-1].x,y:t[s-1].y,z:t[s-1].z},f={x:t[s-2].x,y:t[s-2].y,z:t[s-2].z};g=this.ComputeZValue(l[s-1],y,f),p.push({x:l[s-1].x,y:l[s-1].y,z:g});for(var h=0;h<r.length;++h)g=this.ComputeZValue(r[h],y,f),u.push({x:r[h].x,y:r[h].y,z:g});for(var S={x:t[1].x,y:t[1].y,z:t[1].z},A={x:t[0].x,y:t[0].y,z:t[0].z},M=0;M<a.length;++M)g=this.ComputeZValue(a[M],S,A),c.push({x:a[M].x,y:a[M].y,z:g});this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{surroundLineLimit:!0,lineTypeLimit:!0}),0!==c.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}else{this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineLimit:!0,lineTypeLimit:!0}),0!==a.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a)}}}}])&&rl(e.prototype,o),l&&rl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ul(t){"@babel/helpers - typeof";return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pl(t,e){return(Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=yl(t);if(e){var n=yl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function yl(t){return(yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1009=pl;var fl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=gl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1010",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.arrowMeshs(t);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(e.shapePts),0!==e.shapePts.length){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.shapePts,{surroundLineFlag:!1}),this.scalePoints=[];for(var o=0;o<e.m_scalePoints.length;o++)this.addScalePoint(e.m_scalePoints[o])}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);this.scaleValues.length<4&&(this.scaleValues.push(0),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2));var l,n,r,i,a=o.length;if(a<=2)return;this.scaleValues.length<4?(l=0,n=.148,r=.4,i=.312):(l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=this.scaleValues[3]);var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=this.operateCtrlPts(o);a=p.length,a--;for(var u=[],c=0;c<this.scalePoints.length;c++)u.push(this.scalePoints[c].clone());if(0===(u=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(u).pts).length)return;if(u[t]=e.clone(),3===t){var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(o,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),g=new SuperMapAlgoPlot.Point(.5*(P.leftBodyPts[0].x+P.rightBodyPts[0].x),.5*(P.leftBodyPts[0].y+P.rightBodyPts[0].y)),y=SuperMapAlgoPlot.PlottingUtil.distance(P.leftBodyPts[0],P.rightBodyPts[0]);this.scaleValues[4]=SuperMapAlgoPlot.PlottingUtil.distance(g,e)/y}else{var f,h,S=a-1;f=a<=3?new SuperMapAlgoPlot.Point((p[0].x+p[1].x)/2,(p[0].y+p[1].y)/2):p[S-1].clone();var A,M,d,b,v,m,O=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),T=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,f,p[S],p[S+1],L,T),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,p[a],p[a-1],T,O),h=O.clone();var w=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(p[a],h,u[2]);A=w.dLen1,w.dLen2,0===A&&(A=.1),M=A,l=(A/=i+1)/s,1===t?(b=(w=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(p[a],h,u[1])).dLen1,r=(v=w.dLen2)/A,i=(b-A)/A):0===t?(A=(w=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(p[a],h,u[0])).dLen1,n=(d=w.dLen2)/A,(m=SuperMapAlgoPlot.PlottingUtil.distance(p[a],p[a-1]))<2*A&&(A=.5*m),b=(w=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(p[a],h,u[1])).dLen1,r=(v=w.dLen2)/A,(i=(M-A)/A)<.1&&(r=v/(A=M/(1+(i=.1))),n=d/A),l=A/s):2===t&&(l=A/s),d=A*n,(m=SuperMapAlgoPlot.PlottingUtil.distance(p[a],p[a-1]))<2*A&&(d=(A=.5*m)*n,l=A/s),this.scaleValues[0]=l,this.scaleValues[1]=n,this.scaleValues[2]=r,this.scaleValues[3]=i}}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],r=[],i=[],a=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),s=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(a,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),p=s.arrowTouLen,u=s.leftBodyPts,c=s.rightBodyPts;if(a=s.OpectrlPoints,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,0)){var P=[];P.push(u[u.length-1]),P.push(c[c.length-1]);var g=[];g.push(this.scaleValues[2]),g.push(this.scaleValues[3]),g.push(0),g.push(0);var y=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(a,P,g,p,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),f=[];f.push(u[0]),f.push(c[0]);for(var h,S=SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePts(t,f,this.scaleValues[4],SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL_POLYBODY),A=0;A<u.length;A++)e.push(u[A]),o.push(u[A]);for(var M=0;M<y.length;M++)e.push(y[M]),n.push(y[M]);for(var d=c.length-1;d>=0;d--)e.push(c[d]),l.push(c[d]);for(var b=1;b<S.length;b++)e.push(S[b]),r.push(S[b]);var v=a.length;v-=2;var m=p*this.scaleValues[3];h=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(m,a[v],a[v+1]);var O=new SuperMapAlgoPlot.Point(o[o.length-1].x,o[o.length-1].y);O.isScalePoint=!0,O.tag=0,i.push(O),(O=new SuperMapAlgoPlot.Point(n[0].x,n[0].y)).isScalePoint=!0,O.tag=1,i.push(O),(O=new SuperMapAlgoPlot.Point(h.x,h.y)).isScalePoint=!0,O.tag=2,i.push(O),(O=new SuperMapAlgoPlot.Point(S[1].x,S[1].y)).isScalePoint=!0,O.tag=3,i.push(O)}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n,arrowTailPts:r,m_scalePoints:i}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o=SuperMapAlgoPlot.PlottingUtil.clonePoints(e);if(3===o.length){var l=((o[0].x+o[1].x)/2+o[2].x)/2,n=((o[0].y+o[1].y)/2+o[2].y)/2,r=new SuperMapAlgoPlot.Point(l,n),i=o[2];o[2]=r,o.push(i)}return o}}])&&cl(e.prototype,o),l&&cl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hl(t){"@babel/helpers - typeof";return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Al(t,e){return(Al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ml(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dl(t);if(e){var n=dl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dl(t){return(dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1010=fl;var bl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Al(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Ml(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,5!==e.scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen),e.scaleValues.push(e.sv_arrowTailWidth)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1011",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<2)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!==e){var o=e*this.scaleValues[4],l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[1],t[0]);void 0!==t[0].z&&(l.pntLeft.z=t[0].z,l.pntRight.z=t[0].z),this.controlPoints=[],this.controlPoints.push(l.pntLeft),this.controlPoints.push(l.pntRight);for(var n=1;n<t.length;n++)this.controlPoints.push(t[n].clone());for(var r=[],i=0;i<this.scaleValues.length;i++)r.push(this.scaleValues[i]);this.scaleValues=[];for(var a=0;a<r.length-1;a++)this.scaleValues.push(r[a]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.calculateParts.apply(this,arguments);var s=l.pntRight.clone();s.isScalePoint=!0,s.tag=3,this.addScalePoint(s),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),this.scaleValues=[];for(var p=0;p<r.length;p++)this.scaleValues.push(r[p])}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o.length<2)return;this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));var l,n=o[0].clone(),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=r*this.scaleValues[4],a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,o[1],o[0]);(o=[]).push(a.pntLeft),o.push(a.pntRight);for(var s=1;s<this.controlPoints.length;s++)o.push(this.controlPoints[s].clone());var p,u,c,P,g,y=o.length,f=this.operateCtrlPts(o);y=f.length,y--;var h=this.calcScaleValueCount(o.length);if(h++,this.scaleValues.length<h){var S=this.calcDefaultScaleValues(y);p=S[0],u=S[1],c=S[2],P=S[3],g=this.sv_arrowTailWidth}else p=this.scaleValues[0],u=this.scaleValues[1],c=this.scaleValues[2],P=this.scaleValues[3],g=this.scaleValues[4];l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);for(var A=[],M=0;M<this.scalePoints.length;M++)A.push(this.scalePoints[M].clone());if(0===A.length)return;A[t]=e.clone();var d,b,v=y-1;d=y<=3?new SuperMapAlgoPlot.Point((f[0].x+f[1].x)/2,(f[0].y+f[1].y)/2):f[v-1].clone();var m,O,L,T,w,x,R=new SuperMapAlgoPlot.Point(0,0),U=new SuperMapAlgoPlot.Point(0,0),E=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,d,f[v],f[v+1],U,E),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,f[y],f[y-1],E,R),b=R.clone();var I=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(f[y],b,A[2]);if(m=I.dLen1,I.dLen2,0===m&&(m=.1),O=m,p=(m/=P+1)/l,1===t)T=(I=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(f[y],b,A[1])).dLen1,c=(w=I.dLen2)/m,P=(T-m)/m;else if(0===t)m=(I=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(f[y],b,A[0])).dLen1,u=(L=I.dLen2)/m,(x=SuperMapAlgoPlot.PlottingUtil.distance(f[y],f[y-1]))<2*m&&(m=.5*x),T=(I=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(f[y],b,A[1])).dLen1,c=(w=I.dLen2)/m,(P=(O-m)/m)<.1&&(c=w/(m=O/(1+(P=.1))),u=L/m),p=m/l;else if(2===t)p=m/l;else{g=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/r}L=m*u,(x=SuperMapAlgoPlot.PlottingUtil.distance(f[y],f[y-1]))<2*m&&(L=(m=.5*x)*u,p=m/l),this.scaleValues[0]=p,this.scaleValues[1]=u,this.scaleValues[2]=c,this.scaleValues[3]=P,this.scaleValues[4]=g}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(r,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),a=i.arrowTouLen,s=i.leftBodyPts,p=i.rightBodyPts;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var u=[];u.push(s[s.length-1]),u.push(p[p.length-1]);var c=[];c.push(this.scaleValues[2]),c.push(this.scaleValues[3]),c.push(0),c.push(0);for(var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(r,u,c,a,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),g=0;g<s.length;g++)e.push(s[g]),o.push(s[g]);for(var y=0;y<P.length;y++)e.push(P[y]),n.push(P[y]);for(var f=p.length-1;f>=0;f--)e.push(p[f]),l.push(p[f])}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n}}},{key:"updateScalePoints",value:function(t){var e=t.length,o=[];if(!(e<3)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l,0)){var n=this.operateCtrlPts(t);e=n.length,e--;for(var r=[],i=0;i<this.scaleValues.length;i++)r.push(this.scaleValues[i]);var a=this.genArrowBodyPts(l,n,r),s=a.ArrowBodyCenterPts,p=this.genAtPts(e,s,r,a.ArrowTouLen),u=this.calc3rdScalePt(e,s,r,a.ArrowTouLen);return o.push(new SuperMapAlgoPlot.Point(a.LeftBodyPtsTemp[e].x,a.LeftBodyPtsTemp[e].y)),o.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),o.push(new SuperMapAlgoPlot.Point(u.x,u.y)),o}}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);if(3===e.length){var o=((e[0].x+e[1].x)/2+e[2].x)/2,l=((e[0].y+e[1].y)/2+e[2].y)/2,n=new SuperMapAlgoPlot.Point(o,l),r=e[2];e[2]=n,e.push(r)}return e}},{key:"genArrowBodyPts",value:function(t,e,o){var l,n,r,i=[],a=[],s=[],p=[],u=[],c=[],P=e.length;if(P--,o.length<this.calcScaleValueCount(P)){var g=this.calcDefaultScaleValues(P);n=g[0],r=g[1]}else n=o[0],r=o[1];var y=SuperMapAlgoPlot.PlottingUtil.clonePoints(e),f=(y[0].x+y[1].x)/2,h=(y[0].y+y[1].y)/2,S=Math.abs(f-y[2].x),A=Math.abs(h-y[2].y),M=0;if(S>0&&A>0){var d=1/(f-y[2].x),b=-1/(h-y[2].y),v=1*y[2].y/(h-y[2].y)-1*y[2].x/(f-y[2].x);M=Math.abs(d*y[0].x+b*y[0].y+v)/Math.sqrt(d*d+b*b)}else A<=1e-4?M=Math.abs(h-y[1].y):S<=1e-4&&(M=Math.abs(f-y[1].x));var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[2],new SuperMapAlgoPlot.Point(f,h)),O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[1],y[2],y[0]);O?(i[1]=y[1],a[1]=y[0]):(i[1]=y[0],a[1]=y[1]),y[1]=new SuperMapAlgoPlot.Point((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2);var L=Math.sqrt((m.pntLeft.x-m.pntRight.x)*(m.pntLeft.x-m.pntRight.x)+(m.pntLeft.y-m.pntRight.y)*(m.pntLeft.y-m.pntRight.y))*this.sv_AtWidthDivAwWidth,T=(l=L*this.sv_AtLenDivAtWidth)*r;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||(T=(l=t*n)*r);var w,x,R=SuperMapAlgoPlot.PlottingUtil.distance(y[P],y[P-1]),U=2*l;R<U&&(T=(l=R/2)*r),y.push(y[P].clone()),w=0,x=0;var E=0,I=[];for(E=2;E<=P;E++)w+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]);for(w-=l,E=2;E<=P-1;E++)x+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]),I[E]=T+(L-T)*Math.pow((w-x)/w,this.sv_AtScaleParameter);I[P]=T;var C,B,_=new SuperMapAlgoPlot.Point(0,0),D=new SuperMapAlgoPlot.Point(0,0),N=new SuperMapAlgoPlot.Point(0,0);for(E=2;E<=P-1;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y[E-1],y[E],y[E+1],D,N),E===P-1&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,y[P],y[P-1],N,_),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I[E],D,y[E]),(O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(N,D,C.pntRight))?(i[E]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y),a[E]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y)):(i[E]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),a[E]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y));for(Math.sqrt(1*(y[P].x-_.x)*(y[P].x-_.x)+1*(y[P].y-_.y)*(y[P].y-_.y))>0&&(y[P]=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(l,y[P],_)),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(T,y[P+1],y[P]),(O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[P],y[P+1],C.pntLeft))?(a[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),i[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y)):(a[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y),i[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y)),E=2;E<P;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,i[E-1],i[E],i[E+1],D,N),s[E]=new SuperMapAlgoPlot.Point(D.x,D.y),p[E]=new SuperMapAlgoPlot.Point(N.x,N.y),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,a[E-1],a[E],a[E+1],D,N),u[E]=new SuperMapAlgoPlot.Point(D.x,D.y),c[E]=new SuperMapAlgoPlot.Point(N.x,N.y),2===E&&(SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,i[1],i[2],s[2],_),p[E]=new SuperMapAlgoPlot.Point(_.x,_.y),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,a[1],a[2],u[2],_),c[E]=new SuperMapAlgoPlot.Point(_.x,_.y)),E===P-1&&(U=(R=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=i[P].x-y[P].x,B.y+=i[P].y-y[P].y,U=(R=L-T)*Math.pow(U/w,this.sv_AtScaleParameter),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,i[P],B),s[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),U=(R=SuperMapAlgoPlot.PlottingUtil.distance(a[P],a[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=a[P].x-y[P].x,B.y+=a[P].y-y[P].y,U=(R=L-T)*Math.pow(U/w,this.sv_AtScaleParameter),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,a[P],B),u[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y));return{ArrowBodyCenterPts:SuperMapAlgoPlot.PlottingUtil.clonePoints(y),LeftBodyPtsTemp:i,RightBodyPtsTemp:a,LeftBodyPtsLeftCtrlPts:s,LeftBodyPtsRightCtrlPts:p,RightBodyPtsLeftCtrlPts:u,RightBodyPtsRightCtrlPts:c,ArrowTouLen:l}}},{key:"calcScaleValueCount",value:function(){return 4}},{key:"calcDefaultScaleValues",value:function(){var t=[];return t.push(this.sv1_DefaultAtLenDivAbLen),t.push(this.sv2_DefaultAjWidthDivAtLen),t.push(this.sv3_DefaultAeWidthDivAtLen),t.push(this.sv4_DefaultAeLenDivAtLen),t}},{key:"genAtPts",value:function(t,e,o,l){var n=o[2],r=[],i=l*o[3],a=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(i,e[t],e[t+1]);i=l*n;var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[t+1],a);return r.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),r.push(e[t+1]),r.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),r}},{key:"calc3rdScalePt",value:function(t,e,o,l){var n=l*o[3];return SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(n,e[t],e[t+1])}}])&&Sl(e.prototype,o),l&&Sl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function vl(t){"@babel/helpers - typeof";return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ml(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ol(t,e){return(Ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ll(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tl(t);if(e){var n=Tl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1011=bl;var wl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ol(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1005);var e,o,l,n=Ll(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subSymbolDefaultPixelSize=15,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1012",e}return e=r,o&&ml(e.prototype,o),l&&ml(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function xl(t){"@babel/helpers - typeof";return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ul(t,e){return(Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function El(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Il(t);if(e){var n=Il(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Il(t){return(Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1012=wl;var Cl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ul(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1007);var e,o,l,n=El(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subSymbolDefaultPixelSize=15,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1013",e}return e=r,o&&Rl(e.prototype,o),l&&Rl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Bl(t){"@babel/helpers - typeof";return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _l(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Dl(t,e){return(Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=kl(t);if(e){var n=kl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Bl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function kl(t){return(kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1013=Cl;var Vl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1008);var e,o,l,n=Nl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subSymbolDefaultPixelSize=15,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1014",e}return e=r,o&&_l(e.prototype,o),l&&_l(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function jl(t){"@babel/helpers - typeof";return(jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zl(t,e){return(zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Wl(t);if(e){var n=Wl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wl(t){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1014=Vl;var Gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1009);var e,o,l,n=Fl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subSymbolDefaultPixelSize=15,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1015",e}return e=r,o&&Yl(e.prototype,o),l&&Yl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Hl(t){"@babel/helpers - typeof";return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ql(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jl(t,e){return(Jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xl(t);if(e){var n=Xl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xl(t){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1015=Gl;var Ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.arrowHeadType=t.arrowHeadType?t.arrowHeadType:0,e.arrowBodyType=t.arrowBodyType?t.arrowBodyType:0,e.arrowTailType=t.arrowTailType?t.arrowTailType:0,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1016",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fillStyle:0,lineTypeLimit:!0,surroundLineLimit:!0};this.scaleValues[0]=this.getSubSymbolScaleValue();var o,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],n=2*Math.sqrt(l*l/3)/1.4,r=Math.sqrt(l*l/3),i=!1;this.arrowBodyType===SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_COATTAIL?o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,l,this.arrowBodyType,i):this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE||this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID?(i=!0,o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,l,this.arrowBodyType,i)):this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_POLYLINE?o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,l,this.arrowBodyType,i):this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW?(i=!0,o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,n,this.arrowBodyType,i)):this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL?(i=!0,o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,r,this.arrowBodyType,i)):o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,0,this.arrowBodyType,i);var a=[];this.arrowBodyType===SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_COATTAIL?(a.push(t[t.length-1]),a.push(t[t.length-2]),a.push(t[t.length-2])):i?(a.push(t[t.length-1]),a.push(o[o.length-1]),a.push(t[t.length-2])):(a.push(o[o.length-1]),a.push(o[o.length-2]),a.push(t[t.length-2]));var s,p=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(a,l,this.arrowHeadType);if(o.length>1)if(this.arrowBodyType!==SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_COATTAIL)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o);else for(var u=0,c=o.length-1;u<c;u+=2){var P=SuperMapAlgoPlot.PlottingUtil.distance(o[u+1],o[u]),g=180*SuperMapAlgoPlot.PlottingUtil.radian(o[u+1],o[u])/Math.PI,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[u+1],.3*P,.3*P,g+30),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[u+1],.3*P,.3*P,g+330),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[u],.3*P,.3*P,g+30),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[u],.3*P,.3*P,g+330),A=[];A.push(y,o[u+1],f,S,o[u],h),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,e)}s=this.arrowBodyType===SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYBEZIER?SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePtsBySingleLine([o[0],o[1]],l,this.arrowTailType):SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePtsBySingleLine([t[0],t[1]],l,this.arrowTailType);var M=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL;this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW||(M=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL),p.length>1&&this.addCell(M,p,e),s.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s)}}}])&&ql(e.prototype,o),l&&ql(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kl(t){"@babel/helpers - typeof";return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $l(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tn(t,e){return(tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function en(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=on(t);if(e){var n=on(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1016=Ql;var ln=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=en(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(0),e.scaleValues.push(.3),e.scaleValues.push(.3)),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1017",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){this.scalePoints=[];var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);this.isEdit||(this.scaleValues[0]=1.5*this.getSubSymbolScaleValue());var o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(e,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_PARALLEL),l=o.arrowTouLen,n=o.leftBodyPts,r=o.rightBodyPts,i=[];i.push(n[n.length-1]),i.push(r[r.length-1]);var a=[];a.push(this.scaleValues[3]),a.push(this.scaleValues[4]),a.push(this.scaleValues[0]),a.push(this.scaleValues[1]);var s=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(e,i,a,l,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITHOUT_EAR),p=[];p=(p=p.concat(n)).concat(s);for(var u=r.length-1;u>=0;u--)p.push(r[u]);p.push(p[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p,{lineWidthLimit:!0,strokeWidth:0,weight:0,surroundLineFlag:!1});for(var c=SuperMapAlgoPlot.PlottingUtil.clonePoints(n),P=[],g=r.length-1;g>=0;g--)P.push(r[g]);P=P.concat(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var y=SuperMapAlgoPlot.PlottingUtil.clonePoints(s);y.push(r[r.length-1]),y.splice(0,0,n[n.length-1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0});var f=new SuperMapAlgoPlot.Point((i[0].x+i[1].x)/2,(i[0].y+i[1].y)/2),h=new SuperMapAlgoPlot.Point(f.x,f.y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h);var S=new SuperMapAlgoPlot.Point(n[n.length-1].x,n[n.length-1].y);S.isScalePoint=!0,S.tag=1,this.scalePoints.push(S);var A=new SuperMapAlgoPlot.Point(s[0].x,s[0].y);A.isScalePoint=!0,A.tag=2,this.scalePoints.push(A),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=new SuperMapAlgoPlot.Point(this.scalePoints[0].x,this.scalePoints[0].y),l=new SuperMapAlgoPlot.Point(this.scalePoints[1].x,this.scalePoints[1].y),n=new SuperMapAlgoPlot.Point(this.scalePoints[2].x,this.scalePoints[2].y),r=this.scaleValues[0],i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i);var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),s=a*r;if(0==t){var p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i[i.length-2],i[i.length-1]),u=p.projectPoint;if(p.isOnline){var c=SuperMapAlgoPlot.PlottingUtil.distance(u,i[i.length-1]);this.scaleValues[0]=c/a}}else if(1==t){var P=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l,n).projectPoint,g=SuperMapAlgoPlot.PlottingUtil.distance(P,o);this.scaleValues[1]=g/s}else if(2==t){var y=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i[1],n).projectPoint,f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(y,o,i[1]),h=f.projectPoint,S=SuperMapAlgoPlot.PlottingUtil.distance(h,o);!1===f.isOnline&&(this.scaleValues[4]=S/s)}}this.calculateParts()}}])&&$l(e.prototype,o),l&&$l(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nn(t){"@babel/helpers - typeof";return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function an(t,e){return(an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=pn(t);if(e){var n=pn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function pn(t){return(pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1017=ln;var un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=sn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).MAX_ARRAY_SIZE=128,e.sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_AtScaleParameter=1.5,e.sv_AtLenDivAtWidth=1.35,e.sv_AtWidthDivAwWidth=.5,e.sv_defaultAwLenDivAbLen=.15,0===e.scaleValues.length&&(e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen)),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1018",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),this.applyUse()}},{key:"applyUse",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<3)){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=this.arrowMeshs(e),l=SuperMapAlgoPlot.PlottingUtil.clonePoints(o.shapePts);(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).push(l[0]);var n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o.leftBodyPts),r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o.rightBodyPts),i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o.arrowHeadPts);if(0!=o.shapePts.length){var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*a,n),p=[],u=[],c=[];if(s.bfind)for(var P=0;P<=s.index;P++)p.push(n[P]);var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.45*a,n),y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.8*a,n);if(g.bfind&&y.bfind)for(var f=g.index;f<=y.index;f++)u.push(n[f]);var h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.85*a,n);if(h.bfind)for(var S=h.index;S<n.length;S++)c.push(n[S]);var A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.15*A,r),d=[],b=[],v=[];if(M.bfind)for(var m=0;m<=M.index;m++)d.push(r[m]);var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.2*A,r),L=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.55*A,r);if(O.bfind&&L.bfind)for(var T=O.index;T<=L.index;T++)b.push(r[T]);var w=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.6*A,r);if(w.bfind)for(var x=w.index;x<r.length;x++)v.push(r[x]);var R=SuperMapAlgoPlot.PlottingUtil.clonePoints(i);R.splice(0,0,n[n.length-1]),R.push(r[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,{lineWidthLimit:!0,strokeWidth:0,weight:0,surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{surroundLineFlag:!1,lineTypeLimit:!0});var U=this.updateScalePoints(e);if(this.scalePoints=[],3!=U.length)U=[];else for(var E=0;E<U.length;E++)U[E].isScalePoint=!0,U[E].tag=E,this.scalePoints.push(U[E]);this.finish()}else this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.scaleValues.length<4&&(this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen));var l=o.length;if(l<=2)return;var n,r,i,a,s=this.operateCtrlPts(o);l=s.length,l--;var p=this.calcScaleValueCount(o.length);if(this.scaleValues.length<p){var u=this.calcDefaultScaleValues(l);n=u[0],r=u[1],i=u[2],a=u[3]}else n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=this.scaleValues[3];for(var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),P=[],g=0;g<this.scalePoints.length;g++)P.push(this.scalePoints[g].clone());if(0==P.length)return;P[t]=e.clone();var y,f,h=l-1;y=l<=3?new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2):s[h-1].clone();var S,A,M,d,b,v,m=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y,s[h],s[h+1],O,L),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,s[l],s[l-1],L,m),f=m.clone();var T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],f,P[2]);S=T.dLen1,T.dLen2,0==S&&(S=.1),A=S,n=(S/=a+1)/c,1==t?(d=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],f,P[1])).dLen1,i=(b=T.dLen2)/S,a=(d-S)/S):0==t?(S=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],f,P[0])).dLen1,r=(M=T.dLen2)/S,(v=SuperMapAlgoPlot.PlottingUtil.distance(s[l],s[l-1]))<2*S&&(S=.5*v),d=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],f,P[1])).dLen1,i=(b=T.dLen2)/S,(a=(A-S)/S)<.1&&(i=b/(S=A/(1+(a=.1))),r=M/S),n=S/c):2==t&&(n=S/c),M=S*r,(v=SuperMapAlgoPlot.PlottingUtil.distance(s[l],s[l-1]))<2*S&&(M=(S=.5*v)*r,n=S/c),this.scaleValues[0]=n,this.scaleValues[1]=r,this.scaleValues[2]=i,this.scaleValues[3]=a}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(r,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),a=i.arrowTouLen,s=i.leftBodyPts,p=i.rightBodyPts;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var u=[];u.push(s[s.length-1]),u.push(p[p.length-1]);var c=[];c.push(this.scaleValues[2]),c.push(this.scaleValues[3]),c.push(0),c.push(0);for(var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(r,u,c,a,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),g=0;g<s.length;g++)e.push(s[g]),o.push(s[g]);for(var y=0;y<P.length;y++)e.push(P[y]),n.push(P[y]);for(var f=p.length-1;f>=0;f--)e.push(p[f]),l.push(p[f])}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n}}},{key:"updateScalePoints",value:function(t){var e=t.length,o=[];if(!(e<3)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l,0)){var n=this.operateCtrlPts(t);e=n.length,e--;for(var r=[],i=0;i<this.scaleValues.length;i++)r.push(this.scaleValues[i]);var a=this.genArrowBodyPts(l,n,r),s=a.ArrowBodyCenterPts,p=this.genAtPts(e,s,r,a.ArrowTouLen),u=this.calc3rdScalePt(e,s,r,a.ArrowTouLen);return o.push(new SuperMapAlgoPlot.Point(a.LeftBodyPtsTemp[e].x,a.LeftBodyPtsTemp[e].y)),o.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),o.push(new SuperMapAlgoPlot.Point(u.x,u.y)),o}}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);if(3===e.length){var o=((e[0].x+e[1].x)/2+e[2].x)/2,l=((e[0].y+e[1].y)/2+e[2].y)/2,n=new SuperMapAlgoPlot.Point(o,l),r=e[2];e[2]=n,e.push(r)}return e}},{key:"genArrowBodyPts",value:function(t,e,o){var l,n,r,i=[],a=[],s=[],p=[],u=[],c=[],P=e.length;if(P--,o.length<this.calcScaleValueCount(P)){var g=this.calcDefaultScaleValues(P);n=g[0],r=g[1]}else n=o[0],r=o[1];var y=SuperMapAlgoPlot.PlottingUtil.clonePoints(e),f=(y[0].x+y[1].x)/2,h=(y[0].y+y[1].y)/2,S=Math.abs(f-y[2].x),A=Math.abs(h-y[2].y),M=0;if(S>0&&A>0){var d=1/(f-y[2].x),b=-1/(h-y[2].y),v=1*y[2].y/(h-y[2].y)-1*y[2].x/(f-y[2].x);M=Math.abs(d*y[0].x+b*y[0].y+v)/Math.sqrt(d*d+b*b)}else A<=1e-4?M=Math.abs(h-y[1].y):S<=1e-4&&(M=Math.abs(f-y[1].x));var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[2],new SuperMapAlgoPlot.Point(f,h)),O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[1],y[2],y[0]);O?(i[1]=y[1],a[1]=y[0]):(i[1]=y[0],a[1]=y[1]),y[1]=new SuperMapAlgoPlot.Point((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2);var L=Math.sqrt((m.pntLeft.x-m.pntRight.x)*(m.pntLeft.x-m.pntRight.x)+(m.pntLeft.y-m.pntRight.y)*(m.pntLeft.y-m.pntRight.y))*this.sv_AtWidthDivAwWidth,T=(l=L*this.sv_AtLenDivAtWidth)*r;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||(T=(l=t*n)*r);var w,x,R=SuperMapAlgoPlot.PlottingUtil.distance(y[P],y[P-1]),U=2*l;R<U&&(T=(l=R/2)*r),y.push(y[P].clone()),w=0,x=0;var E=0,I=[];for(E=2;E<=P;E++)w+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]);for(w-=l,E=2;E<=P-1;E++)x+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]),I[E]=T+(L-T)*Math.pow((w-x)/w,this.sv_AtScaleParameter);I[P]=T;var C,B,_=new SuperMapAlgoPlot.Point(0,0),D=new SuperMapAlgoPlot.Point(0,0),N=new SuperMapAlgoPlot.Point(0,0);for(E=2;E<=P-1;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y[E-1],y[E],y[E+1],D,N),E==P-1&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,y[P],y[P-1],N,_),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I[E],D,y[E]),(O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(N,D,C.pntRight))?(i[E]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y),a[E]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y)):(i[E]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),a[E]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y));for(Math.sqrt(1*(y[P].x-_.x)*(y[P].x-_.x)+1*(y[P].y-_.y)*(y[P].y-_.y))>0&&(y[P]=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(l,y[P],_)),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(T,y[P+1],y[P]),(O=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[P],y[P+1],C.pntLeft))?(a[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),i[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y)):(a[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y),i[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y)),E=2;E<P;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,i[E-1],i[E],i[E+1],D,N),s[E]=new SuperMapAlgoPlot.Point(D.x,D.y),p[E]=new SuperMapAlgoPlot.Point(N.x,N.y),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,a[E-1],a[E],a[E+1],D,N),u[E]=new SuperMapAlgoPlot.Point(D.x,D.y),c[E]=new SuperMapAlgoPlot.Point(N.x,N.y),2==E&&(SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,i[1],i[2],s[2],_),p[E]=new SuperMapAlgoPlot.Point(_.x,_.y),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,a[1],a[2],u[2],_),c[E]=new SuperMapAlgoPlot.Point(_.x,_.y)),E==P-1&&(U=(R=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=i[P].x-y[P].x,B.y+=i[P].y-y[P].y,U=(R=L-T)*Math.pow(U/w,this.sv_AtScaleParameter),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,i[P],B),s[P]=new SuperMapAlgoPlot.Point(C.pntLeft.x,C.pntLeft.y),U=(R=SuperMapAlgoPlot.PlottingUtil.distance(a[P],a[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=a[P].x-y[P].x,B.y+=a[P].y-y[P].y,U=(R=L-T)*Math.pow(U/w,this.sv_AtScaleParameter),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,a[P],B),u[P]=new SuperMapAlgoPlot.Point(C.pntRight.x,C.pntRight.y));return{ArrowBodyCenterPts:SuperMapAlgoPlot.PlottingUtil.clonePoints(y),LeftBodyPtsTemp:i,RightBodyPtsTemp:a,LeftBodyPtsLeftCtrlPts:s,LeftBodyPtsRightCtrlPts:p,RightBodyPtsLeftCtrlPts:u,RightBodyPtsRightCtrlPts:c,ArrowTouLen:l}}},{key:"calcScaleValueCount",value:function(){return 4}},{key:"calcDefaultScaleValues",value:function(){var t=[];return t.push(this.sv1_DefaultAtLenDivAbLen),t.push(this.sv2_DefaultAjWidthDivAtLen),t.push(this.sv3_DefaultAeWidthDivAtLen),t.push(this.sv4_DefaultAeLenDivAtLen),t}},{key:"genAtPts",value:function(t,e,o,l){var n=o[2],r=[],i=l*o[3],a=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(i,e[t],e[t+1]);i=l*n;var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[t+1],a);return r.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),r.push(e[t+1]),r.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),r}},{key:"calc3rdScalePt",value:function(t,e,o,l){var n=l*o[3];return SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(n,e[t],e[t+1])}}])&&rn(e.prototype,o),l&&rn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function cn(t){"@babel/helpers - typeof";return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gn(t,e){return(gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=fn(t);if(e){var n=fn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fn(t){return(fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1018=un;var hn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.222222),e.scaleValues.push(.5),e.scaleValues.push(.5),e.scaleValues.push(.5)),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1019",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.222222),this.scaleValues.push(.5),this.scaleValues.push(.5),this.scaleValues.push(.5));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],s=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-s),-l*a),u=new SuperMapAlgoPlot.Point(l*(1-s),l*a),c=this.scaleValues[2],P=this.scaleValues[4],g=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),y=new SuperMapAlgoPlot.Point(l*(1-P),l*c),f=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o),S=[];S.push(r),S.push(p),S.push(g),S.push(f),S.push(y),S.push(u),S.push(i),S.push(r);for(var A=[],M=0;M<S.length;M++){var d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[M],h*SuperMapAlgoPlot.PlottingUtil.RTOD);A.push(d)}for(var b=[],v=A.length-1;v>=0;--v)b.push(A[v]);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{lineWidthLimit:!0,strokeWidth:0,weight:0,surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b[2],b[1],b[7],b[6]],{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b[6],b[5],b[4],b[3],b[2]],{lineTypeLimit:!0,surroundLineFlag:!1}),this.scalePoints=[];var m=A[0].clone();m.isScalePoint=!0,m.tag=0,this.scalePoints.push(m);var O=A[1].clone();O.isScalePoint=!0,O.tag=1,this.scalePoints.push(O);var L=A[2].clone();L.isScalePoint=!0,L.tag=2,this.scalePoints.push(L),this.scalePoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(this.scalePoints),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=o[0].clone(),r=o[1].clone(),i=e.clone();if(0==t){var a=SuperMapAlgoPlot.PlottingUtil.distance(i,n)/l;this.scaleValues[0]=a}else if(1==t){var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(i,n,r),p=SuperMapAlgoPlot.PlottingUtil.distance(s,i)/l;this.scaleValues[1]=p;var u=SuperMapAlgoPlot.PlottingUtil.distance(s,r)/l;this.scaleValues[3]=u}else if(2==t){var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(i,n,r),P=SuperMapAlgoPlot.PlottingUtil.distance(c,i)/l;this.scaleValues[2]=P;var g=SuperMapAlgoPlot.PlottingUtil.distance(c,r)/l;this.scaleValues[4]=g}}this.calculateParts()}}])&&Pn(e.prototype,o),l&&Pn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Sn(t){"@babel/helpers - typeof";return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function An(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Mn(t,e){return(Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bn(t);if(e){var n=bn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Sn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1019=hn;var vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.222222),e.scaleValues.push(.5),e.scaleValues.push(.5),e.scaleValues.push(.5)),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1020",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.222222),this.scaleValues.push(.5),this.scaleValues.push(.5),this.scaleValues.push(.5));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],s=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-s),-l*a),u=new SuperMapAlgoPlot.Point(l*(1-s),l*a),c=this.scaleValues[2],P=this.scaleValues[4],g=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),y=new SuperMapAlgoPlot.Point(l*(1-P),l*c),f=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o),S=SuperMapAlgoPlot.PlottingUtil.distance(r,p),A=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,p,.3*S),M=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,p,.4*S),d=SuperMapAlgoPlot.PlottingUtil.distance(u,i),b=SuperMapAlgoPlot.PlottingUtil.findPointInLine(u,i,.6*d),v=SuperMapAlgoPlot.PlottingUtil.findPointInLine(u,i,.7*d),m=[];m.push(r),m.push(A),m.push(M),m.push(p),m.push(g),m.push(f),m.push(y),m.push(u),m.push(b),m.push(v),m.push(i);for(var O=[],L=0;L<m.length;L++){var T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,m[L],h*SuperMapAlgoPlot.PlottingUtil.RTOD);O.push(T)}for(var w=[],x=O.length-1;x>=0;--x)w.push(O[x]);var R=SuperMapAlgoPlot.PlottingUtil.clonePoints(w);R.push(R[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,R,{lineWidthLimit:!0,strokeWidth:0,weight:0,surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[0],w[1]]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[2],w[3]]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[3],w[4],w[5],w[6],w[7]],{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[7],w[8]]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[9],w[10]]),this.scalePoints=[];var U=O[0].clone();U.isScalePoint=!0,U.tag=0,this.scalePoints.push(U);var E=O[3].clone();E.isScalePoint=!0,E.tag=1,this.scalePoints.push(E);var I=O[4].clone();I.isScalePoint=!0,I.tag=2,this.scalePoints.push(I),this.scalePoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(this.scalePoints),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=o[0].clone(),r=o[1].clone(),i=e.clone();if(0==t){var a=SuperMapAlgoPlot.PlottingUtil.distance(i,n)/l;this.scaleValues[0]=a}else if(1==t){var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(i,n,r),p=SuperMapAlgoPlot.PlottingUtil.distance(s,i)/l;this.scaleValues[1]=p;var u=SuperMapAlgoPlot.PlottingUtil.distance(s,r)/l;this.scaleValues[3]=u}else if(2==t){var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(i,n,r),P=SuperMapAlgoPlot.PlottingUtil.distance(c,i)/l;this.scaleValues[2]=P;var g=SuperMapAlgoPlot.PlottingUtil.distance(c,r)/l;this.scaleValues[4]=g}}this.calculateParts()}}])&&An(e.prototype,o),l&&An(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function mn(t){"@babel/helpers - typeof";return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ln(t,e){return(Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=wn(t);if(e){var n=wn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function wn(t){return(wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1020=vn;var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ln(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Tn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1021",e.QIANJI_RATE1=9,e.QIANJI_RATE2=20,e.QIANJI_RATE4=5,e.QIANJI_RATE3=1/3,e.QIANJI_TAIL_RATE1=8,e.QIANJI_TAIL_RATE2=3,e.QIANJI_TAIL_RATE3=.6,e.SV1_Default=.25,e.SV1_MinValue=0,e.SV1_MaxValue=.5,e.DEFAULT_ARROW_TAIL_POS=.4,e.SCALE_VALUE_COUNT=1,e.MIN_LEN_LeftToRightCenter=1e-7,e.SCALE_AT=1/3,e.SCALE_ATAJ=1/7,e.SCALE_ATAE=1/3,e.SCALE_AW=2/3,e.SCALE_ATAJctrlDefSide=.8,e.SCALE_ATAJctrlSameSide=2/3,e.SCALE_MM_LEFT=.25,e.SCALE_MM_RIGHT=.75,e.BEZIER_K1=1/3,e.QIANJI_OPERATE_RATE1=1,e.m_dMaxDis=0,e.m_bIsAnimation=!1,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.components.length=0,this.m_scalePoints=[],(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<3)){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=this.arrowMeshs(e);o.LeftArowHead.unshift(o.LeftArowLeftBody[0][o.LeftArowLeftBody[0].length-1]),o.RightArowHead.unshift(o.RightArowLeftBody[o.RightArowLeftBody.length-1]),o.LeftArowLeftBody[0].push(o.LeftArowHead[0]),o.RightArowLeftBody.push(o.RightArowHead[0]),o.shapePts.push(o.shapePts[0]);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.LeftArowLeftBody[0]),n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*l,o.LeftArowLeftBody[0]),r=[],i=[];if(n.bfind)for(var a=0;a<=n.index;a++)r.push(o.LeftArowLeftBody[0][a]);var s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*l,o.LeftArowLeftBody[0]);if(s.bfind)for(var p=s.index;p<o.LeftArowLeftBody[0].length-1;p++)i.push(o.LeftArowLeftBody[0][p]);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.RightArowLeftBody),c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*u,o.RightArowLeftBody),P=[],g=[];if(c.bfind)for(var y=0;y<=c.index;y++)P.push(o.RightArowLeftBody[y]);var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*u,o.RightArowLeftBody);if(f.bfind)for(var h=f.index;h<o.RightArowLeftBody.length-1;h++)g.push(o.RightArowLeftBody[h]);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.RightArowRightBody),A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*S,o.RightArowRightBody),M=[],d=[];if(A.bfind)for(var b=0;b<=A.index;b++)M.push(o.RightArowRightBody[b]);var v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*S,o.RightArowRightBody);if(v.bfind)for(var m=v.index;m<o.RightArowRightBody.length-1;m++)d.push(o.RightArowRightBody[m]);o.shapePts.length>0&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o.shapePts,{strokeWidth:0,weight:0,lineWidthLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.LeftArowHead,{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.LeftArowRightBody),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.RightArowHead,{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d)),this.scalePoints=[];for(var O=0;O<this.m_scalePoints.length;O++)this.m_scalePoints[O].isScalePoint=!0,this.m_scalePoints[O].tag=O,this.scalePoints.push(this.m_scalePoints[O]);this.scalePoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(this.scalePoints),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l,n=SuperMapAlgoPlot.PlottingUtil.operateControlPoints(o),r=new SuperMapAlgoPlot.Point((n[0].x+n[1].x)/2,(n[0].y+n[1].y)/2),i=new SuperMapAlgoPlot.Point((n[2].x+n[3].x)/2,(n[2].y+n[3].y)/2),a=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r,i);if(a.isOnline){var s=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r),p=SuperMapAlgoPlot.PlottingUtil.distance(r,i);(l=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(s,0)?this.SV1_MinValue:s/p)>this.SV1_MaxValue&&(l=this.SV1_MaxValue)}else l=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r)<SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,i)?this.SV1_MinValue:this.SV1_MaxValue;this.scaleValues=[],this.scaleValues.push(l)}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=new SuperMapAlgoPlot.Path2D,o=[];o=this.m_bIsAnimation&&4===t.length?SuperMapAlgoPlot.PlottingUtil.clonePoints(t):SuperMapAlgoPlot.PlottingUtil.operateControlPoints(t);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[3]),r=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]),i=o[1].clone(),a=.5*(o[0].x+o[3].x),s=.5*(o[0].y+o[3].y),p=new SuperMapAlgoPlot.Point(a,s),u=.5*(o[1].x+o[2].x),c=.5*(o[1].y+o[2].y),P=new SuperMapAlgoPlot.Point(u,c),g=SuperMapAlgoPlot.PlottingUtil.distance(p,P);g<this.MIN_LEN_LeftToRightCenter&&(g=this.MIN_LEN_LeftToRightCenter),p.x=a+n*(a-u)/(g*this.QIANJI_RATE1),p.y=s+n*(s-c)/(g*this.QIANJI_RATE1),P.x=u+r*(u-a)/(g*this.QIANJI_RATE1),P.y=c+r*(c-s)/(g*this.QIANJI_RATE1);var y=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0);y.x=a+n*(a-u)/(g*this.QIANJI_RATE2),y.y=s+n*(s-c)/(g*this.QIANJI_RATE2),f.x=u+r*(u-a)/(g*this.QIANJI_RATE2),f.y=c+r*(c-s)/(g*this.QIANJI_RATE2);var h=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),S=new SuperMapAlgoPlot.Point((o[2].x+o[3].x)/2,(o[2].y+o[3].y)/2),A=o[3].x-(o[3].x-p.x)*this.SCALE_AT,M=o[3].y-(o[3].y-p.y)*this.SCALE_AT,d=o[2].x-(o[2].x-P.x)*this.SCALE_AT,b=o[2].y-(o[2].y-P.y)*this.SCALE_AT,v=new SuperMapAlgoPlot.Point(0,0),m=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0);m.x=A-(M-o[3].y)*this.SCALE_ATAJ,m.y=M+(A-o[3].x)*this.SCALE_ATAJ,v.x=A+(M-o[3].y)*this.SCALE_ATAJ,v.y=M-(A-o[3].x)*this.SCALE_ATAJ,L.x=d-(b-o[2].y)*this.SCALE_ATAJ,L.y=b+(d-o[2].x)*this.SCALE_ATAJ,O.x=d+(b-o[2].y)*this.SCALE_ATAJ,O.y=b-(d-o[2].x)*this.SCALE_ATAJ;var T=new SuperMapAlgoPlot.Point(0,0),w=new SuperMapAlgoPlot.Point(0,0),x=new SuperMapAlgoPlot.Point(0,0),R=new SuperMapAlgoPlot.Point(0,0);T.x=3*v.x-2*A-(o[3].x-A)*this.SCALE_ATAE,T.y=3*v.y-2*M-(o[3].y-M)*this.SCALE_ATAE,w.x=3*m.x-2*A-(o[3].x-A)*this.SCALE_ATAE,w.y=3*m.y-2*M-(o[3].y-M)*this.SCALE_ATAE,x.x=3*O.x-2*d-(o[2].x-d)*this.SCALE_ATAE,x.y=3*O.y-2*b-(o[2].y-b)*this.SCALE_ATAE,R.x=3*L.x-2*d-(o[2].x-d)*this.SCALE_ATAE,R.y=3*L.y-2*b-(o[2].y-b)*this.SCALE_ATAE,p.x=a+n*(a-u)/(g*this.QIANJI_RATE4),p.y=s+n*(s-c)/(g*this.QIANJI_RATE4),P.x=u+r*(u-a)/(g*this.QIANJI_RATE4),P.y=c+r*(c-s)/(g*this.QIANJI_RATE4);var U=new SuperMapAlgoPlot.Point(0,0);U.x=o[0].x+(p.x-o[0].x)*this.SCALE_AW,U.y=o[0].y+(p.y-o[0].y)*this.SCALE_AW;var E=new SuperMapAlgoPlot.Point(0,0);E.x=o[1].x+(P.x-o[1].x)*this.SCALE_AW,E.y=o[1].y+(P.y-o[1].y)*this.SCALE_AW;var I=new SuperMapAlgoPlot.Point(0,0);I.x=v.x+(p.x-v.x)*this.SCALE_ATAJctrlSameSide,I.y=v.y+(p.y-v.y)*this.SCALE_ATAJctrlSameSide;var C=new SuperMapAlgoPlot.Point(0,0);C.x=L.x+(P.x-L.x)*this.SCALE_ATAJctrlSameSide,C.y=L.y+(P.y-L.y)*this.SCALE_ATAJctrlSameSide;var B=new SuperMapAlgoPlot.Point(0,0);B.x=m.x+(y.x-m.x)*this.SCALE_ATAJctrlDefSide,B.y=m.y+(y.y-m.y)*this.SCALE_ATAJctrlDefSide;var _=new SuperMapAlgoPlot.Point(0,0);_.x=O.x+(f.x-O.x)*this.SCALE_ATAJctrlDefSide,_.y=O.y+(f.y-O.y)*this.SCALE_ATAJctrlDefSide;var D=new SuperMapAlgoPlot.Point(0,0);D.x=h.x+(S.x-h.x)*l,D.y=h.y+(S.y-h.y)*l,this.m_scalePoints.push(new SuperMapAlgoPlot.Point(D.x,D.y));var N=new SuperMapAlgoPlot.Point(0,0),k=new SuperMapAlgoPlot.Point(0,0);N.x=o[0].x+(o[3].x-o[0].x)*l,N.y=o[0].y+(o[3].y-o[0].y)*l,k.x=o[1].x+(o[2].x-o[1].x)*l,k.y=o[1].y+(o[2].y-o[1].y)*l,N.x=N.x+(D.x-N.x)*this.QIANJI_RATE3,N.y=N.y+(D.y-N.y)*this.QIANJI_RATE3,k.x=k.x+(D.x-k.x)*this.QIANJI_RATE3,k.y=k.y+(D.y-k.y)*this.QIANJI_RATE3;var V=[];V.push(o[0].clone()),V.push(U.clone()),V.push(I.clone()),V.push(v.clone()),e.MoveTo(V[0]),e.CurveTo(V[1],V[2],V[3]);var j,Y=[],z=[],F=[],W=[],G=[],H=[],q=[];for(e.ToSubPathPolygons(q),Y.push(q[0]),j=q[0].length,e.LineTo(T),e.LineTo(o[3]),e.LineTo(w),(V=[]).push(m),V.push(B),V.push(N),V.push(D),e.LineTo(V[0]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)z.push(q[0][j]);for(j=q[0].length,e.CurveTo(V[1],V[2],V[3]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)F.push(q[0][j]);for(j=q[0].length,(V=[]).push(k),V.push(_),V.push(O),e.CurveTo(V[0],V[1],V[2]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)W.push(q[0][j]);for(j=q[0].length,e.LineTo(x),e.LineTo(o[2]),e.LineTo(R),(V=[]).push(L),V.push(C),V.push(E),V.push(i),e.LineTo(V[0]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)G.push(q[0][j]);for(j=q[0].length,e.CurveTo(V[1],V[2],V[3]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)H.push(q[0][j]);return q=[],e.ToSubPathPolygons(q),{shapePts:q[0],LeftArowLeftBody:Y,LeftArowHead:z,LeftArowRightBody:F,ArowMidBody:[],RightArowLeftBody:W,RightArowHead:G,RightArowRightBody:H}}}])&&On(e.prototype,o),l&&On(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Rn(t){"@babel/helpers - typeof";return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function En(t,e){return(En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function In(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cn(t);if(e){var n=Cn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cn(t){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1021=xn;var Bn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=In(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1022",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!1),r=SuperMapAlgoPlot.PlottingUtil.findPointInLine(l[0],l[1],.6*e),i=SuperMapAlgoPlot.PlottingUtil.findPointInLine(l[0],l[1],.5*e),a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.1*e,l[0],i).pntLeft;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[a,r,l[1]],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var s=SuperMapAlgoPlot.PlottingUtil.findPointInLine(n[0],n[1],.4*e),p=SuperMapAlgoPlot.PlottingUtil.findPointInLine(n[0],n[1],.5*e),u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.1*e,n[0],p).pntRight;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[u,s,n[0]],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n[1],n[0]]),this.leftPoint=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l),this.addScalePoint(l[0],0),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;this.scaleValues[0]=n}}this.calculateParts()}}])&&Un(e.prototype,o),l&&Un(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _n(t){"@babel/helpers - typeof";return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nn(){return(Nn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jn(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function kn(t,e){return(kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jn(t);if(e){var n=jn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1022=Bn;var Yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Vn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.4),e.scaleValues.push(.4),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(1),e.scaleValues.push(1)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol315",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments),this.scaleValues.length<9&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(.2),this.scaleValues.push(.4),this.scaleValues.push(.4),this.scaleValues.push(.1),this.scaleValues.push(.2),this.scaleValues.push(.1),this.scaleValues.push(.2),this.scaleValues.push(1),this.scaleValues.push(1));var l,n=e*this.scaleValues[4],r=e*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],i+r);l=(this.scaleValues[8],SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],a));var s,p=e*this.scaleValues[6],u=e*this.scaleValues[7],c=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],i+u);s=(this.scaleValues[9],SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],c));var P=[];P.push(new SuperMapAlgoPlot.Point(l.pntLeft.x,l.pntLeft.y)),P.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),P.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y)),P.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y));var g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(P);g=SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),this.addScalePoint(l.pntLeft,3),this.addScalePoint(s.pntRight,4)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]);if(t<=2&&(SuperMapAlgoPlot.AlgoSymbol1004.prototype.modifyPoint.apply(this,arguments),Nn(jn(r.prototype),"modifyPoint",this).call(this,t,e)),3===t){var i=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,a=SuperMapAlgoPlot.PlottingUtil.distance(n,o[0])/l;this.scaleValues[4]=i,this.scaleValues[5]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[8]=1:this.scaleValues[8]=0}if(4===t){var s=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,p=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1])/l;this.scaleValues[6]=s,this.scaleValues[7]=p,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[9]=1:this.scaleValues[9]=0}}this.calculateParts()}}])&&Dn(e.prototype,o),l&&Dn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zn(t){"@babel/helpers - typeof";return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wn(t,e){return(Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hn(t);if(e){var n=Hn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol315=Yn;var qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Gn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);for(var o=0,l=0,n=e.length-1;l<n;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);for(var r=0,i=0,a=t.length-1;i<a;i++)r+=SuperMapAlgoPlot.PlottingUtil.distance(t[i],t[i+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());for(var s=this.scaleValues[0]*r,p=this.scaleValues[1],u=this.scaleValues[2]*r,c=.3*u,P=u;P<o;P+=u){var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e);if(-1===g.index)return void this.finish();var y=P+c,f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(y,e);if(-1===f.index)return void this.finish();var h=[],S=[];h.push(g.pts);var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,e[g.index],g.pts);0===p?h.push(new SuperMapAlgoPlot.Point(A.pntLeft.x,A.pntLeft.y)):h.push(new SuperMapAlgoPlot.Point(A.pntRight.x,A.pntRight.y)),S.push(f.pts);var M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,e[f.index],f.pts);if(0===p?S.push(new SuperMapAlgoPlot.Point(M.pntLeft.x,M.pntLeft.y)):S.push(new SuperMapAlgoPlot.Point(M.pntRight.x,M.pntRight.y)),u===P){this.scalePoints=[];var d=new SuperMapAlgoPlot.Point(h[1].x,h[1].y);d.isScalePoint=!0,d.tag=0,this.scalePoints.push(d),(d=new SuperMapAlgoPlot.Point(h[0].x,h[0].y)).isScalePoint=!0,d.tag=1,this.scalePoints.push(d)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;for(var l=0,n=0,r=o.length-1;n<r;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),a=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,l*this.scaleValues[2]);if(-1===s.index)return;var p=SuperMapAlgoPlot.PlottingUtil.distance(s.pt,a)/l,u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i[0],i[1],e);this.scaleValues[1]=u?1:0,this.scaleValues[0]=p}else if(1===t){for(var c=0,P=-1,g=[],y=0,f=i.length-1;y<f;y++){var h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i[y],i[y+1]);if(h.isOnline){var S=SuperMapAlgoPlot.PlottingUtil.distance(h.projectPoint,this.controlPoints[1]);0==c?(c=S,P=y,g=e):S<c&&(c=S,P=y,g=e)}}if(-1==P)return;for(var A=0,M=0,d=P-1;M<d;M++)A+=SuperMapAlgoPlot.PlottingUtil.distance(i[M],i[M+1]);var b=(A+=SuperMapAlgoPlot.PlottingUtil.distance(g,i[P]))/l;b>.7&&(b=.7),this.scaleValues[2]=b}}}}])&&Fn(e.prototype,o),l&&Fn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Jn(t){"@babel/helpers - typeof";return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xn(t,e){return(Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kn(t);if(e){var n=Kn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15200=qn;var $n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Qn(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var r=(l-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},s=10*r;t.push(t[0]);for(var p=!0,u=i.x,c=i.x;p;){p=!1;for(var P,g,y,f,h,S=[],A=new SuperMapAlgoPlot.Point(u,i.y),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,10,10,45),d=0;d<t.length-1;d++){var b=SuperMapAlgoPlot.PlottingUtil.intersectLines(A,M,t[d],t[d+1]);b.isIntersectLines&&(g=b.intersectPoint,(y=[]).push(t[d]),y.push(t[d+1]),(P=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(g,y)).isOnPolyLine&&S.push(g))}if(1<S.length){this.sortPts2D(S);for(var v=0;v<S.length-1;v++)h=new SuperMapAlgoPlot.Point((S[v].x+S[v+1].x)/2,(S[v].y+S[v+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,h)&&((f=[]).push(S[v]),f.push(S[v+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,a,!0))}S.length>0&&(p=!0),S=[];for(var m=new SuperMapAlgoPlot.Point(c,i.y),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,5,5,45),L=0;L<t.length-1;L++)(P=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,O,t[L],t[L+1])).isIntersectLines&&(g=P.intersectPoint,(y=[]).push(t[L]),y.push(t[L+1]),(P=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(g,y)).isOnPolyLine&&S.push(g));if(1<S.length){this.sortPts2D(S);for(var T=0;T<S.length-1;T++)h=new SuperMapAlgoPlot.Point((S[T].x+S[T+1].x)/2,(S[T].y+S[T+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,h)&&((f=[]).push(S[T]),f.push(S[T+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,a,!0))}S.length>0&&(p=!0),u-=s,c+=s}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&Zn(e.prototype,o),l&&Zn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tr(t){"@babel/helpers - typeof";return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function or(t,e){return(or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nr(t);if(e){var n=nr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25701=$n;var rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&or(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l,n,r=this.scaleValues[0]*e,i=t[0],a=t[1],s=180*SuperMapAlgoPlot.PlottingUtil.radian(i,a)/Math.PI;l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!1);var p=.15*e,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[0],p,p,s+165),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(n[0],p,p,s-165),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[l.length-1],p,p,s+15),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(n[n.length-1],p,p,s-15),y=[];y.push(u),y.push(l[0]),y.push(l[l.length-1]),y.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var f=[];f.push(c),f.push(n[0]),f.push(n[n.length-1]),f.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var h=new SuperMapAlgoPlot.Point(l[0].x,l[0].y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=o[0],i=o[1],a=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,r,i),s=SuperMapAlgoPlot.PlottingUtil.distance(e,a);this.scaleValues[0]=s/l}}}}])&&er(e.prototype,o),l&&er(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ir(t){"@babel/helpers - typeof";return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ar(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sr(t,e){return(sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ur(t);if(e){var n=ur(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ur(t){return(ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol320=rr;var cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.getSubSymbolScaleValue();this.isEdit||(this.scaleValues[0]=.5*l);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!1);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);for(var a=e*this.scaleValues[1],s=.5*n,p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),u=s,c=0;u<p;u+=a,c++){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,u);if(-1!==P.index){var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,r[P.index+1],P.pt),y=[];y.push(g.pntRight),y.push(P.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,u);if(-1!==f.index){var h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,i[f.index+1],f.pt);(y=[]).push(f.pt),y.push(h.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),0===c?this.addScalePoint(g.pntRight,0):1===c&&this.addScalePoint(P.pt,1)}}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),0==t){r=.5*(l*this.scaleValues[0]);var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===a.index)return;var s=SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=s/l}else if(1===t){r=.5*(l*this.scaleValues[0]);var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===p.index)return;var u=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,i);if(-1==u.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,i[p.index+1]),P=p.index+1;P<u.index;P++)c+=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(i[u.index],u.pt),this.scaleValues[1]=c/l}}}}])&&ar(e.prototype,o),l&&ar(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pr(t){"@babel/helpers - typeof";return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function yr(t,e){return(yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hr(t);if(e){var n=hr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hr(t){return(hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol321=cr;var Sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.025),e.scaleValues.push(.085)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[0].x,t[t.length-1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[0].y,t[t.length-1].y)||t.push(t[0]);for(var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0]*e,l=-1*SuperMapAlgoPlot.PlottingUtil.innerOutlineDir(t),n=this.scaleValues[1]*e,r=.3*n,i=n;i<e;i+=n){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i);if(-1===a.index)return void this.finish();var s=i+r,p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,s);if(-1===p.index)return void this.finish();var u=[],c=[];u.push(a.pt);var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[a.index],a.pt);1===l?u.push(new SuperMapAlgoPlot.Point(P.pntLeft.x,P.pntLeft.y)):u.push(new SuperMapAlgoPlot.Point(P.pntRight.x,P.pntRight.y)),c.push(p.pt);var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[p.index],p.pt);if(1===l?c.push(new SuperMapAlgoPlot.Point(g.pntLeft.x,g.pntLeft.y)):c.push(new SuperMapAlgoPlot.Point(g.pntRight.x,g.pntRight.y)),n===i){this.scalePoints=[];var y=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);y.isScalePoint=!0,y.tag=0,this.scalePoints.push(y),(y=new SuperMapAlgoPlot.Point(u[0].x,u[0].y)).isScalePoint=!0,y.tag=1,this.scalePoints.push(y)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o[0].x,o[o.length-1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o[0].y,o[o.length-1].y)||o.push(o[0]);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,l*this.scaleValues[1]);if(-1===r.index)return;var i=SuperMapAlgoPlot.PlottingUtil.distance(r.pt,n)/l;this.scaleValues[0]=i}else if(1===t){for(var a=0,s=-1,p=null,u=0,c=o.length-1;u<c;u++){var P=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[u],o[u+1]);if(P.isOnline)if(null==p)s=u,p=P.projectPoint,a=SuperMapAlgoPlot.PlottingUtil.distance(e,p);else{var g=SuperMapAlgoPlot.PlottingUtil.distance(e,p);g<a&&(s=u,p=P.projectPoint,a=g)}}if(-1==s)return;for(var y=0,f=0,h=s-1;f<h;f++)y+=SuperMapAlgoPlot.PlottingUtil.distance(o[f],o[f+1]);var S=(y+=SuperMapAlgoPlot.PlottingUtil.distance(o[s],p))/l;S>.3&&(S=.3),this.scaleValues[1]=S}}}}])&&gr(e.prototype,o),l&&gr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ar(t){"@babel/helpers - typeof";return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dr(t,e){return(dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vr(t);if(e){var n=vr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vr(t){return(vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol322=Sr;var mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=br(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);0===this.scaleValues.length&&(this.scaleValues[0]=.05),this.isEdit||(this.scaleValues[0]=2*this.getSubSymbolScaleValue());var o=this.getLinePts(e,this.scaleValues[0]),l=new SuperMapAlgoPlot.Point((o.startPt.x+o.endPt.x)/2,(o.startPt.y+o.endPt.y)/2),n=SuperMapAlgoPlot.PlottingUtil.radian(o.startPt,o.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=SuperMapAlgoPlot.PlottingUtil.distance(o.startPt,o.endPt);this.addSubSymbols(l,r,n);for(var i=[],a=0;a<=o.startIndex;a++)i.push(e[a]);i.push(o.startPt);for(var s=.1*r,p=SuperMapAlgoPlot.PlottingUtil.makeDottedLine(i,s),u=0;u<p.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[u]);if(o.endIndex<=e.length){var c=[];c.push(o.endPt);for(var P=o.endIndex+1;P<=e.length-1;P++)c.push(e[P]);var g=SuperMapAlgoPlot.PlottingUtil.makeDottedLine(c,s);for(u=0;u<g.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g[u])}this.finish()}}},{key:"addSubSymbols",value:function(t,e,o){var l=.1*e,n=new SuperMapAlgoPlot.Point(-l,l),r=new SuperMapAlgoPlot.Point(l,-l),i=[];i.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,n,o)),i.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,r,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var a=new SuperMapAlgoPlot.Point(-l,-l),s=new SuperMapAlgoPlot.Point(l,l),p=[];p.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,a,o)),p.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var u=new SuperMapAlgoPlot.Point(-4*l,l),c=new SuperMapAlgoPlot.Point(-2*l,-l),P=[];P.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,u,o)),P.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,c,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var g=new SuperMapAlgoPlot.Point(-4*l,-l),y=new SuperMapAlgoPlot.Point(-2*l,l),f=[];f.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,g,o)),f.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,y,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var h=new SuperMapAlgoPlot.Point(2*l,l),S=new SuperMapAlgoPlot.Point(4*l,-l),A=[];A.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,h,o)),A.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,S,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var M=new SuperMapAlgoPlot.Point(2*l,-l),d=new SuperMapAlgoPlot.Point(4*l,l),b=[];b.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,M,o)),b.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,d,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}},{key:"computeScaleValues",value:function(t,e){}}])&&Mr(e.prototype,o),l&&Mr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Or(t){"@babel/helpers - typeof";return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tr(t,e){return(Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xr(t);if(e){var n=xr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xr(t){return(xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol326=mr;var Rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue()),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=.5*this.getSubSymbolScaleValue()}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.addSubSymbols(r,a,i);for(var s=[],p=[],u=0;u<=n.startIndex;u++)s.push(e[u]);if(s.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p,this.scaleValues[1])}var P=o*this.scaleValues[0]*.5,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,P,P,i+90);this.addScalePoint(g,0),this.finish()}}},{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-180)}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Lr(e.prototype,o),l&&Lr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ur(t){"@babel/helpers - typeof";return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Er(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ir(t,e){return(Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Br(t);if(e){var n=Br(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21501=Rr;var _r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ir(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=Cr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"addSubSymbols",value:function(t,e,o){var l=new SuperMapAlgoPlot.Point(-.5*e,.25*e),n=new SuperMapAlgoPlot.Point(-.5*e,-.25*e),r=[];r.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l,o)),r.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,n,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var i=new SuperMapAlgoPlot.Point(-.5*e,.125*e),a=new SuperMapAlgoPlot.Point(.25*e,.125*e),s=new SuperMapAlgoPlot.Point(.5*e,0),p=new SuperMapAlgoPlot.Point(.25*e,-.125*e),u=new SuperMapAlgoPlot.Point(-.5*e,-.125*e),c=[];c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,i,o)),c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,a,o)),c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,o)),c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,p,o)),c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,u,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}}])&&Er(e.prototype,o),l&&Er(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Dr(t){"@babel/helpers - typeof";return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function kr(t,e){return(kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jr(t);if(e){var n=jr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol327=_r;var Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Vr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=e*this.scaleValues[0],n=this.getLinePts(o,this.scaleValues[1],5/14),r=this.getLinePts(o,this.scaleValues[1],9/14),i=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),a=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI;this.createSubSymbol1(i,l,a);var s=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),p=180*SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)/Math.PI;this.createSubSymbol2(s,l,p);var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.5*l,.5*l,p+90);this.addScalePoint(u);for(var c=[],P=[],g=[],y=0;y<=n.startIndex;y++)c.push(o[y]);if(c.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),n.endIndex<=r.startIndex){P.push(n.endPt);for(var f=n.endIndex+1;f<=r.startIndex;f++)P.push(o[f]);P.push(r.startPt),2===o.length&&SuperMapAlgoPlot.PlottingUtil.distance(o[0],n.endPt)<=SuperMapAlgoPlot.PlottingUtil.distance(o[0],r.startPt)&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),o.length>2&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P)}g.push(r.endPt);for(var h=r.endIndex+1;h<o.length;h++)g.push(o[h]);this.addArrow(g,this.scaleValues[1]),this.finish()}}},{key:"createSubSymbol1",value:function(t,e,o){var l=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol2",value:function(t,e,o){var l=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol",value:function(t,e,o,l){for(var n=[],r=0;r<l.length;r++){var i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[r],o);n.push(i)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,{lineTypeLimit:!0,surroundLineLimit:!0})}},{key:"getSubSymbolPts",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(9*n/14,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;i<=.3&&(this.scaleValues[0]=i)}}}])&&Nr(e.prototype,o),l&&Nr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zr(t){"@babel/helpers - typeof";return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wr(t,e){return(Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hr(t);if(e){var n=Hr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hr(t){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010102=Yr;var qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3010102);var e,o,l,n=Gr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,(o=[{key:"createSubSymbol1",value:function(t,e,o){for(var l=this.getSubSymbolPts(e),n=0;n<l.length;n++)this.createSubSymbol(t,e,o,l[n])}},{key:"createSubSymbol2",value:function(t,e,o){for(var l=this.getSubSymbolPts(e),n=0;n<l.length;n++)this.createSubSymbol(t,e,o,l[n])}},{key:"createSubSymbol",value:function(t,e,o,l){for(var n=[],r=0;r<l.length;r++){var i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[r],o);n.push(i)}var a=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL;2===l.length&&(a=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL),this.addCell(a,n)}},{key:"getSubSymbolPts",value:function(t){var e=[],o=t/2,l=[];l.push(new SuperMapAlgoPlot.Point(-2*o,0)),l.push(new SuperMapAlgoPlot.Point(0,-o)),l.push(new SuperMapAlgoPlot.Point(2*o,0)),l.push(new SuperMapAlgoPlot.Point(0,o)),e.push(l);var n=[];return n.push(new SuperMapAlgoPlot.Point(-o,o)),n.push(new SuperMapAlgoPlot.Point(o,o)),e.push(n),e}}])&&Fr(e.prototype,o),l&&Fr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Jr(t){"@babel/helpers - typeof";return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xr(t,e){return(Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kr(t);if(e){var n=Kr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol328=qr;var $r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Qr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var n=Math.floor(l*o.length/4),r=new SuperMapAlgoPlot.Point(o[n].x,o[n].y),i=new SuperMapAlgoPlot.Point(o[n+1].x,o[n+1].y),a=new SuperMapAlgoPlot.Point((r.x+i.x)/2,(r.y+i.y)/2),s=SuperMapAlgoPlot.PlottingUtil.radian(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=this.scaleValues[0]*e/2,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,s),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,4*p,4*p,s+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,s+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,c,P])}this.finish()}}}])&&Zr(e.prototype,o),l&&Zr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ti(t){"@babel/helpers - typeof";return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ei(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oi(t,e){return(oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ni(t);if(e){var n=ni(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ti(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ni(t){return(ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol330=$r;var ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=li(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=20*this.getSubSymbolScaleValue(),l=.1*this.getSubSymbolScaleValue(),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);o>.05*n?l=.01*(o=.05*n):o<.005*n&&(o=.005*n);for(var r=SuperMapAlgoPlot.PlottingUtil.makeDottedLine(e,o),i=0;i<r.length;i++)if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]),i>0){var a=r[i-1][r[i-1].length-1],s=r[i][0],p=SuperMapAlgoPlot.PlottingUtil.midPoint(a,s);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[p,new SuperMapAlgoPlot.Point(p.x+l,p.y)],{lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fillColorLimit:!1,fill:!0})}this.finish()}}}])&&ei(e.prototype,o),l&&ei(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol329=ri;SuperMapAlgoPlot.BasicAlgoSymbolFactory=SuperMapAlgoPlot.BasicAlgoSymbolFactory||{};SuperMapAlgoPlot.BasicAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL:return new SuperMapAlgoPlot.GeoTooltipBox(o);case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM:return new SuperMapAlgoPlot.GeoTooltipBoxM(o);case SuperMapAlgoPlot.SymbolType.PATHTEXT:return new SuperMapAlgoPlot.PathText(o);case SuperMapAlgoPlot.SymbolType.ARROWLINE:return new SuperMapAlgoPlot.ArrowLine(o);case SuperMapAlgoPlot.SymbolType.CURVEEIGHT:return new SuperMapAlgoPlot.CurveEight(o);case SuperMapAlgoPlot.SymbolType.RUNWAY:return new SuperMapAlgoPlot.Runway(o);case SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE:return new SuperMapAlgoPlot.ConcentricCircle(o);case SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE:return new SuperMapAlgoPlot.CombinationalCircle(o);case SuperMapAlgoPlot.SymbolType.FREECURVE:return new SuperMapAlgoPlot.FreeCurve(o);case SuperMapAlgoPlot.SymbolType.REGULARPOLYGON:return new SuperMapAlgoPlot.RegularPolygon(o);case SuperMapAlgoPlot.SymbolType.BRACESYMBOL:return new SuperMapAlgoPlot.Brace(o);case SuperMapAlgoPlot.SymbolType.TRAPEZOIDSYMBOL:return new SuperMapAlgoPlot.Trapezoid(o);case SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX:return new SuperMapAlgoPlot.SymbolTextBox(o);case SuperMapAlgoPlot.SymbolType.NODECHAIN:return new SuperMapAlgoPlot.NodeChain(o);case SuperMapAlgoPlot.SymbolType.LINERELATION:return new SuperMapAlgoPlot.LineRelation(o);case SuperMapAlgoPlot.SymbolType.LINEMARKING:return new SuperMapAlgoPlot.LineMarking(o);case SuperMapAlgoPlot.SymbolType.POLYGONREGION:return new SuperMapAlgoPlot.PolygonRegion(o);case SuperMapAlgoPlot.SymbolType.WIRE:return new SuperMapAlgoPlot.Wire(o);case SuperMapAlgoPlot.SymbolType.LINEARARROW:return new SuperMapAlgoPlot.LinearArrow(o);case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:return new SuperMapAlgoPlot.Polybezier(o);case SuperMapAlgoPlot.SymbolType.NEWPIESYMBOL:return new SuperMapAlgoPlot.NewPie(o);case SuperMapAlgoPlot.SymbolType.NEWARCSYMBOL:return new SuperMapAlgoPlot.NewArc(o);case SuperMapAlgoPlot.SymbolType.NEWCHORDSYMBOL:return new SuperMapAlgoPlot.NewChord(o);default:return new SuperMapAlgoPlot.AlgoSymbol(o)}else if(22===t)switch(e){case 1001:return new SuperMapAlgoPlot.AlgoSymbol1001(o);case 1002:return new SuperMapAlgoPlot.AlgoSymbol1002(o);case 1003:return new SuperMapAlgoPlot.AlgoSymbol1003(o);case 1004:return new SuperMapAlgoPlot.AlgoSymbol1004(o);case 1005:return new SuperMapAlgoPlot.AlgoSymbol1005(o);case 1006:return new SuperMapAlgoPlot.AlgoSymbol1006(o);case 1007:return new SuperMapAlgoPlot.AlgoSymbol1007(o);case 1008:return new SuperMapAlgoPlot.AlgoSymbol1008(o);case 1009:return new SuperMapAlgoPlot.AlgoSymbol1009(o);case 1010:return new SuperMapAlgoPlot.AlgoSymbol1010(o);case 1011:return new SuperMapAlgoPlot.AlgoSymbol1011(o);case 1012:return new SuperMapAlgoPlot.AlgoSymbol1012(o);case 1013:return new SuperMapAlgoPlot.AlgoSymbol1013(o);case 1014:return new SuperMapAlgoPlot.AlgoSymbol1014(o);case 1015:return new SuperMapAlgoPlot.AlgoSymbol1015(o);case 1016:return new SuperMapAlgoPlot.AlgoSymbol1016(o);case 1017:return new SuperMapAlgoPlot.AlgoSymbol1017(o);case 1018:return new SuperMapAlgoPlot.AlgoSymbol1018(o);case 1019:return new SuperMapAlgoPlot.AlgoSymbol1019(o);case 1020:return new SuperMapAlgoPlot.AlgoSymbol1020(o);case 1021:return new SuperMapAlgoPlot.AlgoSymbol1021(o);case 1022:return new SuperMapAlgoPlot.AlgoSymbol1022(o);default:return null}else{if(421!==t)return null;switch(e){case 311:return new SuperMapAlgoPlot.AlgoSymbol1004(o);case 315:return new SuperMapAlgoPlot.AlgoSymbol315(o);case 317:return new SuperMapAlgoPlot.AlgoSymbol1006(o);case 318:return new SuperMapAlgoPlot.AlgoSymbol1002(o);case 319:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 320:return new SuperMapAlgoPlot.AlgoSymbol320(o);case 321:return new SuperMapAlgoPlot.AlgoSymbol321(o);case 322:return new SuperMapAlgoPlot.AlgoSymbol322(o);case 323:return new SuperMapAlgoPlot.AlgoSymbol25701(o);case 324:return new SuperMapAlgoPlot.AlgoSymbol3010106(o);case 325:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 326:return new SuperMapAlgoPlot.AlgoSymbol326(o);case 327:return new SuperMapAlgoPlot.AlgoSymbol327(o);case 328:return new SuperMapAlgoPlot.AlgoSymbol328(o);case 329:return new SuperMapAlgoPlot.AlgoSymbol329(o);case 330:return new SuperMapAlgoPlot.AlgoSymbol330(o);case 331:return new SuperMapAlgoPlot.AlgoSymbol29101(o);default:return null}}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getSymbolWayType=function(t,e){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}else if(22===t)switch(e){case 1005:case 1008:case 1012:case 1014:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 1007:case 1009:case 1013:case 1015:case 1017:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.isAccessServer=function(t,e){if(0===t||22===t)return!1;if(421!==t)return!0;switch(e){case 311:case 317:case 318:case 315:case 319:case 320:case 321:case 322:case 323:case 324:case 325:case 326:case 327:case 328:case 329:case 330:case 331:return!1;default:return!0}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getDefaultSubSymbols=function(){return[]},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getMinEditPts=function(t,e){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.TEXTSYMBOL:case SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE:return 1;case SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL:case SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL:case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:case SuperMapAlgoPlot.SymbolType.KIDNEY:case SuperMapAlgoPlot.SymbolType.ARROWLINE:case SuperMapAlgoPlot.SymbolType.BRACESYMBOL:case SuperMapAlgoPlot.SymbolType.CURVEEIGHT:case SuperMapAlgoPlot.SymbolType.FREECURVE:case SuperMapAlgoPlot.SymbolType.LINEMARKING:case SuperMapAlgoPlot.SymbolType.LINERELATION:case SuperMapAlgoPlot.SymbolType.NODECHAIN:case SuperMapAlgoPlot.SymbolType.PATHTEXT:case SuperMapAlgoPlot.SymbolType.REGULARPOLYGON:case SuperMapAlgoPlot.SymbolType.RUNWAY:case SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX:case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM:case SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE:case SuperMapAlgoPlot.SymbolType.WIRE:case SuperMapAlgoPlot.SymbolType.LINEARARROW:return 2;case SuperMapAlgoPlot.SymbolType.ARCSYMBOL:case SuperMapAlgoPlot.SymbolType.CHORDSYMBOL:case SuperMapAlgoPlot.SymbolType.PIESYMBOL:case SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL:case SuperMapAlgoPlot.SymbolType.PARALLELOGRAM:case SuperMapAlgoPlot.SymbolType.PARALLELLINE:case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:case SuperMapAlgoPlot.SymbolType.POLYGONREGION:case SuperMapAlgoPlot.SymbolType.TRAPEZOIDSYMBOL:case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL:case SuperMapAlgoPlot.SymbolType.NEWARCSYMBOL:case SuperMapAlgoPlot.SymbolType.NEWPIESYMBOL:case SuperMapAlgoPlot.SymbolType.NEWCHORDSYMBOL:return 3}else if(22===t)switch(e){case 1001:case 1003:case 1005:case 1007:case 1008:case 1009:case 1011:case 1012:case 1013:case 1014:case 1015:case 1016:case 1017:case 1019:case 1020:case 1022:return 2;case 1002:case 1004:case 1006:case 1010:case 1018:case 1021:return 3}else if(421===t)switch(e){case 319:case 320:case 321:case 324:case 325:case 326:case 327:case 328:case 329:case 330:case 331:return 2;case 311:case 315:case 317:case 318:case 322:case 323:return 3}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getMaxEditPts=function(t,e){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.TEXTSYMBOL:return 1;case SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL:case SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL:case SuperMapAlgoPlot.SymbolType.BRACESYMBOL:case SuperMapAlgoPlot.SymbolType.LINEMARKING:case SuperMapAlgoPlot.SymbolType.LINERELATION:case SuperMapAlgoPlot.SymbolType.RUNWAY:case SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX:case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM:case SuperMapAlgoPlot.SymbolType.LINEARARROW:return 2;case SuperMapAlgoPlot.SymbolType.ARCSYMBOL:case SuperMapAlgoPlot.SymbolType.CHORDSYMBOL:case SuperMapAlgoPlot.SymbolType.PIESYMBOL:case SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL:case SuperMapAlgoPlot.SymbolType.PARALLELOGRAM:case SuperMapAlgoPlot.SymbolType.KIDNEY:case SuperMapAlgoPlot.SymbolType.CURVEEIGHT:case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL:case SuperMapAlgoPlot.SymbolType.TRAPEZOIDSYMBOL:case SuperMapAlgoPlot.SymbolType.NEWARCSYMBOL:case SuperMapAlgoPlot.SymbolType.NEWPIESYMBOL:case SuperMapAlgoPlot.SymbolType.NEWCHORDSYMBOL:return 3;case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:case SuperMapAlgoPlot.SymbolType.PARALLELLINE:case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:case SuperMapAlgoPlot.SymbolType.ARROWLINE:case SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE:case SuperMapAlgoPlot.SymbolType.FREECURVE:case SuperMapAlgoPlot.SymbolType.NODECHAIN:case SuperMapAlgoPlot.SymbolType.PATHTEXT:case SuperMapAlgoPlot.SymbolType.POLYGONREGION:case SuperMapAlgoPlot.SymbolType.REGULARPOLYGON:case SuperMapAlgoPlot.SymbolType.WIRE:case SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE:return 9999}else if(22===t)switch(e){case 1003:case 1019:case 1020:case 1022:return 2;case 1006:case 1021:return 4;case 1001:case 1002:case 1004:case 1005:case 1007:case 1008:case 1009:case 1010:case 1011:case 1012:case 1013:case 1014:case 1015:case 1016:case 1017:case 1018:return 99999}else if(421===t)switch(e){case 320:return 2;case 329:case 330:case 331:return 3;case 317:return 4;case 323:return 1e3;case 311:case 315:case 318:case 319:case 321:case 322:case 324:case 325:case 326:case 327:case 328:return 99999}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getDefaultStyle=function(t,e){var o={};if(421===t)switch(e){case 320:case 321:o.color=o.strokeColor="#000000";break;case 322:o.color=o.strokeColor="#bc744d"}return o},SuperMapAlgoPlot.BasicAlgoSymbolFactory.zoomInCalSymbol=function(){if(22!==libID)return!1;switch(code){case 1012:case 1013:case 1014:case 1015:return!0;default:return!1}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.zoomCalSymbol=function(){return!1},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getSymbolName=function(t,e){var o="";if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.TEXTSYMBOL:o="文本";break;case SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL:o="圆";break;case SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL:o="矩形";break;case SuperMapAlgoPlot.SymbolType.ARCSYMBOL:o="弧线";break;case SuperMapAlgoPlot.SymbolType.CHORDSYMBOL:o="弓形";break;case SuperMapAlgoPlot.SymbolType.PIESYMBOL:o="扇形";break;case SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL:o="椭圆";break;case SuperMapAlgoPlot.SymbolType.PARALLELOGRAM:o="平行四边形";break;case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:o="多边形";break;case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:o="折线";break;case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:o="贝赛尔曲线";break;case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:o="闭合贝塞尔曲线";break;case SuperMapAlgoPlot.SymbolType.PARALLELLINE:o="平行线";break;case SuperMapAlgoPlot.SymbolType.KIDNEY:o="集结地";break;case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL:o="注记指示框";break;case SuperMapAlgoPlot.SymbolType.ARROWLINE:o="箭头线";break;case SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE:o="组合圆";break;case SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE:o="同心圆";break;case SuperMapAlgoPlot.SymbolType.CURVEEIGHT:o="八字形";break;case SuperMapAlgoPlot.SymbolType.FREECURVE:o="自由线";break;case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM:o="多角标注框";break;case SuperMapAlgoPlot.SymbolType.LINEMARKING:o="线型标注";break;case SuperMapAlgoPlot.SymbolType.LINERELATION:o="对象间连线";break;case SuperMapAlgoPlot.SymbolType.NODECHAIN:o="节点链";break;case SuperMapAlgoPlot.SymbolType.PATHTEXT:o="沿线注记";break;case SuperMapAlgoPlot.SymbolType.POLYGONREGION:o="多边形区域管理";break;case SuperMapAlgoPlot.SymbolType.RUNWAY:o="跑道线";break;case SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX:o="标注框";break;case SuperMapAlgoPlot.SymbolType.REGULARPOLYGON:o="正多边形";break;case SuperMapAlgoPlot.SymbolType.BRACESYMBOL:o="大括号";break;case SuperMapAlgoPlot.SymbolType.TRAPEZOIDSYMBOL:o="梯形";break;case SuperMapAlgoPlot.SymbolType.WIRE:o="铁丝网";break;case SuperMapAlgoPlot.SymbolType.LINEARARROW:o="直线箭头";break;case SuperMapAlgoPlot.SymbolType.NEWPIESYMBOL:o="扇形";break;case SuperMapAlgoPlot.SymbolType.NEWARCSYMBOL:o="弧线";break;case SuperMapAlgoPlot.SymbolType.NEWCHORDSYMBOL:o="弓形"}return o};SuperMapAlgoPlot.AlgoSymbolFactory=SuperMapAlgoPlot.AlgoSymbolFactory||{};SuperMapAlgoPlot.AlgoSymbolFactory.getAlgoSymbol=function(t){var e=t.libID,o=t.code;return 0!==e&&22!==e&&421!==e||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===e&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getAlgoSymbol(e,o,t):123===e&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getAlgoSymbol(e,o,t):999===e&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getAlgoSymbol(e,o,t):null:SuperMapAlgoPlot.BasicAlgoSymbolFactory.getAlgoSymbol(e,o,t)},SuperMapAlgoPlot.AlgoSymbolFactory.getSymbolWayType=function(t,e){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}if(22===t)switch(e){case 1005:case 1008:case 1012:case 1014:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 1007:case 1009:case 1013:case 1015:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}if(100===t)switch(e){case 15200:case 15201:case 16203:case 17703:case 17704:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 21900:case 22e3:case 22103:case 23800:case 24700:case 25201:case 25400:case 25601:case 25801:case 25901:case 26500:case 26501:case 26502:case 26503:case 26600:case 28900:case 29e3:case 29003:case 29903:case 3e4:case 30001:case 30002:case 30100:case 30102:case 30200:case 30201:case 30800:case 31803:case 33400:case 34900:case 34901:case 34902:case 35e3:case 36400:case 44200:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 16500:case 17400:case 17401:case 17500:case 17501:case 23400:case 23500:case 23600:case 23700:case 27300:case 28200:case 28300:case 28400:case 37600:case 37601:case 37700:case 39e3:case 40100:case 40101:case 42400:case 2350001:case 3032e3:case 4010800:case 4010801:case 4011100:case 4011101:case 4022100:case 4022101:case 4022102:case 39101:case 44300:case 22200:case 27701:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 12500:case 12502:case 16100:case 20300:case 25501:case 25502:case 25503:case 32900:case 34700:case 35200:case 36401:case 41200:case 41201:case 41202:case 42700:case 44400:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}if(123===t)switch(e){case 21003:case 21207:case 2120701:case 2121503:case 21218:case 30008:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 30009:case 5021803:case 5022001:case 5022002:case 40301:case 4030101:case 4030102:case 4030103:case 4030104:case 40303:case 4030301:case 4030302:case 4030303:case 50101:case 5010101:case 50102:case 5010201:case 5010202:case 5010203:case 5010204:case 50103:case 5010301:case 5010302:case 5010303:case 5010304:case 50107:case 5010701:case 50210:case 50220:case 50221:case 50225:case 5030102:case 50303:case 5030301:case 50309:case 50320:case 5032001:case 5032002:case 5032003:case 50321:case 5032101:case 5032102:case 50322:case 5032201:case 50330:case 5033001:case 5034203:case 5035201:case 5035204:case 60205:case 90105:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 20915:case 2091502:case 2092101:case 2120702:case 21216:case 2121601:case 2121602:case 21605:case 30010:case 30011:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30012:case 30020:case 3002001:case 3002002:case 3002005:case 30025:case 3002501:case 30026:case 40104:case 40302:case 4030201:case 4030202:case 4030203:case 4030204:case 50227:case 5035205:case 60301:case 6030101:case 6030102:case 6030103:case 6030104:case 6030105:case 6030106:case 6030107:case 70202:case 7020201:case 7020202:case 90107:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.AlgoSymbolFactory.isAccessServer=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.isAccessServer(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.isAccessServer(t,e):999!==t||void 0===SuperMapAlgoPlot.YJAlgoSymbolFactory||SuperMapAlgoPlot.YJAlgoSymbolFactory.isAccessServer(t,e):SuperMapAlgoPlot.BasicAlgoSymbolFactory.isAccessServer(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.getDefaultSubSymbols=function(t,e){return 100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getDefaultSubSymbols(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultSubSymbols(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getDefaultSubSymbols(t,e):[]},SuperMapAlgoPlot.AlgoSymbolFactory.getMinEditPts=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getMinEditPts(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getMinEditPts(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getMinEditPts(t,e):0:SuperMapAlgoPlot.BasicAlgoSymbolFactory.getMinEditPts(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.getMaxEditPts=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getMaxEditPts(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getMaxEditPts(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getMaxEditPts(t,e):0:SuperMapAlgoPlot.BasicAlgoSymbolFactory.getMaxEditPts(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.getDefaultStyle=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getDefaultStyle(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultStyle(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getDefaultStyle(t,e):{}:SuperMapAlgoPlot.BasicAlgoSymbolFactory.getDefaultStyle(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.getSymbolName=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?"":SuperMapAlgoPlot.BasicAlgoSymbolFactory.getSymbolName(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.canPolylineConnect=function(t,e){if(100!==t)return!1;switch(e){case 16500:case 17400:case 17401:case 17500:case 17501:case 23400:case 23500:case 23600:case 23700:case 27300:case 28200:case 28300:case 28400:case 37600:case 37601:case 37700:case 39e3:case 40100:case 40101:case 42200:case 42400:case 2350001:case 2730101:case 3032e3:case 4010800:case 4010801:case 4011100:case 4011101:case 4022100:case 4022101:case 4022102:return!0;default:return!1}},SuperMapAlgoPlot.AlgoSymbolFactory.zoomInCalSymbol=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.zoomInCalSymbol(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.zoomInCalSymbol(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.zoomInCalSymbol(t,e):0:SuperMapAlgoPlot.BasicAlgoSymbolFactory.zoomInCalSymbol(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.zoomCalSymbol=function(t,e){if((0===t||22===t||421===t)&&void 0!==SuperMapAlgoPlot.BasicAlgoSymbolFactory)return SuperMapAlgoPlot.BasicAlgoSymbolFactory.zoomCalSymbol(t,e);if(100===t)switch(e){case 28e3:case 28100:case 28200:case 28201:case 32300:return!0;default:return!1}else{if(123!==t||void 0===SuperMapAlgoPlot.WJAlgoSymbolFactory)return!1;switch(e){case 50312:case 50313:case 50314:case 50348:return!0;default:return!1}}},SuperMapAlgoPlot.AlgoSymbolFactory.calSurroundLineDir=function(t,e){if(22===t)switch(e){case 1018:case 1020:case 1021:return!1}return SuperMapAlgoPlot.AlgoSymbolFactory.getAlgoWayType(t,e)===SuperMapAlgoPlot.AddPoint_WayType.POLYLINE_CLOSE||SuperMapAlgoPlot.AlgoSymbolFactory.getAlgoWayType(t,e)===SuperMapAlgoPlot.AddPoint_WayType.CURVE_CLOSE},SuperMapAlgoPlot.AlgoSymbolFactory.getAlgoWayType=function(t,e){if(100===t)switch(e){case 24:case 40304:case 1e3:case 1007:case 1009:case 1016:case 12502:case 20300:case 26400:case 41100:case 50308:case 2092101:case 60301:case 6030101:case 6030102:case 6030103:case 6030104:case 6030105:case 6030106:case 6030107:case 1013:case 1015:case 520100:case 520200:case 21216:case 2121601:case 2121602:case 30020:case 3002001:case 3002002:case 3002005:case 30025:case 3002501:case 30026:case 3002601:case 30027:case 3002701:case 3002702:case 3002703:case 3002704:case 3002705:case 40104:case 36401:case 34700:case 32900:case 6020404:case 30013:case 3001302:case 30014:case 1001:case 1017:case 16e3:case 16001:case 25202:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;case 32:case 3020901:case 25501:case 25502:case 25503:case 25601:case 25701:case 2570201:case 2570301:case 2570401:case 2570501:case 25801:case 25901:case 44400:case 41200:case 41201:case 41202:case 30010:case 30011:case 30012:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 5035205:case 16100:case 35304:case 35200:case 50225:case 5020801:case 42700:case 25500:case 25600:case 25700:case 25800:case 25900:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE_CLOSE;case 40301:case 4030301:case 4030302:case 4030303:case 5010301:case 5010303:case 5010304:case 1005:case 1008:case 15200:case 15201:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21900:case 21600:case 26500:case 26501:case 26502:case 26503:case 26600:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 5034203:case 50355:case 5035501:case 60205:case 1012:case 1014:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 50102:case 4021101:case 510100:case 520300:case 530100:case 530200:case 16203:case 22e3:case 22103:case 25201:case 24700:case 25400:case 44200:case 31803:case 30800:case 30201:case 30200:case 5022002:case 3002004:case 5030301:case 50328:case 5033001:case 5022001:case 4021102:case 29003:case 30009:case 5035201:case 520500:case 23800:case 36400:case 35e3:case 33400:case 30100:case 30102:case 30002:case 30001:case 3e4:case 29903:case 5021803:case 50321:case 5032003:case 4020303:case 4020400:case 4020401:case 4020402:case 34902:case 34901:case 34900:case 12501:case 15800:case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:case 15900:case 2091503:case 28900:case 16201:case 39600:case 38600:case 36700:case 26601:case 16200:case 17700:case 90213:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 50342:case 5034201:case 5034202:case 610100:case 29103:case 28300:case 28200:case 17400:case 17401:case 17402:case 17500:case 17501:case 22200:case 23400:case 23500:case 2350001:case 23600:case 23700:case 27300:case 2730101:case 27701:case 28400:case 44300:case 42400:case 42200:case 40100:case 40101:case 39101:case 39e3:case 37700:case 37601:case 37600:case 5020802:case 50223:case 5022301:case 50226:case 21221:case 2122101:case 50108:case 3032e3:case 4011100:case 4011101:case 4022101:case 4022102:case 4022100:case 16500:case 80203:case 8020301:return SuperMapAlgoPlot.AddPoint_WayType.CURVE_CLOSE;case 17703:case 17704:case 39801:case 39802:case 39800:case 40900:case 4e4:return SuperMapAlgoPlot.AddPoint_WayType.CURVE_WITHCONTROLPT;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}}();

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(4);
__webpack_require__(1);
__webpack_require__(2);
__webpack_require__(3);
__webpack_require__(0);



/***/ })
/******/ ]);