define(["require","./arrayFill-0358accf","./Check-52a7d806","./when-92c6cf3c","./FeatureDetection-fd297af4","./buildModuleUrl-cbcc8c56","./Cartesian2-b72655a5","./Cartesian3-3a8bdb0b","./Cartesian4-72b88c9e","./Cartographic-a2c313d7","./Color-b1bd525f","./ComponentDatatype-98414d16","./CompressedTextureBuffer-d0bacc6b","./S3MEdgeProcessor-6c92ceff","./getStringFromTypedArray-1e6dda18","./PixelFormat-ab56b0d6","./RuntimeError-c6a62a80","./S3MPixelFormat-013161a2","./IndexDatatype-86677ec4","./BoundingRectangle-44af9dd4","./pako_inflate-f73548c4","./createTaskProcessorWorker","./unzip-617dbdc5","./Math-ecf82623","./WebGLConstants-42651efd","./Event-3390cd7d"],(function(t,e,r,n,a,o,i,s,u,A,E,l,c,f,B,d,y,p,C,m,h,v,g,P,T,D){"use strict";function _(t,e,o){if(r.o.defined("array",t),n.e(e)&&r.o.typeOf.number("begin",e),n.e(o)&&r.o.typeOf.number("end",o),"function"==typeof t.slice)return t.slice(e,o);for(var i=Array.prototype.slice.call(t,e,o),s=a.s.typedArrayTypes,u=s.length,A=0;A<u;++A)if(t instanceof s[A]){i=new s[A](i);break}return i}var F,L=(F=!0,function(t,e){var r=F?function(){if(e){var r=e.apply(t,arguments);return e=null,r}}:function(){};return F=!1,r}),w=L(void 0,(function(){return w.toString().search("(((.+)+)+)+$").toString().constructor(w).search("(((.+)+)+)+$")}));w();var b,M,I=Object.freeze({S3M:49,S3M4:1}),S=(b=!0,function(t,e){var r=b?function(){if(e){var r=e.apply(t,arguments);return e=null,r}}:function(){};return b=!1,r}),O=S(void 0,(function(){return O.toString().search("(((.+)+)+)+$").toString().constructor(O).search("(((.+)+)+)+$")}));function N(){}function R(t,e,r){var a,o=t.num_points(),i=r.num_components(),s=new M.AttributeQuantizationTransform;if(s.InitFromAttribute(r)){for(var u=new Array(i),A=0;A<i;++A)u[A]=s.min_value(A);a={quantizationBits:s.quantization_bits(),minValues:u,range:s.range(),octEncoded:!1}}M.destroy(s),(s=new M.AttributeOctahedronTransform).InitFromAttribute(r)&&(a={quantizationBits:s.quantization_bits(),octEncoded:!0}),M.destroy(s);var E,c=o*i;E=n.e(a)?function(t,e,r,n,a){var o,i;n.quantizationBits<=8?(i=new M.DracoUInt8Array,o=new Uint8Array(a),e.GetAttributeUInt8ForAllPoints(t,r,i)):(i=new M.DracoUInt16Array,o=new Uint16Array(a),e.GetAttributeUInt16ForAllPoints(t,r,i));for(var s=0;s<a;++s)o[s]=i.GetValue(s);return M.destroy(i),o}(t,e,r,a,c):function(t,e,r,n){var a,o;switch(r.data_type()){case 1:case 11:o=new M.DracoInt8Array,a=new Int8Array(n),e.GetAttributeInt8ForAllPoints(t,r,o);break;case 2:o=new M.DracoUInt8Array,a=new Uint8Array(n),e.GetAttributeUInt8ForAllPoints(t,r,o);break;case 3:o=new M.DracoInt16Array,a=new Int16Array(n),e.GetAttributeInt16ForAllPoints(t,r,o);break;case 4:o=new M.DracoUInt16Array,a=new Uint16Array(n),e.GetAttributeUInt16ForAllPoints(t,r,o);break;case 5:case 7:o=new M.DracoInt32Array,a=new Int32Array(n),e.GetAttributeInt32ForAllPoints(t,r,o);break;case 6:case 8:o=new M.DracoUInt32Array,a=new Uint32Array(n),e.GetAttributeUInt32ForAllPoints(t,r,o);break;case 9:case 10:o=new M.DracoFloat32Array,a=new Float32Array(n),e.GetAttributeFloatForAllPoints(t,r,o)}for(var i=0;i<n;++i)a[i]=o.GetValue(i);return M.destroy(o),a}(t,e,r,c);var f=l.ComponentDatatype.fromTypedArray(E);if(l.ComponentDatatype.getSizeInBytes(f)*i%4!=0){var B=function(t,e,r){var n=e,a=l.ComponentDatatype.getSizeInBytes(r),o=a*e,i=4*Math.ceil(o/4)-o;n=e+i/a;var s,u=t.length/e,A=u*n;t instanceof Uint16Array?s=new Uint16Array(A):t instanceof Int16Array?s=new Int16Array(A):t instanceof Uint8Array?s=new Uint8Array(A):console.log("convertArrayToMutiple4Array dont support array type.");var E,c=0;for(c=0;c<u;c++)for(E=0;E<n;E++)s[c*n+E]=E<e?t[c*e+E]:0;return{numComponents:n,vertexArray:s}}(E,i,f);E=B.vertexArray,i=B.numComponents}return{array:E,data:{componentsPerAttribute:i,componentDatatype:f,byteOffset:r.byte_offset(),byteStride:l.ComponentDatatype.getSizeInBytes(f)*i,normalized:r.normalized(),quantization:a}}}O();var x=new s.o(40680631590769,40680631590769,40408299984661.445),U=new s.o,G=new s.o;function K(t,e,r,a){var o=Math.cos(e);U.x=o*Math.cos(t),U.y=o*Math.sin(t),U.z=Math.sin(e),U=s.o.normalize(U,U),s.o.multiplyComponents(x,U,G);var i=Math.sqrt(s.o.dot(U,G));return G=s.o.divideByScalar(G,i,G),U=s.o.multiplyByScalar(U,r,U),n.e(a)||(a=new s.o),s.o.add(G,U,a)}var H=new a.p,k=new a.p,V=new s.o,Y=new A.a;function J(t,e,r,o,E,c,B,d){var y=void 0,p=void 0,C=void 0,m=void 0,h=r.vertexAttributes,v=r.attrLocation;if(r.nCompressOptions=0,n.e(o.posUniqueID)&&o.posUniqueID>=0){n.e(d)||(r.nCompressOptions|=f.VertexCompressOption.SVC_Vertex);var g=e.GetAttribute(t,o.posUniqueID),P=R(t,e,g),T=P.data.componentsPerAttribute;r.verticesCount=P.array.length/T,r.vertCompressConstant=P.data.quantization.range/(1<<P.data.quantization.quantizationBits);var D=P.data.quantization.minValues;r.minVerticesValue=new u.e(D[0],D[1],D[2],1),T>3&&(r.minVerticesValue.w=D[3]);var _=r.verticesCount;if(c&&(y=new A.a,p=new A.a,C=new Float32Array(2*_),m=new Float64Array(2*_)),n.e(d)){var F=P.array,L=3===T?s.o.unpackArray(F):u.e.unpackArray(F);for(let t=0,e=L.length;t<e;t++){let e=L[t];s.o.multiplyByScalar(e,r.vertCompressConstant,e),s.o.add(e,r.minVerticesValue,e)}var w=a.p.multiply(d.sphereMatrix,d.geoMatrix,H),b=a.p.multiply(d.ellipsoidMatrix,d.geoMatrix,k);a.p.inverse(b,b);var M=new i.t(6378137,6378137,6378137);for(let t=0,e=L.length;t<e;t++){let e=L[t];a.p.multiplyByPoint(w,e,V);let r=M.cartesianToCartographic(V,Y);c&&(m[2*t]=r.longitude,m[2*t+1]=r.latitude,0===t?(y.longitude=r.longitude,y.latitude=r.latitude,p.longitude=r.longitude,p.latitude=r.latitude):(y.longitude=Math.max(r.longitude,y.longitude),y.latitude=Math.max(r.latitude,y.latitude),p.longitude=Math.min(r.longitude,p.longitude),p.latitude=Math.min(r.latitude,p.latitude)));let n=K(r.longitude,r.latitude,r.height,V);a.p.multiplyByPoint(b,n,e)}var I=new Array(3*L.length);3===T?s.o.packArray(L,I):u.e.packArray(L,I),P.array=new Float32Array(I),P.data.componentDatatype=l.ComponentDatatype.FLOAT,P.data.byteStride=4*T}if(v.aPosition=h.length,h.push({index:v.aPosition,typedArray:P.array,componentsPerAttribute:T,componentDatatype:P.data.componentDatatype,offsetInBytes:P.data.byteOffset,strideInBytes:P.data.byteStride,normalize:P.data.normalized}),!n.e(d)&&c)for(var S=new s.o,O=new s.o,N=new A.a,x=0;x<_;x++)a.p.multiplyByPoint(E,s.o.fromElements(P.array[3*x]*r.vertCompressConstant+D[0],P.array[3*x+1]*r.vertCompressConstant+D[1],P.array[3*x+2]*r.vertCompressConstant+D[2],S),O),N=A.a.fromCartesian(O),m[2*x]=N.longitude,m[2*x+1]=N.latitude,0===x?(y.longitude=N.longitude,y.latitude=N.latitude,p.longitude=N.longitude,p.latitude=N.latitude):(y.longitude=Math.max(N.longitude,y.longitude),y.latitude=Math.max(N.latitude,y.latitude),p.longitude=Math.min(N.longitude,p.longitude),p.latitude=Math.min(N.latitude,p.latitude));if(c){for(x=0;x<_;x++)C[2*x]=m[2*x]-p.longitude,C[2*x+1]=m[2*x+1]-p.latitude;v.img=h.length,h.push({index:v.img,typedArray:C,componentsPerAttribute:2,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:2*Float32Array.BYTES_PER_ELEMENT,normalize:!1}),B.max=y,B.min=p}}if(n.e(o.normalUniqueID)&&o.normalUniqueID>=0){r.nCompressOptions|=f.VertexCompressOption.SVC_Normal;var U=e.GetAttribute(t,o.normalUniqueID),G=R(t,e,U),J=G.data.quantization;r.normalRangeConstant=(1<<J.quantizationBits)-1,v.aNormal=h.length,h.push({index:v.aNormal,typedArray:G.array,componentsPerAttribute:G.data.componentsPerAttribute,componentDatatype:G.data.componentDatatype,offsetInBytes:G.data.byteOffset,strideInBytes:G.data.byteStride,normalize:G.data.normalized})}if(n.e(o.colorUniqueID)&&o.colorUniqueID>=0){r.nCompressOptions|=f.VertexCompressOption.SVC_VertexColor;var j=e.GetAttribute(t,o.colorUniqueID),W=R(t,e,j),z=W.array,X=W.data.componentDatatype,Z=W.data.byteOffset,Q=W.data.byteStride,q=W.data.normalized;if(W.array instanceof Int32Array){z=new Uint8Array(W.array.length);for(let t=0,e=W.array.length;t<e;t++)z[t]=W.array[t];X=5121,Z=0,Q=4,q=!0}v.aColor=h.length,h.push({index:v.aColor,typedArray:z,componentsPerAttribute:W.data.componentsPerAttribute,componentDatatype:X,offsetInBytes:Z,strideInBytes:Q,normalize:q})}for(x=0;x<o.texCoordUniqueIDs.length;x++){r.texCoordCompressConstant=[],r.minTexCoordValue=[];var $=o.texCoordUniqueIDs[x];if(!($<0)){var tt=e.GetAttribute(t,$),et=R(t,e,tt);if(n.e(et.data.quantization)){r.nCompressOptions|=f.VertexCompressOption.SVC_TexutreCoord,r.texCoordCompressConstant.push(et.data.quantization.range/(1<<et.data.quantization.quantizationBits));D=et.data.quantization.minValues;r.minTexCoordValue.push(new i.o(D[0],D[1]))}var rt="aTexCoord"+x;v[rt]=h.length,h.push({index:v[rt],typedArray:et.array,componentsPerAttribute:et.data.componentsPerAttribute,componentDatatype:et.data.componentDatatype,offsetInBytes:et.data.byteOffset,strideInBytes:et.data.byteStride,normalize:et.data.normalized}),r.textureCoordIsW=!0}}for(x=0;x<o.vertexAttrUniqueIDs.length;x++){var nt=o.vertexAttrUniqueIDs[x];if(!(nt<0)){var at=e.GetAttribute(t,nt),ot=R(t,e,at);v.aVertexWeight=h.length,h.push({index:v.aVertexWeight,typedArray:ot.array,componentsPerAttribute:ot.data.componentsPerAttribute,componentDatatype:ot.data.componentDatatype,offsetInBytes:ot.data.byteOffset,strideInBytes:ot.data.byteStride,normalize:ot.data.normalized}),r.customVertexAttribute={VertexWeight:0}}}}N.dracoDecodePointCloud=function(t,e,r,n,a){for(var o=new(M=t).Decoder,i=["POSITION","NORMAL","COLOR"],s=0;s<i.length;++s)o.SkipAttributeTransform(M[i[s]]);var u=new M.DecoderBuffer;if(u.Init(e,r),o.GetEncodedGeometryType(u)!==M.POINT_CLOUD)throw new y.t("Draco geometry type must be POINT_CLOUD.");var A=new M.PointCloud,E=o.DecodeBufferToPointCloud(u,A);if(!E.ok()||0===A.ptr)throw new y.t("Error decoding draco point cloud: "+E.error_msg());M.destroy(u),J(A,o,n,a),M.destroy(A),M.destroy(o)},N.dracoDecodeMesh=function(t,e,r,n,o,i,s,u,A,E){for(var l=new(M=t).Decoder,c=["POSITION","NORMAL","COLOR","TEX_COORD"],f=0;f<c.length;++f)l.SkipAttributeTransform(M[c[f]]);var B=new M.DecoderBuffer;if(B.Init(e,r),l.GetEncodedGeometryType(B)!==M.TRIANGULAR_MESH)throw new y.t("Unsupported draco mesh geometry type.");var d=new M.Mesh;if(!l.DecodeBufferToMesh(B,d).ok()||0===d.ptr)return!1;M.destroy(B),J(d,l,n,i,s,u,A,E);var p=function(t,e){for(var r=t.num_points(),n=t.num_faces(),a=new M.DracoInt32Array,o=3*n,i=C.IndexDatatype.createTypedArray(r,o),s=0,u=0;u<n;++u)e.GetFaceFromMesh(t,u,a),i[s+0]=a.GetValue(0),i[s+1]=a.GetValue(1),i[s+2]=a.GetValue(2),s+=3;var A=C.IndexDatatype.UNSIGNED_SHORT;return i instanceof Uint32Array&&(A=C.IndexDatatype.UNSIGNED_INT),M.destroy(a),{typedArray:i,numberOfIndices:o,indexDataType:A}}(d,l);o.indicesTypedArray=p.typedArray,o.indicesCount=p.numberOfIndices,o.indexType=p.indexDataType,o.primitiveType=a._0x3b3836.TRIANGLES,M.destroy(d),M.destroy(l)};var j,W=(j=!0,function(t,e){var r=j?function(){if(e){var r=e.apply(t,arguments);return e=null,r}}:function(){};return j=!1,r}),z=W(void 0,(function(){return z.toString().search("(((.+)+)+)+$").toString().constructor(z).search("(((.+)+)+)+$")}));z();var X,Z=Object.freeze({OSGBFile:0,OSGBCacheFile:1,ClampGroundPolygon:2,ClampObjectPolygon:3,ClampGroundLine:4,ClampObjectLine:5,IconPoint:6,Text:7,PointCloudFile:8,ExtendRegion3D:9,ExtendClampPolygonCache:10,PolylineEffect:11,RegionEffect:12,ClampGroundAndObjectLineCache:13,ClampGroundRealtimeRasterCache:14}),Q=(X=!0,function(t,e){var r=X?function(){if(e){var r=e.apply(t,arguments);return e=null,r}}:function(){};return X=!1,r}),q=Q(void 0,(function(){return q.toString().search("(((.+)+)+)+$").toString().constructor(q).search("(((.+)+)+)+$")}));function $(){}function tt(t){var e=new o.i,r=t.instanceBounds;if(!n.e(r))return e;var a=new s.o(r[0],r[1],r[2]),i=new s.o(r[3],r[4],r[5]),u=s.o.lerp(a,i,.5,new s.o),A=s.o.distance(u,a);return e.center=u,e.radius=A,e}function et(t){var e,r,a=new o.i,i=new s.o,u=t.vertexAttributes[0],A=u.componentsPerAttribute,E=n.e(t.nCompressOptions)&&(t.nCompressOptions&f.VertexCompressOption.SVC_Vertex)===f.VertexCompressOption.SVC_Vertex,l=1;E?(l=t.vertCompressConstant,e=new s.o(t.minVerticesValue.x,t.minVerticesValue.y,t.minVerticesValue.z),r=new Uint16Array(u.typedArray.buffer,u.typedArray.byteOffset,u.typedArray.byteLength/2)):r=new Float32Array(u.typedArray.buffer,u.typedArray.byteOffset,u.typedArray.byteLength/4);for(var c=[],B=0;B<t.verticesCount;B++)s.o.fromArray(r,A*B,i),E&&(i=s.o.multiplyByScalar(i,l,i),i=s.o.add(i,e,i)),c.push(s.o.clone(i));return o.i.fromPoints(c,a),c.length=0,a}function rt(t){var e,r,a=new o.i,i=new s.o,u=n.e(t.nCompressOptions)&&(t.nCompressOptions&f.VertexCompressOption.SVC_Vertex)===f.VertexCompressOption.SVC_Vertex,A=t.vertexAttributes[0],E=A.componentsPerAttribute,l=1;u?(l=t.vertCompressConstant,r=new s.o(t.minVerticesValue.x,t.minVerticesValue.y,t.minVerticesValue.z),e=new Uint16Array(A.typedArray.buffer,A.typedArray.byteOffset,A.typedArray.byteLength/2)):e=new Float32Array(A.typedArray.buffer,A.typedArray.byteOffset,A.typedArray.byteLength/4);for(var c=[],B=0;B<t.verticesCount;B++)s.o.fromArray(e,E*B,i),u&&(i=s.o.multiplyByScalar(i,l,i),i=s.o.add(i,r,i)),c.push(s.o.clone(i));return o.i.fromPoints(c,a),c.length=0,a}function nt(t){var e,r,a=n.e(t.nCompressOptions)&&(t.nCompressOptions&f.VertexCompressOption.SVC_Vertex)===f.VertexCompressOption.SVC_Vertex,i=new o.i,A=new s.o,E=new s.o,l=t.vertexAttributes[0],c=l.componentsPerAttribute,B=t.attrLocation.aPosition,d=t.vertexAttributes[B],y=t.attrLocation.aTexCoord5,p=t.vertexAttributes[y],C=p.componentsPerAttribute;a?(c=3,C=3,e=ot(t,d),r=function(t,e,r){for(var n,a,o,i=e.componentsPerAttribute,s=t.texCoordCompressConstant[r],A=new u.e(t.minTexCoordValue[r].x,t.minTexCoordValue[r].y,t.minTexCoordValue[r].z,t.minTexCoordValue[r].w),E=new Uint16Array(e.typedArray.buffer,e.typedArray.byteOffset,e.typedArray.byteLength/2),l=new Float32Array(3*t.verticesCount),c=0;c<t.verticesCount;c++)n=E[i*c]*s+A.x,a=E[i*c+1]*s+A.y,o=E[i*c+2]*s+A.z,l[3*c]=n,l[3*c+1]=a,l[3*c+2]=o;return l}(t,p,5)):(e=new Float32Array(l.typedArray.buffer,l.typedArray.byteOffset,l.typedArray.byteLength/4),r=new Float32Array(p.typedArray.buffer,p.typedArray.byteOffset,p.typedArray.byteLength/4));for(var m=[],h=0;h<t.verticesCount;h++)s.o.fromArray(e,c*h,A),s.o.fromArray(r,C*h,E),s.o.add(A,E,A),m.push(s.o.clone(A));return o.i.fromPoints(m,i),m.length=0,i}function at(t){var e=a._0x3b3836.TRIANGLES;switch(t){case 1:e=a._0x3b3836.POINTS;break;case 2:e=a._0x3b3836.LINES;break;case 3:e=a._0x3b3836.LINE_STRIP;break;case 4:e=a._0x3b3836.TRIANGLES}return e}function ot(t,e){for(var r,n,a,o=e.componentsPerAttribute,i=t.vertCompressConstant,u=new s.o(t.minVerticesValue.x,t.minVerticesValue.y,t.minVerticesValue.z),A=new Uint16Array(e.typedArray.buffer,e.typedArray.byteOffset,e.typedArray.byteLength/2),E=new Float32Array(3*t.verticesCount),l=0;l<t.verticesCount;l++)r=A[o*l]*i+u.x,n=A[o*l+1]*i+u.y,a=A[o*l+2]*i+u.z,E[3*l]=r,E[3*l+1]=n,E[3*l+2]=a;return E}q(),$.calcBoundingSphereInWorker=function(t,e){return e.instanceIndex>-1?tt(e):n.e(e.clampRegionEdge)?nt(e):t>=Z.ClampGroundPolygon&&t<=Z.ClampObjectLine?rt(e):t==Z.ClampGroundAndObjectLineCache?nt(e):et(e)},$.calcBoundingSphere=function(t,e,r){var a,i=t._fileType;return a=e.instanceIndex>-1?tt(e):n.e(e.clampRegionEdge)?nt(e):i>=Z.ClampGroundPolygon&&i<=Z.ClampObjectLine?rt(e):i==Z.ClampGroundAndObjectLineCache?nt(e):et(e),o.i.transform(a,r,a),a},$.calcBoundingRectangle=function(t,e){var r;return t._fileType===Z.ClampGroundPolygon&&(r=function(t){var e,r,a=n.e(t.nCompressOptions)&&(t.nCompressOptions&f.VertexCompressOption.SVC_Vertex)===f.VertexCompressOption.SVC_Vertex,o=new m.f,u=t.vertexAttributes[0],A=u.componentsPerAttribute,E=1;a?(E=t.vertCompressConstant,r=new s.o(t.minVerticesValue.x,t.minVerticesValue.y,t.minVerticesValue.z),e=new Uint16Array(u.typedArray.buffer,u.typedArray.byteOffset,u.typedArray.byteLength/2)):e=new Float32Array(u.typedArray.buffer,u.typedArray.byteOffset,u.typedArray.byteLength/4);for(var l=[],c=0;c<t.verticesCount;c++){var B=e[A*c],d=e[A*c+1];a&&(B=E*B+r.x,d=E*d+r.y),l.push(new i.o(B,d))}return m.f.fromPoints(l,o),l.length=0,o}(e)),r},$.createEdge=function(t,e){if(!(e.length<1)){var r=function(t){for(var e=[],r=t.length,n=0;n<r;n++){var o=at(t[n].primitiveType);(o===a._0x3b3836.LINES||o===a._0x3b3836.LINE_STRIP)&&e.push(t[n])}return e}(e);if(0!=r.length){var o,i=function(t){for(var e=0,r=t.length,n=0;n<r;n++){var o=t[n],i=at(o.primitiveType);i==a._0x3b3836.LINES?e+=o.indicesCount/2:i==a._0x3b3836.LINE_STRIP&&e++}return e}(r),u=t.attrLocation.aPosition,A=t.vertexAttributes[u],E=n.e(t.nCompressOptions)&&(t.nCompressOptions&f.VertexCompressOption.SVC_Vertex)===f.VertexCompressOption.SVC_Vertex,c=A.componentsPerAttribute;E?(c=3,o=ot(t,A)):o=new Float32Array(A.typedArray.buffer,A.typedArray.byteOffset,A.typedArray.byteLength/4);for(var B=function(t){for(var e=0,r=t.length,n=0;n<r;n++)e+=t[n].indicesCount;return e}(r),d=function(t,e,r){for(var n,o=[],i=r.length,u=0;u<i;u++){var A,E=r[u];A=0===E.indexType?new Uint16Array(E.indicesTypedArray.buffer,E.indicesTypedArray.byteOffset,E.indicesTypedArray.byteLength/2):new Uint32Array(E.indicesTypedArray.buffer,E.indicesTypedArray.byteOffset,E.indicesTypedArray.byteLength/4);var l=at(E.primitiveType);if(l==a._0x3b3836.LINES)for(n=0;n<E.indicesCount;n+=2){var c=[],f=new s.o;f.x=t[A[n]*e],f.y=t[A[n]*e+1],f.z=t[A[n]*e+2],c.push(f);var B=new s.o;B.x=t[A[n+1]*e],B.y=t[A[n+1]*e+1],B.z=t[A[n+1]*e+2],c.push(B),o.push(c)}else if(l==a._0x3b3836.LINE_STRIP){for(c=[],n=0;n<E.indicesCount;n++){var d=new s.o;d.x=t[A[n]*e],d.y=t[A[n]*e+1],d.z=t[A[n]*e+2],c.push(d)}o.push(c)}}return o}(o,c,r),y=4*B-4*i,p=new Float32Array(3*y),C=new Float32Array(3*y),m=new Float32Array(3*y),h=new Int8Array(2*y),v=0,g=0;g<i;g++){for(var P=d[g].length,T=0;T<P;T++){var D=4*v-4*g,_=3*D+12*T,F=d[g][T];0!=T&&(p[_-6]=F.x,p[_-5]=F.y,p[_-4]=F.z,p[_-3]=F.x,p[_-2]=F.y,p[_-1]=F.z),T!=P-1&&(p[_]=F.x,p[_+1]=F.y,p[_+2]=F.z,p[_+3]=F.x,p[_+4]=F.y,p[_+5]=F.z);var L=F;T+1<P&&(L=d[g][T+1]),0!=T&&(m[_-6]=L.x,m[_-5]=L.y,m[_-4]=L.z,m[_-3]=L.x,m[_-2]=L.y,m[_-1]=L.z),T!=P-1&&(m[_]=L.x,m[_+1]=L.y,m[_+2]=L.z,m[_+3]=L.x,m[_+4]=L.y,m[_+5]=L.z);var w=F;T>=1&&(w=d[g][T-1]),0!=T&&(C[_-6]=w.x,C[_-5]=w.y,C[_-4]=w.z,C[_-3]=w.x,C[_-2]=w.y,C[_-1]=w.z),T!=P-1&&(C[_]=w.x,C[_+1]=w.y,C[_+2]=w.z,C[_+3]=w.x,C[_+4]=w.y,C[_+5]=w.z),_=2*D+8*T,0!=T&&(h[_-4]=-1,h[_-3]=-1,h[_-2]=1,h[_-1]=-1),T!=P-1&&(h[_]=-1,h[_+1]=1,h[_+2]=1,h[_+3]=1)}v+=d[g].length}var b={vertexAttributes:[],attrLocation:{}},M=b.vertexAttributes,I=b.attrLocation;b.instanceCount=0,b.instanceMode=0,I.aPosition=0,M.push({index:I.aPosition,typedArray:p,componentsPerAttribute:3,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:3*Float32Array.BYTES_PER_ELEMENT,normalize:!1}),I.aNormal=1,M.push({index:I.aNormal,typedArray:C,componentsPerAttribute:3,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:3*Float32Array.BYTES_PER_ELEMENT,normalize:!1}),I.aTexCoord0=2,M.push({index:I.aTexCoord0,typedArray:m,componentsPerAttribute:3,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:3*Float32Array.BYTES_PER_ELEMENT,normalize:!1}),I.aTexCoord1=3,M.push({index:I.aTexCoord1,typedArray:h,componentsPerAttribute:2,componentDatatype:l.ComponentDatatype.BYTE,offsetInBytes:0,strideInBytes:2*Int8Array.BYTES_PER_ELEMENT,normalize:!1});for(var S=[],O=0;O<d.length;O++)S.push(d[O].length);return{vertexPackage:b,indexPackage:function(t,e,r,n){var o,i={};i.indicesCount=6*(t-e),i.indexType=n>65535?1:0,i.primitiveType=a._0x3b3836.TRIANGLES,o=0===i.indexType?new Uint16Array(i.indicesCount):new Uint32Array(i.indicesCount);for(var s=0,u=0;u<e;u++){for(var A=0;A<r[u]-1;A++)o[6*(s-u+A)]=4*(s-u+A),o[6*(s-u+A)+1]=4*(s-u+A)+2,o[6*(s-u+A)+2]=4*(s-u+A)+1,o[6*(s-u+A)+3]=4*(s-u+A)+1,o[6*(s-u+A)+4]=4*(s-u+A)+2,o[6*(s-u+A)+5]=4*(s-u+A)+3;s+=r[u]}return i.indicesTypedArray=o,i}(B,i,S,y)}}}};var it=function(){var t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),e=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if("object"!=typeof WebAssembly)return{supported:!1};var r="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";WebAssembly.validate(t)&&(r="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");var n,a=WebAssembly.instantiate(function(t){for(var r=new Uint8Array(t.length),n=0;n<t.length;++n){var a=t.charCodeAt(n);r[n]=a>96?a-71:a>64?a-65:a>47?a+4:a>46?63:62}var o=0;for(n=0;n<t.length;++n)r[o++]=r[n]<60?e[r[n]]:64*(r[n]-60)+r[++n];return r.buffer.slice(0,o)}(r),{}).then((function(t){(n=t.instance).exports.__wasm_call_ctors()}));function o(t,e,r,a,o,i){var s=n.exports.sbrk,u=r+3&-4,A=s(u*a),E=s(o.length),l=new Uint8Array(n.exports.memory.buffer);l.set(o,E);var c=t(A,r,a,E,o.length);if(0==c&&i&&i(A,u,a),e.set(l.subarray(A,A+r*a)),s(A-s(0)),0!=c)throw new Error("Malformed buffer data: "+c)}var i={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},s={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:a,supported:!0,decodeVertexBuffer:function(t,e,r,a,s){o(n.exports.meshopt_decodeVertexBuffer,t,e,r,a,n.exports[i[s]])},decodeIndexBuffer:function(t,e,r,a){o(n.exports.meshopt_decodeIndexBuffer,t,e,r,a)},decodeIndexSequence:function(t,e,r,a){o(n.exports.meshopt_decodeIndexSequence,t,e,r,a)},decodeGltfBuffer:function(t,e,r,a,u,A){o(n.exports[s[u]],t,e,r,a,n.exports[i[A]])}}}(),st=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;typeof __filename<"u"&&(st=st||__filename);var ut,At,Et=typeof assimpjs<"u"?assimpjs:{};Et.ready=new Promise((function(t,e){ut=t,At=e}));var lt,ct,ft,Bt=Object.assign({},Et),dt="./this.program",yt="object"==typeof window,pt="function"==typeof importScripts,Ct="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,mt="";if(Ct){var ht=t("fs"),vt=t("path");mt=pt?vt.dirname(mt)+"/":__dirname+"/",lt=(t,e)=>(t=Qt(t)?new URL(t):vt.normalize(t),ht.readFileSync(t,e?void 0:"utf8")),ft=t=>{var e=lt(t,!0);return e.buffer||(e=new Uint8Array(e)),e},ct=(t,e,r)=>{t=Qt(t)?new URL(t):vt.normalize(t),ht.readFile(t,(function(t,n){t?r(t):e(n.buffer)}))},!Et.thisProgram&&process.argv.length>1&&(dt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),Et.inspect=function(){return"[Emscripten Module object]"}}else(yt||pt)&&(pt?mt=self.location.href:typeof document<"u"&&document.currentScript&&(mt=document.currentScript.src),st&&(mt=st),mt=0!==mt.indexOf("blob:")?mt.substr(0,mt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",lt=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},pt&&(ft=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),ct=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});var gt,Pt=Et.print||console.log.bind(console),Tt=Et.printErr||console.warn.bind(console);Object.assign(Et,Bt),Bt=null,Et.arguments&&Et.arguments,Et.thisProgram&&(dt=Et.thisProgram),Et.quit&&Et.quit,Et.wasmBinary&&(gt=Et.wasmBinary),Et.noExitRuntime,"object"!=typeof WebAssembly&&Jt("no native wasm support detected");var Dt,_t,Ft,Lt,wt,bt,Mt,It,St,Ot=!1;function Nt(t,e){t||Jt(e)}function Rt(){var t=Dt.buffer;Et.HEAP8=_t=new Int8Array(t),Et.HEAP16=Lt=new Int16Array(t),Et.HEAP32=bt=new Int32Array(t),Et.HEAPU8=Ft=new Uint8Array(t),Et.HEAPU16=wt=new Uint16Array(t),Et.HEAPU32=Mt=new Uint32Array(t),Et.HEAPF32=It=new Float32Array(t),Et.HEAPF64=St=new Float64Array(t)}var xt,Ut=[],Gt=[],Kt=[];var Ht=0,kt=null;function Vt(t){Ht++,Et.monitorRunDependencies&&Et.monitorRunDependencies(Ht)}function Yt(t){if(Ht--,Et.monitorRunDependencies&&Et.monitorRunDependencies(Ht),0==Ht&&kt){var e=kt;kt=null,e()}}function Jt(t){Et.onAbort&&Et.onAbort(t),Tt(t="Aborted("+t+")"),Ot=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw At(e),e}var jt,Wt,zt,Xt;function Zt(t){return t.startsWith("data:application/octet-stream;base64,")}function Qt(t){return t.startsWith("file://")}function qt(t){try{if(t==jt&&gt)return new Uint8Array(gt);if(ft)return ft(t);throw"both async and sync fetching of the wasm failed"}catch(t){Jt(t)}}function $t(t,e,r){return function(t){if(!gt&&(yt||pt)){if("function"==typeof fetch&&!Qt(t))return fetch(t,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((function(){return qt(t)}));if(ct)return new Promise((function(e,r){ct(t,(function(t){e(new Uint8Array(t))}),r)}))}return Promise.resolve().then((function(){return qt(t)}))}(t).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(t){return t})).then(r,(function(t){Tt("failed to asynchronously prepare wasm: "+t),Jt(t)}))}function te(t){for(;t.length>0;)t.shift()(Et)}Zt(jt="ThirdParty/assimpjs.wasm")||(Wt=jt,jt=Et.locateFile?Et.locateFile(Wt,mt):mt+Wt);var ee=[];function re(t){t.add_ref()}var ne=0;var ae=[];function oe(t){var e=ae[t];return e||(t>=ae.length&&(ae.length=t+1),ae[t]=e=xt.get(t)),e}function ie(t){if(t.release_ref()&&!t.get_rethrown()){var e=t.get_destructor();e&&oe(e)(t.excPtr),cn(t.excPtr)}}function se(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(t){Mt[this.ptr+4>>2]=t},this.get_type=function(){return Mt[this.ptr+4>>2]},this.set_destructor=function(t){Mt[this.ptr+8>>2]=t},this.get_destructor=function(){return Mt[this.ptr+8>>2]},this.set_refcount=function(t){bt[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,_t[this.ptr+12>>0]=t},this.get_caught=function(){return 0!=_t[this.ptr+12>>0]},this.set_rethrown=function(t){t=t?1:0,_t[this.ptr+13>>0]=t},this.get_rethrown=function(){return 0!=_t[this.ptr+13>>0]},this.init=function(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=bt[this.ptr>>2];bt[this.ptr>>2]=t+1},this.release_ref=function(){var t=bt[this.ptr>>2];return bt[this.ptr>>2]=t-1,1===t},this.set_adjusted_ptr=function(t){Mt[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return Mt[this.ptr+16>>2]},this.get_exception_ptr=function(){if(gn(this.get_type()))return Mt[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var ue=0;function Ae(){var t=ue;if(!t)return Cn(0),0;var e=new se(t);e.set_adjusted_ptr(t);var r=e.get_type();if(!r)return Cn(0),t;for(var n=0;n<arguments.length;n++){var a=arguments[n];if(0===a||a===r)break;var o=e.ptr+16;if(vn(a,r,o))return Cn(a),t}return Cn(r),t}var Ee=Ae,le=Ae,ce=Ae,fe=Ae;var Be={isAbs:t=>"/"===t.charAt(0),splitPath:t=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1),normalizeArray:(t,e)=>{for(var r=0,n=t.length-1;n>=0;n--){var a=t[n];"."===a?t.splice(n,1):".."===a?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t},normalize:t=>{var e=Be.isAbs(t),r="/"===t.substr(-1);return!(t=Be.normalizeArray(t.split("/").filter((t=>!!t)),!e).join("/"))&&!e&&(t="."),t&&r&&(t+="/"),(e?"/":"")+t},dirname:t=>{var e=Be.splitPath(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:t=>{if("/"===t)return"/";var e=(t=(t=Be.normalize(t)).replace(/\/$/,"")).lastIndexOf("/");return-1===e?t:t.substr(e+1)},join:function(){var t=Array.prototype.slice.call(arguments);return Be.normalize(t.join("/"))},join2:(t,e)=>Be.normalize(t+"/"+e)};function de(e){return(de=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return t=>crypto.getRandomValues(t);if(Ct)try{var e=t("crypto");if(e.randomFillSync)return t=>e.randomFillSync(t);var r=e.randomBytes;return t=>(t.set(r(t.byteLength)),t)}catch{}Jt("initRandomDevice")}())(e)}var ye={resolve:function(){for(var t="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var n=r>=0?arguments[r]:Pe.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";t=n+"/"+t,e=Be.isAbs(n)}return(e?"/":"")+(t=Be.normalizeArray(t.split("/").filter((t=>!!t)),!e).join("/"))||"."},relative:(t,e)=>{function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=ye.resolve(t).substr(1),e=ye.resolve(e).substr(1);for(var n=r(t.split("/")),a=r(e.split("/")),o=Math.min(n.length,a.length),i=o,s=0;s<o;s++)if(n[s]!==a[s]){i=s;break}var u=[];for(s=i;s<n.length;s++)u.push("..");return(u=u.concat(a.slice(i))).join("/")}};function pe(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e}function Ce(t,e,r,n){if(!(n>0))return 0;for(var a=r,o=r+n-1,i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&t.charCodeAt(++i);if(s<=127){if(r>=o)break;e[r++]=s}else if(s<=2047){if(r+1>=o)break;e[r++]=192|s>>6,e[r++]=128|63&s}else if(s<=65535){if(r+2>=o)break;e[r++]=224|s>>12,e[r++]=128|s>>6&63,e[r++]=128|63&s}else{if(r+3>=o)break;e[r++]=240|s>>18,e[r++]=128|s>>12&63,e[r++]=128|s>>6&63,e[r++]=128|63&s}}return e[r]=0,r-a}function me(t,e,r){var n=r>0?r:pe(t)+1,a=new Array(n),o=Ce(t,a,0,a.length);return e&&(a.length=o),a}var he={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){he.ttys[t]={input:[],output:[],ops:e},Pe.registerDevice(t,he.stream_ops)},stream_ops:{open:function(t){var e=he.ttys[t.node.rdev];if(!e)throw new Pe.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.fsync(t.tty)},fsync:function(t){t.tty.ops.fsync(t.tty)},read:function(t,e,r,n,a){if(!t.tty||!t.tty.ops.get_char)throw new Pe.ErrnoError(60);for(var o=0,i=0;i<n;i++){var s;try{s=t.tty.ops.get_char(t.tty)}catch{throw new Pe.ErrnoError(29)}if(void 0===s&&0===o)throw new Pe.ErrnoError(6);if(null==s)break;o++,e[r+i]=s}return o&&(t.node.timestamp=Date.now()),o},write:function(t,e,r,n,a){if(!t.tty||!t.tty.ops.put_char)throw new Pe.ErrnoError(60);try{for(var o=0;o<n;o++)t.tty.ops.put_char(t.tty,e[r+o])}catch{throw new Pe.ErrnoError(29)}return n&&(t.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){if(!t.input.length){var e=null;if(Ct){var r=Buffer.alloc(256),n=0;try{n=ht.readSync(process.stdin.fd,r,0,256,-1)}catch(t){if(!t.toString().includes("EOF"))throw t;n=0}e=n>0?r.slice(0,n).toString("utf-8"):null}else typeof window<"u"&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&(null!==(e=readline())&&(e+="\n"));if(!e)return null;t.input=me(e,!0)}return t.input.shift()},put_char:function(t,e){null===e||10===e?(Pt(De(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},fsync:function(t){t.output&&t.output.length>0&&(Pt(De(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,e){null===e||10===e?(Tt(De(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},fsync:function(t){t.output&&t.output.length>0&&(Tt(De(t.output,0)),t.output=[])}}};function ve(t){Jt()}var ge={ops_table:null,mount:function(t){return ge.createNode(null,"/",16895,0)},createNode:function(t,e,r,n){if(Pe.isBlkdev(r)||Pe.isFIFO(r))throw new Pe.ErrnoError(63);ge.ops_table||(ge.ops_table={dir:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,lookup:ge.node_ops.lookup,mknod:ge.node_ops.mknod,rename:ge.node_ops.rename,unlink:ge.node_ops.unlink,rmdir:ge.node_ops.rmdir,readdir:ge.node_ops.readdir,symlink:ge.node_ops.symlink},stream:{llseek:ge.stream_ops.llseek}},file:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:{llseek:ge.stream_ops.llseek,read:ge.stream_ops.read,write:ge.stream_ops.write,allocate:ge.stream_ops.allocate,mmap:ge.stream_ops.mmap,msync:ge.stream_ops.msync}},link:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,readlink:ge.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:Pe.chrdev_stream_ops}});var a=Pe.createNode(t,e,r,n);return Pe.isDir(a.mode)?(a.node_ops=ge.ops_table.dir.node,a.stream_ops=ge.ops_table.dir.stream,a.contents={}):Pe.isFile(a.mode)?(a.node_ops=ge.ops_table.file.node,a.stream_ops=ge.ops_table.file.stream,a.usedBytes=0,a.contents=null):Pe.isLink(a.mode)?(a.node_ops=ge.ops_table.link.node,a.stream_ops=ge.ops_table.link.stream):Pe.isChrdev(a.mode)&&(a.node_ops=ge.ops_table.chrdev.node,a.stream_ops=ge.ops_table.chrdev.stream),a.timestamp=Date.now(),t&&(t.contents[e]=a,t.timestamp=a.timestamp),a},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0)},expandFileStorage:function(t,e){var r=t.contents?t.contents.length:0;if(!(r>=e)){e=Math.max(e,r*(r<1048576?2:1.125)>>>0),0!=r&&(e=Math.max(e,256));var n=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(n.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,e){if(t.usedBytes!=e)if(0==e)t.contents=null,t.usedBytes=0;else{var r=t.contents;t.contents=new Uint8Array(e),r&&t.contents.set(r.subarray(0,Math.min(e,t.usedBytes))),t.usedBytes=e}},node_ops:{getattr:function(t){var e={};return e.dev=Pe.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,Pe.isDir(t.mode)?e.size=4096:Pe.isFile(t.mode)?e.size=t.usedBytes:Pe.isLink(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&ge.resizeFileStorage(t,e.size)},lookup:function(t,e){throw Pe.genericErrors[44]},mknod:function(t,e,r,n){return ge.createNode(t,e,r,n)},rename:function(t,e,r){if(Pe.isDir(t.mode)){var n;try{n=Pe.lookupNode(e,r)}catch{}if(n)for(var a in n.contents)throw new Pe.ErrnoError(55)}delete t.parent.contents[t.name],t.parent.timestamp=Date.now(),t.name=r,e.contents[r]=t,e.timestamp=t.parent.timestamp,t.parent=e},unlink:function(t,e){delete t.contents[e],t.timestamp=Date.now()},rmdir:function(t,e){var r=Pe.lookupNode(t,e);for(var n in r.contents)throw new Pe.ErrnoError(55);delete t.contents[e],t.timestamp=Date.now()},readdir:function(t){var e=[".",".."];for(var r in t.contents)!t.contents.hasOwnProperty(r)||e.push(r);return e},symlink:function(t,e,r){var n=ge.createNode(t,e,41471,0);return n.link=r,n},readlink:function(t){if(!Pe.isLink(t.mode))throw new Pe.ErrnoError(28);return t.link}},stream_ops:{read:function(t,e,r,n,a){var o=t.node.contents;if(a>=t.node.usedBytes)return 0;var i=Math.min(t.node.usedBytes-a,n);if(i>8&&o.subarray)e.set(o.subarray(a,a+i),r);else for(var s=0;s<i;s++)e[r+s]=o[a+s];return i},write:function(t,e,r,n,a,o){if(e.buffer===_t.buffer&&(o=!1),!n)return 0;var i=t.node;if(i.timestamp=Date.now(),e.subarray&&(!i.contents||i.contents.subarray)){if(o)return i.contents=e.subarray(r,r+n),i.usedBytes=n,n;if(0===i.usedBytes&&0===a)return i.contents=e.slice(r,r+n),i.usedBytes=n,n;if(a+n<=i.usedBytes)return i.contents.set(e.subarray(r,r+n),a),n}if(ge.expandFileStorage(i,a+n),i.contents.subarray&&e.subarray)i.contents.set(e.subarray(r,r+n),a);else for(var s=0;s<n;s++)i.contents[a+s]=e[r+s];return i.usedBytes=Math.max(i.usedBytes,a+n),n},llseek:function(t,e,r){var n=e;if(1===r?n+=t.position:2===r&&Pe.isFile(t.node.mode)&&(n+=t.node.usedBytes),n<0)throw new Pe.ErrnoError(28);return n},allocate:function(t,e,r){ge.expandFileStorage(t.node,e+r),t.node.usedBytes=Math.max(t.node.usedBytes,e+r)},mmap:function(t,e,r,n,a){if(!Pe.isFile(t.node.mode))throw new Pe.ErrnoError(43);var o,i,s=t.node.contents;if(2&a||s.buffer!==_t.buffer){if((r>0||r+e<s.length)&&(s=s.subarray?s.subarray(r,r+e):Array.prototype.slice.call(s,r,r+e)),i=!0,!(o=ve()))throw new Pe.ErrnoError(48);_t.set(s,o)}else i=!1,o=s.byteOffset;return{ptr:o,allocated:i}},msync:function(t,e,r,n,a){return ge.stream_ops.write(t,e,0,n,r,!1),0}}};var Pe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(t,e={})=>{if(!(t=ye.resolve(t)))return{path:"",node:null};if((e=Object.assign({follow_mount:!0,recurse_count:0},e)).recurse_count>8)throw new Pe.ErrnoError(32);for(var r=t.split("/").filter((t=>!!t)),n=Pe.root,a="/",o=0;o<r.length;o++){var i=o===r.length-1;if(i&&e.parent)break;if(n=Pe.lookupNode(n,r[o]),a=Be.join2(a,r[o]),Pe.isMountpoint(n)&&(!i||i&&e.follow_mount)&&(n=n.mounted.root),!i||e.follow)for(var s=0;Pe.isLink(n.mode);){var u=Pe.readlink(a);if(a=ye.resolve(Be.dirname(a),u),n=Pe.lookupPath(a,{recurse_count:e.recurse_count+1}).node,s++>40)throw new Pe.ErrnoError(32)}}return{path:a,node:n}},getPath:t=>{for(var e;;){if(Pe.isRoot(t)){var r=t.mount.mountpoint;return e?"/"!==r[r.length-1]?r+"/"+e:r+e:r}e=e?t.name+"/"+e:t.name,t=t.parent}},hashName:(t,e)=>{for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%Pe.nameTable.length},hashAddNode:t=>{var e=Pe.hashName(t.parent.id,t.name);t.name_next=Pe.nameTable[e],Pe.nameTable[e]=t},hashRemoveNode:t=>{var e=Pe.hashName(t.parent.id,t.name);if(Pe.nameTable[e]===t)Pe.nameTable[e]=t.name_next;else for(var r=Pe.nameTable[e];r;){if(r.name_next===t){r.name_next=t.name_next;break}r=r.name_next}},lookupNode:(t,e)=>{var r=Pe.mayLookup(t);if(r)throw new Pe.ErrnoError(r,t);for(var n=Pe.hashName(t.id,e),a=Pe.nameTable[n];a;a=a.name_next){var o=a.name;if(a.parent.id===t.id&&o===e)return a}return Pe.lookup(t,e)},createNode:(t,e,r,n)=>{var a=new Pe.FSNode(t,e,r,n);return Pe.hashAddNode(a),a},destroyNode:t=>{Pe.hashRemoveNode(t)},isRoot:t=>t===t.parent,isMountpoint:t=>!!t.mounted,isFile:t=>32768==(61440&t),isDir:t=>16384==(61440&t),isLink:t=>40960==(61440&t),isChrdev:t=>8192==(61440&t),isBlkdev:t=>24576==(61440&t),isFIFO:t=>4096==(61440&t),isSocket:t=>49152==(49152&t),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:t=>{var e=Pe.flagModes[t];if(typeof e>"u")throw new Error("Unknown file open mode: "+t);return e},flagsToPermissionString:t=>{var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},nodePermissions:(t,e)=>Pe.ignorePermissions?0:e.includes("r")&&!(292&t.mode)||e.includes("w")&&!(146&t.mode)||e.includes("x")&&!(73&t.mode)?2:0,mayLookup:t=>Pe.nodePermissions(t,"x")||(t.node_ops.lookup?0:2),mayCreate:(t,e)=>{try{Pe.lookupNode(t,e);return 20}catch{}return Pe.nodePermissions(t,"wx")},mayDelete:(t,e,r)=>{var n;try{n=Pe.lookupNode(t,e)}catch(t){return t.errno}var a=Pe.nodePermissions(t,"wx");if(a)return a;if(r){if(!Pe.isDir(n.mode))return 54;if(Pe.isRoot(n)||Pe.getPath(n)===Pe.cwd())return 10}else if(Pe.isDir(n.mode))return 31;return 0},mayOpen:(t,e)=>t?Pe.isLink(t.mode)?32:Pe.isDir(t.mode)&&("r"!==Pe.flagsToPermissionString(e)||512&e)?31:Pe.nodePermissions(t,Pe.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:(t=0,e=Pe.MAX_OPEN_FDS)=>{for(var r=t;r<=e;r++)if(!Pe.streams[r])return r;throw new Pe.ErrnoError(33)},getStream:t=>Pe.streams[t],createStream:(t,e,r)=>{Pe.FSStream||(Pe.FSStream=function(){this.shared={}},Pe.FSStream.prototype={},Object.defineProperties(Pe.FSStream.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(t){this.shared.flags=t}},position:{get:function(){return this.shared.position},set:function(t){this.shared.position=t}}})),t=Object.assign(new Pe.FSStream,t);var n=Pe.nextfd(e,r);return t.fd=n,Pe.streams[n]=t,t},closeStream:t=>{Pe.streams[t]=null},chrdev_stream_ops:{open:t=>{var e=Pe.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:()=>{throw new Pe.ErrnoError(70)}},major:t=>t>>8,minor:t=>255&t,makedev:(t,e)=>t<<8|e,registerDevice:(t,e)=>{Pe.devices[t]={stream_ops:e}},getDevice:t=>Pe.devices[t],getMounts:t=>{for(var e=[],r=[t];r.length;){var n=r.pop();e.push(n),r.push.apply(r,n.mounts)}return e},syncfs:(t,e)=>{"function"==typeof t&&(e=t,t=!1),Pe.syncFSRequests++,Pe.syncFSRequests>1&&Tt("warning: "+Pe.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=Pe.getMounts(Pe.root.mount),n=0;function a(t){return Pe.syncFSRequests--,e(t)}function o(t){if(t)return o.errored?void 0:(o.errored=!0,a(t));++n>=r.length&&a(null)}r.forEach((e=>{if(!e.type.syncfs)return o(null);e.type.syncfs(e,t,o)}))},mount:(t,e,r)=>{var n,a="/"===r,o=!r;if(a&&Pe.root)throw new Pe.ErrnoError(10);if(!a&&!o){var i=Pe.lookupPath(r,{follow_mount:!1});if(r=i.path,n=i.node,Pe.isMountpoint(n))throw new Pe.ErrnoError(10);if(!Pe.isDir(n.mode))throw new Pe.ErrnoError(54)}var s={type:t,opts:e,mountpoint:r,mounts:[]},u=t.mount(s);return u.mount=s,s.root=u,a?Pe.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount:t=>{var e=Pe.lookupPath(t,{follow_mount:!1});if(!Pe.isMountpoint(e.node))throw new Pe.ErrnoError(28);var r=e.node,n=r.mounted,a=Pe.getMounts(n);Object.keys(Pe.nameTable).forEach((t=>{for(var e=Pe.nameTable[t];e;){var r=e.name_next;a.includes(e.mount)&&Pe.destroyNode(e),e=r}})),r.mounted=null;var o=r.mount.mounts.indexOf(n);r.mount.mounts.splice(o,1)},lookup:(t,e)=>t.node_ops.lookup(t,e),mknod:(t,e,r)=>{var n=Pe.lookupPath(t,{parent:!0}).node,a=Be.basename(t);if(!a||"."===a||".."===a)throw new Pe.ErrnoError(28);var o=Pe.mayCreate(n,a);if(o)throw new Pe.ErrnoError(o);if(!n.node_ops.mknod)throw new Pe.ErrnoError(63);return n.node_ops.mknod(n,a,e,r)},create:(t,e)=>(e=void 0!==e?e:438,e&=4095,e|=32768,Pe.mknod(t,e,0)),mkdir:(t,e)=>(e=void 0!==e?e:511,e&=1023,e|=16384,Pe.mknod(t,e,0)),mkdirTree:(t,e)=>{for(var r=t.split("/"),n="",a=0;a<r.length;++a)if(r[a]){n+="/"+r[a];try{Pe.mkdir(n,e)}catch(t){if(20!=t.errno)throw t}}},mkdev:(t,e,r)=>(typeof r>"u"&&(r=e,e=438),e|=8192,Pe.mknod(t,e,r)),symlink:(t,e)=>{if(!ye.resolve(t))throw new Pe.ErrnoError(44);var r=Pe.lookupPath(e,{parent:!0}).node;if(!r)throw new Pe.ErrnoError(44);var n=Be.basename(e),a=Pe.mayCreate(r,n);if(a)throw new Pe.ErrnoError(a);if(!r.node_ops.symlink)throw new Pe.ErrnoError(63);return r.node_ops.symlink(r,n,t)},rename:(t,e)=>{var r,n,a=Be.dirname(t),o=Be.dirname(e),i=Be.basename(t),s=Be.basename(e);if(r=Pe.lookupPath(t,{parent:!0}).node,n=Pe.lookupPath(e,{parent:!0}).node,!r||!n)throw new Pe.ErrnoError(44);if(r.mount!==n.mount)throw new Pe.ErrnoError(75);var u,A=Pe.lookupNode(r,i),E=ye.relative(t,o);if("."!==E.charAt(0))throw new Pe.ErrnoError(28);if("."!==(E=ye.relative(e,a)).charAt(0))throw new Pe.ErrnoError(55);try{u=Pe.lookupNode(n,s)}catch{}if(A!==u){var l=Pe.isDir(A.mode),c=Pe.mayDelete(r,i,l);if(c)throw new Pe.ErrnoError(c);if(c=u?Pe.mayDelete(n,s,l):Pe.mayCreate(n,s))throw new Pe.ErrnoError(c);if(!r.node_ops.rename)throw new Pe.ErrnoError(63);if(Pe.isMountpoint(A)||u&&Pe.isMountpoint(u))throw new Pe.ErrnoError(10);if(n!==r&&(c=Pe.nodePermissions(r,"w")))throw new Pe.ErrnoError(c);Pe.hashRemoveNode(A);try{r.node_ops.rename(A,n,s)}catch(t){throw t}finally{Pe.hashAddNode(A)}}},rmdir:t=>{var e=Pe.lookupPath(t,{parent:!0}).node,r=Be.basename(t),n=Pe.lookupNode(e,r),a=Pe.mayDelete(e,r,!0);if(a)throw new Pe.ErrnoError(a);if(!e.node_ops.rmdir)throw new Pe.ErrnoError(63);if(Pe.isMountpoint(n))throw new Pe.ErrnoError(10);e.node_ops.rmdir(e,r),Pe.destroyNode(n)},readdir:t=>{var e=Pe.lookupPath(t,{follow:!0}).node;if(!e.node_ops.readdir)throw new Pe.ErrnoError(54);return e.node_ops.readdir(e)},unlink:t=>{var e=Pe.lookupPath(t,{parent:!0}).node;if(!e)throw new Pe.ErrnoError(44);var r=Be.basename(t),n=Pe.lookupNode(e,r),a=Pe.mayDelete(e,r,!1);if(a)throw new Pe.ErrnoError(a);if(!e.node_ops.unlink)throw new Pe.ErrnoError(63);if(Pe.isMountpoint(n))throw new Pe.ErrnoError(10);e.node_ops.unlink(e,r),Pe.destroyNode(n)},readlink:t=>{var e=Pe.lookupPath(t).node;if(!e)throw new Pe.ErrnoError(44);if(!e.node_ops.readlink)throw new Pe.ErrnoError(28);return ye.resolve(Pe.getPath(e.parent),e.node_ops.readlink(e))},stat:(t,e)=>{var r=Pe.lookupPath(t,{follow:!e}).node;if(!r)throw new Pe.ErrnoError(44);if(!r.node_ops.getattr)throw new Pe.ErrnoError(63);return r.node_ops.getattr(r)},lstat:t=>Pe.stat(t,!0),chmod:(t,e,r)=>{var n;"string"==typeof t?n=Pe.lookupPath(t,{follow:!r}).node:n=t;if(!n.node_ops.setattr)throw new Pe.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&e|-4096&n.mode,timestamp:Date.now()})},lchmod:(t,e)=>{Pe.chmod(t,e,!0)},fchmod:(t,e)=>{var r=Pe.getStream(t);if(!r)throw new Pe.ErrnoError(8);Pe.chmod(r.node,e)},chown:(t,e,r,n)=>{var a;"string"==typeof t?a=Pe.lookupPath(t,{follow:!n}).node:a=t;if(!a.node_ops.setattr)throw new Pe.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:(t,e,r)=>{Pe.chown(t,e,r,!0)},fchown:(t,e,r)=>{var n=Pe.getStream(t);if(!n)throw new Pe.ErrnoError(8);Pe.chown(n.node,e,r)},truncate:(t,e)=>{if(e<0)throw new Pe.ErrnoError(28);var r;"string"==typeof t?r=Pe.lookupPath(t,{follow:!0}).node:r=t;if(!r.node_ops.setattr)throw new Pe.ErrnoError(63);if(Pe.isDir(r.mode))throw new Pe.ErrnoError(31);if(!Pe.isFile(r.mode))throw new Pe.ErrnoError(28);var n=Pe.nodePermissions(r,"w");if(n)throw new Pe.ErrnoError(n);r.node_ops.setattr(r,{size:e,timestamp:Date.now()})},ftruncate:(t,e)=>{var r=Pe.getStream(t);if(!r)throw new Pe.ErrnoError(8);if(0==(2097155&r.flags))throw new Pe.ErrnoError(28);Pe.truncate(r.node,e)},utime:(t,e,r)=>{var n=Pe.lookupPath(t,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(e,r)})},open:(t,e,r)=>{if(""===t)throw new Pe.ErrnoError(44);var n;if(r=typeof r>"u"?438:r,r=64&(e="string"==typeof e?Pe.modeStringToFlags(e):e)?4095&r|32768:0,"object"==typeof t)n=t;else{t=Be.normalize(t);try{n=Pe.lookupPath(t,{follow:!(131072&e)}).node}catch{}}var a=!1;if(64&e)if(n){if(128&e)throw new Pe.ErrnoError(20)}else n=Pe.mknod(t,r,0),a=!0;if(!n)throw new Pe.ErrnoError(44);if(Pe.isChrdev(n.mode)&&(e&=-513),65536&e&&!Pe.isDir(n.mode))throw new Pe.ErrnoError(54);if(!a){var o=Pe.mayOpen(n,e);if(o)throw new Pe.ErrnoError(o)}512&e&&!a&&Pe.truncate(n,0),e&=-131713;var i=Pe.createStream({node:n,path:Pe.getPath(n),flags:e,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return i.stream_ops.open&&i.stream_ops.open(i),Et.logReadFiles&&!(1&e)&&(Pe.readFiles||(Pe.readFiles={}),t in Pe.readFiles||(Pe.readFiles[t]=1)),i},close:t=>{if(Pe.isClosed(t))throw new Pe.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(t){throw t}finally{Pe.closeStream(t.fd)}t.fd=null},isClosed:t=>null===t.fd,llseek:(t,e,r)=>{if(Pe.isClosed(t))throw new Pe.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new Pe.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Pe.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,r),t.ungotten=[],t.position},read:(t,e,r,n,a)=>{if(n<0||a<0)throw new Pe.ErrnoError(28);if(Pe.isClosed(t))throw new Pe.ErrnoError(8);if(1==(2097155&t.flags))throw new Pe.ErrnoError(8);if(Pe.isDir(t.node.mode))throw new Pe.ErrnoError(31);if(!t.stream_ops.read)throw new Pe.ErrnoError(28);var o=typeof a<"u";if(o){if(!t.seekable)throw new Pe.ErrnoError(70)}else a=t.position;var i=t.stream_ops.read(t,e,r,n,a);return o||(t.position+=i),i},write:(t,e,r,n,a,o)=>{if(n<0||a<0)throw new Pe.ErrnoError(28);if(Pe.isClosed(t))throw new Pe.ErrnoError(8);if(0==(2097155&t.flags))throw new Pe.ErrnoError(8);if(Pe.isDir(t.node.mode))throw new Pe.ErrnoError(31);if(!t.stream_ops.write)throw new Pe.ErrnoError(28);t.seekable&&1024&t.flags&&Pe.llseek(t,0,2);var i=typeof a<"u";if(i){if(!t.seekable)throw new Pe.ErrnoError(70)}else a=t.position;var s=t.stream_ops.write(t,e,r,n,a,o);return i||(t.position+=s),s},allocate:(t,e,r)=>{if(Pe.isClosed(t))throw new Pe.ErrnoError(8);if(e<0||r<=0)throw new Pe.ErrnoError(28);if(0==(2097155&t.flags))throw new Pe.ErrnoError(8);if(!Pe.isFile(t.node.mode)&&!Pe.isDir(t.node.mode))throw new Pe.ErrnoError(43);if(!t.stream_ops.allocate)throw new Pe.ErrnoError(138);t.stream_ops.allocate(t,e,r)},mmap:(t,e,r,n,a)=>{if(0!=(2&n)&&0==(2&a)&&2!=(2097155&t.flags))throw new Pe.ErrnoError(2);if(1==(2097155&t.flags))throw new Pe.ErrnoError(2);if(!t.stream_ops.mmap)throw new Pe.ErrnoError(43);return t.stream_ops.mmap(t,e,r,n,a)},msync:(t,e,r,n,a)=>t.stream_ops.msync?t.stream_ops.msync(t,e,r,n,a):0,munmap:t=>0,ioctl:(t,e,r)=>{if(!t.stream_ops.ioctl)throw new Pe.ErrnoError(59);return t.stream_ops.ioctl(t,e,r)},readFile:(t,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error('Invalid encoding type "'+e.encoding+'"');var r,n=Pe.open(t,e.flags),a=Pe.stat(t).size,o=new Uint8Array(a);return Pe.read(n,o,0,a,0),"utf8"===e.encoding?r=De(o,0):"binary"===e.encoding&&(r=o),Pe.close(n),r},writeFile:(t,e,r={})=>{r.flags=r.flags||577;var n=Pe.open(t,r.flags,r.mode);if("string"==typeof e){var a=new Uint8Array(pe(e)+1),o=Ce(e,a,0,a.length);Pe.write(n,a,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type");Pe.write(n,e,0,e.byteLength,void 0,r.canOwn)}Pe.close(n)},cwd:()=>Pe.currentPath,chdir:t=>{var e=Pe.lookupPath(t,{follow:!0});if(null===e.node)throw new Pe.ErrnoError(44);if(!Pe.isDir(e.node.mode))throw new Pe.ErrnoError(54);var r=Pe.nodePermissions(e.node,"x");if(r)throw new Pe.ErrnoError(r);Pe.currentPath=e.path},createDefaultDirectories:()=>{Pe.mkdir("/tmp"),Pe.mkdir("/home"),Pe.mkdir("/home/web_user")},createDefaultDevices:()=>{Pe.mkdir("/dev"),Pe.registerDevice(Pe.makedev(1,3),{read:()=>0,write:(t,e,r,n,a)=>n}),Pe.mkdev("/dev/null",Pe.makedev(1,3)),he.register(Pe.makedev(5,0),he.default_tty_ops),he.register(Pe.makedev(6,0),he.default_tty1_ops),Pe.mkdev("/dev/tty",Pe.makedev(5,0)),Pe.mkdev("/dev/tty1",Pe.makedev(6,0));var t=new Uint8Array(1024),e=0,r=()=>(0===e&&(e=de(t).byteLength),t[--e]);Pe.createDevice("/dev","random",r),Pe.createDevice("/dev","urandom",r),Pe.mkdir("/dev/shm"),Pe.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{Pe.mkdir("/proc");var t=Pe.mkdir("/proc/self");Pe.mkdir("/proc/self/fd"),Pe.mount({mount:()=>{var e=Pe.createNode(t,"fd",16895,73);return e.node_ops={lookup:(t,e)=>{var r=+e,n=Pe.getStream(r);if(!n)throw new Pe.ErrnoError(8);var a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path}};return a.parent=a,a}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{Et.stdin?Pe.createDevice("/dev","stdin",Et.stdin):Pe.symlink("/dev/tty","/dev/stdin"),Et.stdout?Pe.createDevice("/dev","stdout",null,Et.stdout):Pe.symlink("/dev/tty","/dev/stdout"),Et.stderr?Pe.createDevice("/dev","stderr",null,Et.stderr):Pe.symlink("/dev/tty1","/dev/stderr"),Pe.open("/dev/stdin",0),Pe.open("/dev/stdout",1),Pe.open("/dev/stderr",1)},ensureErrnoError:()=>{Pe.ErrnoError||(Pe.ErrnoError=function(t,e){this.name="ErrnoError",this.node=e,this.setErrno=function(t){this.errno=t},this.setErrno(t),this.message="FS error"},Pe.ErrnoError.prototype=new Error,Pe.ErrnoError.prototype.constructor=Pe.ErrnoError,[44].forEach((t=>{Pe.genericErrors[t]=new Pe.ErrnoError(t),Pe.genericErrors[t].stack="<generic error, no stack>"})))},staticInit:()=>{Pe.ensureErrnoError(),Pe.nameTable=new Array(4096),Pe.mount(ge,{},"/"),Pe.createDefaultDirectories(),Pe.createDefaultDevices(),Pe.createSpecialDirectories(),Pe.filesystems={MEMFS:ge}},init:(t,e,r)=>{Pe.init.initialized=!0,Pe.ensureErrnoError(),Et.stdin=t||Et.stdin,Et.stdout=e||Et.stdout,Et.stderr=r||Et.stderr,Pe.createStandardStreams()},quit:()=>{Pe.init.initialized=!1;for(var t=0;t<Pe.streams.length;t++){var e=Pe.streams[t];!e||Pe.close(e)}},getMode:(t,e)=>{var r=0;return t&&(r|=365),e&&(r|=146),r},findObject:(t,e)=>{var r=Pe.analyzePath(t,e);return r.exists?r.object:null},analyzePath:(t,e)=>{try{t=(n=Pe.lookupPath(t,{follow:!e})).path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Pe.lookupPath(t,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=Be.basename(t),n=Pe.lookupPath(t,{follow:!e}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(t){r.error=t.errno}return r},createPath:(t,e,r,n)=>{t="string"==typeof t?t:Pe.getPath(t);for(var a=e.split("/").reverse();a.length;){var o=a.pop();if(o){var i=Be.join2(t,o);try{Pe.mkdir(i)}catch{}t=i}}return i},createFile:(t,e,r,n,a)=>{var o=Be.join2("string"==typeof t?t:Pe.getPath(t),e),i=Pe.getMode(n,a);return Pe.create(o,i)},createDataFile:(t,e,r,n,a,o)=>{var i=e;t&&(t="string"==typeof t?t:Pe.getPath(t),i=e?Be.join2(t,e):t);var s=Pe.getMode(n,a),u=Pe.create(i,s);if(r){if("string"==typeof r){for(var A=new Array(r.length),E=0,l=r.length;E<l;++E)A[E]=r.charCodeAt(E);r=A}Pe.chmod(u,146|s);var c=Pe.open(u,577);Pe.write(c,r,0,r.length,0,o),Pe.close(c),Pe.chmod(u,s)}return u},createDevice:(t,e,r,n)=>{var a=Be.join2("string"==typeof t?t:Pe.getPath(t),e),o=Pe.getMode(!!r,!!n);Pe.createDevice.major||(Pe.createDevice.major=64);var i=Pe.makedev(Pe.createDevice.major++,0);return Pe.registerDevice(i,{open:t=>{t.seekable=!1},close:t=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(t,e,n,a,o)=>{for(var i=0,s=0;s<a;s++){var u;try{u=r()}catch{throw new Pe.ErrnoError(29)}if(void 0===u&&0===i)throw new Pe.ErrnoError(6);if(null==u)break;i++,e[n+s]=u}return i&&(t.node.timestamp=Date.now()),i},write:(t,e,r,a,o)=>{for(var i=0;i<a;i++)try{n(e[r+i])}catch{throw new Pe.ErrnoError(29)}return a&&(t.node.timestamp=Date.now()),i}}),Pe.mkdev(a,o,i)},forceLoadFile:t=>{if(t.isDevice||t.isFolder||t.link||t.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!lt)throw new Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=me(lt(t.url),!0),t.usedBytes=t.contents.length}catch{throw new Pe.ErrnoError(29)}},createLazyFile:(t,e,r,n,a)=>{function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(t){if(!(t>this.length-1||t<0)){var e=t%this.chunkSize,r=t/this.chunkSize|0;return this.getter(r)[e]}},o.prototype.setDataGetter=function(t){this.getter=t},o.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",r,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw new Error("Couldn't load "+r+". Status: "+t.status);var e,n=Number(t.getResponseHeader("Content-length")),a=(e=t.getResponseHeader("Accept-Ranges"))&&"bytes"===e,o=(e=t.getResponseHeader("Content-Encoding"))&&"gzip"===e,i=1048576;a||(i=n);var s=this;s.setDataGetter((t=>{var e=t*i,a=(t+1)*i-1;if(a=Math.min(a,n-1),typeof s.chunks[t]>"u"&&(s.chunks[t]=((t,e)=>{if(t>e)throw new Error("invalid range ("+t+", "+e+") or no bytes requested!");if(e>n-1)throw new Error("only "+n+" bytes available! programmer error!");var a=new XMLHttpRequest;if(a.open("GET",r,!1),n!==i&&a.setRequestHeader("Range","bytes="+t+"-"+e),a.responseType="arraybuffer",a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+r+". Status: "+a.status);return void 0!==a.response?new Uint8Array(a.response||[]):me(a.responseText||"",!0)})(e,a)),typeof s.chunks[t]>"u")throw new Error("doXHR failed!");return s.chunks[t]})),(o||!n)&&(i=n=1,n=this.getter(0).length,i=n,Pt("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=i,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!pt)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i=new o;Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:i}}else s={isDevice:!1,url:r};var u=Pe.createFile(t,e,s,n,a);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var A={};function E(t,e,r,n,a){var o=t.node.contents;if(a>=o.length)return 0;var i=Math.min(o.length-a,n);if(o.slice)for(var s=0;s<i;s++)e[r+s]=o[a+s];else for(s=0;s<i;s++)e[r+s]=o.get(a+s);return i}return Object.keys(u.stream_ops).forEach((t=>{var e=u.stream_ops[t];A[t]=function(){return Pe.forceLoadFile(u),e.apply(null,arguments)}})),A.read=(t,e,r,n,a)=>(Pe.forceLoadFile(u),E(t,e,r,n,a)),A.mmap=(t,e,r,n,a)=>{Pe.forceLoadFile(u);var o=ve();if(!o)throw new Pe.ErrnoError(48);return E(t,_t,o,e,r),{ptr:o,allocated:!0}},u.stream_ops=A,u},createPreloadedFile:(t,e,r,n,a,o,i,s,u,A)=>{var E=e?ye.resolve(Be.join2(t,e)):t;function l(r){function l(r){A&&A(),s||Pe.createDataFile(t,e,r,n,a,u),o&&o(),Yt()}Browser.handledByPreloadPlugin(r,E,l,(()=>{i&&i(),Yt()}))||l(r)}Vt(),"string"==typeof r?function(t,e,r,n){var a=n?"":"al "+t;ct(t,(r=>{Nt(r,'Loading data file "'+t+'" failed (no arrayBuffer).'),e(new Uint8Array(r)),a&&Yt()}),(e=>{if(!r)throw'Loading data file "'+t+'" failed.';r()})),a&&Vt()}(r,(t=>l(t)),i):l(r)}},Te=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function De(t,e,r){for(var n=e+r,a=e;t[a]&&!(a>=n);)++a;if(a-e>16&&t.buffer&&Te)return Te.decode(t.subarray(e,a));for(var o="";e<a;){var i=t[e++];if(128&i){var s=63&t[e++];if(192!=(224&i)){var u=63&t[e++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&t[e++])<65536)o+=String.fromCharCode(i);else{var A=i-65536;o+=String.fromCharCode(55296|A>>10,56320|1023&A)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o}function _e(t,e){return t?De(Ft,t,e):""}var Fe={DEFAULT_POLLMASK:5,calculateAt:function(t,e,r){if(Be.isAbs(e))return e;var n;-100===t?n=Pe.cwd():n=Fe.getStreamFromFD(t).path;if(0==e.length){if(!r)throw new Pe.ErrnoError(44);return n}return Be.join2(n,e)},doStat:function(t,e,r){try{var n=t(e)}catch(t){if(t&&t.node&&Be.normalize(e)!==Be.normalize(Pe.getPath(t.node)))return-54;throw t}bt[r>>2]=n.dev,bt[r+8>>2]=n.ino,bt[r+12>>2]=n.mode,Mt[r+16>>2]=n.nlink,bt[r+20>>2]=n.uid,bt[r+24>>2]=n.gid,bt[r+28>>2]=n.rdev,Xt=[n.size>>>0,(zt=n.size,+Math.abs(zt)>=1?zt>0?(0|Math.min(+Math.floor(zt/4294967296),4294967295))>>>0:~~+Math.ceil((zt-+(~~zt>>>0))/4294967296)>>>0:0)],bt[r+40>>2]=Xt[0],bt[r+44>>2]=Xt[1],bt[r+48>>2]=4096,bt[r+52>>2]=n.blocks;var a=n.atime.getTime(),o=n.mtime.getTime(),i=n.ctime.getTime();return Xt=[Math.floor(a/1e3)>>>0,(zt=Math.floor(a/1e3),+Math.abs(zt)>=1?zt>0?(0|Math.min(+Math.floor(zt/4294967296),4294967295))>>>0:~~+Math.ceil((zt-+(~~zt>>>0))/4294967296)>>>0:0)],bt[r+56>>2]=Xt[0],bt[r+60>>2]=Xt[1],Mt[r+64>>2]=a%1e3*1e3,Xt=[Math.floor(o/1e3)>>>0,(zt=Math.floor(o/1e3),+Math.abs(zt)>=1?zt>0?(0|Math.min(+Math.floor(zt/4294967296),4294967295))>>>0:~~+Math.ceil((zt-+(~~zt>>>0))/4294967296)>>>0:0)],bt[r+72>>2]=Xt[0],bt[r+76>>2]=Xt[1],Mt[r+80>>2]=o%1e3*1e3,Xt=[Math.floor(i/1e3)>>>0,(zt=Math.floor(i/1e3),+Math.abs(zt)>=1?zt>0?(0|Math.min(+Math.floor(zt/4294967296),4294967295))>>>0:~~+Math.ceil((zt-+(~~zt>>>0))/4294967296)>>>0:0)],bt[r+88>>2]=Xt[0],bt[r+92>>2]=Xt[1],Mt[r+96>>2]=i%1e3*1e3,Xt=[n.ino>>>0,(zt=n.ino,+Math.abs(zt)>=1?zt>0?(0|Math.min(+Math.floor(zt/4294967296),4294967295))>>>0:~~+Math.ceil((zt-+(~~zt>>>0))/4294967296)>>>0:0)],bt[r+104>>2]=Xt[0],bt[r+108>>2]=Xt[1],0},doMsync:function(t,e,r,n,a){if(!Pe.isFile(e.node.mode))throw new Pe.ErrnoError(43);if(2&n)return 0;var o=Ft.slice(t,t+r);Pe.msync(e,o,a,r,n)},varargs:void 0,get:function(){return Fe.varargs+=4,bt[Fe.varargs-4>>2]},getStr:function(t){return _e(t)},getStreamFromFD:function(t){var e=Pe.getStream(t);if(!e)throw new Pe.ErrnoError(8);return e}};function Le(t,e,r){return Ce(t,Ft,e,r)}function we(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var be=void 0;function Me(t){for(var e="",r=t;Ft[r];)e+=be[Ft[r++]];return e}var Ie={},Se={},Oe={};function Ne(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?"_"+t:t}function Re(t,e){return{[t=Ne(t)]:function(){return e.apply(this,arguments)}}[t]}function xe(t,e){var r=Re(e,(function(t){this.name=e,this.message=t;var r=new Error(t).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Ue=void 0;function Ge(t){throw new Ue(t)}var Ke=void 0;function He(t){throw new Ke(t)}function ke(t,e,r){function n(e){var n=r(e);n.length!==t.length&&He("Mismatched type converter count");for(var a=0;a<t.length;++a)Ve(t[a],n[a])}t.forEach((function(t){Oe[t]=e}));var a=new Array(e.length),o=[],i=0;e.forEach(((t,e)=>{Se.hasOwnProperty(t)?a[e]=Se[t]:(o.push(t),Ie.hasOwnProperty(t)||(Ie[t]=[]),Ie[t].push((()=>{a[e]=Se[t],++i===o.length&&n(a)})))})),0===o.length&&n(a)}function Ve(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=e.name;if(t||Ge('type "'+n+'" must have a positive integer typeid pointer'),Se.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;Ge("Cannot register type '"+n+"' twice")}if(Se[t]=e,delete Oe[t],Ie.hasOwnProperty(t)){var a=Ie[t];delete Ie[t],a.forEach((t=>t()))}}function Ye(t){if(!(this instanceof fr&&t instanceof fr))return!1;for(var e=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=t.$$.ptrType.registeredClass,a=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return e===n&&r===a}function Je(t){return{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}}function je(t){Ge(t.$$.ptrType.registeredClass.name+" instance already deleted")}var We=!1;function ze(t){}function Xe(t){t.count.value-=1,0===t.count.value&&function(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}(t)}function Ze(t,e,r){if(e===r)return t;if(void 0===r.baseClass)return null;var n=Ze(t,e,r.baseClass);return null===n?null:r.downcast(n)}var Qe={};function qe(){return Object.keys(ar).length}function $e(){var t=[];for(var e in ar)ar.hasOwnProperty(e)&&t.push(ar[e]);return t}var tr=[];function er(){for(;tr.length;){var t=tr.pop();t.$$.deleteScheduled=!1,t.delete()}}var rr=void 0;function nr(t){rr=t,tr.length&&rr&&rr(er)}var ar={};function or(t,e){return e=function(t,e){for(void 0===e&&Ge("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}(t,e),ar[e]}function ir(t,e){return(!e.ptrType||!e.ptr)&&He("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!==!!e.smartPtr&&He("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ur(Object.create(t,{$$:{value:e}}))}function sr(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var r=or(this.registeredClass,e);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=e,r.$$.smartPtr=t,r.clone();var n=r.clone();return this.destructor(t),n}function a(){return this.isSmartPointer?ir(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):ir(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o,i=this.registeredClass.getActualType(e),s=Qe[i];if(!s)return a.call(this);o=this.isConst?s.constPointerType:s.pointerType;var u=Ze(e,this.registeredClass,o.registeredClass);return null===u?a.call(this):this.isSmartPointer?ir(o.registeredClass.instancePrototype,{ptrType:o,ptr:u,smartPtrType:this,smartPtr:t}):ir(o.registeredClass.instancePrototype,{ptrType:o,ptr:u})}function ur(t){return typeof FinalizationRegistry>"u"?(ur=t=>t,t):(We=new FinalizationRegistry((t=>{Xe(t.$$)})),ze=t=>We.unregister(t),(ur=t=>{var e=t.$$;if(!!e.smartPtr){var r={$$:e};We.register(t,r,t)}return t})(t))}function Ar(){if(this.$$.ptr||je(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=ur(Object.create(Object.getPrototypeOf(this),{$$:{value:Je(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t}function Er(){this.$$.ptr||je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ge("Object already scheduled for deletion"),ze(this),Xe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function lr(){return!this.$$.ptr}function cr(){return this.$$.ptr||je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ge("Object already scheduled for deletion"),tr.push(this),1===tr.length&&rr&&rr(er),this.$$.deleteScheduled=!0,this}function fr(){}function Br(t,e,r){if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||Ge("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}}function dr(t,e,r){Et.hasOwnProperty(t)?((void 0===r||void 0!==Et[t].overloadTable&&void 0!==Et[t].overloadTable[r])&&Ge("Cannot register public name '"+t+"' twice"),Br(Et,t,t),Et.hasOwnProperty(r)&&Ge("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),Et[t].overloadTable[r]=e):(Et[t]=e,void 0!==r&&(Et[t].numArguments=r))}function yr(t,e,r,n,a,o,i,s){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}function pr(t,e,r){for(;e!==r;)e.upcast||Ge("Expected null or instance of "+r.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function Cr(t,e){if(null===e)return this.isReference&&Ge("null is not a valid "+this.name),0;e.$$||Ge('Cannot pass "'+Gr(e)+'" as a '+this.name),e.$$.ptr||Ge("Cannot pass deleted object as a pointer of type "+this.name);var r=e.$$.ptrType.registeredClass;return pr(e.$$.ptr,r,this.registeredClass)}function mr(t,e){var r;if(null===e)return this.isReference&&Ge("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,r),r):0;e.$$||Ge('Cannot pass "'+Gr(e)+'" as a '+this.name),e.$$.ptr||Ge("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&Ge("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var n=e.$$.ptrType.registeredClass;if(r=pr(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&Ge("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:Ge("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var a=e.clone();r=this.rawShare(r,Ur.toHandle((function(){a.delete()}))),null!==t&&t.push(this.rawDestructor,r)}break;default:Ge("Unsupporting sharing policy")}return r}function hr(t,e){if(null===e)return this.isReference&&Ge("null is not a valid "+this.name),0;e.$$||Ge('Cannot pass "'+Gr(e)+'" as a '+this.name),e.$$.ptr||Ge("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&Ge("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var r=e.$$.ptrType.registeredClass;return pr(e.$$.ptr,r,this.registeredClass)}function vr(t){return this.fromWireType(bt[t>>2])}function gr(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function Pr(t){this.rawDestructor&&this.rawDestructor(t)}function Tr(t){null!==t&&t.delete()}function Dr(t,e,r,n,a,o,i,s,u,A,E){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=A,this.rawDestructor=E,a||void 0!==e.baseClass?this.toWireType=mr:n?(this.toWireType=Cr,this.destructorFunction=null):(this.toWireType=hr,this.destructorFunction=null)}function _r(t,e,r){Et.hasOwnProperty(t)||He("Replacing nonexistant public symbol"),void 0!==Et[t].overloadTable&&void 0!==r?Et[t].overloadTable[r]=e:(Et[t]=e,Et[t].argCount=r)}function Fr(t,e,r){return t.includes("j")?function(t,e,r){var n=Et["dynCall_"+t];return r&&r.length?n.apply(null,[e].concat(r)):n.call(null,e)}(t,e,r):oe(e).apply(null,r)}function Lr(t,e){var r=(t=Me(t)).includes("j")?function(t,e){var r=[];return function(){return r.length=0,Object.assign(r,arguments),Fr(t,e,r)}}(t,e):oe(e);return"function"!=typeof r&&Ge("unknown function pointer with signature "+t+": "+e),r}var wr=void 0;function br(t){var e=dn(t),r=Me(e);return Bn(e),r}function Mr(t,e){var r=[],n={};throw e.forEach((function t(e){if(!n[e]&&!Se[e]){if(Oe[e])return void Oe[e].forEach(t);r.push(e),n[e]=!0}})),new wr(t+": "+r.map(br).join([", "]))}function Ir(t,e){for(var r=[],n=0;n<t;n++)r.push(Mt[e+4*n>>2]);return r}function Sr(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Or(t,e,r,n,a,o){var i=e.length;i<2&&Ge("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==e[1]&&null!==r,u=!1,A=1;A<e.length;++A)if(null!==e[A]&&void 0===e[A].destructorFunction){u=!0;break}var E="void"!==e[0].name,l="",c="";for(A=0;A<i-2;++A)l+=(0!==A?", ":"")+"arg"+A,c+=(0!==A?", ":"")+"arg"+A+"Wired";var f="return function "+Ne(t)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";u&&(f+="var destructors = [];\n");var B=u?"destructors":"null",d=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],y=[Ge,n,a,Sr,e[0],e[1]];s&&(f+="var thisWired = classParam.toWireType("+B+", this);\n");for(A=0;A<i-2;++A)f+="var arg"+A+"Wired = argType"+A+".toWireType("+B+", arg"+A+"); // "+e[A+2].name+"\n",d.push("argType"+A),y.push(e[A+2]);if(s&&(c="thisWired"+(c.length>0?", ":"")+c),f+=(E||o?"var rv = ":"")+"invoker(fn"+(c.length>0?", ":"")+c+");\n",u)f+="runDestructors(destructors);\n";else for(A=s?1:2;A<e.length;++A){var p=1===A?"thisWired":"arg"+(A-2)+"Wired";null!==e[A].destructorFunction&&(f+=p+"_dtor("+p+"); // "+e[A].name+"\n",d.push(p+"_dtor"),y.push(e[A].destructorFunction))}return E&&(f+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),f+="}\n",d.push(f),function(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var r=Re(t.name||"unknownFunctionName",(function(){}));r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return a instanceof Object?a:n}(Function,d).apply(null,y)}var Nr=new function(){this.allocated=[void 0],this.freelist=[],this.get=function(t){return this.allocated[t]},this.allocate=function(t){let e=this.freelist.pop()||this.allocated.length;return this.allocated[e]=t,e},this.free=function(t){this.allocated[t]=void 0,this.freelist.push(t)}};function Rr(t){t>=Nr.reserved&&0==--Nr.get(t).refcount&&Nr.free(t)}function xr(){for(var t=0,e=Nr.reserved;e<Nr.allocated.length;++e)void 0!==Nr.allocated[e]&&++t;return t}var Ur={toValue:t=>(t||Ge("Cannot use deleted val. handle = "+t),Nr.get(t).value),toHandle:t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Nr.allocate({refcount:1,value:t})}}};function Gr(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function Kr(t,e){switch(e){case 2:return function(t){return this.fromWireType(It[t>>2])};case 3:return function(t){return this.fromWireType(St[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Hr(t,e,r){switch(e){case 0:return r?function(t){return _t[t]}:function(t){return Ft[t]};case 1:return r?function(t){return Lt[t>>1]}:function(t){return wt[t>>1]};case 2:return r?function(t){return bt[t>>2]}:function(t){return Mt[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var kr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Vr(t,e){for(var r=t,n=r>>1,a=n+e/2;!(n>=a)&&wt[n];)++n;if((r=n<<1)-t>32&&kr)return kr.decode(Ft.subarray(t,r));for(var o="",i=0;!(i>=e/2);++i){var s=Lt[t+2*i>>1];if(0==s)break;o+=String.fromCharCode(s)}return o}function Yr(t,e,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=e,a=(r-=2)<2*t.length?r/2:t.length,o=0;o<a;++o){var i=t.charCodeAt(o);Lt[e>>1]=i,e+=2}return Lt[e>>1]=0,e-n}function Jr(t){return 2*t.length}function jr(t,e){for(var r=0,n="";!(r>=e/4);){var a=bt[t+4*r>>2];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n}function Wr(t,e,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=e,a=n+r-4,o=0;o<t.length;++o){var i=t.charCodeAt(o);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&t.charCodeAt(++o);if(bt[e>>2]=i,(e+=4)+4>a)break}return bt[e>>2]=0,e-n}function zr(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&++r,e+=4}return e}function Xr(t,e){var r=Se[t];return void 0===r&&Ge(e+" has unknown type "+br(t)),r}var Zr={};function Qr(t){var e=Zr[t];return void 0===e?Me(t):e}function qr(){return"object"==typeof globalThis?globalThis:Function("return this")()}var $r={};function tn(t){var e=Dt.buffer;try{return Dt.grow(t-e.byteLength+65535>>>16),Rt(),1}catch{}}var en={};function rn(){if(!rn.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:dt||"./this.program"};for(var e in en)void 0===en[e]?delete t[e]:t[e]=en[e];var r=[];for(var e in t)r.push(e+"="+t[e]);rn.strings=r}return rn.strings}function nn(t){return t%4==0&&(t%100!=0||t%400==0)}var an=[31,29,31,30,31,30,31,31,30,31,30,31],on=[31,28,31,30,31,30,31,31,30,31,30,31];function sn(t,e,r,n){var a=bt[n+40>>2],o={tm_sec:bt[n>>2],tm_min:bt[n+4>>2],tm_hour:bt[n+8>>2],tm_mday:bt[n+12>>2],tm_mon:bt[n+16>>2],tm_year:bt[n+20>>2],tm_wday:bt[n+24>>2],tm_yday:bt[n+28>>2],tm_isdst:bt[n+32>>2],tm_gmtoff:bt[n+36>>2],tm_zone:a?_e(a):""},i=_e(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)i=i.replace(new RegExp(u,"g"),s[u]);var A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],E=["January","February","March","April","May","June","July","August","September","October","November","December"];function l(t,e,r){for(var n="number"==typeof t?t.toString():t||"";n.length<e;)n=r[0]+n;return n}function c(t,e){return l(t,e,"0")}function f(t,e){function r(t){return t<0?-1:t>0?1:0}var n;return 0===(n=r(t.getFullYear()-e.getFullYear()))&&0===(n=r(t.getMonth()-e.getMonth()))&&(n=r(t.getDate()-e.getDate())),n}function B(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function d(t){var e=function(t,e){for(var r=new Date(t.getTime());e>0;){var n=nn(r.getFullYear()),a=r.getMonth(),o=(n?an:on)[a];if(!(e>o-r.getDate()))return r.setDate(r.getDate()+e),r;e-=o-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}(new Date(t.tm_year+1900,0,1),t.tm_yday),r=new Date(e.getFullYear(),0,4),n=new Date(e.getFullYear()+1,0,4),a=B(r),o=B(n);return f(a,e)<=0?f(o,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var y={"%a":function(t){return A[t.tm_wday].substring(0,3)},"%A":function(t){return A[t.tm_wday]},"%b":function(t){return E[t.tm_mon].substring(0,3)},"%B":function(t){return E[t.tm_mon]},"%C":function(t){return c((t.tm_year+1900)/100|0,2)},"%d":function(t){return c(t.tm_mday,2)},"%e":function(t){return l(t.tm_mday,2," ")},"%g":function(t){return d(t).toString().substring(2)},"%G":function(t){return d(t)},"%H":function(t){return c(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),c(e,2)},"%j":function(t){return c(t.tm_mday+function(t,e){for(var r=0,n=0;n<=e;r+=t[n++]);return r}(nn(t.tm_year+1900)?an:on,t.tm_mon-1),3)},"%m":function(t){return c(t.tm_mon+1,2)},"%M":function(t){return c(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return c(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return t.tm_wday||7},"%U":function(t){var e=t.tm_yday+7-t.tm_wday;return c(Math.floor(e/7),2)},"%V":function(t){var e=Math.floor((t.tm_yday+7-(t.tm_wday+6)%7)/7);if((t.tm_wday+371-t.tm_yday-2)%7<=2&&e++,e){if(53==e){var r=(t.tm_wday+371-t.tm_yday)%7;4!=r&&(3!=r||!nn(t.tm_year))&&(e=1)}}else{e=52;var n=(t.tm_wday+7-t.tm_yday-1)%7;(4==n||5==n&&nn(t.tm_year%400-1))&&e++}return c(e,2)},"%w":function(t){return t.tm_wday},"%W":function(t){var e=t.tm_yday+7-(t.tm_wday+6)%7;return c(Math.floor(e/7),2)},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,r=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(r?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var u in i=i.replace(/%%/g,"\0\0"),y)i.includes(u)&&(i=i.replace(new RegExp(u,"g"),y[u](o)));var p=me(i=i.replace(/\0\0/g,"%"),!1);return p.length>e?0:(function(t,e){_t.set(t,e)}(p,t),p.length-1)}var un=function(t,e,r,n){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=Pe.nextInode++,this.name=e,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},An=365,En=146;Object.defineProperties(un.prototype,{read:{get:function(){return(this.mode&An)===An},set:function(t){t?this.mode|=An:this.mode&=~An}},write:{get:function(){return(this.mode&En)===En},set:function(t){t?this.mode|=En:this.mode&=~En}},isFolder:{get:function(){return Pe.isDir(this.mode)}},isDevice:{get:function(){return Pe.isChrdev(this.mode)}}}),Pe.FSNode=un,Pe.staticInit(),function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);be=t}(),Ue=Et.BindingError=xe(Error,"BindingError"),Ke=Et.InternalError=xe(Error,"InternalError"),fr.prototype.isAliasOf=Ye,fr.prototype.clone=Ar,fr.prototype.delete=Er,fr.prototype.isDeleted=lr,fr.prototype.deleteLater=cr,Et.getInheritedInstanceCount=qe,Et.getLiveInheritedInstances=$e,Et.flushPendingDeletes=er,Et.setDelayFunction=nr,Dr.prototype.getPointee=gr,Dr.prototype.destructor=Pr,Dr.prototype.argPackAdvance=8,Dr.prototype.readValueFromPointer=vr,Dr.prototype.deleteObject=Tr,Dr.prototype.fromWireType=sr,wr=Et.UnboundTypeError=xe(Error,"UnboundTypeError"),Nr.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Nr.reserved=Nr.allocated.length,Et.count_emval_handles=xr;var ln={t:function(t){var e=new se(t);return e.get_caught()||(e.set_caught(!0),ne--),e.set_rethrown(!1),ee.push(e),re(e),e.get_exception_ptr()},ja:function(){if(!ee.length)return 0;var t=ee[ee.length-1];return re(t),t.excPtr},Z:function(t){!t||ie(new se(t))},u:function(){pn(0),ie(ee.pop()),ue=0},a:Ee,i:le,z:ce,C:fe,ka:function(t){!t||re(new se(t))},da:function(){var t=ee.pop();t||Jt("no exception to throw");var e=t.excPtr;throw t.get_rethrown()||(ee.push(t),t.set_rethrown(!0),t.set_caught(!1),ne++),ue=e},m:function(t,e,r){throw new se(t).init(e,r),ne++,ue=t},la:function(){return ne},c:function(t){throw ue||(ue=t),ue},za:function(t){try{return t=Fe.getStr(t),Pe.chdir(t),0}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},aa:function(t,e,r){Fe.varargs=r;try{var n=Fe.getStreamFromFD(t);switch(e){case 0:return(a=Fe.get())<0?-28:Pe.createStream(n,a).fd;case 1:case 2:case 6:case 7:return 0;case 3:return n.flags;case 4:var a=Fe.get();return n.flags|=a,0;case 5:a=Fe.get();return Lt[a+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return function(t){bt[yn()>>2]=t}(28),-1}}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},ta:function(t,e){try{if(0===e)return-28;var r=Pe.cwd(),n=pe(r)+1;return e<n?-68:(Le(r,t,e),n)}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},wa:function(t,e,r){Fe.varargs=r;try{var n=Fe.getStreamFromFD(t);switch(e){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var a=Fe.get();return bt[a>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:a=Fe.get();return Pe.ioctl(n,e,a);default:return-28}}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},ua:function(t,e,r){try{return e=Fe.getStr(e),e=Fe.calculateAt(t,e),"/"===(e=Be.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Pe.mkdir(e,r,0),0}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},xa:function(t,e,r,n){Fe.varargs=n;try{e=Fe.getStr(e),e=Fe.calculateAt(t,e);var a=n?Fe.get():0;return Pe.open(e,r,a).fd}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},sa:function(t,e,r,n){try{if(e=Fe.getStr(e),e=Fe.calculateAt(t,e),n<=0)return-28;var a=Pe.readlink(e),o=Math.min(n,pe(a)),i=_t[r+o];return Le(a,r,n+1),_t[r+o]=i,o}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},qa:function(t){try{return t=Fe.getStr(t),Pe.rmdir(t),0}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},pa:function(t,e){try{return t=Fe.getStr(t),Fe.doStat(Pe.stat,t,e)}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},ra:function(t,e,r){try{return e=Fe.getStr(e),e=Fe.calculateAt(t,e),0===r?Pe.unlink(e):512===r?Pe.rmdir(e):Jt("Invalid flags passed to unlinkat"),0}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return-t.errno}},Ya:function(t,e,r,n,a){},Ba:function(t,e,r,n,a){var o=we(r);Ve(t,{name:e=Me(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?n:a},argPackAdvance:8,readValueFromPointer:function(t){var n;if(1===r)n=_t;else if(2===r)n=Lt;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+e);n=bt}return this.fromWireType(n[t>>o])},destructorFunction:null})},X:function(t,e,r,n,a,o,i,s,u,A,E,l,c){E=Me(E),o=Lr(a,o),s&&(s=Lr(i,s)),A&&(A=Lr(u,A)),c=Lr(l,c);var f=Ne(E);dr(f,(function(){Mr("Cannot construct "+E+" due to unbound types",[n])})),ke([t,e,r],n?[n]:[],(function(e){var r,a;e=e[0],n?a=(r=e.registeredClass).instancePrototype:a=fr.prototype;var i=Re(f,(function(){if(Object.getPrototypeOf(this)!==u)throw new Ue("Use 'new' to construct "+E);if(void 0===l.constructor_body)throw new Ue(E+" has no accessible constructor");var t=l.constructor_body[arguments.length];if(void 0===t)throw new Ue("Tried to invoke ctor of "+E+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(l.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),u=Object.create(a,{constructor:{value:i}});i.prototype=u;var l=new yr(E,i,u,c,r,o,s,A),B=new Dr(E,l,!0,!1,!1),d=new Dr(E+"*",l,!1,!1,!1),y=new Dr(E+" const*",l,!1,!0,!1);return Qe[t]={pointerType:d,constPointerType:y},_r(f,i),[B,d,y]}))},W:function(t,e,r,n,a,o){Nt(e>0);var i=Ir(e,r);a=Lr(n,a),ke([],[t],(function(t){var r="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new Ue("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=()=>{Mr("Cannot construct "+t.name+" due to unbound types",i)},ke([],i,(function(n){return n.splice(1,0,null),t.registeredClass.constructor_body[e-1]=Or(r,n,null,a,o),[]})),[]}))},N:function(t,e,r,n,a,o,i,s,u){var A=Ir(r,n);e=Me(e),o=Lr(a,o),ke([],[t],(function(t){var n=(t=t[0]).name+"."+e;function a(){Mr("Cannot call "+n+" due to unbound types",A)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.registeredClass.pureVirtualFunctions.push(e);var E=t.registeredClass.instancePrototype,l=E[e];return void 0===l||void 0===l.overloadTable&&l.className!==t.name&&l.argCount===r-2?(a.argCount=r-2,a.className=t.name,E[e]=a):(Br(E,e,n),E[e].overloadTable[r-2]=a),ke([],A,(function(a){var s=Or(n,a,t,o,i,u);return void 0===E[e].overloadTable?(s.argCount=r-2,E[e]=s):E[e].overloadTable[r-2]=s,[]})),[]}))},Aa:function(t,e){Ve(t,{name:e=Me(e),fromWireType:function(t){var e=Ur.toValue(t);return Rr(t),e},toWireType:function(t,e){return Ur.toHandle(e)},argPackAdvance:8,readValueFromPointer:vr,destructorFunction:null})},ca:function(t,e,r){var n=we(r);Ve(t,{name:e=Me(e),fromWireType:function(t){return t},toWireType:function(t,e){return e},argPackAdvance:8,readValueFromPointer:Kr(e,n),destructorFunction:null})},fa:function(t,e,r,n,a,o,i){var s=Ir(e,r);t=Me(t),a=Lr(n,a),dr(t,(function(){Mr("Cannot call "+t+" due to unbound types",s)}),e-1),ke([],s,(function(r){var n=[r[0],null].concat(r.slice(1));return _r(t,Or(t,n,null,a,o,i),e-1),[]}))},I:function(t,e,r,n,a){e=Me(e);var o=we(r),i=t=>t;if(0===n){var s=32-8*r;i=t=>t<<s>>>s}var u=e.includes("unsigned");Ve(t,{name:e,fromWireType:i,toWireType:u?function(t,e){return this.name,e>>>0}:function(t,e){return this.name,e},argPackAdvance:8,readValueFromPointer:Hr(e,o,0!==n),destructorFunction:null})},E:function(t,e,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function a(t){var e=Mt,r=e[t>>=2],a=e[t+1];return new n(e.buffer,a,r)}Ve(t,{name:r=Me(r),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},ba:function(t,e){var r="std::string"===(e=Me(e));Ve(t,{name:e,fromWireType:function(t){var e,n=Mt[t>>2],a=t+4;if(r)for(var o=a,i=0;i<=n;++i){var s=a+i;if(i==n||0==Ft[s]){var u=_e(o,s-o);void 0===e?e=u:(e+=String.fromCharCode(0),e+=u),o=s+1}}else{var A=new Array(n);for(i=0;i<n;++i)A[i]=String.fromCharCode(Ft[a+i]);e=A.join("")}return Bn(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n,a="string"==typeof e;a||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||Ge("Cannot pass non-string to std::string"),n=r&&a?pe(e):e.length;var o=fn(4+n+1),i=o+4;if(Mt[o>>2]=n,r&&a)Le(e,i,n+1);else if(a)for(var s=0;s<n;++s){var u=e.charCodeAt(s);u>255&&(Bn(i),Ge("String has UTF-16 code units that do not fit in 8 bits")),Ft[i+s]=u}else for(s=0;s<n;++s)Ft[i+s]=e[s];return null!==t&&t.push(Bn,o),o},argPackAdvance:8,readValueFromPointer:vr,destructorFunction:function(t){Bn(t)}})},S:function(t,e,r){var n,a,o,i,s;r=Me(r),2===e?(n=Vr,a=Yr,i=Jr,o=()=>wt,s=1):4===e&&(n=jr,a=Wr,i=zr,o=()=>Mt,s=2),Ve(t,{name:r,fromWireType:function(t){for(var r,a=Mt[t>>2],i=o(),u=t+4,A=0;A<=a;++A){var E=t+4+A*e;if(A==a||0==i[E>>s]){var l=n(u,E-u);void 0===r?r=l:(r+=String.fromCharCode(0),r+=l),u=E+e}}return Bn(t),r},toWireType:function(t,n){"string"!=typeof n&&Ge("Cannot pass non-string to C++ string type "+r);var o=i(n),u=fn(4+o+e);return Mt[u>>2]=o>>s,a(n,u+4,o+e),null!==t&&t.push(Bn,u),u},argPackAdvance:8,readValueFromPointer:vr,destructorFunction:function(t){Bn(t)}})},Ca:function(t,e){Ve(t,{isVoid:!0,name:e=Me(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},ma:function(){return true},Qa:function(t,e,r){t=Ur.toValue(t),e=Xr(e,"emval::as");var n=[],a=Ur.toHandle(n);return Mt[r>>2]=a,e.toWireType(n,t)},Na:function(t,e,r,n){t=Ur.toValue(t);for(var a=function(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=Xr(Mt[e+4*n>>2],"parameter "+n);return r}(e,r),o=new Array(e),i=0;i<e;++i){var s=a[i];o[i]=s.readValueFromPointer(n),n+=s.argPackAdvance}var u=t.apply(void 0,o);return Ur.toHandle(u)},Ra:Rr,La:function(t){return 0===t?Ur.toHandle(qr()):(t=Qr(t),Ur.toHandle(qr()[t]))},Sa:function(t,e){return t=Ur.toValue(t),e=Ur.toValue(e),Ur.toHandle(t[e])},Ma:function(t){t>4&&(Nr.get(t).refcount+=1)},Ka:function(t,e,r,n){t=Ur.toValue(t);var a=$r[e];return a||(a=function(t){for(var e="",r=0;r<t;++r)e+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+t+"(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n";for(r=0;r<t;++r)n+="var argType"+r+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+r+"');\nvar arg"+r+" = argType"+r+".readValueFromPointer(args);\nargs += argType"+r+"['argPackAdvance'];\nargTypes += 4;\n";return n+="var obj = new constructor("+e+");\nreturn valueToHandle(obj);\n}\n",new Function("requireRegisteredType","Module","valueToHandle","getMemory",n)(Xr,Et,Ur.toHandle,(()=>Mt))}(e),$r[e]=a),a(t,r,n)},Ta:function(t){return Ur.toHandle(Qr(t))},Pa:function(t){Sr(Ur.toValue(t)),Rr(t)},Oa:function(t,e){var r=(t=Xr(t,"_emval_take_value")).readValueFromPointer(e);return Ur.toHandle(r)},R:function(){Jt("")},na:function(){return Date.now()},ya:function(t,e,r){Ft.copyWithin(t,e,e+r)},oa:function(t){var e=Ft.length,r=2147483648;if((t>>>=0)>r)return!1;let n=(t,e)=>t+(e-t%e)%e;for(var a=1;a<=4;a*=2){var o=e*(1+.2/a);if(o=Math.min(o,t+100663296),tn(Math.min(r,n(Math.max(t,o),65536))))return!0}return!1},ha:function(t,e){var r=0;return rn().forEach((function(n,a){var o=e+r;Mt[t+4*a>>2]=o,function(t,e){for(var r=0;r<t.length;++r)_t[e++>>0]=t.charCodeAt(r);_t[e>>0]=0}(n,o),r+=n.length+1})),0},ia:function(t,e){var r=rn();Mt[t>>2]=r.length;var n=0;return r.forEach((function(t){n+=t.length+1})),Mt[e>>2]=n,0},_:function(t){try{var e=Fe.getStreamFromFD(t);return Pe.close(e),0}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return t.errno}},va:function(t,e,r,n){try{var a=function(t,e,r,n){for(var a=0,o=0;o<r;o++){var i=Mt[e>>2],s=Mt[e+4>>2];e+=8;var u=Pe.read(t,_t,i,s,n);if(u<0)return-1;if(a+=u,u<s)break;typeof n<"u"&&(n+=u)}return a}(Fe.getStreamFromFD(t),e,r);return Mt[n>>2]=a,0}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return t.errno}},Xa:function(t,e,r,n,a){try{var o=function(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}(e,r);if(isNaN(o))return 61;var i=Fe.getStreamFromFD(t);return Pe.llseek(i,o,n),Xt=[i.position>>>0,(zt=i.position,+Math.abs(zt)>=1?zt>0?(0|Math.min(+Math.floor(zt/4294967296),4294967295))>>>0:~~+Math.ceil((zt-+(~~zt>>>0))/4294967296)>>>0:0)],bt[a>>2]=Xt[0],bt[a+4>>2]=Xt[1],i.getdents&&0===o&&0===n&&(i.getdents=null),0}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return t.errno}},$:function(t,e,r,n){try{var a=function(t,e,r,n){for(var a=0,o=0;o<r;o++){var i=Mt[e>>2],s=Mt[e+4>>2];e+=8;var u=Pe.write(t,_t,i,s,n);if(u<0)return-1;a+=u,typeof n<"u"&&(n+=u)}return a}(Fe.getStreamFromFD(t),e,r);return Mt[n>>2]=a,0}catch(t){if(typeof Pe>"u"||"ErrnoError"!==t.name)throw t;return t.errno}},P:function(t,e,r,n){var a=mn();try{return oe(t)(e,r,n)}catch(t){if(hn(a),t!==t+0)throw t;pn(1,0)}},x:function(t,e){var r=mn();try{return oe(t)(e)}catch(t){if(hn(r),t!==t+0)throw t;pn(1,0)}},M:function(t,e,r){var n=mn();try{return oe(t)(e,r)}catch(t){if(hn(n),t!==t+0)throw t;pn(1,0)}},A:function(t,e,r,n){var a=mn();try{return oe(t)(e,r,n)}catch(t){if(hn(a),t!==t+0)throw t;pn(1,0)}},j:function(t){var e=mn();try{return oe(t)()}catch(t){if(hn(e),t!==t+0)throw t;pn(1,0)}},b:function(t,e){var r=mn();try{return oe(t)(e)}catch(t){if(hn(r),t!==t+0)throw t;pn(1,0)}},Ea:function(t,e,r){var n=mn();try{return oe(t)(e,r)}catch(t){if(hn(n),t!==t+0)throw t;pn(1,0)}},d:function(t,e,r){var n=mn();try{return oe(t)(e,r)}catch(t){if(hn(n),t!==t+0)throw t;pn(1,0)}},ea:function(t,e,r,n){var a=mn();try{return oe(t)(e,r,n)}catch(t){if(hn(a),t!==t+0)throw t;pn(1,0)}},g:function(t,e,r,n){var a=mn();try{return oe(t)(e,r,n)}catch(t){if(hn(a),t!==t+0)throw t;pn(1,0)}},k:function(t,e,r,n,a){var o=mn();try{return oe(t)(e,r,n,a)}catch(t){if(hn(o),t!==t+0)throw t;pn(1,0)}},Y:function(t,e,r,n,a,o){var i=mn();try{return oe(t)(e,r,n,a,o)}catch(t){if(hn(i),t!==t+0)throw t;pn(1,0)}},o:function(t,e,r,n,a,o){var i=mn();try{return oe(t)(e,r,n,a,o)}catch(t){if(hn(i),t!==t+0)throw t;pn(1,0)}},p:function(t,e,r,n,a,o,i){var s=mn();try{return oe(t)(e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},r:function(t,e,r,n,a,o,i,s){var u=mn();try{return oe(t)(e,r,n,a,o,i,s)}catch(t){if(hn(u),t!==t+0)throw t;pn(1,0)}},y:function(t,e,r,n,a,o,i,s,u){var A=mn();try{return oe(t)(e,r,n,a,o,i,s,u)}catch(t){if(hn(A),t!==t+0)throw t;pn(1,0)}},F:function(t,e,r,n,a,o,i,s,u,A){var E=mn();try{return oe(t)(e,r,n,a,o,i,s,u,A)}catch(t){if(hn(E),t!==t+0)throw t;pn(1,0)}},J:function(t,e,r,n,a,o,i,s,u,A,E){var l=mn();try{return oe(t)(e,r,n,a,o,i,s,u,A,E)}catch(t){if(hn(l),t!==t+0)throw t;pn(1,0)}},K:function(t,e,r,n,a,o,i,s,u,A,E,l){var c=mn();try{return oe(t)(e,r,n,a,o,i,s,u,A,E,l)}catch(t){if(hn(c),t!==t+0)throw t;pn(1,0)}},fb:function(t,e,r,n,a,o,i,s,u,A,E,l){var c=mn();try{return Fn(t,e,r,n,a,o,i,s,u,A,E,l)}catch(t){if(hn(c),t!==t+0)throw t;pn(1,0)}},eb:function(t,e,r,n,a,o,i,s,u,A,E,l,c){var f=mn();try{return Ln(t,e,r,n,a,o,i,s,u,A,E,l,c)}catch(t){if(hn(f),t!==t+0)throw t;pn(1,0)}},Va:function(t,e,r,n,a,o,i){var s=mn();try{return Un(t,e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},ab:function(t,e,r,n,a,o,i){var s=mn();try{return In(t,e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},$a:function(t,e,r,n,a,o,i,s,u){var A=mn();try{return Sn(t,e,r,n,a,o,i,s,u)}catch(t){if(hn(A),t!==t+0)throw t;pn(1,0)}},Wa:function(t){var e=mn();try{return xn(t)}catch(t){if(hn(e),t!==t+0)throw t;pn(1,0)}},ga:function(t,e){var r=mn();try{return Pn(t,e)}catch(t){if(hn(r),t!==t+0)throw t;pn(1,0)}},Ua:function(t,e,r,n,a){var o=mn();try{return Gn(t,e,r,n,a)}catch(t){if(hn(o),t!==t+0)throw t;pn(1,0)}},l:function(t){var e=mn();try{oe(t)()}catch(t){if(hn(e),t!==t+0)throw t;pn(1,0)}},Ga:function(t,e,r,n,a,o,i){var s=mn();try{oe(t)(e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},h:function(t,e){var r=mn();try{oe(t)(e)}catch(t){if(hn(r),t!==t+0)throw t;pn(1,0)}},Fa:function(t,e,r){var n=mn();try{oe(t)(e,r)}catch(t){if(hn(n),t!==t+0)throw t;pn(1,0)}},Ha:function(t,e,r,n,a){var o=mn();try{oe(t)(e,r,n,a)}catch(t){if(hn(o),t!==t+0)throw t;pn(1,0)}},e:function(t,e,r){var n=mn();try{oe(t)(e,r)}catch(t){if(hn(n),t!==t+0)throw t;pn(1,0)}},Ia:function(t,e,r,n){var a=mn();try{oe(t)(e,r,n)}catch(t){if(hn(a),t!==t+0)throw t;pn(1,0)}},V:function(t,e,r,n,a){var o=mn();try{oe(t)(e,r,n,a)}catch(t){if(hn(o),t!==t+0)throw t;pn(1,0)}},f:function(t,e,r,n){var a=mn();try{oe(t)(e,r,n)}catch(t){if(hn(a),t!==t+0)throw t;pn(1,0)}},L:function(t,e,r,n,a,o,i){var s=mn();try{oe(t)(e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},n:function(t,e,r,n,a){var o=mn();try{oe(t)(e,r,n,a)}catch(t){if(hn(o),t!==t+0)throw t;pn(1,0)}},T:function(t,e,r,n,a,o,i){var s=mn();try{oe(t)(e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},q:function(t,e,r,n,a,o){var i=mn();try{oe(t)(e,r,n,a,o)}catch(t){if(hn(i),t!==t+0)throw t;pn(1,0)}},Da:function(t,e,r,n,a,o,i){var s=mn();try{oe(t)(e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},s:function(t,e,r,n,a,o,i){var s=mn();try{oe(t)(e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},w:function(t,e,r,n,a,o,i,s){var u=mn();try{oe(t)(e,r,n,a,o,i,s)}catch(t){if(hn(u),t!==t+0)throw t;pn(1,0)}},D:function(t,e,r,n,a,o,i,s,u){var A=mn();try{oe(t)(e,r,n,a,o,i,s,u)}catch(t){if(hn(A),t!==t+0)throw t;pn(1,0)}},G:function(t,e,r,n,a,o,i,s,u,A){var E=mn();try{oe(t)(e,r,n,a,o,i,s,u,A)}catch(t){if(hn(E),t!==t+0)throw t;pn(1,0)}},B:function(t,e,r,n,a,o,i,s,u,A,E){var l=mn();try{oe(t)(e,r,n,a,o,i,s,u,A,E)}catch(t){if(hn(l),t!==t+0)throw t;pn(1,0)}},O:function(t,e,r,n,a,o,i,s,u,A,E,l){var c=mn();try{oe(t)(e,r,n,a,o,i,s,u,A,E,l)}catch(t){if(hn(c),t!==t+0)throw t;pn(1,0)}},U:function(t,e,r,n,a,o,i,s,u,A,E,l,c){var f=mn();try{oe(t)(e,r,n,a,o,i,s,u,A,E,l,c)}catch(t){if(hn(f),t!==t+0)throw t;pn(1,0)}},Ja:function(t,e,r,n,a,o,i,s,u,A,E,l,c,f){var B=mn();try{oe(t)(e,r,n,a,o,i,s,u,A,E,l,c,f)}catch(t){if(hn(B),t!==t+0)throw t;pn(1,0)}},Q:function(t,e,r,n,a,o,i,s,u,A,E,l,c,f,B,d){var y=mn();try{oe(t)(e,r,n,a,o,i,s,u,A,E,l,c,f,B,d)}catch(t){if(hn(y),t!==t+0)throw t;pn(1,0)}},gb:function(t,e,r,n,a,o,i,s,u,A,E,l){var c=mn();try{Dn(t,e,r,n,a,o,i,s,u,A,E,l)}catch(t){if(hn(c),t!==t+0)throw t;pn(1,0)}},bb:function(t,e,r,n,a,o,i,s,u,A,E){var l=mn();try{bn(t,e,r,n,a,o,i,s,u,A,E)}catch(t){if(hn(l),t!==t+0)throw t;pn(1,0)}},cb:function(t,e,r,n,a,o,i,s,u,A,E,l){var c=mn();try{Mn(t,e,r,n,a,o,i,s,u,A,E,l)}catch(t){if(hn(c),t!==t+0)throw t;pn(1,0)}},db:function(t,e,r,n,a,o,i,s){var u=mn();try{wn(t,e,r,n,a,o,i,s)}catch(t){if(hn(u),t!==t+0)throw t;pn(1,0)}},_a:function(t,e,r,n,a){var o=mn();try{On(t,e,r,n,a)}catch(t){if(hn(o),t!==t+0)throw t;pn(1,0)}},hb:function(t,e,r,n,a,o){var i=mn();try{_n(t,e,r,n,a,o)}catch(t){if(hn(i),t!==t+0)throw t;pn(1,0)}},Za:function(t,e,r,n,a,o,i){var s=mn();try{Nn(t,e,r,n,a,o,i)}catch(t){if(hn(s),t!==t+0)throw t;pn(1,0)}},ib:function(t,e,r,n,a,o){var i=mn();try{Tn(t,e,r,n,a,o)}catch(t){if(hn(i),t!==t+0)throw t;pn(1,0)}},v:function(t){return t},H:function(t,e,r,n,a){return sn(t,e,r,n)}};!function(){var t={a:ln};function e(t,e){var r=t.exports;return Et.asm=r,Dt=Et.asm.jb,Rt(),xt=Et.asm.nb,function(t){Gt.unshift(t)}(Et.asm.kb),Yt(),r}if(Vt(),Et.instantiateWasm)try{return Et.instantiateWasm(t,e)}catch(t){Tt("Module.instantiateWasm callback failed with error: "+t),At(t)}(function(t,e,r,n){return t||"function"!=typeof WebAssembly.instantiateStreaming||Zt(e)||Qt(e)||Ct||"function"!=typeof fetch?$t(e,r,n):fetch(e,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(n,(function(t){return Tt("wasm streaming compile failed: "+t),Tt("falling back to ArrayBuffer instantiation"),$t(e,r,n)}))}))})(gt,jt,t,(function(t){e(t.instance)})).catch(At)}();var cn=function(){return(cn=Et.asm.lb).apply(null,arguments)},fn=function(){return(fn=Et.asm.mb).apply(null,arguments)},Bn=function(){return(Bn=Et.asm.ob).apply(null,arguments)},dn=Et.___getTypeName=function(){return(dn=Et.___getTypeName=Et.asm.pb).apply(null,arguments)};Et.__embind_initialize_bindings=function(){return(Et.__embind_initialize_bindings=Et.asm.qb).apply(null,arguments)};var yn=function(){return(yn=Et.asm.rb).apply(null,arguments)},pn=function(){return(pn=Et.asm.sb).apply(null,arguments)},Cn=function(){return(Cn=Et.asm.tb).apply(null,arguments)},mn=function(){return(mn=Et.asm.ub).apply(null,arguments)},hn=function(){return(hn=Et.asm.vb).apply(null,arguments)},vn=function(){return(vn=Et.asm.wb).apply(null,arguments)},gn=function(){return(gn=Et.asm.xb).apply(null,arguments)},Pn=Et.dynCall_ji=function(){return(Pn=Et.dynCall_ji=Et.asm.yb).apply(null,arguments)},Tn=Et.dynCall_vijii=function(){return(Tn=Et.dynCall_vijii=Et.asm.zb).apply(null,arguments)},Dn=Et.dynCall_viiiiijjii=function(){return(Dn=Et.dynCall_viiiiijjii=Et.asm.Ab).apply(null,arguments)},_n=Et.dynCall_viiji=function(){return(_n=Et.dynCall_viiji=Et.asm.Bb).apply(null,arguments)},Fn=Et.dynCall_iiiiiijjii=function(){return(Fn=Et.dynCall_iiiiiijjii=Et.asm.Cb).apply(null,arguments)},Ln=Et.dynCall_iiiiiijjiii=function(){return(Ln=Et.dynCall_iiiiiijjiii=Et.asm.Db).apply(null,arguments)},wn=Et.dynCall_viiijj=function(){return(wn=Et.dynCall_viiijj=Et.asm.Eb).apply(null,arguments)},bn=Et.dynCall_viiiijjii=function(){return(bn=Et.dynCall_viiiijjii=Et.asm.Fb).apply(null,arguments)},Mn=Et.dynCall_viiiijjiii=function(){return(Mn=Et.dynCall_viiiijjiii=Et.asm.Gb).apply(null,arguments)},In=Et.dynCall_iijiii=function(){return(In=Et.dynCall_iijiii=Et.asm.Hb).apply(null,arguments)},Sn=Et.dynCall_iijiiiii=function(){return(Sn=Et.dynCall_iijiiiii=Et.asm.Ib).apply(null,arguments)},On=Et.dynCall_viij=function(){return(On=Et.dynCall_viij=Et.asm.Jb).apply(null,arguments)},Nn=Et.dynCall_viijii=function(){return(Nn=Et.dynCall_viijii=Et.asm.Kb).apply(null,arguments)};Et.dynCall_jii=function(){return(Et.dynCall_jii=Et.asm.Lb).apply(null,arguments)},Et.dynCall_viji=function(){return(Et.dynCall_viji=Et.asm.Mb).apply(null,arguments)},Et.dynCall_iiiji=function(){return(Et.dynCall_iiiji=Et.asm.Nb).apply(null,arguments)},Et.dynCall_jiji=function(){return(Et.dynCall_jiji=Et.asm.Ob).apply(null,arguments)};var Rn,xn=Et.dynCall_j=function(){return(xn=Et.dynCall_j=Et.asm.Pb).apply(null,arguments)},Un=Et.dynCall_iiiiij=function(){return(Un=Et.dynCall_iiiiij=Et.asm.Qb).apply(null,arguments)},Gn=Et.dynCall_jiiii=function(){return(Gn=Et.dynCall_jiiii=Et.asm.Rb).apply(null,arguments)};function Kn(){function t(){Rn||(Rn=!0,Et.calledRun=!0,!Ot&&(!Et.noFSInit&&!Pe.init.initialized&&Pe.init(),Pe.ignorePermissions=!1,te(Gt),ut(Et),Et.onRuntimeInitialized&&Et.onRuntimeInitialized(),function(){if(Et.postRun)for("function"==typeof Et.postRun&&(Et.postRun=[Et.postRun]);Et.postRun.length;)t=Et.postRun.shift(),Kt.unshift(t);var t;te(Kt)}()))}Ht>0||(function(){if(Et.preRun)for("function"==typeof Et.preRun&&(Et.preRun=[Et.preRun]);Et.preRun.length;)t=Et.preRun.shift(),Ut.unshift(t);var t;te(Ut)}(),Ht>0)||(Et.setStatus?(Et.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Et.setStatus("")}),1),t()}),1)):t())}if(Et.dynCall_iiiiijj=function(){return(Et.dynCall_iiiiijj=Et.asm.Sb).apply(null,arguments)},Et.dynCall_iiiiiijj=function(){return(Et.dynCall_iiiiiijj=Et.asm.Tb).apply(null,arguments)},kt=function t(){Rn||Kn(),Rn||(kt=t)},Et.preInit)for("function"==typeof Et.preInit&&(Et.preInit=[Et.preInit]);Et.preInit.length>0;)Et.preInit.pop()();Kn();var Hn,kn,Vn=1,Yn=2,Jn={};Jn[0]=d.PixelFormat.RGB_DXT1,Jn[Vn]=d.PixelFormat.RGBA_DXT3,Jn[Yn]=d.PixelFormat.RGBA_DXT5;var jn,Wn=0,zn=!1;function Xn(t,e){var r=t.data,a=r.byteLength,o=new Uint8Array(r),i=jn._malloc(a);!function(t,e,r,n){var a,o=r/4,i=n%4,s=new Uint32Array(t.buffer,0,(n-i)/4),u=new Uint32Array(e.buffer);for(a=0;a<s.length;a++)u[o+a]=s[a];for(a=n-i;a<n;a++)e[r+a]=t[a]}(o,jn.HEAPU8,i,a);var s=jn._crn_get_dxt_format(i,a),u=Jn[s];if(!n.e(u))throw new y.t("Unsupported compressed format.");var A,E=jn._crn_get_levels(i,a),l=jn._crn_get_width(i,a),f=jn._crn_get_height(i,a),B=0;for(A=0;A<E;++A)B+=d.PixelFormat.compressedTextureSizeInBytes(u,l>>A,f>>A);if(Wn<B&&(n.e(Hn)&&jn._free(Hn),Hn=jn._malloc(B),kn=new Uint8Array(jn.HEAPU8.buffer,Hn,B),Wn=B),jn._crn_decompress(i,a,Hn,B,0,E),jn._free(i),n.u(t.bMipMap,!1)){var p=kn.slice(0,B);return e.push(p.buffer),new c.e(u,l,f,p)}var C=d.PixelFormat.compressedTextureSizeInBytes(u,l,f),m=kn.subarray(0,C),h=new Uint8Array(C);return h.set(m,0),e.push(h.buffer),new c.e(u,l,f,h)}var Zn,Qn=1,qn=0,$n=1,ta=2,ea=3,ra=0,na=1,aa=2;new E.e;var oa,ia=!1,sa=!1,ua=null,Aa=!1;if(n.e(g.unzip)){g.unzip.onRuntimeInitialized=function(){ia=!0};var Ea=g.unzip.cwrap("unzip","number",["number","number","number","number"]),la=g.unzip.cwrap("freePointer",null,["number"])}function ca(t,e,r,n,a,o){this.left=t,this.bottom=e,this.right=r,this.top=n,this.minHeight=a,this.maxHeight=o,this.width=r-t,this.length=n-e,this.height=o-a}function fa(t,e,r){var n=r,a=t.getUint32(n,!0),o=n+=Uint32Array.BYTES_PER_ELEMENT,i=new Uint8Array(e,n,a);return{dataViewByteOffset:o,byteOffset:n+=a*Uint8Array.BYTES_PER_ELEMENT,buffer:i}}function Ba(t,e,r,n){var a=t.getUint32(n+e,!0);n+=Uint32Array.BYTES_PER_ELEMENT;var o=r.subarray(n,n+a);return{string:B.a(o),bytesOffset:n+=a}}function da(t,e,r,n,a,o){var i=r,s=t.getUint16(r+n,!0);i+=Uint16Array.BYTES_PER_ELEMENT,o||(i+=Uint16Array.BYTES_PER_ELEMENT);for(var u=0;u<s;u++){var A=t.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;var E=t.getUint16(i+n,!0);if(i+=Uint16Array.BYTES_PER_ELEMENT,t.getUint16(i+n,!0),i+=Uint16Array.BYTES_PER_ELEMENT,20==E||35==E);else{var c=A*E*Float32Array.BYTES_PER_ELEMENT,f=e.subarray(i,i+c);i+=c;var B="aTexCoord"+u,d=a.vertexAttributes,y=a.attrLocation;y[B]=d.length,d.push({index:y[B],typedArray:f,componentsPerAttribute:E,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:E*Float32Array.BYTES_PER_ELEMENT,normalize:!1})}}return{bytesOffset:i}}function ya(t,e,r,n,a){var o=r,i=t.getUint16(o+n,!0);o+=Uint16Array.BYTES_PER_ELEMENT,o+=Uint16Array.BYTES_PER_ELEMENT;for(var s=a.vertexAttributes,u=a.attrLocation,A=0;A<i;A++){var E=t.getUint32(o+n,!0);o+=Uint32Array.BYTES_PER_ELEMENT;var c=t.getUint16(o+n,!0);if(o+=Uint16Array.BYTES_PER_ELEMENT,16===c){o-=Uint16Array.BYTES_PER_ELEMENT;var f=E*(c*Float32Array.BYTES_PER_ELEMENT+Uint16Array.BYTES_PER_ELEMENT),B=e.subarray(o,o+f);o+=f;var d=new Uint8Array(Float32Array.BYTES_PER_ELEMENT*c*E);a.instanceCount=E,a.instanceMode=c,a.instanceBuffer=d,a.instanceIndex=1;for(var y=Float32Array.BYTES_PER_ELEMENT*c+Uint16Array.BYTES_PER_ELEMENT,p=0;p<E;p++){var C=p*y+Uint16Array.BYTES_PER_ELEMENT,m=B.subarray(C,C+y);d.set(m,p*(y-Uint16Array.BYTES_PER_ELEMENT))}h=16*Float32Array.BYTES_PER_ELEMENT,u.uv2=s.length,s.push({index:u.uv2,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:h,instanceDivisor:1}),u.uv3=s.length,s.push({index:u.uv3,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:4*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv4=s.length,s.push({index:u.uv4,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:8*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.secondary_colour=s.length,s.push({index:u.secondary_colour,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:12*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1})}else{t.getUint16(o+n,!0),o+=Uint16Array.BYTES_PER_ELEMENT;f=E*c*Float32Array.BYTES_PER_ELEMENT;if(17===c||29===c){var h;d=e.subarray(o,o+f);a.instanceCount=E,a.instanceMode=c,a.instanceBuffer=d,a.instanceIndex=1,17===c?(h=17*Float32Array.BYTES_PER_ELEMENT,u.uv2=s.length,s.push({index:u.uv2,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:h,instanceDivisor:1}),u.uv3=s.length,s.push({index:u.uv3,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:4*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv4=s.length,s.push({index:u.uv4,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:8*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.secondary_colour=s.length,s.push({index:u.secondary_colour,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:12*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv6=s.length,s.push({index:u.uv6,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.UNSIGNED_BYTE,normalize:!0,offsetInBytes:16*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1})):29===c&&(h=29*Float32Array.BYTES_PER_ELEMENT,u.uv1=s.length,s.push({index:u.uv1,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:h,instanceDivisor:1,byteLength:f}),u.uv2=s.length,s.push({index:u.uv2,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:4*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv3=s.length,s.push({index:u.uv3,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:8*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv4=s.length,s.push({index:u.uv4,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:12*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv5=s.length,s.push({index:u.uv5,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:16*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv6=s.length,s.push({index:u.uv6,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:20*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv7=s.length,s.push({index:u.uv7,componentsPerAttribute:3,componentDatatype:l.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:24*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.secondary_colour=s.length,s.push({index:u.secondary_colour,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.UNSIGNED_BYTE,normalize:!0,offsetInBytes:27*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}),u.uv9=s.length,s.push({index:u.uv9,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.UNSIGNED_BYTE,normalize:!0,offsetInBytes:28*Float32Array.BYTES_PER_ELEMENT,strideInBytes:h,instanceDivisor:1}))}else{var v=E*c;a.instanceBounds=new Float32Array(v);for(var g=0;g<v;g++)a.instanceBounds[g]=t.getFloat32(o+n+g*Float32Array.BYTES_PER_ELEMENT,!0)}o+=f}}return{bytesOffset:o}}n.e(Et)&&(Et.onRuntimeInitialized=function(){Aa=!0});var pa=new s.o(40680631590769,40680631590769,40408299984661.445),Ca=new s.o,ma=new s.o;function ha(t,e,r,a){var o=Math.cos(e);Ca.x=o*Math.cos(t),Ca.y=o*Math.sin(t),Ca.z=Math.sin(e),Ca=s.o.normalize(Ca,Ca),s.o.multiplyComponents(pa,Ca,ma);var i=Math.sqrt(s.o.dot(Ca,ma));return ma=s.o.divideByScalar(ma,i,ma),Ca=s.o.multiplyByScalar(Ca,r,Ca),n.e(a)||(a=new s.o),s.o.add(ma,Ca,a)}var va=new s.o,ga=new A.a,Pa=new a.p,Ta=new a.p;function Da(t,e,r,o,E,c,f,B){var d=o,y=e.getUint32(d+r,!0);if(E.verticesCount=y,d+=Uint32Array.BYTES_PER_ELEMENT,y<=0)return{bytesOffset:d};var p=e.getUint16(d+r,!0);d+=Uint16Array.BYTES_PER_ELEMENT;var C=e.getUint16(d+r,!0);C=p*Float32Array.BYTES_PER_ELEMENT,d+=Uint16Array.BYTES_PER_ELEMENT;var m=y*p*Float32Array.BYTES_PER_ELEMENT,h=t.subarray(d,d+m);d+=m;var v=E.vertexAttributes,g=E.attrLocation,P=void 0,T=void 0;if(f){P=new A.a,T=new A.a;var D=new Float32Array(2*y),_=new Float64Array(2*y);if(n.e(B)){var F=new Float32Array(h.byteLength/4),L=new Float32Array(h.buffer,h.byteOffset,h.byteLength/4);J=3===p?s.o.unpackArray(L):u.e.unpackArray(L);var w=a.p.multiply(B.sphereMatrix,B.geoMatrix,Pa),b=a.p.multiply(B.ellipsoidMatrix,B.geoMatrix,Ta);a.p.inverse(b,b);for(var M=new i.t(6378137,6378137,6378137),I=0,S=0,O=J.length;S<O;S++){var N=J[S];a.p.multiplyByPoint(w,N,va);var R=ha((j=M.cartesianToCartographic(va,ga)).longitude,j.latitude,j.height,va);a.p.multiplyByPoint(b,R,N),3===p?(s.o.pack(N,F,I),I+=3):(u.e.pack(N,F,I),I+=4),_[2*S]=j.longitude,_[2*S+1]=j.latitude,0===S?(P.longitude=j.longitude,P.latitude=j.latitude,T.longitude=j.longitude,T.latitude=j.latitude):(P.longitude=Math.max(j.longitude,P.longitude),P.latitude=Math.max(j.latitude,P.latitude),T.longitude=Math.min(j.longitude,T.longitude),T.latitude=Math.min(j.latitude,T.latitude))}h=F}else{var x=new s.o,U=new s.o,G=new Float32Array(h.buffer,h.byteOffset,h.byteLength/4),K=new A.a;M=Oa?new i.t(6378137,6378137,6356752.314245179):new i.t(6378137,6378137,6378137);for(var H=0;H<y;H++)a.p.multiplyByPoint(c,s.o.fromElements(G[3*H],G[3*H+1],G[3*H+2],x),U),K=M.cartesianToCartographic(U,ga),_[2*H]=K.longitude,_[2*H+1]=K.latitude,0===H?(P.longitude=K.longitude,P.latitude=K.latitude,T.longitude=K.longitude,T.latitude=K.latitude):(P.longitude=Math.max(K.longitude,P.longitude),P.latitude=Math.max(K.latitude,P.latitude),T.longitude=Math.min(K.longitude,T.longitude),T.latitude=Math.min(K.latitude,T.latitude))}for(H=0;H<y;H++)D[2*H]=_[2*H]-T.longitude,D[2*H+1]=_[2*H+1]-T.latitude;g.aPosition=v.length,v.push({index:g.aPosition,typedArray:h,componentsPerAttribute:p,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:C,normalize:!1}),g.img=v.length,v.push({index:g.img,typedArray:D,componentsPerAttribute:2,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:2*Float32Array.BYTES_PER_ELEMENT,normalize:!1})}else{if(3===p&&n.e(c)){U=new s.o,G=new Float32Array(h.buffer,h.byteOffset,h.byteLength/4);for(var k=new Float32Array(h.byteLength/4+y),V=G.length,Y=(H=0,0);H<V;H+=3,Y+=4)k[Y]=G[H],k[Y+1]=G[H+1],k[Y+2]=G[H+2],a.p.multiplyByPoint(c,s.o.fromElements(k[Y],k[Y+1],k[Y+2],x),U),k[Y+3]=A.a.fromCartesian(U).height;h=k,C=(p=4)*Float32Array.BYTES_PER_ELEMENT}if(n.e(B)){var J;F=new Float32Array(h.byteLength/4),L=new Float32Array(h.buffer,h.byteOffset,h.byteLength/4);J=3===p?s.o.unpackArray(L):u.e.unpackArray(L);w=a.p.multiply(B.sphereMatrix,B.geoMatrix,Pa),b=a.p.multiply(B.ellipsoidMatrix,B.geoMatrix,Ta);a.p.inverse(b,b);for(M=new i.t(6378137,6378137,6378137),I=0,S=0,O=J.length;S<O;S++){N=J[S];a.p.multiplyByPoint(w,N,va);var j;R=ha((j=M.cartesianToCartographic(va,ga)).longitude,j.latitude,j.height,va);a.p.multiplyByPoint(b,R,N),3===p?(s.o.pack(N,F,I),I+=3):(u.e.pack(N,F,I),I+=4)}h=F}g.aPosition=v.length,v.push({index:g.aPosition,typedArray:h,componentsPerAttribute:p,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:C,normalize:!1})}return{bytesOffset:d,cartographicBounds:{max:P,min:T}}}function _a(t,e,r,n,a){var o=n,i=e.getUint32(o+r,!0);if(o+=Uint32Array.BYTES_PER_ELEMENT,i<=0)return{bytesOffset:o};var s=e.getUint16(o+r,!0);o+=Uint16Array.BYTES_PER_ELEMENT;var u=e.getUint16(o+r,!0);o+=Uint16Array.BYTES_PER_ELEMENT;var A=i*s*Float32Array.BYTES_PER_ELEMENT,E=t.subarray(o,o+A);if(o+=A,!a.ignoreNormal){var c=a.vertexAttributes,f=a.attrLocation;f.aNormal=c.length,c.push({index:f.aNormal,typedArray:E,componentsPerAttribute:s,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:u,normalize:!1})}return{bytesOffset:o}}var Fa={0:Uint32Array.BYTES_PER_ELEMENT,1:Float32Array.BYTES_PER_ELEMENT,2:Float64Array.BYTES_PER_ELEMENT};function La(t,e,r,n,a){var o,i=n,s=e.getUint32(i+r,!0);if(i+=Uint32Array.BYTES_PER_ELEMENT,a.verticesCount,s>0){e.getUint16(i+r,!0),i+=Uint16Array.BYTES_PER_ELEMENT,i+=2*Uint8Array.BYTES_PER_ELEMENT;var u=s*Uint8Array.BYTES_PER_ELEMENT*4;o=t.subarray(i,i+u),i+=u;var A=a.vertexAttributes,E=a.attrLocation;E.aColor=A.length,A.push({index:E.aColor,typedArray:o,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.UNSIGNED_BYTE,offsetInBytes:0,strideInBytes:4,normalize:!0})}return{bytesOffset:i}}function wa(t,e,r,n,a){var o=n,i=e.getUint32(o+r,!0);return o+=Uint32Array.BYTES_PER_ELEMENT,i<=0?{bytesOffset:o}:(e.getUint16(o+r,!0),o+=Uint16Array.BYTES_PER_ELEMENT,o+=2*Uint8Array.BYTES_PER_ELEMENT,{bytesOffset:o+=i*Uint8Array.BYTES_PER_ELEMENT*4})}function ba(t,e,r,n,a){var o=a,i=[],s=r.getUint32(o+n,!0);o+=Uint32Array.BYTES_PER_ELEMENT;for(var u=0;u<s;u++){var A={};3===t&&(r.getUint32(o+n,!0),o+=Uint32Array.BYTES_PER_ELEMENT);var E=r.getUint32(o+n,!0);o+=Uint32Array.BYTES_PER_ELEMENT;var l=r.getUint8(o+n,!0);o+=Uint8Array.BYTES_PER_ELEMENT,r.getUint8(o+n,!0),o+=Uint8Array.BYTES_PER_ELEMENT;var c=r.getUint8(o+n,!0);if(o+=Uint8Array.BYTES_PER_ELEMENT,o+=Uint8Array.BYTES_PER_ELEMENT,E>0){var f=0,B=null;1===l||3===l?(f=E*Uint32Array.BYTES_PER_ELEMENT,B=e.subarray(o,o+f)):(f=E*Uint16Array.BYTES_PER_ELEMENT,B=e.subarray(o,o+f),E%2!=0&&(f+=2)),A.indicesTypedArray=B,o+=f}A.indicesCount=E,A.indexType=l,A.primitiveType=c;var d=[],y=r.getUint32(o+n,!0);o+=Uint32Array.BYTES_PER_ELEMENT;for(var p=0;p<y;p++){var C=Ba(r,n,e,o),m=C.string;o=C.bytesOffset,d.push(m),A.materialCode=m}if(0===y&&(A.materialCode="OSGBEmpty"),i.push(A),0!==o%4)o+=4-o%4}return{bytesOffset:o,arrIndexPackage:i}}function Ma(t,e,r,o,A,E,c,B,d){var y,p,C=o,m=e.getUint32(C+r,!0);return A.nCompressOptions=m,C+=Uint32Array.BYTES_PER_ELEMENT,(m&f.VertexCompressOption.SVC_Vertex)==f.VertexCompressOption.SVC_Vertex?(y=function(t,e,r,o,A,E){var c=o,f=e.getUint32(c+r,!0);if(A.verticesCount=f,c+=Uint32Array.BYTES_PER_ELEMENT,f<=0)return{bytesOffset:c};var B=e.getUint16(c+r,!0);c+=Uint16Array.BYTES_PER_ELEMENT;var d=e.getUint16(c+r,!0);d=B*Int16Array.BYTES_PER_ELEMENT,c+=Uint16Array.BYTES_PER_ELEMENT;var y=e.getFloat32(c+r,!0);c+=Float32Array.BYTES_PER_ELEMENT;var p=new u.e;p.x=e.getFloat32(c+r,!0),c+=Float32Array.BYTES_PER_ELEMENT,p.y=e.getFloat32(c+r,!0),c+=Float32Array.BYTES_PER_ELEMENT,p.z=e.getFloat32(c+r,!0),c+=Float32Array.BYTES_PER_ELEMENT,p.w=e.getFloat32(c+r,!0),c+=Float32Array.BYTES_PER_ELEMENT,A.vertCompressConstant=y,A.minVerticesValue=p;var C=f*B*Int16Array.BYTES_PER_ELEMENT,m=t.subarray(c,c+C);if(c+=C,n.e(E)){var h=new Uint16Array(m.byteLength/2),v=new Uint16Array(m.buffer,m.byteOffset,m.byteLength/2),g=u.e.unpackArray(v);for(let t=0,e=g.length;t<e;t++){let e=g[t];s.o.multiplyByScalar(e,y,e),s.o.add(e,p,e)}var P=a.p.multiply(E.sphereMatrix,E.geoMatrix,Pa),T=a.p.multiply(E.ellipsoidMatrix,E.geoMatrix,Ta);a.p.inverse(T,T);var D=new i.t(6378137,6378137,6378137),_=0;for(let t=0,e=g.length;t<e;t++){let e=g[t];a.p.multiplyByPoint(P,e,va);let r=D.cartesianToCartographic(va,ga),n=ha(r.longitude,r.latitude,r.height,va);a.p.multiplyByPoint(T,n,e),s.o.subtract(e,p,e),s.o.divideByScalar(e,y,e),u.e.pack(e,h,_),_+=4}m=h}var F=A.vertexAttributes,L=A.attrLocation;return L.aPosition=F.length,F.push({index:L.aPosition,typedArray:m,componentsPerAttribute:B,componentDatatype:l.ComponentDatatype.SHORT,offsetInBytes:0,strideInBytes:d,normalize:!1}),{bytesOffset:c}}(t,e,r,C,A,d),C=y.bytesOffset):(C=(y=Da(t,e,r,C,A,c,B,d)).bytesOffset,p=y.cartographicBounds),(m&f.VertexCompressOption.SVC_Normal)==f.VertexCompressOption.SVC_Normal?(y=function(t,e,r,n,a){var o=n,i=e.getUint32(o+r,!0);if(o+=Uint32Array.BYTES_PER_ELEMENT,i<=0)return{bytesOffset:o};e.getUint16(o+r,!0),o+=Uint16Array.BYTES_PER_ELEMENT;var s=e.getUint16(o+r,!0);o+=Uint16Array.BYTES_PER_ELEMENT;var u=2*i*Int16Array.BYTES_PER_ELEMENT,A=t.subarray(o,o+u);if(o+=u,!a.ignoreNormal){var E=a.vertexAttributes,c=a.attrLocation;c.aNormal=E.length,E.push({index:c.aNormal,typedArray:A,componentsPerAttribute:2,componentDatatype:l.ComponentDatatype.SHORT,offsetInBytes:0,strideInBytes:s,normalize:!1})}return{bytesOffset:o}}(t,e,r,C,A),C=y.bytesOffset):C=(y=_a(t,e,r,C,A)).bytesOffset,C=(y=wa(0,e,r,C=(y=La(t,e,r,C,A)).bytesOffset)).bytesOffset,(m&f.VertexCompressOption.SVC_TexutreCoord)==f.VertexCompressOption.SVC_TexutreCoord?(y=function(t,e,r,n,a){a.texCoordCompressConstant=[],a.minTexCoordValue=[];var o=r,i=t.getUint16(r+n,!0);o+=Uint16Array.BYTES_PER_ELEMENT,o+=Uint16Array.BYTES_PER_ELEMENT;for(var s=0,A=0;A<i;A++){var E=t.getUint8(o+n,!0);o+=Uint8Array.BYTES_PER_ELEMENT,o+=3*Uint8Array.BYTES_PER_ELEMENT;var c=t.getUint32(o+n,!0);o+=Uint32Array.BYTES_PER_ELEMENT;var f=t.getUint16(o+n,!0);o+=Uint16Array.BYTES_PER_ELEMENT,t.getUint16(o+n,!0),o+=Uint16Array.BYTES_PER_ELEMENT;var B=t.getFloat32(o+n,!0);o+=Float32Array.BYTES_PER_ELEMENT,a.texCoordCompressConstant.push(B);var d=new u.e;d.x=t.getFloat32(o+n,!0),o+=Float32Array.BYTES_PER_ELEMENT,d.y=t.getFloat32(o+n,!0),o+=Float32Array.BYTES_PER_ELEMENT,d.z=t.getFloat32(o+n,!0),o+=Float32Array.BYTES_PER_ELEMENT,d.w=t.getFloat32(o+n,!0),o+=Float32Array.BYTES_PER_ELEMENT,a.minTexCoordValue.push(d);var y=c*f*Int16Array.BYTES_PER_ELEMENT,p=e.subarray(o,o+y),C=(o+=y)%4;0!==C&&(o+=4-C);var m="aTexCoord"+s,h=a.vertexAttributes,v=a.attrLocation;if(v[m]=h.length,h.push({index:v[m],typedArray:p,componentsPerAttribute:f,componentDatatype:l.ComponentDatatype.SHORT,offsetInBytes:0,strideInBytes:f*Int16Array.BYTES_PER_ELEMENT,normalize:!1}),E){y=c*Float32Array.BYTES_PER_ELEMENT;var g=e.subarray(o,o+y);o+=y,a.texCoordZMatrix=!0,v[m="aTexCoordZ"+s]=h.length,h.push({index:v[m],typedArray:g,componentsPerAttribute:1,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:Float32Array.BYTES_PER_ELEMENT,normalize:!1})}s++}return{bytesOffset:o}}(e,t,C,r,A),C=y.bytesOffset):C=(y=da(e,t,C,r,A,E)).bytesOffset,(m&f.VertexCompressOption.SVC_TexutreCoordIsW)==f.VertexCompressOption.SVC_TexutreCoordIsW&&(A.textureCoordIsW=!0),{bytesOffset:C=(y=ya(e,t,C,r,A)).bytesOffset,cartographicBounds:p}}function Ia(t,e,r,a,o,i,s,u,A,E){3===t&&(r.getUint32(o,!0),o+=Uint32Array.BYTES_PER_ELEMENT);var c,f=o;f=(c=Da(e,r,a,f,i,u,A,E)).bytesOffset;var B=c.cartographicBounds;if(f=(c=La(e,r,a,f=(c=_a(e,r,a,f,i)).bytesOffset,i)).bytesOffset,3!==t&&(f=(c=wa(0,r,a,f)).bytesOffset),f=(c=ya(r,e,f=(c=da(r,e,f,a,i,s)).bytesOffset,a,i)).bytesOffset,3===t&&(c=function(t,e,r,n,a){var o=n,i=e.getUint32(o+r,!0);o+=Uint32Array.BYTES_PER_ELEMENT;for(var s=0;s<i;s++){var u=e.getUint32(o+r,!0);o+=Uint32Array.BYTES_PER_ELEMENT;var A=e.getUint16(o+r,!0);o+=Uint16Array.BYTES_PER_ELEMENT;var E=e.getUint16(o+r,!0);o+=Uint16Array.BYTES_PER_ELEMENT;var c=u*A*Fa[E],f=t.subarray(o,o+c);o+=c;var B=a.vertexAttributes,d=a.attrLocation,y="aCustom"+s;d[y]=B.length,B.push({index:d[y],typedArray:f,componentsPerAttribute:A,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:0,normalize:!1})}return{bytesOffset:o}}(e,r,a,f,i),f=c.bytesOffset),3==t){var d=Ba(r,a,e,f);f=d.bytesOffset,i.customVertexAttribute=JSON.parse(d.string);var y="aCustom"+i.customVertexAttribute.TextureCoordMatrix,p="aCustom"+i.customVertexAttribute.VertexWeight,C="aCustom"+i.customVertexAttribute.VertexWeight_1;n.e(i.attrLocation[y])&&(i.attrLocation.aTextureCoordMatrix=i.attrLocation[y],delete i.attrLocation[y]),n.e(i.attrLocation[p])&&(i.attrLocation.aVertexWeight=i.attrLocation[p],delete i.attrLocation[p]),n.e(i.attrLocation[C])&&(i.attrLocation.aVertexWeight_1=i.attrLocation[C],delete i.attrLocation[C]);for(var m=Object.keys(i.attrLocation),h=m.length,v=0;v<h;++v){var g=m[v];-1!==g.indexOf("aCustom")&&delete i.attrLocation[g]}var P=(f+a)%4;P&&(P=4-P),f+=P}return 3===t&&(c=function(t,e,r,n,a){var o=n,i=e.getUint32(o+r,!0);if(o+=Uint32Array.BYTES_PER_ELEMENT,i<=0)return{bytesOffset:o};var s=e.getUint16(o+r,!0);return o+=Uint16Array.BYTES_PER_ELEMENT,e.getUint16(o+r,!0),o+=Uint16Array.BYTES_PER_ELEMENT,{bytesOffset:o+=i*s*Float32Array.BYTES_PER_ELEMENT}}(0,r,a,f),f=c.bytesOffset),{bytesOffset:f,cartographicBounds:B}}function Sa(t){return 0!==t.length&&"ClampGroundAndObjectLinePass"===t[0].materialCode}var Oa,Na=1,Ra=4,xa=8,Ua=16,Ga=32,Ka=64,Ha=128,ka=512,Va=1024;function Ya(t,e,r,o,A,E,c,B,d,y,p,C,m){var h=t,v=0,g=e.getUint32(v+r,!0);v+=Uint32Array.BYTES_PER_ELEMENT,y=n.u(y,n.u.EMPTY_OBJECT);for(var P=void 0,T=0;T<g;T++){3===B&&(e.getUint32(v+r,!0),v+=Uint32Array.BYTES_PER_ELEMENT);var D=(Dt=Ba(e,r,h,v)).string;if(n.e(d)){var F=n.u(y[D],a.p.IDENTITY);P=new a.p,a.p.multiply(d,F,P)}n.e(m)&&(m.geoMatrix=n.u(y[D],a.p.IDENTITY));var L=(v=Dt.bytesOffset)%4;0!==L&&(v+=4-L);var w=qn;if(w=e.getUint32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT,($t={vertexAttributes:[],attrLocation:{},instanceCount:0,instanceMode:0,instanceIndex:-1}).ignoreNormal=o.ignoreNormal,3===B)switch(w){case ra:w=$n;break;case na:w=ea;break;case aa:w=ta}if(w===ea){3===B&&(e.getInt32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT),B>=2&&(e.getInt32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT);var b,M={};M.posUniqueID=e.getInt32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT,M.normalUniqueID=e.getInt32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT,M.colorUniqueID=e.getInt32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT,M.secondColorUniqueID=e.getInt32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT,3===B?(b=e.getUint32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT):(b=e.getUint16(v+r,!0),v+=Int16Array.BYTES_PER_ELEMENT);for(var I=[],S=0;S<b;S++){var O=e.getInt32(v+r,!0);I.push(O),v+=Int32Array.BYTES_PER_ELEMENT}M.texCoordUniqueIDs=I;var R=[];if(3===B){var x=e.getUint32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT;for(var U=0;U<x;U++){var G=e.getInt32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT,R.push(G)}}M.vertexAttrUniqueIDs=R;var K=e.getInt32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT;var H=[],k={};if(K>0){var V=(Y=Ba(e,r,h,v)).string;v=Y.bytesOffset,k.materialCode=V,H.push(k)}3===B&&((wt=(v+r)%4)&&(wt=4-wt),v+=wt);var Y,J=new Object,j=e.getUint32(v+r,!0),W=_(h,v+=Int32Array.BYTES_PER_ELEMENT,v+j);if(K>0?N.dracoDecodeMesh(Zn,W,j,$t,k,M,P,p,J,m):N.dracoDecodePointCloud(Zn,W,j,$t,M),n.e(J.min)&&n.e(J.max)||(J=void 0),v+=j,3===B)(wt=(v+r)%4)&&(wt=4-wt),(wt=((v=(Y=Ba(e,r,h,v+=wt)).bytesOffset)+r)%4)&&(wt=4-wt),v+=wt;o[D]={vertexPackage:$t,arrIndexPackage:H,cartographicBounds:J}}else if(w==ta&&3==B){var z=e.getUint32(v+r,!0);v+=Uint32Array.BYTES_PER_ELEMENT;var X=e.getUint32(v+r,!0);v+=Uint32Array.BYTES_PER_ELEMENT,$t.minVerticesValue=new u.e,$t.minTexCoordValue=[new i.o,new i.o],$t.texCoordCompressConstant=[new s.o,new s.o];H=[];for(var Z=0;Z<X;Z++){var Q=e.getUint32(v+r,!0);v+=Uint32Array.BYTES_PER_ELEMENT,$t.vertCompressConstant=e.getFloat32(v+r,!0),v+=Float32Array.BYTES_PER_ELEMENT,$t.minVerticesValue.x=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,$t.minVerticesValue.y=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,$t.minVerticesValue.z=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT;var q=e.getFloat64(v+r,!0);v+=Float64Array.BYTES_PER_ELEMENT;var $=e.getFloat64(v+r,!0);v+=Float64Array.BYTES_PER_ELEMENT;var tt=e.getFloat64(v+r,!0);v+=Float64Array.BYTES_PER_ELEMENT;var et=e.getFloat64(v+r,!0);v+=Float64Array.BYTES_PER_ELEMENT;var rt=e.getFloat64(v+r,!0);v+=Float64Array.BYTES_PER_ELEMENT;var nt=e.getFloat64(v+r,!0);v+=Float64Array.BYTES_PER_ELEMENT;var at=e.getFloat64(v+r,!0);v+=Float64Array.BYTES_PER_ELEMENT;var ot=e.getFloat64(v+r,!0);v+=Float64Array.BYTES_PER_ELEMENT,$t.minTexCoordValue[0].x=tt,$t.minTexCoordValue[0].y=et,$t.minTexCoordValue[1].x=at,$t.minTexCoordValue[1].y=ot,$t.texCoordCompressConstant[0].x=q,$t.texCoordCompressConstant[0].y=$,$t.texCoordCompressConstant[1].x=rt,$t.texCoordCompressConstant[1].y=nt;var st=e.getInt32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT;J=new Object;for(var ut=0;ut<st;ut++){var At=e.getInt32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT;var Et=At,lt=0;Et!=ka&&Et!=Va||(lt=e.getInt32(v+r,!0),v+=Int32Array.BYTES_PER_ELEMENT);var ct=e.getInt32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT;var ft=new Uint8Array(e.buffer,v+r,ct);(wt=((v+=Uint8Array.BYTES_PER_ELEMENT*ct)+r)%4)&&(wt=4-wt),v+=wt,ja(Q,Et,lt,ft,$t,z,m,p,J,P,E)}v=(Lt=Ba(e,r,h,v)).bytesOffset,$t.customVertexAttribute=JSON.parse(Lt.string),(wt=(v+r)%4)&&(wt=4-wt),v+=wt;var Bt=e.getInt32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT;for(var dt=0;dt<Bt;dt++){k={};var yt=e.getInt32(v+r,!0);if(v+=Int32Array.BYTES_PER_ELEMENT,yt>0){var pt=e.getInt8(v+r,!0);v+=Int8Array.BYTES_PER_ELEMENT,e.getInt8(v+r,!0),v+=Int8Array.BYTES_PER_ELEMENT;var Ct=e.getInt8(v+r,!0);v+=Int8Array.BYTES_PER_ELEMENT,e.getInt8(v+r,!0),v+=Int8Array.BYTES_PER_ELEMENT;var mt,ht,vt=e.getInt32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT,13!==Ct?(mt=new Uint8Array(e.buffer,v+r,vt),v+=Uint8Array.BYTES_PER_ELEMENT*vt):(mt=new Uint32Array(e.buffer,v+r,vt),v+=Uint32Array.BYTES_PER_ELEMENT*vt),(wt=(v+r)%4)&&(wt=4-wt),v+=wt,13!==Ct?(ht=l.ComponentDatatype.createTypedArray(l.ComponentDatatype.UNSIGNED_BYTE,yt*Uint32Array.BYTES_PER_ELEMENT),it.decodeIndexBuffer(ht,yt,Uint32Array.BYTES_PER_ELEMENT,mt)):ht=mt;var gt,Pt=e.getInt32(v+r,!0);v+=Int32Array.BYTES_PER_ELEMENT,k.indexType=pt,0===pt?gt=new Uint16Array(yt):1===pt&&(gt=new Uint32Array(yt)),k.indicesCount=yt;var Tt=new Uint32Array(ht.buffer,ht.byteOffset,ht.byteLength/4);gt.set(Tt,0),k.indicesTypedArray=gt,E.push(gt.buffer),k.primitiveType=Ct;for(ut=0;ut<Pt;ut++){var Dt;V=(Dt=Ba(e,r,h,v)).string;v=Dt.bytesOffset,k.materialCode=V}if(H.length>0&&13!==Ct){var _t=$t.preVertexCount;k.indicesTypedArray=Tt.map((function(t){return t+_t})),k.indexType=1}H.push(k),(wt=(v+r)%4)&&(wt=4-wt),v+=wt}}}$t.nCompressOptions=z,2===H.length&&13===H[1].primitiveType&&H[1].indicesCount>=3&&(Ft=f._0x28a85f.createEdgeDataByIndices($t,H[1],E)),n.e(J.min)&&n.e(J.max)||(J=void 0),o[D]={vertexPackage:$t,arrIndexPackage:H,edgeGeometry:Ft,cartographicBounds:J}}else{var Ft;if(w===$n||w===qn)v=(Dt=Ia(B,h,e,r,v,$t,A,P,p,m)).bytesOffset,J=Dt.cartographicBounds;else if(w===ta&&(v=(Dt=Ma(h,e,r,v,$t,A,P,p,m)).bytesOffset,J=Dt.cartographicBounds,3==B)){var Lt;v=(Lt=Ba(e,r,h,v)).bytesOffset,$t.customVertexAttribute=JSON.parse(Lt.string);var wt,bt="aCustom"+$t.customVertexAttribute.TextureCoordMatrix,Mt="aCustom"+$t.customVertexAttribute.VertexWeight,It="aCustom"+$t.customVertexAttribute.VertexWeight_1;n.e($t.attrLocation[bt])&&($t.attrLocation.aTextureCoordMatrix=$t.attrLocation[bt],delete $t.attrLocation[bt]),n.e($t.attrLocation[Mt])&&($t.attrLocation.aVertexWeight=$t.attrLocation[Mt],delete $t.attrLocation[Mt]),n.e($t.attrLocation[It])&&($t.attrLocation.aVertexWeight_1=$t.attrLocation[It],delete $t.attrLocation[It]);for(var St=Object.keys($t.attrLocation),Ot=St.length,Nt=0;Nt<Ot;++Nt){var Rt=St[Nt];-1!==Rt.indexOf("aCustom")&&delete $t.attrLocation[Rt]}(wt=(v+r)%4)&&(wt=4-wt),v+=wt}Sa(H=(Dt=ba(B,h,e,r,v)).arrIndexPackage)&&($t.clampRegionEdge=!0),2===H.length&&13===H[1].primitiveType&&H[1].indicesCount>=3&&(Ft=f._0x28a85f.createEdgeDataByIndices($t,H[1],E)),v=Dt.bytesOffset,n.e(J)&&n.e(J.min)&&n.e(J.max)||(J=void 0),o[D]={vertexPackage:$t,arrIndexPackage:H,edgeGeometry:Ft,cartographicBounds:J}}if(3!==B&&n.e(c)&&c){var xt=e.getUint16(v+r,!0);if(v+=Uint16Array.BYTES_PER_ELEMENT,1===xt){var Ut=e.getUint32(v+r,!0);v+=Uint32Array.BYTES_PER_ELEMENT;var Gt,Kt=e.getUint32(v+r,!0);v+=Uint32Array.BYTES_PER_ELEMENT,e.getFloat32(v+r,!0),v+=Float32Array.BYTES_PER_ELEMENT;var Ht=new Array(Ut),kt=new Array(Ut),Vt=new Array(Ut),Yt=new Array(Ut);for(Gt=0;Gt<Ut;Gt++){var Jt=e.getFloat32(v+r,!0);v+=Float32Array.BYTES_PER_ELEMENT,Ht[Gt]=Jt;var jt=e.getUint16(v+r,!0);v+=Uint16Array.BYTES_PER_ELEMENT,kt[Gt]=jt;var Wt=e.getUint16(v+r,!0);v+=Uint16Array.BYTES_PER_ELEMENT,Vt[Gt]=Wt;for(var zt=Wt*Kt,Xt=new Array(zt),Zt=0;Zt<zt;Zt++){bt=e.getFloat32(v+r,!0);v+=Float32Array.BYTES_PER_ELEMENT,Xt[Zt]=bt}Yt[Gt]=Xt}}var Qt=new s.o,qt=new s.o;Qt.x=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,Qt.y=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,Qt.z=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,qt.x=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,qt.y=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,qt.z=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,o[D].min=Qt,o[D].max=qt;var $t=o[D].vertexPackage;n.e($t.instanceBuffer)&&2===B&&($t.instanceBounds=new Float32Array(6),s.o.pack(Qt,$t.instanceBounds,0),s.o.pack(qt,$t.instanceBounds,3))}if(3===B){var te=new s.o;te.x=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,te.y=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,te.z=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT;var ee=new s.o;ee.x=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,ee.y=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,ee.z=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT;var re=new s.o;re.x=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,re.y=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,re.z=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT;var ne=new s.o;ne.x=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,ne.y=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT,ne.z=e.getFloat64(v+r,!0),v+=Float64Array.BYTES_PER_ELEMENT}}}function Ja(t,e,r){var n=t.typedArray,a=new r(n.length+e.length);a.set(n,0),a.set(e,n.length),t.typedArray=a}function ja(t,e,r,o,u,E,c,f,B,d,y){var p,C=0,m=u.vertexAttributes,h=u.attrLocation;switch(e){case Ra:case xa:case Ua:case Ga:C=2*Uint16Array.BYTES_PER_ELEMENT,0!=(16&E)||e!==Ua&&e!==Ga||(C=2*Float32Array.BYTES_PER_ELEMENT),p=l.ComponentDatatype.createTypedArray(l.ComponentDatatype.UNSIGNED_BYTE,t*C);break;case Ka:case Ha:C=4*Uint8Array.BYTES_PER_ELEMENT,p=l.ComponentDatatype.createTypedArray(l.ComponentDatatype.UNSIGNED_BYTE,4*t);break;case ka:case Va:C=Float32Array.BYTES_PER_ELEMENT*r,p=l.ComponentDatatype.createTypedArray(l.ComponentDatatype.UNSIGNED_BYTE,t*r*4);break;default:C=4*Uint16Array.BYTES_PER_ELEMENT,p=l.ComponentDatatype.createTypedArray(l.ComponentDatatype.UNSIGNED_BYTE,t*C)}switch(it.decodeVertexBuffer(p,t,C,o,o.length),y.push(p.buffer),e){case Na:var v=new Uint16Array(p.buffer,0,p.length/2),g=l.ComponentDatatype.SHORT;if(void 0!==(I=h.aPosition)?(Ja(m[I],v,Uint16Array),u.preVertexCount=u.verticesCount,u.verticesCount+=t):(h.aPosition=m.length,m.push({index:h.aPosition,typedArray:v,componentsPerAttribute:4,componentDatatype:g,offsetInBytes:0,strideInBytes:0,normalize:!1}),u.verticesCount=t),!n.e(c)&&f){var P,T=new A.a,D=new A.a,_=new Float32Array(2*t),F=new Float64Array(2*t),L=new s.o,w=new s.o,b=new A.a;P=Oa?new i.t(6378137,6378137,6356752.314245179):new i.t(6378137,6378137,6378137);for(var M=0;M<t;M++)a.p.multiplyByPoint(d,s.o.fromElements(v[4*M]*u.vertCompressConstant+u.minVerticesValue.x,v[4*M+1]*u.vertCompressConstant+u.minVerticesValue.y,v[4*M+2]*u.vertCompressConstant+u.minVerticesValue.z,L),w),b=P.cartesianToCartographic(w,ga),F[2*M]=b.longitude,F[2*M+1]=b.latitude,0===M?(T.longitude=b.longitude,T.latitude=b.latitude,D.longitude=b.longitude,D.latitude=b.latitude):(T.longitude=Math.max(b.longitude,T.longitude),T.latitude=Math.max(b.latitude,T.latitude),D.longitude=Math.min(b.longitude,D.longitude),D.latitude=Math.min(b.latitude,D.latitude));for(M=0;M<t;M++)_[2*M]=F[2*M]-D.longitude,_[2*M+1]=F[2*M+1]-D.latitude;h.img=m.length,m.push({index:h.img,typedArray:_,componentsPerAttribute:2,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:2*Float32Array.BYTES_PER_ELEMENT,normalize:!1}),B.max=T,B.min=D}break;case Ra:var I=h.aNormal,S=new Int16Array(p.buffer,0,p.length/2);void 0!==I?Ja(m[I],S,Uint16Array):(h.aNormal=m.length,m.push({index:h.aNormal,typedArray:S,componentsPerAttribute:2,componentDatatype:l.ComponentDatatype.SHORT,offsetInBytes:0,strideInBytes:0,normalize:!1}));break;case Ua:var O=new Uint16Array(p.buffer,0,p.length/2),N=(I=h.aTexCoord0,g=l.ComponentDatatype.SHORT,Uint16Array);0==(16&E)&&(g=l.ComponentDatatype.FLOAT,N=Float32Array,O=new Float32Array(p.buffer,0,p.length/4)),void 0!==I?Ja(m[I],O,N):(h.aTexCoord0=m.length,m.push({index:h.aTexCoord0,typedArray:O,componentsPerAttribute:2,componentDatatype:g,offsetInBytes:0,strideInBytes:0,normalize:!1}));break;case Ga:O=new Uint16Array(p.buffer,0,p.length/2),I=h.aTexCoord1,g=l.ComponentDatatype.SHORT,N=Uint16Array;0==(16&E)&&(g=l.ComponentDatatype.FLOAT,N=Float32Array,O=new Float32Array(p.buffer,0,p.length/4)),void 0!==I?Ja(m[I],O,N):(h.aTexCoord1=m.length,m.push({index:h.aTexCoord1,typedArray:O,componentsPerAttribute:2,componentDatatype:g,offsetInBytes:0,strideInBytes:0,normalize:!1}));break;case Ka:void 0!==(I=h.aColor)?Ja(m[I],p,Uint8Array):(h.aColor=m.length,m.push({index:h.aColor,typedArray:p,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.UNSIGNED_BYTE,offsetInBytes:0,strideInBytes:0,normalize:!0}));break;case Ha:void 0!==(I=h.aSecondColor)?Ja(m[I],p,Uint8Array):(h.aSecondColor=m.length,m.push({index:h.aSecondColor,typedArray:p,componentsPerAttribute:4,componentDatatype:l.ComponentDatatype.BYTE,offsetInBytes:0,strideInBytes:0,normalize:!1}));break;case ka:O=new Float32Array(p.buffer,0,p.length/4);void 0!==(I=h.aVertexWeight)?Ja(m[I],O,Float32Array):(h.aVertexWeight=m.length,m.push({index:h.aVertexWeight,typedArray:O,componentsPerAttribute:r,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:0,normalize:!1}));break;case Va:var R=new Float32Array(p.buffer,0,p.length/4);void 0!==(I=h.aTextureCoordMatrix)?Ja(m[I],R,Float32Array):(h.aTextureCoordMatrix=m.length,m.push({index:h.aTextureCoordMatrix,typedArray:R,componentsPerAttribute:r,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:0,normalize:!1}))}}function Wa(t,e,r,o,i){var s={},u=[],A=new a.p,E=t;i=n.u(i,{});for(var l=0;l<16;l++)A[l]=e.getFloat64(r+o,!0),r+=Float64Array.BYTES_PER_ELEMENT;s.matrix=A,s.skeletonNames=u;var c=e.getUint32(r+o,!0);r+=Uint32Array.BYTES_PER_ELEMENT;for(var f=0;f<c;f++){var B=Ba(e,o,E,r),d=B.string;r=B.bytesOffset,u.push(d),i[d]=A}return{byteOffset:r,geode:s}}function za(t){var e=t.indexOf("Geometry");if(-1===e)return t;var r=t.substring(e,t.length);return t.replace(r,"")}function Xa(t,e,r,u,A,E,l){var c={},f=r.getFloat32(u+A,!0);u+=Float32Array.BYTES_PER_ELEMENT;var B=r.getUint16(u+A,!0);u+=Uint16Array.BYTES_PER_ELEMENT,c.rangeMode=B,c.rangeList=f;var d=new s.o;d.x=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,d.y=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,d.z=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT;var y=r.getFloat64(u+A,!0);if(u+=Float64Array.BYTES_PER_ELEMENT,n.e(l)){var p=a.p.clone(l.sphereMatrix,Pa),C=a.p.clone(l.ellipsoidMatrix,Ta);a.p.inverse(C,C);var m=new i.t(6378137,6378137,6378137);a.p.multiplyByPoint(p,d,va);let t=m.cartesianToCartographic(va,ga),e=ha(t.longitude,t.latitude,t.height,va);a.p.multiplyByPoint(C,e,d)}if(c.boundingSphere=new o.i(d,y),3===t){var h=new s.o;h.x=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,h.y=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,h.z=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT;var v=new s.o;v.x=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,v.y=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,v.z=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT;var g=new s.o;g.x=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,g.y=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,g.z=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT;var P=new s.o;P.x=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,P.y=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,P.z=r.getFloat64(u+A,!0),u+=Float64Array.BYTES_PER_ELEMENT,0==v.x&&0==v.y&&0==v.z&&(v.x=1),0==g.x&&0==g.y&&0==g.z&&(g.y=1),0==P.x&&0==P.y&&0==P.z&&(P.z=1),c._obb={xExtent:v,yExtent:g,zExtent:P,obbCenter:h}}var T=e,D=(L=Ba(r,A,T,u)).string;u=L.bytesOffset,D=za(D=(D=D.replace(/(\.s3mblock)|(\.s3mbz)|(\.s3mb)/gi,"")).replace(/\\/gi,"/")),c.childTile=D,c.geodes=[];var _=r.getUint32(u+A,!0);u+=Uint32Array.BYTES_PER_ELEMENT;for(var F=0;F<_;F++){var L;u=(L=Wa(e,r,u,A,E)).byteOffset,c.geodes.push(L.geode)}return 3===t&&(u=(L=Ba(r,A,T,u)).bytesOffset),{pageLOD:c,bytesOffset:u}}function Za(t,e,r,n,a,o){var i=0,s={},u=[],A=r.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;for(var E=0;E<A;E++){var l=Xa(t,e,r,i,n,a,o);i=l.bytesOffset,u.push(l.pageLOD)}return s.pageLods=u,s}function Qa(t,r){var n=t.vertexAttributes,a=t.attrLocation,o=n.length;a.aTextureBatchId=o;var i,s=t.verticesCount,u=Object.keys(r).length;if(1==u)i=r[0];else if(u>1)for(var A in i=new Float32Array(s*u),e.d(i,-1),r)for(var E=r[A],c=parseInt(A),f=0;f<s;f++)i[2*f+c]=E[f];n.push({index:o,typedArray:i,componentsPerAttribute:u,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:0})}function qa(t,r,a,o){for(var i=a.length,s=0;s<i;s++)for(var u=a[s],A=u.subName.split("_")[0],E=u.subVertexOffsetArr,l=0;l<E.length;l++){var c=E[l],f=c.geoName,B=c.offset,d=c.count,y=c.texUnitIndex,p=r[f].vertexPackage.verticesCount,C=o[f];n.e(C)||(C=o[f]={});var m=C[y];n.e(m)||(m=C[y]=new Float32Array(p),e.d(m,-1));var h=n.e(t)?t[A]:s;e.d(m,h,B,B+d)}}function $a(t,e,r){var n=t.vertexAttributes,a=t.attrLocation,o=n.length;a[1===r?"instanceId":"batchId"]=o,n.push({index:o,typedArray:e,componentsPerAttribute:1,componentDatatype:l.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:0,instanceDivisor:r})}function to(t,r,a,o,i,s){var u=0,A=t,E=r.getUint32(u+a,!0);u+=Uint32Array.BYTES_PER_ELEMENT;for(var l=0;l<E;l++){var c=Ba(r,a,A,u),B=c.string;u=c.bytesOffset;var d=r.getUint32(u+a,!0);u+=Uint32Array.BYTES_PER_ELEMENT;var y={};o[B].pickInfo=y;var p=o[B].edgeGeometry;if(-1==o[B].vertexPackage.instanceIndex){var C=new Float32Array(o[B].vertexPackage.verticesCount);s.push(C.buffer);for(var m=0;m<d;m++){var h=r.getUint32(u+a,!0);u+=Uint32Array.BYTES_PER_ELEMENT;var v=r.getUint32(u+a,!0);u+=Uint32Array.BYTES_PER_ELEMENT;var g=0,P=0;y[h]={batchId:m};for(var T=0;T<v;T++)P=r.getUint32(u+a,!0),u+=Uint32Array.BYTES_PER_ELEMENT,g=r.getUint32(u+a,!0),u+=Uint32Array.BYTES_PER_ELEMENT,e.d(C,m,P,P+g);y[h].vertexColorOffset=P,y[h].vertexCount=g}$a(o[B].vertexPackage,C,void 0)}else{var D=o[B].vertexPackage.instanceCount;o[B].vertexPackage.instanceBuffer,o[B].vertexPackage.instanceMode;var _=new Float32Array(D);s.push(_.buffer);var F=0;for(m=0;m<d;m++){var L=r.getUint32(u+a,!0);u+=Uint32Array.BYTES_PER_ELEMENT;v=r.getUint32(u+a,!0);u+=Uint32Array.BYTES_PER_ELEMENT;for(T=0;T<v;T++){var w=r.getUint32(u+a,!0);if(u+=Uint32Array.BYTES_PER_ELEMENT,_[F]=F,void 0===y[L]&&(y[L]={vertexColorCount:1,instanceIds:[],vertexColorOffset:F}),y[L].instanceIds.push(w),F++,3===i){g=r.getUint32(u+a,!0);u+=Uint32Array.BYTES_PER_ELEMENT}}}$a(o[B].vertexPackage,_,1)}p=o[B].edgeGeometry;if(n.e(p)){var b,M,I=p.regular.instancesData,S=f._0x28a85f.RegularInstanceStride;if(n.e(I))for(M=I.length,b=0;b<M;b+=S){var O=I[b+9];I[b+9]=C[O]}var N=p.silhouette.instancesData;if(S=f._0x28a85f.SilhouetteInstanceStride,n.e(N))for(M=N.length,b=0;b<M;b+=S){O=N[b+12];N[b+12]=C[O]}}}}function eo(t){return t<1e-10&&t>-1e-10}function ro(t,e,r,a,o,i,s,u){var A=new DataView(t),E=new Uint8Array(t),l=A.getUint32(r,!0);r+=Uint32Array.BYTES_PER_ELEMENT;var c=B.a(E,r,l);c=c.replace(/(\.s3mblock)|(\.s3mbz)|(\.s3mb)/gi,""),r+=l;var f=A.getUint32(r,!0);r+=Uint32Array.BYTES_PER_ELEMENT;for(var d=0;d<f;d++){var y={},C=A.getFloat32(r,!0);r+=Float32Array.BYTES_PER_ELEMENT;var m=A.getUint16(r,!0);r+=Uint16Array.BYTES_PER_ELEMENT,y.rangeMode=m,y.rangeList=C;var v={};v.x=A.getFloat64(r,!0),r+=Float64Array.BYTES_PER_ELEMENT,v.y=A.getFloat64(r,!0),r+=Float64Array.BYTES_PER_ELEMENT,v.z=A.getFloat64(r,!0),r+=Float64Array.BYTES_PER_ELEMENT;var g=A.getFloat64(r,!0);r+=Float64Array.BYTES_PER_ELEMENT,y.boundingSphere={center:v,radius:g},l=A.getUint32(r,!0),r+=Uint32Array.BYTES_PER_ELEMENT;var P=B.a(E,r,l);r+=l,P=za(P=P.replace(/(\.s3mblock)|(\.s3mbz)|(\.s3mb)/gi,"")),y.childTile=P}var T={},D=A.getFloat32(r,!0);r+=Float32Array.BYTES_PER_ELEMENT;D>=3&&(A.getUint32(r,!0),r+=Uint32Array.BYTES_PER_ELEMENT),A.getUint32(r,!0),r+=Uint32Array.BYTES_PER_ELEMENT;var _=A.getUint32(r,!0);r+=Uint32Array.BYTES_PER_ELEMENT;var F=new Uint8Array(t,r,_),L=r+_,w=h.pako.inflate(F).buffer;u.push(w),A=new DataView(w);E=new Uint8Array(w);r=0;var b=A.getUint32(r,!0),M=fa(A,w,r+=Uint32Array.BYTES_PER_ELEMENT),S=M.buffer;r=M.byteOffset;var O=Za(D,S,A,M.dataViewByteOffset),N=r%4;0!==N&&(r+=4-N),Ya((M=fa(A,w,r)).buffer,A,M.dataViewByteOffset,T,!1,u,void 0,D),r=M.byteOffset,3!==D&&((M=fa(A,w,r)).buffer,r=M.byteOffset);var R={};!function(t,e,r,a,o,i,s,u,A,E){var l=u,c=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;for(var f={},d=0;d<c;d++){var y=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var C=B.a(i,l-u,y),m=(l+=y)%4;0!==m&&(l+=4-m),s.getUint32(l,!0),l+=Uint32Array.BYTES_PER_ELEMENT;var h=s.getUint8(l,!0);l+=Uint8Array.BYTES_PER_ELEMENT;var v=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var g=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var P=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var T=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var D,_=s.getUint32(l,!0);if(l+=Uint32Array.BYTES_PER_ELEMENT,a&&h){var F=l-u;D=i.subarray(F,F+T),l+=T}var L=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;for(var w=[],b=0;b<L;b++){y=s.getUint32(l,!0),l+=Uint32Array.BYTES_PER_ELEMENT;var M=B.a(i,l-u,y);l+=y,w.push(M),r[M]=C}var I=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var S=[];for(b=0;b<I;b++){y=s.getUint32(l,!0),l+=Uint32Array.BYTES_PER_ELEMENT;var O=B.a(i,l-u,y);l+=y,S.push(O)}var N=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var R=[],x=void 0,U=C;if(a)x=e[C]={};else{var G=r[C];for(U=G;n.e(G)&&G!==C;)U=G,G=r[G];n.e(U)&&(x=e[U])}var K=0;for(b=0;b<N;b++){y=s.getUint32(l,!0),l+=Uint32Array.BYTES_PER_ELEMENT;var H=B.a(i,l-u,y);if(l+=y,a){var k=H.split("_")[0];n.e(x[k])?K++:x[k]=b-K}var V=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var Y=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var J=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var j=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var W=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;for(var z=[],X=0;X<W;X++){y=s.getUint32(l,!0),l+=Uint32Array.BYTES_PER_ELEMENT;var Z=B.a(i,l-u,y);l+=y;var Q=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var q=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT;var $=s.getUint32(l,!0);l+=Uint32Array.BYTES_PER_ELEMENT,z.push({geoName:Z,offset:Q,count:q,texUnitIndex:$})}R.push({subName:H,offsetX:V,offsetY:Y,width:J,height:j,subVertexOffsetArr:z})}qa(x,t,R,f),n.e(D)&&P===p.S3MPixelFormat.CRN_DXT5&&zn&&(D=Xn({data:D},E).bufferView),A[C]={id:C,rootTextureName:U,width:v,height:g,compressType:P,size:T,format:_,textureData:D,subTexInfos:R,requestNames:S}}for(var Z in f)f.hasOwnProperty(Z)&&Qa(t[Z].vertexPackage,f[Z])}(T,a,o,i,0,(M=fa(A,w,r)).buffer,A,M.dataViewByteOffset,R,u),r=M.byteOffset;var x=A.getUint32(r,!0);r+=Uint32Array.BYTES_PER_ELEMENT;var U=E.subarray(r,r+x),G=B.a(U);r+=x;var K=JSON.parse(G);(3===D&&(b=A.getUint32(r,!0),r+=Uint32Array.BYTES_PER_ELEMENT),(b&Qn)==Qn)&&(to((M=fa(A,w,r)).buffer,A,M.dataViewByteOffset,T,D,u),r=M.byteOffset);if(1==D){var H=O.pageLods,k=!0;for(d=0;d<H.length;d++){var V=H[d];k=""===V.childTile;for(var Y=V.geodes,J=0;J<Y.length;J++)for(var j=Y[J].skeletonNames,W=0;W<j.length;W++){var z=j[W];if(k){var X=T[z].vertexPackage;X.boundingSphere=$.calcBoundingSphereInWorker(1,X)}}}}s[c]={result:!0,groupNode:O,geoPackage:T,matrials:K,texturePackage:R,version:I.S3M4,dataVersion:D,rootBatchIdMap:a,ancestorMap:o},L<e&&ro(t,e,L,a,o,!1,s,u)}function no(t){var e=new Float32Array(t);return new Uint8Array(e.buffer)}function ao(t){for(var e=[],r=0,n=t.length;r<n;r++)e.push(t[r][0]),e.push(t[r][1]),e.push(t[r][2]);var a=new Uint32Array(e);return new Uint8Array(a.buffer)}function oo(e,r){var a=e.buffer;if(Oa=e.ellipsoid,Aa&&e.useAssimp){var o=new Et.FileList;o.AddFile("1."+e.suffix,new Uint8Array(a)),null!=e.mtlbuffer&&o.AddFile("1.mtl",new Uint8Array(e.mtlbuffer));var i=Et.ConvertFileList(o,"assjson");if(!i.IsSuccess()||0==i.FileCount())return null;var s=i.GetFile(0),u=(new TextDecoder).decode(s.GetContent());return function(t){for(var e={dataVersion:1,geoPackage:{},groupNode:{},texturePackage:{},result:!0,version:1,matrials:{material:[]}},r=[],a=t.rootnode.children;a&&a[0]&&a[0].children;)if((a=a[0].children)[0].children.length>1){a=a[0].children;break}for(var o=0,i=a.length;o<i;o++){var s=a[o];if(!s.children){r.push(s.transformation);break}for(var u,A=s.children[0];A.children;)u=(A=A.children[0]).transformation;var E=[];E[0]=u[0],E[1]=u[4],E[2]=u[12],E[3]=u[13],E[4]=u[1],E[5]=u[5],E[6]=u[9],E[7]=u[14],E[8]=u[2],E[9]=u[6],E[10]=u[10],E[11]=u[8],E[12]=u[3],E[13]=u[7],E[14]=u[11],E[15]=u[15],r.push(E)}e.mats=r;var l,c,f,B,d=t.meshes;for(o=0,i=d.length;o<i;o++){var y=d[o],p=ao(y.faces),C=(f=y.normals,B=void 0,B=new Int16Array(f),new Uint8Array(B.buffer)),m=(l=y.vertices,c=void 0,c=new Float32Array(l),new Uint8Array(c.buffer)),h={aPosition:0,aNormal:1},v=[];if(v[0]={componentDatatype:5126,componentsPerAttribute:3,index:0,normalize:!1,offsetInBytes:0,strideInBytes:12,typedArray:m},v[1]={componentDatatype:5126,componentsPerAttribute:3,index:1,normalize:!1,offsetInBytes:0,strideInBytes:0,typedArray:C},n.e(y.texturecoords)){var g=no(y.texturecoords[0]);h.aTexCoord0=2,v[2]={componentDatatype:5126,componentsPerAttribute:2,index:2,normalize:!1,offsetInBytes:0,strideInBytes:8,typedArray:g}}var P={arrIndexPackage:[{indexType:1,indicesCount:3*y.faces.length,indicesTypedArray:p,primitiveType:4,materialCode:t.materials[y.materialindex].properties[0].value}],vertexPackage:{attrLocation:h,instanceCount:0,instanceIndex:-1,instanceMode:0,vertexAttributes:v,verticesCount:y.vertices.length/3}};e.geoPackage[y.name]=P}var T=t.materials,D=0;for(i=T.length;D<i;D++){for(var _=T[D].properties,F={cullMode:"clockwise",transparentsorting:0},L=0,w=_.length;L<w;L++){var b=_[L],M=b.key.substring(b.key.indexOf(".")+1,b.key.length);-1===b.key.indexOf("mat.")&&-1===b.key.indexOf("clr.")||("name"===M&&(F.id=b.value),"shininess"===M&&(F.shininess=b.value),"ambient"===M&&(F.ambient={r:b.value[0],g:b.value[1],b:b.value[2],a:b.value[3]}),"diffuse"===M&&(F.diffuse={r:b.value[0],g:b.value[1],b:b.value[2],a:b.value[3]}),"specular"===M&&(F.specular={r:b.value[0],g:b.value[1],b:b.value[2],a:b.value[3]})),-1!==b.key.indexOf("tex.")&&(n.e(F.textureunitstates)||(F.textureunitstates=[{textureunitstate:{texmodmatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],addressmode:{u:0,v:0}}}]),"file"===M&&(F.textureunitstates[0].textureunitstate.id=b.value,F.textureunitstates[0].textureunitstate.url=b.value))}n.e(F.textureunitstates)||(F.textureunitstates=[]),e.matrials.material[D]={},e.matrials.material[D].material=F}return e}(JSON.parse(u))}if(e.isOSGB){if(n.e(oa)||new Promise((function(e,r){t(["./OSGBToS3M-f8fa8fe0"],e,r)})).then((function(t){(oa=t.default).onRuntimeInitialized=function(){sa=!0},ua=oa.cwrap("OSGBToS3MB","number",["number","number","number","number"])})),!sa)return null;var A;switch(e.suffix){case"dae":case"DAE":A=4;break;case"x":case"X":A=2;break;default:A=0}a=function(t,e,r){var n=oa._malloc(20*e),a=oa._malloc(Uint8Array.BYTES_PER_ELEMENT*e);oa.HEAPU8.set(t,a/Uint8Array.BYTES_PER_ELEMENT);var o=ua(a,e,n,r),i=new Uint8Array(oa.HEAPU8.buffer,n,o);return t=null,t=new Uint8Array(i).buffer,oa._free(n),oa._free(a),t}(new Uint8Array(a),a.byteLength,A)}var E=e.isS3MZ,l=e.fileType,c=e.supportCompressType,d=e.bVolume,y=e.isS3MBlock,C=e.modelMatrix,m=e.materialType,v=e.isCoverImageryLayer,P=e.transformPar,T=null,D=null,_=null;if(d&&e.volbuffer.byteLength<8&&(d=!1),d){var F=e.volbuffer,L=new Uint8Array(F,8),w=h.pako.inflate(L).buffer,b=new Float64Array(w,0,1),M=new Uint32Array(w,48,1);if(0===b[0]||3200===M[0]||3201===M[0]){var S=0;0==b[0]&&(S=8),r.push(w);var O=new Float64Array(w,S,6),N=O[0],R=O[1],x=O[2],U=O[3],G=O[4]<O[5]?O[4]:O[5],K=O[4]>O[5]?O[4]:O[5];D={left:N,top:R,right:x,bottom:U,minHeight:G,maxHeight:K,width:(T=new ca(N,U,x,R,G,K)).width,length:T.length,height:T.height};var H=new Uint32Array(w,48+S,7),k=H[0],V=H[1],Y=H[2],J=H[3];_={nFormat:k,nSideBlockCount:V,nBlockLength:Y,nLength:J,nWidth:H[4],nHeight:H[5],nDepth:H[6],imageArray:new Uint8Array(w,76+S,J*J*4)}}}var j=0,W={};W.ignoreNormal=e.ignoreNormal;var z=e.rootBatchIdMap||{},X=e.ancestorMap||{},Z={},Q=new DataView(a),q=Q.getFloat32(j,!0);if(j+=Float32Array.BYTES_PER_ELEMENT,y)return Q.getUint32(j,!0),j+=Uint32Array.BYTES_PER_ELEMENT,ro(a,a.byteLength,j,z,X,e.isRoot,Z,r),Z;var tt,et=!1,rt=0;if(q>=3&&(rt=Q.getUint32(j,!0),j+=Uint32Array.BYTES_PER_ELEMENT),q>=2&&(tt=Q.getUint32(j,!0),j+=Uint32Array.BYTES_PER_ELEMENT),eo(q-1)||eo(q-2)||eo(q-3)||q>2.09&&q<2.11){var nt=Q.getUint32(j,!0);j+=Uint32Array.BYTES_PER_ELEMENT;var at=new Uint8Array(a,j,nt);q>=3&&0===rt?a=at.buffer:(a=!0===ia?function(t,e){var r=e||4*t.length,n=g.unzip._malloc(Uint8Array.BYTES_PER_ELEMENT*r),a=new Uint8Array(r);g.unzip.HEAPU8.set(a,n/Uint8Array.BYTES_PER_ELEMENT);var o,i=g.unzip._malloc(Uint8Array.BYTES_PER_ELEMENT*t.length);for(g.unzip.HEAPU8.set(t,i/Uint8Array.BYTES_PER_ELEMENT);0==(o=Ea(n,r,i,t.length));)la(n),r*=4,n=g.unzip._malloc(Uint8Array.BYTES_PER_ELEMENT*r),a=new Uint8Array(r),g.unzip.HEAPU8.set(a,n/Uint8Array.BYTES_PER_ELEMENT);var s=new Uint8Array(g.unzip.HEAPU8.buffer,n,o);t=null,a=null;var u=new Uint8Array(s).buffer;return la(n),la(i),u}(at,tt):h.pako.inflate(at).buffer,j=0),r.push(a),Q=new DataView(a)}else if(q>1.199&&q<1.201){nt=Q.getUint32(j,!0);j+=Uint32Array.BYTES_PER_ELEMENT,r.push(a)}else{et=!0,j=0;nt=Q.getInt32(j,!0);if(j+=Int32Array.BYTES_PER_ELEMENT,j+=Uint8Array.BYTES_PER_ELEMENT*nt,E){Q.getUint32(j,!0),j+=Uint32Array.BYTES_PER_ELEMENT;L=new Uint8Array(a,j);a=h.pako.inflate(L).buffer,r.push(a),Q=new DataView(a),j=0}}var ot=Q.getUint32(j,!0),it=fa(Q,a,j+=Uint32Array.BYTES_PER_ELEMENT),st=it.buffer;j=it.byteOffset;var ut={},At=Za(q,st,Q,it.dataViewByteOffset,ut,P),lt=j%4;0!==lt&&(j+=4-lt);var ct=q>2.09&&3!==q;if(Ya((it=fa(Q,a,j)).buffer,Q,it.dataViewByteOffset,W,et,r,ct,q,C,ut,v,e.fileType,P),j=it.byteOffset,ct)for(var ft=0;ft<At.pageLods.length;ft++)for(var Bt=At.pageLods[ft],dt=Bt.geodes,yt=0;yt<dt.length;yt++)for(var pt=dt[yt].skeletonNames,Ct=0;Ct<pt.length;Ct++){var mt=pt[Ct];n.e(W[mt].max)&&(n.e(Bt.max)?(Bt.max.x=Math.max(W[mt].max.x,Bt.max.x),Bt.max.y=Math.max(W[mt].max.y,Bt.max.y),Bt.max.z=Math.max(W[mt].max.z,Bt.max.z),Bt.min.x=Math.min(W[mt].min.x,Bt.min.x),Bt.min.y=Math.min(W[mt].min.y,Bt.min.y),Bt.min.z=Math.min(W[mt].min.z,Bt.min.z)):(Bt.max=W[mt].max,Bt.min=W[mt].min))}3!==q&&((it=fa(Q,a,j)).buffer,j=it.byteOffset);var ht={};!function(t,e,r,n,a,o){var i=0,s=r.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;for(var u=0;u<s;u++){var A=Ba(r,n,e,i),E=A.string,l=(i=A.bytesOffset)%4;0!==l&&(i+=4-l);var c=r.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;var B=r.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;var d=r.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;var y=r.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;var C=r.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;var m=r.getUint32(i+n,!0);i+=Uint32Array.BYTES_PER_ELEMENT;var h=e.subarray(i,i+C);i+=C;var v=null,g=y;y===f.S3MCompressType.enrS3TCDXTN&&1!=t?(f.L.decode(v,B,d,h,m),v=m>p.S3MPixelFormat.BGR||m===p.S3MPixelFormat.LUMINANCE_ALPHA?new Uint8Array(B*d*4):new Uint16Array(B*d),f.L.decode(v,B,d,h,m),o.push(v.buffer),y=0):v=h,a[E]={id:E,width:B,height:d,compressType:y,oriCompressType:g,nFormat:m,imageBuffer:v,mipmapLevel:c}}}(c,(it=fa(Q,a,j)).buffer,Q,it.dataViewByteOffset,ht,r),j=it.byteOffset;var vt=Q.getUint32(j,!0);j+=Uint32Array.BYTES_PER_ELEMENT;var gt=new Uint8Array(a).subarray(j,j+vt),Pt=B.a(gt);j+=vt,Pt=Pt.replace(/\n\0/,"");var Tt=JSON.parse(Pt);(3===q&&(ot=Q.getUint32(j,!0),j+=Uint32Array.BYTES_PER_ELEMENT),(ot&Qn)==Qn)&&to((it=fa(Q,a,j)).buffer,Q,it.dataViewByteOffset,W,q,r);if(1==q){var Dt=At.pageLods,_t=!0;for(ft=0;ft<Dt.length;ft++){var Ft=Dt[ft];_t=""===Ft.childTile;for(var Lt=Ft.geodes,wt=0;wt<Lt.length;wt++){pt=Lt[wt].skeletonNames;for(var bt=0;bt<pt.length;bt++){var Mt=pt[bt];if(_t){var It=W[Mt].vertexPackage;It.boundingSphere=$.calcBoundingSphereInWorker(l,It)}}}}}return"BatchPBR"===m&&function(t,e,r,a){for(var o in delete t.ignoreNormal,t)if(t.hasOwnProperty(o)){var i=t[o],s=i.arrIndexPackage;if(s.length<1)continue;if(1===s.length||2===s.length&&13===s[1].primitiveType){var u=i.vertexPackage.attrLocation.aTextureCoordMatrix;if(void 0!==u){if((A=(I=i.vertexPackage.vertexAttributes[u]).typedArray)[0]<0)continue}else if(void 0!==(u=i.vertexPackage.attrLocation.aTextureCoordMatrix||i.vertexPackage.attrLocation.aTexCoord0)){I=i.vertexPackage.vertexAttributes[u];var A=new Float32Array(I.typedArray.buffer,I.typedArray.byteOffset,I.typedArray.byteLength/4);if(3===I.componentsPerAttribute&&A[2]<0)continue}}var E,l,c=0,B={},d=void 0;for(E=0,l=s.length;E<l;E++)13!==(S=s[E]).primitiveType?c+=0===S.indexType?S.indicesTypedArray.byteLength/2:S.indicesTypedArray.byteLength/4:d=s[E],0===E&&(B.indicesCount=0,B.indexType=s[E].indexType,B.primitiveType=s[E].primitiveType,B.materialCode=s[E].materialCode);B.indicesCount=c;var y=i.vertexPackage.verticesCount>65535?new Uint32Array(c):new Uint16Array(c),p=0;for(E=0,l=s.length;E<l;E++)if(13!==(S=s[E]).primitiveType){var C=0===S.indexType?Uint16Array:Uint32Array,m=0===S.indexType?S.indicesTypedArray.byteLength/2:S.indicesTypedArray.byteLength/4,h=new C(S.indicesTypedArray.buffer,S.indicesTypedArray.byteOffset,m);y.set(h,p),p+=h.length}B.indicesTypedArray=y,i.arrIndexPackage=[B],n.e(d)&&(i.arrIndexPackage.push(d),i.edgeGeometry=f._0x28a85f.createEdgeDataByIndices(i.vertexPackage,d));var v=2*s.length*4,g=new Float32Array(v),P={};for(E=0,l=r.material.length;E<l;E++)P[(O=r.material[E].material).id]=O;for(E=0,l=s.length;E<l;E++)if(O=P[(S=s[E]).materialCode]){var T=O.pbrMetallicRoughness;if(T){g[8*E]=T.metallicFactor,g[8*E+1]=T.roughnessFactor,g[8*E+2]=O.alphaCutoff;var D=""===O.alphaMode?0:1,_="none"===O.cullMode?0:1;g[8*E+3]=_|D<<16,g[8*E+4]=T.emissiveFactor.x,g[8*E+5]=T.emissiveFactor.y,g[8*E+6]=T.emissiveFactor.z,g[8*E+7]=0,O.pbrIndex=E}}var F="PBRMaterialParam_"+o;for(E=0,l=r.material.length;E<l;E++)if((O=r.material[E].material).id===B.materialCode){O.textureunitstates.push({textureunitstate:{addressmode:{u:0,v:0,w:0},filteringoption:0,filtermax:2,filtermin:2,id:F,texmodmatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],url:""}});break}var L,w,b=i.vertexPackage,M=b.attrLocation.aTexCoord1;if(void 0!==M){var I=b.vertexAttributes[M];L=new Float32Array(2*b.verticesCount),I.typedArray=L}else L=new Float32Array(2*b.verticesCount),M=b.vertexAttributes.length,b.attrLocation.aTexCoord1=M,b.vertexAttributes.push({index:M,typedArray:L,componentsPerAttribute:2,componentDatatype:5126,offsetInBytes:0,strideInBytes:8,normalize:!1});for(a.push(L.buffer),void 0!==(M=b.attrLocation.aColor)&&(w=(I=b.vertexAttributes[M]).typedArray),E=0,l=s.length;E<l;E++){var S,O;if((O=P[(S=s[E]).materialCode])&&O.pbrMetallicRoughness)for(var N=O.pbrMetallicRoughness.baseColor,R=void 0!==w,x=O.pbrIndex,U=(y=S.indicesTypedArray,{}),G=0,K=(y=0===S.indexType?new Uint16Array(y.buffer,y.byteOffset,y.byteLength/2):new Uint32Array(y.buffer,y.byteOffset,y.byteLength/4)).length;G<K;G++){var H=y[G];L[2*H]=x,R&&void 0===U[H]&&(U[H]=!0,w[4*H]*=N.x,w[4*H+1]*=N.y,w[4*H+2]*=N.z,w[4*H+3]*=N.w)}}e[F]={id:F,width:2*s.length,height:1,compressType:0,nFormat:25,imageBuffer:g,mipmapLevel:0}}}(W,ht,Tt,r),{result:!0,groupNode:At,geoPackage:W,matrials:Tt,texturePackage:ht,version:I.S3M4,dataVersion:q,volImageBuffer:_,volBounds:D}}function io(){n.e(jn)&&n.e(Zn)&&(jn.onRuntimeInitialized=function(){zn=!0},self.onmessage=v(oo),self.postMessage(!0))}return function(e){if("undefined"==typeof WebAssembly)return self.onmessage=v(oo),void self.postMessage(!0);var r=e.data.webAssemblyConfig;return n.e(r)?a.s.isInternetExplorer()?t([o.n$1("ThirdParty/Workers/ie-webworker-promise-polyfill.js")],(function(e){return self.Promise=e,-1!==r.modulePath.indexOf("crunch")?t([r.modulePath],(function(t){n.e(r.wasmBinaryFile)?(n.e(t)||(t=self.Module),jn=t,io()):(jn=t,io())})):t([r.modulePath],(function(t){n.e(r.wasmBinaryFile)?(n.e(t)||(t=self.DracoDecoderModule),t(r).then((function(t){Zn=t,io()}))):(Zn=t(),io())}))})):-1!==r.modulePath.indexOf("crunch")?t([r.modulePath],(function(t){n.e(r.wasmBinaryFile)?(n.e(t)||(t=self.Module),jn=t,io()):(jn=t,io())})):t([r.modulePath],(function(t){n.e(r.wasmBinaryFile)?(n.e(t)||(t=self.DracoDecoderModule),t(r).then((function(t){Zn=t,io()}))):(Zn=t(),io())})):void 0}}));
