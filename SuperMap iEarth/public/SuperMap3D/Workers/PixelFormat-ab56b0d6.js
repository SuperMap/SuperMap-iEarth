define(["exports","./WebGLConstants-42651efd","./when-92c6cf3c"],(function(_,T,E){"use strict";var R={UNSIGNED_BYTE:T.d.UNSIGNED_BYTE,UNSIGNED_SHORT:T.d.UNSIGNED_SHORT,UNSIGNED_INT:T.d.UNSIGNED_INT,FLOAT:T.d.FLOAT,HALF_FLOAT:T.d.HALF_FLOAT_OES,UNSIGNED_INT_24_8:T.d.UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:T.d.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:T.d.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:T.d.UNSIGNED_SHORT_5_6_5,isPacked:function(_){return _===R.UNSIGNED_INT_24_8||_===R.UNSIGNED_SHORT_4_4_4_4||_===R.UNSIGNED_SHORT_5_5_5_1||_===R.UNSIGNED_SHORT_5_6_5},sizeInBytes:function(_){switch(_){case R.UNSIGNED_BYTE:return 1;case R.UNSIGNED_SHORT:case R.UNSIGNED_SHORT_4_4_4_4:case R.UNSIGNED_SHORT_5_5_5_1:case R.UNSIGNED_SHORT_5_6_5:case T.d.HALF_FLOAT:case T.d.HALF_FLOAT_OES:return 2;case R.UNSIGNED_INT:case R.FLOAT:case R.UNSIGNED_INT_24_8:return 4}},validate:function(_){return _===R.UNSIGNED_BYTE||_===R.UNSIGNED_SHORT||_===R.UNSIGNED_INT||_===R.FLOAT||_===T.d.HALF_FLOAT||_===T.d.HALF_FLOAT_OES||_===R.UNSIGNED_INT_24_8||_===R.UNSIGNED_SHORT_4_4_4_4||_===R.UNSIGNED_SHORT_5_5_5_1||_===R.UNSIGNED_SHORT_5_6_5},toWebGLConstant:function(_,E){switch(_){case R.UNSIGNED_BYTE:return T.d.UNSIGNED_BYTE;case R.UNSIGNED_SHORT:return T.d.UNSIGNED_SHORT;case R.UNSIGNED_INT:return T.d.UNSIGNED_INT;case R.FLOAT:return T.d.FLOAT;case R.HALF_FLOAT:return E.webgl2?T.d.HALF_FLOAT:T.d.HALF_FLOAT_OES;case R.UNSIGNED_INT_24_8:return T.d.UNSIGNED_INT_24_8;case R.UNSIGNED_SHORT_4_4_4_4:return T.d.UNSIGNED_SHORT_4_4_4_4;case R.UNSIGNED_SHORT_5_5_5_1:return T.d.UNSIGNED_SHORT_5_5_5_1;case R.UNSIGNED_SHORT_5_6_5:return R.UNSIGNED_SHORT_5_6_5}}},N={DEPTH_COMPONENT:T.d.DEPTH_COMPONENT,DEPTH_COMPONENT16:T.d.DEPTH_COMPONENT16,DEPTH_COMPONENT32F:T.d.DEPTH_COMPONENT32F,DEPTH_STENCIL:T.d.DEPTH_STENCIL,ALPHA:T.d.ALPHA,RGB:T.d.RGB,RGBA:T.d.RGBA,LUMINANCE:T.d.LUMINANCE,LUMINANCE_ALPHA:T.d.LUMINANCE_ALPHA,RGB_DXT1:T.d.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:T.d.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:T.d.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:T.d.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:T.d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:T.d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:T.d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:T.d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGBA_ASTC:T.d.COMPRESSED_RGBA_ASTC_4x4_WEBGL,RGB_ETC1:T.d.COMPRESSED_RGB_ETC1_WEBGL,RED_INTEGER:T.d.RED_INTEGER,RED:T.d.RED,RGB8_ETC2:T.d.COMPRESSED_RGB8_ETC2,RGBA8_ETC2_EAC:T.d.COMPRESSED_RGBA8_ETC2_EAC,RGBA_BC7:T.d.COMPRESSED_RGBA_BPTC_UNORM,componentsLength:function(_){switch(_){case N.RGB:return 3;case N.RGBA:return 4;case N.LUMINANCE_ALPHA:return 2;case N.ALPHA:case N.LUMINANCE:case N.RED:case N.RED_INTEGER:default:return 1}},validate:function(_){return _===N.DEPTH_COMPONENT||_===N.DEPTH_COMPONENT16||_===N.DEPTH_COMPONENT32F||_===N.DEPTH_STENCIL||_===N.ALPHA||_===N.RED||_===N.RED_INTEGER||_===N.RGB||_===N.RGBA||_===N.LUMINANCE||_===N.LUMINANCE_ALPHA||_===N.RGB_DXT1||_===N.RGBA_DXT1||_===N.RGBA_DXT3||_===N.RGBA_DXT5||_===N.RGB_PVRTC_4BPPV1||_===N.RGB_PVRTC_2BPPV1||_===N.RGBA_PVRTC_4BPPV1||_===N.RGBA_PVRTC_2BPPV1||_===N.RGBA_ASTC||_===N.RGB_ETC1||_===N.RGB8_ETC2||_===N.RGBA8_ETC2_EAC||_===N.RGBA_BC7},isColorFormat:function(_){return _===N.ALPHA||_===N.RED||_===N.RED_INTEGER||_===N.RGB||_===N.RGBA||_===N.LUMINANCE||_===N.LUMINANCE_ALPHA},isDepthFormat:function(_){return _===N.DEPTH_COMPONENT||_===N.DEPTH_COMPONENT16||_===N.DEPTH_COMPONENT32F||_===N.DEPTH_STENCIL},isCompressedFormat:function(_){return _===N.RGB_DXT1||_===N.RGBA_DXT1||_===N.RGBA_DXT3||_===N.RGBA_DXT5||_===N.RGB_PVRTC_4BPPV1||_===N.RGB_PVRTC_2BPPV1||_===N.RGBA_PVRTC_4BPPV1||_===N.RGBA_PVRTC_2BPPV1||_===N.RGBA_ASTC||_===N.RGB_ETC1||_===N.RGB8_ETC2||_===N.RGBA8_ETC2_EAC||_===N.RGBA_BC7},isDXTFormat:function(_){return _===N.RGB_DXT1||_===N.RGBA_DXT1||_===N.RGBA_DXT3||_===N.RGBA_DXT5},isPVRTCFormat:function(_){return _===N.RGB_PVRTC_4BPPV1||_===N.RGB_PVRTC_2BPPV1||_===N.RGBA_PVRTC_4BPPV1||_===N.RGBA_PVRTC_2BPPV1},isETC1Format:function(_){return _===N.RGB_ETC1},compressedTextureSizeInBytes:function(_,T,R,e){var r=E.e(e)?e:1;switch(_){case N.RGB_DXT1:case N.RGBA_DXT1:case N.RGB_ETC1:case N.RGB8_ETC2:return Math.floor((T+3)/4)*Math.floor((R+3)/4)*8*r;case N.RGBA_DXT3:case N.RGBA_DXT5:case N.RGBA_ASTC:case N.RGBA8_ETC2_EAC:return Math.floor((T+3)/4)*Math.floor((R+3)/4)*16*r;case N.RGB_PVRTC_4BPPV1:case N.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(T,8)*Math.max(R,8)*4+7)/8)*r;case N.RGB_PVRTC_2BPPV1:case N.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(T,16)*Math.max(R,8)*2+7)/8)*r;case N.RGBA_BC7:return Math.ceil(T/4)*Math.ceil(R/4)*16;default:return 0}},textureSizeInBytes:function(_,T,e,r,G){var t=E.e(G)?G:1,P=N.componentsLength(_);return R.isPacked(T)&&(P=1),P*R.sizeInBytes(T)*e*r*t},alignmentInBytes:function(_,T,E){var R=N.textureSizeInBytes(_,T,E,1)%4;return 0===R?4:2===R?2:1},createTypedArray:function(_,T,E,e){var r=R.sizeInBytes(T);return new(r===Uint8Array.BYTES_PER_ELEMENT?Uint8Array:r===Uint16Array.BYTES_PER_ELEMENT?Uint16Array:r===Float32Array.BYTES_PER_ELEMENT&&T===R.FLOAT?Float32Array:Uint32Array)(N.componentsLength(_)*E*e)},flipY:function(_,T,E,R,e){if(1===e)return _;for(var r=N.createTypedArray(T,E,R,e),G=N.componentsLength(T),t=R*G,P=0;P<e;++P)for(var B=P*R*G,A=(e-P-1)*R*G,n=0;n<t;++n)r[A+n]=_[B+n];return r},RGBToRGBA:function(_,T,E,R){for(var e=N.createTypedArray(N.RGBA,T,E,R),r=_.length/3,G=0;G<r;G++)e[4*G]=_[3*G],e[4*G+1]=_[3*G+1],e[4*G+2]=_[3*G+2];return e},toInternalFormat:function(_,E,e){if(!e.webgl2)return _;if(_===N.DEPTH_STENCIL)return T.d.DEPTH24_STENCIL8;if(_===N.DEPTH_COMPONENT){if(E===R.UNSIGNED_SHORT)return T.d.DEPTH_COMPONENT16;if(E===R.UNSIGNED_INT)return T.d.DEPTH_COMPONENT24;if(E===R.FLOAT)return T.d.DEPTH_COMPONENT32F}if(_===N.DEPTH_COMPONENT16)return T.d.DEPTH_COMPONENT16;if(_===N.DEPTH_COMPONENT32F)return T.d.DEPTH_COMPONENT32F;if(E===R.FLOAT)switch(_){case N.RGBA:return T.d.RGBA32F;case N.RGB:return T.d.RGB32F;case N.RG:return T.d.RG32F;case N.RED:return T.d.R32F}if(E===R.UNSIGNED_BYTE)switch(_){case N.RGBA:return T.d.RGBA8;case N.RGB:return T.d.RGB8;case N.RED:return T.d.R8}if(E===R.HALF_FLOAT)switch(_){case N.RGBA:return T.d.RGBA16F;case N.RGB:return T.d.RGB16F;case N.RG:return T.d.RG16F;case N.RED:return T.d.R16F}return _}},e=Object.freeze(N);_.PixelFormat=e,_._=R}));
