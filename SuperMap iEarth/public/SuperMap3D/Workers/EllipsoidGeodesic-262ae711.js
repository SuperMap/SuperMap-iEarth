define(["exports","./Cartesian3-c1138337","./Cartographic-630e5de6","./Check-92c551fb","./defaultValue-2110bb17","./Ellipsoid-ca2b8eb1","./Math-cd1437d9"],(function(t,a,i,n,e,s,r){"use strict";function o(t,a,i,n,e,s,r){var o=function(t,a){return t*a*(4+t*(4-3*a))/16}(t,i);return(1-o)*t*a*(n+o*e*(r+o*s*(2*r*r-1)))}var h=new a.o,d=new a.o;function c(t,e,s,c){var u=a.o.normalize(c.cartographicToCartesian(e,d),h),M=a.o.normalize(c.cartographicToCartesian(s,d),d);n.o.typeOf.number.greaterThanOrEquals("value",Math.abs(Math.abs(a.o.angleBetween(u,M))-Math.PI),.0125),function(t,a,i,n,e,s,h){var d,c,u,M,l,_=(a-i)/a,g=s-n,f=Math.atan((1-_)*Math.tan(e)),p=Math.atan((1-_)*Math.tan(h)),v=Math.cos(f),m=Math.sin(f),H=Math.cos(p),b=Math.sin(p),O=v*H,q=v*b,S=m*b,U=m*H,w=g,A=r.e.TWO_PI,R=Math.cos(w),y=Math.sin(w);do{R=Math.cos(w),y=Math.sin(w);var C,E=q-U*R;u=Math.sqrt(H*H*y*y+E*E),c=S+O*R,d=Math.atan2(u,c),0===u?(C=0,M=1):M=1-(C=O*y/u)*C,A=w,l=c-2*S/M,isNaN(l)&&(l=0),w=g+o(_,C,M,d,u,c,l)}while(Math.abs(w-A)>r.e.EPSILON12);var P=M*(a*a-i*i)/(i*i),T=P*(256+P*(P*(74-47*P)-128))/1024,x=l*l,D=i*(1+P*(4096+P*(P*(320-175*P)-768))/16384)*(d-T*u*(l+T*(c*(2*x-1)-T*l*(4*u*u-3)*(4*x-3)/6)/4)),I=Math.atan2(H*y,q-U*R),N=Math.atan2(v*y,q*R-U);t._distance=D,t._startHeading=I,t._endHeading=N,t._uSquared=P}(t,c.maximumRadius,c.minimumRadius,e.longitude,e.latitude,s.longitude,s.latitude),t._start=i.a.clone(e,t._start),t._end=i.a.clone(s,t._end),t._start.height=0,t._end.height=0,function(t){var a=t._uSquared,i=t._ellipsoid.maximumRadius,n=t._ellipsoid.minimumRadius,e=(i-n)/i,s=Math.cos(t._startHeading),r=Math.sin(t._startHeading),o=(1-e)*Math.tan(t._start.latitude),h=1/Math.sqrt(1+o*o),d=h*o,c=Math.atan2(o,s),u=h*r,M=u*u,l=1-M,_=Math.sqrt(l),g=a/4,f=g*g,p=f*g,v=f*f,m=1+g-3*f/4+5*p/4-175*v/64,H=1-g+15*f/8-35*p/8,b=1-3*g+35*f/4,O=1-5*g,q=m*c-H*Math.sin(2*c)*g/2-b*Math.sin(4*c)*f/16-O*Math.sin(6*c)*p/48-5*Math.sin(8*c)*v/512,S=t._constants;S.a=i,S.b=n,S.f=e,S.cosineHeading=s,S.sineHeading=r,S.tanU=o,S.cosineU=h,S.sineU=d,S.sigma=c,S.sineAlpha=u,S.sineSquaredAlpha=M,S.cosineSquaredAlpha=l,S.cosineAlpha=_,S.u2Over4=g,S.u4Over16=f,S.u6Over64=p,S.u8Over256=v,S.a0=m,S.a1=H,S.a2=b,S.a3=O,S.distanceRatio=q}(t)}function u(t,a,n){var r=e.u(n,s.t.WGS84);this._ellipsoid=r,this._start=new i.a,this._end=new i.a,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,e.e(t)&&e.e(a)&&c(this,t,a,r)}Object.defineProperties(u.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return n.o.defined("distance",this._distance),this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){return n.o.defined("distance",this._distance),this._startHeading}},endHeading:{get:function(){return n.o.defined("distance",this._distance),this._endHeading}}}),u.prototype.setEndPoints=function(t,a){n.o.defined("start",t),n.o.defined("end",a),c(this,t,a,this._ellipsoid)},u.prototype.interpolateUsingFraction=function(t,a){return this.interpolateUsingSurfaceDistance(this._distance*t,a)},u.prototype.interpolateUsingSurfaceDistance=function(t,a){n.o.defined("distance",this._distance);var s=this._constants,r=s.distanceRatio+t/s.b,h=Math.cos(2*r),d=Math.cos(4*r),c=Math.cos(6*r),u=Math.sin(2*r),M=Math.sin(4*r),l=Math.sin(6*r),_=Math.sin(8*r),g=r*r,f=r*g,p=s.u8Over256,v=s.u2Over4,m=s.u6Over64,H=s.u4Over16,b=2*f*p*h/3+r*(1-v+7*H/4-15*m/4+579*p/64-(H-15*m/4+187*p/16)*h-(5*m/4-115*p/16)*d-29*p*c/16)+(v/2-H+71*m/32-85*p/16)*u+(5*H/16-5*m/4+383*p/96)*M-g*((m-11*p/2)*u+5*p*M/2)+(29*m/96-29*p/16)*l+539*p*_/1536,O=Math.asin(Math.sin(b)*s.cosineAlpha),q=Math.atan(s.a/s.b*Math.tan(O));b-=s.sigma;var S=Math.cos(2*s.sigma+b),U=Math.sin(b),w=Math.cos(b),A=s.cosineU*w,R=s.sineU*U,y=Math.atan2(U*s.sineHeading,A-R*s.cosineHeading)-o(s.f,s.sineAlpha,s.cosineSquaredAlpha,b,U,w,S);return e.e(a)?(a.longitude=this._start.longitude+y,a.latitude=q,a.height=0,a):new i.a(this._start.longitude+y,q,0)},t.E=u}));
