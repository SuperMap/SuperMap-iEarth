define(["./when-92c6cf3c","./Cartesian2-b72655a5","./buildModuleUrl-9eef8841","./Cartesian3-3a8bdb0b","./ComponentDatatype-98414d16","./Check-52a7d806","./GeometryAttribute-f47bd1cb","./GeometryAttributes-7f66ea53","./IndexDatatype-86677ec4","./Math-ecf82623","./FeatureDetection-cec0163f","./WallGeometryLibrary-d4f25ef7","./Cartographic-a2c313d7","./Event-3390cd7d","./RuntimeError-c6a62a80","./WebGLConstants-42651efd","./Cartesian4-72b88c9e","./arrayRemoveDuplicates-a6924649","./PolylinePipeline-f0970409","./EllipsoidGeodesic-03c935a0","./EllipsoidRhumbLine-b1a766ae","./IntersectionTests-6e80d61c","./Plane-33393da8"],(function(e,i,t,n,o,r,a,s,m,u,l,p,h,c,d,g,f,y,v,w,_,H,b){"use strict";var E=new n.o,k=new n.o;function A(t){var o=(t=e.u(t,e.u.EMPTY_OBJECT)).positions,a=t.maximumHeights,s=t.minimumHeights;if(!e.e(o))throw new r.t("options.positions is required.");if(e.e(a)&&a.length!==o.length)throw new r.t("options.positions and options.maximumHeights must have the same length.");if(e.e(s)&&s.length!==o.length)throw new r.t("options.positions and options.minimumHeights must have the same length.");var m=e.u(t.granularity,u.e.RADIANS_PER_DEGREE),l=e.u(t.ellipsoid,i.t.WGS84);this._positions=o,this._minimumHeights=s,this._maximumHeights=a,this._granularity=m,this._ellipsoid=i.t.clone(l),this._workerName="createWallOutlineGeometry";var p=1+o.length*n.o.packedLength+2;e.e(s)&&(p+=s.length),e.e(a)&&(p+=a.length),this.packedLength=p+i.t.packedLength+1}A.pack=function(t,o,a){if(!e.e(t))throw new r.t("value is required");if(!e.e(o))throw new r.t("array is required");a=e.u(a,0);var s,m=t._positions,u=m.length;for(o[a++]=u,s=0;s<u;++s,a+=n.o.packedLength)n.o.pack(m[s],o,a);var l=t._minimumHeights;if(u=e.e(l)?l.length:0,o[a++]=u,e.e(l))for(s=0;s<u;++s)o[a++]=l[s];var p=t._maximumHeights;if(u=e.e(p)?p.length:0,o[a++]=u,e.e(p))for(s=0;s<u;++s)o[a++]=p[s];return i.t.pack(t._ellipsoid,o,a),o[a+=i.t.packedLength]=t._granularity,o};var x=i.t.clone(i.t.UNIT_SPHERE),L={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:x,granularity:void 0};return A.unpack=function(t,o,a){if(!e.e(t))throw new r.t("array is required");o=e.u(o,0);var s,m,u,l=t[o++],p=new Array(l);for(s=0;s<l;++s,o+=n.o.packedLength)p[s]=n.o.unpack(t,o);if((l=t[o++])>0)for(m=new Array(l),s=0;s<l;++s)m[s]=t[o++];if((l=t[o++])>0)for(u=new Array(l),s=0;s<l;++s)u[s]=t[o++];var h=i.t.unpack(t,o,x),c=t[o+=i.t.packedLength];return e.e(a)?(a._positions=p,a._minimumHeights=m,a._maximumHeights=u,a._ellipsoid=i.t.clone(h,a._ellipsoid),a._granularity=c,a):(L.positions=p,L.minimumHeights=m,L.maximumHeights=u,L.granularity=c,new A(L))},A.fromConstantHeights=function(i){var t=(i=e.u(i,e.u.EMPTY_OBJECT)).positions;if(!e.e(t))throw new r.t("options.positions is required.");var n,o,a=i.minimumHeight,s=i.maximumHeight,m=e.e(a),u=e.e(s);if(m||u){var l=t.length;n=m?new Array(l):void 0,o=u?new Array(l):void 0;for(var p=0;p<l;++p)m&&(n[p]=a),u&&(o[p]=s)}return new A({positions:t,maximumHeights:o,minimumHeights:n,ellipsoid:i.ellipsoid})},A.createGeometry=function(i){var r=i._positions,h=i._minimumHeights,c=i._maximumHeights,d=i._granularity,g=i._ellipsoid,f=p.D.computePositions(g,r,c,h,d,!1);if(e.e(f)){var y,v=f.pos.bottomPositions,w=f.pos.topPositions,_=w.length,H=2*_,b=new Float64Array(H),A=0;for(_/=3,y=0;y<_;++y){var x=3*y,L=n.o.fromArray(w,x,E),P=n.o.fromArray(v,x,k);b[A++]=P.x,b[A++]=P.y,b[A++]=P.z,b[A++]=L.x,b[A++]=L.y,b[A++]=L.z}var C=new s.a({position:new a.o({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:b})}),D=H/3;H=2*D-4+D;var G=m.IndexDatatype.createTypedArray(D,H),I=0;for(y=0;y<D-2;y+=2){var T=y,R=y+2,q=n.o.fromArray(b,3*T,E),S=n.o.fromArray(b,3*R,k);if(!n.o.equalsEpsilon(q,S,u.e.EPSILON10)){var N=y+1,O=y+3;G[I++]=N,G[I++]=T,G[I++]=N,G[I++]=O,G[I++]=T,G[I++]=R}}return G[I++]=D-2,G[I++]=D-1,new a.I({attributes:C,indices:G,primitiveType:l._0x4b6a27.LINES,boundingSphere:new t.i.fromVertices(b)})}},function(t,n){return e.e(n)&&(t=A.unpack(t,n)),t._ellipsoid=i.t.clone(t._ellipsoid),A.createGeometry(t)}}));
