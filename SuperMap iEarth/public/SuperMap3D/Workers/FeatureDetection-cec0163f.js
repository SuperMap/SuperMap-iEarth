define(["exports","./Cartesian3-3a8bdb0b","./Cartesian4-72b88c9e","./Check-52a7d806","./when-92c6cf3c","./Math-ecf82623","./RuntimeError-c6a62a80","./WebGLConstants-42651efd"],(function(e,t,n,r,o,a,u,i){"use strict";function s(e,t,n,r,a,u,i,s,c){this[0]=o.u(e,0),this[1]=o.u(r,0),this[2]=o.u(i,0),this[3]=o.u(t,0),this[4]=o.u(a,0),this[5]=o.u(s,0),this[6]=o.u(n,0),this[7]=o.u(u,0),this[8]=o.u(c,0),this.isMatrix3=!0}s.packedLength=9,s.pack=function(e,t,n){return r.o.typeOf.object("value",e),r.o.defined("array",t),n=o.u(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t},s.unpack=function(e,t,n){return r.o.defined("array",e),t=o.u(t,0),o.e(n)||(n=new s),n[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n},s.clone=function(e,t){if(o.e(e))return o.e(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new s(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},s.fromArray=function(e,t,n){return r.o.defined("array",e),t=o.u(t,0),o.e(n)||(n=new s),n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],n[6]=e[t+6],n[7]=e[t+7],n[8]=e[t+8],n},s.fromColumnMajorArray=function(e,t){return r.o.defined("values",e),s.clone(e,t)},s.fromRowMajorArray=function(e,t){return r.o.defined("values",e),o.e(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new s(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},s.fromQuaternion=function(e,t){r.o.typeOf.object("quaternion",e);var n=e.x*e.x,a=e.x*e.y,u=e.x*e.z,i=e.x*e.w,c=e.y*e.y,f=e.y*e.z,l=e.y*e.w,p=e.z*e.z,y=e.z*e.w,b=e.w*e.w,O=n-c-p+b,m=2*(a-y),h=2*(u+l),d=2*(a+y),x=-n+c-p+b,j=2*(f-i),g=2*(u-l),v=2*(f+i),E=-n-c+p+b;return o.e(t)?(t[0]=O,t[1]=d,t[2]=g,t[3]=m,t[4]=x,t[5]=v,t[6]=h,t[7]=j,t[8]=E,t):new s(O,m,h,d,x,j,g,v,E)},s.fromHeadingPitchRoll=function(e,t){r.o.typeOf.object("headingPitchRoll",e);var n=Math.cos(-e.pitch),a=Math.cos(-e.heading),u=Math.cos(e.roll),i=Math.sin(-e.pitch),c=Math.sin(-e.heading),f=Math.sin(e.roll),l=n*a,p=-u*c+f*i*a,y=f*c+u*i*a,b=n*c,O=u*a+f*i*c,m=-f*a+u*i*c,h=-i,d=f*n,x=u*n;return o.e(t)?(t[0]=l,t[1]=b,t[2]=h,t[3]=p,t[4]=O,t[5]=d,t[6]=y,t[7]=m,t[8]=x,t):new s(l,p,y,b,O,m,h,d,x)},s.fromScale=function(e,t){return r.o.typeOf.object("scale",e),o.e(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new s(e.x,0,0,0,e.y,0,0,0,e.z)},s.fromUniformScale=function(e,t){return r.o.typeOf.number("scale",e),o.e(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new s(e,0,0,0,e,0,0,0,e)},s.fromCrossProduct=function(e,t){return r.o.typeOf.object("vector",e),o.e(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new s(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},s.fromRotationX=function(e,t){r.o.typeOf.number("angle",e);var n=Math.cos(e),a=Math.sin(e);return o.e(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=a,t[6]=0,t[7]=-a,t[8]=n,t):new s(1,0,0,0,n,-a,0,a,n)},s.fromRotationY=function(e,t){r.o.typeOf.number("angle",e);var n=Math.cos(e),a=Math.sin(e);return o.e(t)?(t[0]=n,t[1]=0,t[2]=-a,t[3]=0,t[4]=1,t[5]=0,t[6]=a,t[7]=0,t[8]=n,t):new s(n,0,a,0,1,0,-a,0,n)},s.fromRotationZ=function(e,t){r.o.typeOf.number("angle",e);var n=Math.cos(e),a=Math.sin(e);return o.e(t)?(t[0]=n,t[1]=a,t[2]=0,t[3]=-a,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new s(n,-a,0,a,n,0,0,0,1)},s.toArray=function(e,t){return r.o.typeOf.object("matrix",e),o.e(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},s.getElementIndex=function(e,t){return r.o.typeOf.number.greaterThanOrEquals("row",t,0),r.o.typeOf.number.lessThanOrEquals("row",t,2),r.o.typeOf.number.greaterThanOrEquals("column",e,0),r.o.typeOf.number.lessThanOrEquals("column",e,2),3*e+t},s.getColumn=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.number.greaterThanOrEquals("index",t,0),r.o.typeOf.number.lessThanOrEquals("index",t,2),r.o.typeOf.object("result",n);var o=3*t,a=e[o],u=e[o+1],i=e[o+2];return n.x=a,n.y=u,n.z=i,n},s.setColumn=function(e,t,n,o){r.o.typeOf.object("matrix",e),r.o.typeOf.number.greaterThanOrEquals("index",t,0),r.o.typeOf.number.lessThanOrEquals("index",t,2),r.o.typeOf.object("cartesian",n),r.o.typeOf.object("result",o);var a=3*t;return(o=s.clone(e,o))[a]=n.x,o[a+1]=n.y,o[a+2]=n.z,o},s.getRow=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.number.greaterThanOrEquals("index",t,0),r.o.typeOf.number.lessThanOrEquals("index",t,2),r.o.typeOf.object("result",n);var o=e[t],a=e[t+3],u=e[t+6];return n.x=o,n.y=a,n.z=u,n},s.setRow=function(e,t,n,o){return r.o.typeOf.object("matrix",e),r.o.typeOf.number.greaterThanOrEquals("index",t,0),r.o.typeOf.number.lessThanOrEquals("index",t,2),r.o.typeOf.object("cartesian",n),r.o.typeOf.object("result",o),(o=s.clone(e,o))[t]=n.x,o[t+3]=n.y,o[t+6]=n.z,o};var c=new t.o;s.getScale=function(e,n){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",n),n.x=t.o.magnitude(t.o.fromElements(e[0],e[1],e[2],c)),n.y=t.o.magnitude(t.o.fromElements(e[3],e[4],e[5],c)),n.z=t.o.magnitude(t.o.fromElements(e[6],e[7],e[8],c)),n};var f=new t.o;s.getMaximumScale=function(e){return s.getScale(e,f),t.o.maximumComponent(f)},s.multiply=function(e,t,n){r.o.typeOf.object("left",e),r.o.typeOf.object("right",t),r.o.typeOf.object("result",n);var o=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],a=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],u=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],i=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],s=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],c=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],f=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],l=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],p=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return n[0]=o,n[1]=a,n[2]=u,n[3]=i,n[4]=s,n[5]=c,n[6]=f,n[7]=l,n[8]=p,n},s.add=function(e,t,n){return r.o.typeOf.object("left",e),r.o.typeOf.object("right",t),r.o.typeOf.object("result",n),n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},s.subtract=function(e,t,n){return r.o.typeOf.object("left",e),r.o.typeOf.object("right",t),r.o.typeOf.object("result",n),n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},s.multiplyByVector=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("cartesian",t),r.o.typeOf.object("result",n);var o=t.x,a=t.y,u=t.z,i=e[0]*o+e[3]*a+e[6]*u,s=e[1]*o+e[4]*a+e[7]*u,c=e[2]*o+e[5]*a+e[8]*u;return n.x=i,n.y=s,n.z=c,n},s.multiplyByScalar=function(e,t,n){return r.o.typeOf.object("matrix",e),r.o.typeOf.number("scalar",t),r.o.typeOf.object("result",n),n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},s.multiplyByScale=function(e,t,n){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("scale",t),r.o.typeOf.object("result",n),n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},s.negate=function(e,t){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},s.transpose=function(e,t){r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t);var n=e[0],o=e[3],a=e[6],u=e[1],i=e[4],s=e[7],c=e[2],f=e[5],l=e[8];return t[0]=n,t[1]=o,t[2]=a,t[3]=u,t[4]=i,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t};var l=new t.o(1,1,1);s.getRotation=function(e,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",n);var o=t.o.divideComponents(l,s.getScale(e,f),f);return n=s.multiplyByScale(e,o,n)};var p=[1,0,0],y=[2,2,1];function b(e){for(var t=0,n=0;n<3;++n){var r=e[s.getElementIndex(y[n],p[n])];t+=2*r*r}return Math.sqrt(t)}function O(e,t){for(var n=a.e.EPSILON15,r=0,o=1,u=0;u<3;++u){var i=Math.abs(e[s.getElementIndex(y[u],p[u])]);i>r&&(o=u,r=i)}var c=1,f=0,l=p[o],b=y[o];if(Math.abs(e[s.getElementIndex(b,l)])>n){var O,m=(e[s.getElementIndex(b,b)]-e[s.getElementIndex(l,l)])/2/e[s.getElementIndex(b,l)];f=(O=m<0?-1/(-m+Math.sqrt(1+m*m)):1/(m+Math.sqrt(1+m*m)))*(c=1/Math.sqrt(1+O*O))}return(t=s.clone(s.IDENTITY,t))[s.getElementIndex(l,l)]=t[s.getElementIndex(b,b)]=c,t[s.getElementIndex(b,l)]=f,t[s.getElementIndex(l,b)]=-f,t}var m=new s,h=new s;function d(e,t,n,r,a,u,i,s,c,f,l,p,y,b,O,m){this[0]=o.u(e,0),this[1]=o.u(a,0),this[2]=o.u(c,0),this[3]=o.u(y,0),this[4]=o.u(t,0),this[5]=o.u(u,0),this[6]=o.u(f,0),this[7]=o.u(b,0),this[8]=o.u(n,0),this[9]=o.u(i,0),this[10]=o.u(l,0),this[11]=o.u(O,0),this[12]=o.u(r,0),this[13]=o.u(s,0),this[14]=o.u(p,0),this[15]=o.u(m,0),this.isMatrix4=!0}s.computeEigenDecomposition=function(e,t){r.o.typeOf.object("matrix",e);var n=a.e.EPSILON20,u=0,i=0;o.e(t)||(t={});for(var c=t.unitary=s.clone(s.IDENTITY,t.unitary),f=t.diagonal=s.clone(e,t.diagonal),l=n*function(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}(f);i<10&&b(f)>l;)O(f,m),s.transpose(m,h),s.multiply(f,m,f),s.multiply(h,f,f),s.multiply(c,m,c),++u>2&&(++i,u=0);return t},s.abs=function(e,t){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},s.determinant=function(e){r.o.typeOf.object("matrix",e);var t=e[0],n=e[3],o=e[6],a=e[1],u=e[4],i=e[7],s=e[2],c=e[5],f=e[8];return t*(u*f-c*i)+a*(c*o-n*f)+s*(n*i-u*o)},s.inverse=function(e,t){r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t);var n=e[0],o=e[1],u=e[2],i=e[3],c=e[4],f=e[5],l=e[6],p=e[7],y=e[8],b=s.determinant(e);if(Math.abs(b)<=a.e.EPSILON15)throw new r.t("matrix is not invertible");t[0]=c*y-p*f,t[1]=p*u-o*y,t[2]=o*f-c*u,t[3]=l*f-i*y,t[4]=n*y-l*u,t[5]=i*u-n*f,t[6]=i*p-l*c,t[7]=l*o-n*p,t[8]=n*c-i*o;var O=1/b;return s.multiplyByScalar(t,O,t)},s.equals=function(e,t){return e===t||o.e(e)&&o.e(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},s.equalsEpsilon=function(e,t,n){return r.o.typeOf.number("epsilon",n),e===t||o.e(e)&&o.e(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},s.IDENTITY=Object.freeze(new s(1,0,0,0,1,0,0,0,1)),s.ZERO=Object.freeze(new s(0,0,0,0,0,0,0,0,0)),s.COLUMN0ROW0=0,s.COLUMN0ROW1=1,s.COLUMN0ROW2=2,s.COLUMN1ROW0=3,s.COLUMN1ROW1=4,s.COLUMN1ROW2=5,s.COLUMN2ROW0=6,s.COLUMN2ROW1=7,s.COLUMN2ROW2=8,Object.defineProperties(s.prototype,{length:{get:function(){return s.packedLength}}}),s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},s.prototype.equalsEpsilon=function(e,t){return s.equalsEpsilon(this,e,t)},s.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},s.prototype.toArray=function(e,t){s.pack(this,e,t)},d.packedLength=16,d.pack=function(e,t,n){return r.o.typeOf.object("value",e),r.o.defined("array",t),n=o.u(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t[n++]=e[9],t[n++]=e[10],t[n++]=e[11],t[n++]=e[12],t[n++]=e[13],t[n++]=e[14],t[n]=e[15],t},d.unpack=function(e,t,n){return r.o.defined("array",e),t=o.u(t,0),o.e(n)||(n=new d),n[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n[9]=e[t++],n[10]=e[t++],n[11]=e[t++],n[12]=e[t++],n[13]=e[t++],n[14]=e[t++],n[15]=e[t],n},d.clone=function(e,t){if(o.e(e))return o.e(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new d(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},d.fromArray=d.unpack,d.fromColumnMajorArray=function(e,t){return r.o.defined("values",e),d.clone(e,t)},d.fromRowMajorArray=function(e,t){return r.o.defined("values",e),o.e(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new d(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},d.fromRotationTranslation=function(e,n,a){return r.o.typeOf.object("rotation",e),n=o.u(n,t.o.ZERO),o.e(a)?(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=0,a[4]=e[3],a[5]=e[4],a[6]=e[5],a[7]=0,a[8]=e[6],a[9]=e[7],a[10]=e[8],a[11]=0,a[12]=n.x,a[13]=n.y,a[14]=n.z,a[15]=1,a):new d(e[0],e[3],e[6],n.x,e[1],e[4],e[7],n.y,e[2],e[5],e[8],n.z,0,0,0,1)},d.fromTranslationQuaternionRotationScale=function(e,t,n,a){r.o.typeOf.object("translation",e),r.o.typeOf.object("rotation",t),r.o.typeOf.object("scale",n),o.e(a)||(a=new d);var u=n.x,i=n.y,s=n.z,c=t.x*t.x,f=t.x*t.y,l=t.x*t.z,p=t.x*t.w,y=t.y*t.y,b=t.y*t.z,O=t.y*t.w,m=t.z*t.z,h=t.z*t.w,x=t.w*t.w,j=c-y-m+x,g=2*(f-h),v=2*(l+O),E=2*(f+h),M=-c+y-m+x,w=2*(b-p),R=2*(l-O),T=2*(b+p),A=-c-y+m+x;return a[0]=j*u,a[1]=E*u,a[2]=R*u,a[3]=0,a[4]=g*i,a[5]=M*i,a[6]=T*i,a[7]=0,a[8]=v*s,a[9]=w*s,a[10]=A*s,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,a},d.fromTranslationRotationScale=function(e,t){return r.o.typeOf.object("translationRotationScale",e),d.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},d.fromTranslation=function(e,t){return r.o.typeOf.object("translation",e),d.fromRotationTranslation(s.IDENTITY,e,t)},d.fromScale=function(e,t){return r.o.typeOf.object("scale",e),o.e(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new d(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},d.fromUniformScale=function(e,t){return r.o.typeOf.number("scale",e),o.e(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new d(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var x=new t.o,j=new t.o,g=new t.o;d.fromCamera=function(e,n){r.o.typeOf.object("camera",e);var a=e.position,u=e.direction,i=e.up;r.o.typeOf.object("camera.position",a),r.o.typeOf.object("camera.direction",u),r.o.typeOf.object("camera.up",i),t.o.normalize(u,x),t.o.normalize(t.o.cross(x,i,j),j),t.o.normalize(t.o.cross(j,x,g),g);var s=j.x,c=j.y,f=j.z,l=x.x,p=x.y,y=x.z,b=g.x,O=g.y,m=g.z,h=a.x,v=a.y,E=a.z,M=s*-h+c*-v+f*-E,w=b*-h+O*-v+m*-E,R=l*h+p*v+y*E;return o.e(n)?(n[0]=s,n[1]=b,n[2]=-l,n[3]=0,n[4]=c,n[5]=O,n[6]=-p,n[7]=0,n[8]=f,n[9]=m,n[10]=-y,n[11]=0,n[12]=M,n[13]=w,n[14]=R,n[15]=1,n):new d(s,c,f,M,b,O,m,w,-l,-p,-y,R,0,0,0,1)},d.computePerspectiveFieldOfView=function(e,t,n,o,a){r.o.typeOf.number.greaterThan("fovY",e,0),r.o.typeOf.number.lessThan("fovY",e,Math.PI),r.o.typeOf.number.greaterThan("near",n,0),r.o.typeOf.number.greaterThan("far",o,0),r.o.typeOf.object("result",a);var u=1/Math.tan(.5*e),i=u/t,s=(o+n)/(n-o),c=2*o*n/(n-o);return a[0]=i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=s,a[11]=-1,a[12]=0,a[13]=0,a[14]=c,a[15]=0,a},d.computeOrthographicOffCenter=function(e,t,n,o,a,u,i){r.o.typeOf.number("left",e),r.o.typeOf.number("right",t),r.o.typeOf.number("bottom",n),r.o.typeOf.number("top",o),r.o.typeOf.number("near",a),r.o.typeOf.number("far",u),r.o.typeOf.object("result",i);var s=1/(t-e),c=1/(o-n),f=1/(u-a),l=-(t+e)*s,p=-(o+n)*c,y=-(u+a)*f;return s*=2,c*=2,f*=-2,i[0]=s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=f,i[11]=0,i[12]=l,i[13]=p,i[14]=y,i[15]=1,d.halfZRange&&d.multiply(d.ConvertNDCToHalfZRange,i,i),i},d.computePerspectiveOffCenter=function(e,t,n,o,a,u,i){r.o.typeOf.number("left",e),r.o.typeOf.number("right",t),r.o.typeOf.number("bottom",n),r.o.typeOf.number("top",o),r.o.typeOf.number("near",a),r.o.typeOf.number("far",u),r.o.typeOf.object("result",i);var s=2*a/(t-e),c=2*a/(o-n),f=(t+e)/(t-e),l=(o+n)/(o-n),p=-(u+a)/(u-a),y=-2*u*a/(u-a);return i[0]=s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=f,i[9]=l,i[10]=p,i[11]=-1,i[12]=0,i[13]=0,i[14]=y,i[15]=0,d.halfZRange&&d.multiply(d.ConvertNDCToHalfZRange,i,i),i},d.computeInfinitePerspectiveOffCenter=function(e,t,n,o,a,u){r.o.typeOf.number("left",e),r.o.typeOf.number("right",t),r.o.typeOf.number("bottom",n),r.o.typeOf.number("top",o),r.o.typeOf.number("near",a),r.o.typeOf.object("result",u);var i=2*a/(t-e),s=2*a/(o-n),c=(t+e)/(t-e),f=(o+n)/(o-n),l=-2*a;return u[0]=i,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s,u[6]=0,u[7]=0,u[8]=c,u[9]=f,u[10]=-1,u[11]=-1,u[12]=0,u[13]=0,u[14]=l,u[15]=0,d.halfZRange&&d.multiply(d.ConvertNDCToHalfZRange,u,u),u},d.computeViewportTransformation=function(e,t,n,a){r.o.typeOf.object("result",a),e=o.u(e,o.u.EMPTY_OBJECT);var u=o.u(e.x,0),i=o.u(e.y,0),s=o.u(e.width,0),c=o.u(e.height,0);t=o.u(t,0);var f=.5*s,l=.5*c,p=.5*((n=o.u(n,1))-t),y=f,b=l,O=p,m=u+f,h=i+l,d=t+p;return a[0]=y,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=b,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=O,a[11]=0,a[12]=m,a[13]=h,a[14]=d,a[15]=1,a},d.computeView=function(e,n,o,a,u){return r.o.typeOf.object("position",e),r.o.typeOf.object("direction",n),r.o.typeOf.object("up",o),r.o.typeOf.object("right",a),r.o.typeOf.object("result",u),u[0]=a.x,u[1]=o.x,u[2]=-n.x,u[3]=0,u[4]=a.y,u[5]=o.y,u[6]=-n.y,u[7]=0,u[8]=a.z,u[9]=o.z,u[10]=-n.z,u[11]=0,u[12]=-t.o.dot(a,e),u[13]=-t.o.dot(o,e),u[14]=t.o.dot(n,e),u[15]=1,u},d.toArray=function(e,t){return r.o.typeOf.object("matrix",e),o.e(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},d.getElementIndex=function(e,t){return r.o.typeOf.number.greaterThanOrEquals("row",t,0),r.o.typeOf.number.lessThanOrEquals("row",t,3),r.o.typeOf.number.greaterThanOrEquals("column",e,0),r.o.typeOf.number.lessThanOrEquals("column",e,3),4*e+t},d.getColumn=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.number.greaterThanOrEquals("index",t,0),r.o.typeOf.number.lessThanOrEquals("index",t,3),r.o.typeOf.object("result",n);var o=4*t,a=e[o],u=e[o+1],i=e[o+2],s=e[o+3];return n.x=a,n.y=u,n.z=i,n.w=s,n},d.setColumn=function(e,t,n,o){r.o.typeOf.object("matrix",e),r.o.typeOf.number.greaterThanOrEquals("index",t,0),r.o.typeOf.number.lessThanOrEquals("index",t,3),r.o.typeOf.object("cartesian",n),r.o.typeOf.object("result",o);var a=4*t;return(o=d.clone(e,o))[a]=n.x,o[a+1]=n.y,o[a+2]=n.z,o[a+3]=n.w,o},d.setTranslation=function(e,t,n){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("translation",t),r.o.typeOf.object("result",n),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=e[15],n};var v=new t.o;d.setScale=function(e,n,o){r.o.typeOf.object("matrix",e),r.o.typeOf.object("scale",n),r.o.typeOf.object("result",o);var a=d.getScale(e,v),u=t.o.divideComponents(n,a,v);return d.multiplyByScale(e,u,o)},d.getRow=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.number.greaterThanOrEquals("index",t,0),r.o.typeOf.number.lessThanOrEquals("index",t,3),r.o.typeOf.object("result",n);var o=e[t],a=e[t+4],u=e[t+8],i=e[t+12];return n.x=o,n.y=a,n.z=u,n.w=i,n},d.setRow=function(e,t,n,o){return r.o.typeOf.object("matrix",e),r.o.typeOf.number.greaterThanOrEquals("index",t,0),r.o.typeOf.number.lessThanOrEquals("index",t,3),r.o.typeOf.object("cartesian",n),r.o.typeOf.object("result",o),(o=d.clone(e,o))[t]=n.x,o[t+4]=n.y,o[t+8]=n.z,o[t+12]=n.w,o};var E=new t.o;d.getScale=function(e,n){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",n),n.x=t.o.magnitude(t.o.fromElements(e[0],e[1],e[2],E)),n.y=t.o.magnitude(t.o.fromElements(e[4],e[5],e[6],E)),n.z=t.o.magnitude(t.o.fromElements(e[8],e[9],e[10],E)),n};var M=new t.o;d.getMaximumScale=function(e){return d.getScale(e,M),t.o.maximumComponent(M)},d.multiply=function(e,t,n){r.o.typeOf.object("left",e),r.o.typeOf.object("right",t),r.o.typeOf.object("result",n);var o=e[0],a=e[1],u=e[2],i=e[3],s=e[4],c=e[5],f=e[6],l=e[7],p=e[8],y=e[9],b=e[10],O=e[11],m=e[12],h=e[13],d=e[14],x=e[15],j=t[0],g=t[1],v=t[2],E=t[3],M=t[4],w=t[5],R=t[6],T=t[7],A=t[8],z=t[9],N=t[10],C=t[11],I=t[12],S=t[13],L=t[14],q=t[15],F=o*j+s*g+p*v+m*E,P=a*j+c*g+y*v+h*E,W=u*j+f*g+b*v+d*E,U=i*j+l*g+O*v+x*E,B=o*M+s*w+p*R+m*T,k=a*M+c*w+y*R+h*T,V=u*M+f*w+b*R+d*T,_=i*M+l*w+O*R+x*T,D=o*A+s*z+p*N+m*C,Z=a*A+c*z+y*N+h*C,G=u*A+f*z+b*N+d*C,Y=i*A+l*z+O*N+x*C,Q=o*I+s*S+p*L+m*q,H=a*I+c*S+y*L+h*q,J=u*I+f*S+b*L+d*q,X=i*I+l*S+O*L+x*q;return n[0]=F,n[1]=P,n[2]=W,n[3]=U,n[4]=B,n[5]=k,n[6]=V,n[7]=_,n[8]=D,n[9]=Z,n[10]=G,n[11]=Y,n[12]=Q,n[13]=H,n[14]=J,n[15]=X,n},d.add=function(e,t,n){return r.o.typeOf.object("left",e),r.o.typeOf.object("right",t),r.o.typeOf.object("result",n),n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},d.subtract=function(e,t,n){return r.o.typeOf.object("left",e),r.o.typeOf.object("right",t),r.o.typeOf.object("result",n),n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n},d.multiplyTransformation=function(e,t,n){r.o.typeOf.object("left",e),r.o.typeOf.object("right",t),r.o.typeOf.object("result",n);var o=e[0],a=e[1],u=e[2],i=e[4],s=e[5],c=e[6],f=e[8],l=e[9],p=e[10],y=e[12],b=e[13],O=e[14],m=t[0],h=t[1],d=t[2],x=t[4],j=t[5],g=t[6],v=t[8],E=t[9],M=t[10],w=t[12],R=t[13],T=t[14],A=o*m+i*h+f*d,z=a*m+s*h+l*d,N=u*m+c*h+p*d,C=o*x+i*j+f*g,I=a*x+s*j+l*g,S=u*x+c*j+p*g,L=o*v+i*E+f*M,q=a*v+s*E+l*M,F=u*v+c*E+p*M,P=o*w+i*R+f*T+y,W=a*w+s*R+l*T+b,U=u*w+c*R+p*T+O;return n[0]=A,n[1]=z,n[2]=N,n[3]=0,n[4]=C,n[5]=I,n[6]=S,n[7]=0,n[8]=L,n[9]=q,n[10]=F,n[11]=0,n[12]=P,n[13]=W,n[14]=U,n[15]=1,n},d.multiplyByMatrix3=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("rotation",t),r.o.typeOf.object("result",n);var o=e[0],a=e[1],u=e[2],i=e[4],s=e[5],c=e[6],f=e[8],l=e[9],p=e[10],y=t[0],b=t[1],O=t[2],m=t[3],h=t[4],d=t[5],x=t[6],j=t[7],g=t[8],v=o*y+i*b+f*O,E=a*y+s*b+l*O,M=u*y+c*b+p*O,w=o*m+i*h+f*d,R=a*m+s*h+l*d,T=u*m+c*h+p*d,A=o*x+i*j+f*g,z=a*x+s*j+l*g,N=u*x+c*j+p*g;return n[0]=v,n[1]=E,n[2]=M,n[3]=0,n[4]=w,n[5]=R,n[6]=T,n[7]=0,n[8]=A,n[9]=z,n[10]=N,n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},d.multiplyByTranslation=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("translation",t),r.o.typeOf.object("result",n);var o=t.x,a=t.y,u=t.z,i=o*e[0]+a*e[4]+u*e[8]+e[12],s=o*e[1]+a*e[5]+u*e[9]+e[13],c=o*e[2]+a*e[6]+u*e[10]+e[14];return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=i,n[13]=s,n[14]=c,n[15]=e[15],n};var w=new t.o;d.multiplyByUniformScale=function(e,t,n){return r.o.typeOf.object("matrix",e),r.o.typeOf.number("scale",t),r.o.typeOf.object("result",n),w.x=t,w.y=t,w.z=t,d.multiplyByScale(e,w,n)},d.multiplyByScale=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("scale",t),r.o.typeOf.object("result",n);var o=t.x,a=t.y,u=t.z;return 1===o&&1===a&&1===u?d.clone(e,n):(n[0]=o*e[0],n[1]=o*e[1],n[2]=o*e[2],n[3]=0,n[4]=a*e[4],n[5]=a*e[5],n[6]=a*e[6],n[7]=0,n[8]=u*e[8],n[9]=u*e[9],n[10]=u*e[10],n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=1,n)},d.multiplyByVector=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("cartesian",t),r.o.typeOf.object("result",n);var o=t.x,a=t.y,u=t.z,i=t.w,s=e[0]*o+e[4]*a+e[8]*u+e[12]*i,c=e[1]*o+e[5]*a+e[9]*u+e[13]*i,f=e[2]*o+e[6]*a+e[10]*u+e[14]*i,l=e[3]*o+e[7]*a+e[11]*u+e[15]*i;return n.x=s,n.y=c,n.z=f,n.w=l,n},d.multiplyByPointAsVector=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("cartesian",t),r.o.typeOf.object("result",n);var o=t.x,a=t.y,u=t.z,i=e[0]*o+e[4]*a+e[8]*u,s=e[1]*o+e[5]*a+e[9]*u,c=e[2]*o+e[6]*a+e[10]*u;return n.x=i,n.y=s,n.z=c,n},d.multiplyByPoint=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("cartesian",t),r.o.typeOf.object("result",n);var o=t.x,a=t.y,u=t.z,i=e[0]*o+e[4]*a+e[8]*u+e[12],s=e[1]*o+e[5]*a+e[9]*u+e[13],c=e[2]*o+e[6]*a+e[10]*u+e[14];return n.x=i,n.y=s,n.z=c,n},d.multiplyByDirection=function(e,t,n){r.o.typeOf.object("matrix",e),r.o.typeOf.object("cartesian",t),r.o.typeOf.object("result",n);var o=t.x,a=t.y,u=t.z;return n.x=o*e[0]+a*e[4]+u*e[8],n.y=o*e[1]+a*e[5]+u*e[9],n.z=o*e[2]+a*e[6]+u*e[10],n},d.multiplyByScalar=function(e,t,n){return r.o.typeOf.object("matrix",e),r.o.typeOf.number("scalar",t),r.o.typeOf.object("result",n),n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},d.multiplyByPlane=function(e,o,a){r.o.typeOf.object("matrix",e),r.o.typeOf.object("plane",o),r.o.typeOf.object("result",a);var u=new d,i=new d;d.inverse(e,u),d.transpose(u,i);var s=new n.e(o.normal.x,o.normal.y,o.normal.z,o.distance);d.multiplyByVector(i,s,s),a.normal.x=s.x,a.normal.y=s.y,a.normal.z=s.z;var c=t.o.magnitude(a.normal);return t.o.normalize(a.normal,a.normal),a.distance=s.w/c,a},d.negate=function(e,t){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},d.transpose=function(e,t){r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t);var n=e[1],o=e[2],a=e[3],u=e[6],i=e[7],s=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=o,t[9]=u,t[10]=e[10],t[11]=e[14],t[12]=a,t[13]=i,t[14]=s,t[15]=e[15],t},d.abs=function(e,t){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},d.equals=function(e,t){return e===t||o.e(e)&&o.e(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},d.equalsEpsilon=function(e,t,n){return r.o.typeOf.number("epsilon",n),e===t||o.e(e)&&o.e(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n&&Math.abs(e[9]-t[9])<=n&&Math.abs(e[10]-t[10])<=n&&Math.abs(e[11]-t[11])<=n&&Math.abs(e[12]-t[12])<=n&&Math.abs(e[13]-t[13])<=n&&Math.abs(e[14]-t[14])<=n&&Math.abs(e[15]-t[15])<=n},d.getTranslation=function(e,t){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t),t.x=e[12],t.y=e[13],t.z=e[14],t},d.getMatrix3=function(e,t){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},d.getRotation=function(e,t){return r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var R=new s,T=new s,A=new n.e,z=new n.e(0,0,0,1);d.inverse=function(e,t){r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t);var o=e[0],i=e[4],c=e[8],f=e[12],l=e[1],p=e[5],y=e[9],b=e[13],O=e[2],m=e[6],h=e[10],x=e[14],j=e[3],g=e[7],v=e[11],E=e[15],M=h*E,w=x*v,N=m*E,C=x*g,I=m*v,S=h*g,L=O*E,q=x*j,F=O*v,P=h*j,W=O*g,U=m*j,B=M*p+C*y+I*b-(w*p+N*y+S*b),k=w*l+L*y+P*b-(M*l+q*y+F*b),V=N*l+q*p+W*b-(C*l+L*p+U*b),_=S*l+F*p+U*y-(I*l+P*p+W*y),D=w*i+N*c+S*f-(M*i+C*c+I*f),Z=M*o+q*c+F*f-(w*o+L*c+P*f),G=C*o+L*i+U*f-(N*o+q*i+W*f),Y=I*o+P*i+W*c-(S*o+F*i+U*c),Q=(M=c*b)*g+(C=f*p)*v+(I=i*y)*E-((w=f*y)*g+(N=i*b)*v+(S=c*p)*E),H=w*j+(L=o*b)*v+(P=c*l)*E-(M*j+(q=f*l)*v+(F=o*y)*E),J=N*j+q*g+(W=o*p)*E-(C*j+L*g+(U=i*l)*E),X=S*j+F*g+U*v-(I*j+P*g+W*v),K=N*h+S*x+w*m-(I*x+M*m+C*h),$=F*x+M*O+q*h-(L*h+P*x+w*O),ee=L*m+U*x+C*O-(W*x+N*O+q*m),te=W*h+I*O+P*m-(F*m+U*h+S*O),ne=o*B+i*k+c*V+f*_;if(Math.abs(ne)<a.e.EPSILON21){if(s.equalsEpsilon(d.getRotation(e,R),T,a.e.EPSILON5)&&n.e.equals(d.getRow(e,3,A),z))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new u.t("matrix is not invertible because its determinate is zero.")}return ne=1/ne,t[0]=B*ne,t[1]=k*ne,t[2]=V*ne,t[3]=_*ne,t[4]=D*ne,t[5]=Z*ne,t[6]=G*ne,t[7]=Y*ne,t[8]=Q*ne,t[9]=H*ne,t[10]=J*ne,t[11]=X*ne,t[12]=K*ne,t[13]=$*ne,t[14]=ee*ne,t[15]=te*ne,t},d.inverseTransformation=function(e,t){r.o.typeOf.object("matrix",e),r.o.typeOf.object("result",t);var n=e[0],o=e[1],a=e[2],u=e[4],i=e[5],s=e[6],c=e[8],f=e[9],l=e[10],p=e[12],y=e[13],b=e[14],O=-n*p-o*y-a*b,m=-u*p-i*y-s*b,h=-c*p-f*y-l*b;return t[0]=n,t[1]=u,t[2]=c,t[3]=0,t[4]=o,t[5]=i,t[6]=f,t[7]=0,t[8]=a,t[9]=s,t[10]=l,t[11]=0,t[12]=O,t[13]=m,t[14]=h,t[15]=1,t},d.IDENTITY=Object.freeze(new d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),d.ZERO=Object.freeze(new d(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),d.ConvertNDCToHalfZRange=Object.freeze(new d(1,0,0,0,0,1,0,0,0,0,.5,.5,0,0,0,1)),d.COLUMN0ROW0=0,d.COLUMN0ROW1=1,d.COLUMN0ROW2=2,d.COLUMN0ROW3=3,d.COLUMN1ROW0=4,d.COLUMN1ROW1=5,d.COLUMN1ROW2=6,d.COLUMN1ROW3=7,d.COLUMN2ROW0=8,d.COLUMN2ROW1=9,d.COLUMN2ROW2=10,d.COLUMN2ROW3=11,d.COLUMN3ROW0=12,d.COLUMN3ROW1=13,d.COLUMN3ROW2=14,d.COLUMN3ROW3=15,d.halfZRange=!1,Object.defineProperties(d.prototype,{length:{get:function(){return d.packedLength}}}),d.prototype.clone=function(e){return d.clone(this,e)},d.prototype.equals=function(e){return d.equals(this,e)},d.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},d.prototype.equalsEpsilon=function(e,t){return d.equalsEpsilon(this,e,t)},d.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},d.prototype.toArray=function(e,t){d.pack(this,e,t)};var N,C,I,S,L,q,F,P,W,U,B,k,V,_,D,Z,G,Y,Q,H,J,X={POINTS:i.d.POINTS,LINES:i.d.LINES,LINE_LOOP:i.d.LINE_LOOP,LINE_STRIP:i.d.LINE_STRIP,TRIANGLES:i.d.TRIANGLES,TRIANGLE_STRIP:i.d.TRIANGLE_STRIP,TRIANGLE_FAN:i.d.TRIANGLE_FAN,validate:function(e){return e===X.POINTS||e===X.LINES||e===X.LINE_LOOP||e===X.LINE_STRIP||e===X.TRIANGLES||e===X.TRIANGLE_STRIP||e===X.TRIANGLE_FAN}},K=Object.freeze(X),$={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},ee={};function te(e){for(var t=e.split("."),n=0,r=t.length;n<r;++n)t[n]=parseInt(t[n],10);return t}function ne(){if(!o.e(I)&&(I=!1,!ue())){var e=/ Chrome\/([\.0-9]+)/.exec(C.userAgent);null!==e&&(I=!0,S=te(e[1]))}return I}function re(){if(!o.e(L)&&(L=!1,!ne()&&!ue()&&/ Safari\/[\.0-9]+/.test(C.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(C.userAgent);null!==e&&(L=!0,q=te(e[1]))}return L}function oe(){if(!o.e(F)){F=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(C.userAgent);null!==e&&(F=!0,(P=te(e[1])).isNightly=!!e[2])}return F}function ae(){var e;o.e(W)||(W=!1,"Microsoft Internet Explorer"===C.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(C.userAgent))&&(W=!0,U=te(e[1])):"Netscape"===C.appName&&(null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(C.userAgent))&&(W=!0,U=te(e[1]))));return W}function ue(){if(!o.e(B)){B=!1;var e=/ Edge\/([\.0-9]+)/.exec(C.userAgent);null!==e&&(B=!0,k=te(e[1]))}return B}function ie(){if(!o.e(V)){V=!1;var e=/Firefox\/([\.0-9]+)/.exec(C.userAgent);null!==e&&(V=!0,_=te(e[1]))}return V}function se(){if(!o.e(Q)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var t=e.style.imageRendering;(Q=o.e(t)&&""!==t)&&(Y=t)}return Q}function ce(){if(o.e(J))return J.promise;J=o.o.defer(),ue()&&(H=!1,J.resolve(H));var e=new Image;return e.onload=function(){H=e.width>0&&e.height>0,J.resolve(H)},e.onerror=function(){H=!1,J.resolve(H)},e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",J.promise}Object.defineProperties(ee,{element:{get:function(){if(ee.supportsFullscreen())return document[$.fullscreenElement]}},changeEventName:{get:function(){if(ee.supportsFullscreen())return $.fullscreenchange}},errorEventName:{get:function(){if(ee.supportsFullscreen())return $.fullscreenerror}},enabled:{get:function(){if(ee.supportsFullscreen())return document[$.fullscreenEnabled]}},fullscreen:{get:function(){if(ee.supportsFullscreen())return null!==ee.element}}}),ee.supportsFullscreen=function(){if(o.e(N))return N;N=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return $.requestFullscreen="requestFullscreen",$.exitFullscreen="exitFullscreen",$.fullscreenEnabled="fullscreenEnabled",$.fullscreenElement="fullscreenElement",$.fullscreenchange="fullscreenchange",$.fullscreenerror="fullscreenerror",N=!0;for(var t,n=["webkit","moz","o","ms","khtml"],r=0,a=n.length;r<a;++r){var u=n[r];"function"==typeof e[t=u+"RequestFullscreen"]?($.requestFullscreen=t,N=!0):"function"==typeof e[t=u+"RequestFullScreen"]&&($.requestFullscreen=t,N=!0),t=u+"ExitFullscreen","function"==typeof document[t]?$.exitFullscreen=t:(t=u+"CancelFullScreen","function"==typeof document[t]&&($.exitFullscreen=t)),t=u+"FullscreenEnabled",void 0!==document[t]?$.fullscreenEnabled=t:(t=u+"FullScreenEnabled",void 0!==document[t]&&($.fullscreenEnabled=t)),t=u+"FullscreenElement",void 0!==document[t]?$.fullscreenElement=t:(t=u+"FullScreenElement",void 0!==document[t]&&($.fullscreenElement=t)),t=u+"fullscreenchange",void 0!==document["on"+t]&&("ms"===u&&(t="MSFullscreenChange"),$.fullscreenchange=t),t=u+"fullscreenerror",void 0!==document["on"+t]&&("ms"===u&&(t="MSFullscreenError"),$.fullscreenerror=t)}return N},ee.requestFullscreen=function(e,t){!ee.supportsFullscreen()||e[$.requestFullscreen]({vrDisplay:t})},ee.exitFullscreen=function(){!ee.supportsFullscreen()||document[$.exitFullscreen]()},ee._names=$,C=typeof navigator<"u"?navigator:{};var fe=[];typeof ArrayBuffer<"u"&&(fe.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),typeof Uint8ClampedArray<"u"&&fe.push(Uint8ClampedArray),typeof CanvasPixelArray<"u"&&fe.push(CanvasPixelArray));var le={isChrome:ne,chromeVersion:function(){return ne()&&S},isSafari:re,safariVersion:function(){return re()&&q},isWebkit:oe,webkitVersion:function(){return oe()&&P},isInternetExplorer:ae,internetExplorerVersion:function(){return ae()&&U},isEdge:ue,edgeVersion:function(){return ue()&&k},isFirefox:ie,firefoxVersion:function(){return ie()&&_},isWindows:function(){return o.e(D)||(D=/Windows/i.test(C.appVersion)),D},isNodeJs:function(){return o.e(Z)||(Z="object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)),Z},hardwareConcurrency:o.u(C.hardwareConcurrency,3),supportsPointerEvents:function(){return o.e(G)||(G=!ie()&&typeof PointerEvent<"u"&&(!o.e(C.pointerEnabled)||C.pointerEnabled)),G},supportsImageRenderingPixelated:se,supportsWebP:ce,supportsWebPSync:function(){return o.e(J)||ce(),H},imageRenderingValue:function(){return se()?Y:void 0},typedArrayTypes:fe,isPCBroswer:function(){var e=window.navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),n="iphone os"==e.match(/iphone os/i),r="midp"==e.match(/midp/i),o="ucweb"==e.match(/ucweb/i),a="android"==e.match(/android/i),u="windows ce"==e.match(/windows ce/i),i="windows mobile"==e.match(/windows mobile/i);return!(t||n||r||o||a||u||i)}};le.supportsFullscreen=function(){return ee.supportsFullscreen()},le.supportsTypedArrays=function(){return typeof ArrayBuffer<"u"},le.supportsWebWorkers=function(){return typeof Worker<"u"},le.supportsWebAssembly=function(){return typeof WebAssembly<"u"&&!le.isEdge()},le.supportsOffscreenCanvas=function(){return typeof OffscreenCanvas<"u"&&!le.isEdge()},e._0x4b6a27=K,e.p=d,e.p$1=s,e.s=le}));
