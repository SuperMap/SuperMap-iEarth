import{a as p0}from"./chunk-6S43R6PL.js";import{a as u}from"./chunk-Z4SOZDEW.js";import{a as $}from"./chunk-EHDXVZQM.js";import{a as r}from"./chunk-ZVKIUA3Y.js";import{a as q}from"./chunk-LBR6REQR.js";import{a as y0}from"./chunk-GXFCHGTA.js";import{a as S}from"./chunk-UBHQMGET.js";import{a as O}from"./chunk-EDZQSM3T.js";import{a as F}from"./chunk-NUC3LT2W.js";function y(o,n,v,c,f,b,p,R,w,j,M,z,h,T,E,N){this[0]=S(o,0),this[1]=S(f,0),this[2]=S(w,0),this[3]=S(h,0),this[4]=S(n,0),this[5]=S(b,0),this[6]=S(j,0),this[7]=S(T,0),this[8]=S(v,0),this[9]=S(p,0),this[10]=S(M,0),this[11]=S(E,0),this[12]=S(c,0),this[13]=S(R,0),this[14]=S(z,0),this[15]=S(N,0),this.isMatrix4=!0}y.packedLength=16;y.pack=function(o,n,v){return O.typeOf.object("value",o),O.defined("array",n),v=S(v,0),n[v++]=o[0],n[v++]=o[1],n[v++]=o[2],n[v++]=o[3],n[v++]=o[4],n[v++]=o[5],n[v++]=o[6],n[v++]=o[7],n[v++]=o[8],n[v++]=o[9],n[v++]=o[10],n[v++]=o[11],n[v++]=o[12],n[v++]=o[13],n[v++]=o[14],n[v]=o[15],n};y.unpack=function(o,n,v){return O.defined("array",o),n=S(n,0),F(v)||(v=new y),v[0]=o[n++],v[1]=o[n++],v[2]=o[n++],v[3]=o[n++],v[4]=o[n++],v[5]=o[n++],v[6]=o[n++],v[7]=o[n++],v[8]=o[n++],v[9]=o[n++],v[10]=o[n++],v[11]=o[n++],v[12]=o[n++],v[13]=o[n++],v[14]=o[n++],v[15]=o[n],v};y.clone=function(o,n){if(!!F(o))return F(n)?(n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n):new y(o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14],o[3],o[7],o[11],o[15])};y.fromArray=y.unpack;y.fromColumnMajorArray=function(o,n){return O.defined("values",o),y.clone(o,n)};y.fromRowMajorArray=function(o,n){return O.defined("values",o),F(n)?(n[0]=o[0],n[1]=o[4],n[2]=o[8],n[3]=o[12],n[4]=o[1],n[5]=o[5],n[6]=o[9],n[7]=o[13],n[8]=o[2],n[9]=o[6],n[10]=o[10],n[11]=o[14],n[12]=o[3],n[13]=o[7],n[14]=o[11],n[15]=o[15],n):new y(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])};y.fromRotationTranslation=function(o,n,v){return O.typeOf.object("rotation",o),n=S(n,q.ZERO),F(v)?(v[0]=o[0],v[1]=o[1],v[2]=o[2],v[3]=0,v[4]=o[3],v[5]=o[4],v[6]=o[5],v[7]=0,v[8]=o[6],v[9]=o[7],v[10]=o[8],v[11]=0,v[12]=n.x,v[13]=n.y,v[14]=n.z,v[15]=1,v):new y(o[0],o[3],o[6],n.x,o[1],o[4],o[7],n.y,o[2],o[5],o[8],n.z,0,0,0,1)};y.fromTranslationQuaternionRotationScale=function(o,n,v,c){O.typeOf.object("translation",o),O.typeOf.object("rotation",n),O.typeOf.object("scale",v),F(c)||(c=new y);var f=v.x,b=v.y,p=v.z,R=n.x*n.x,w=n.x*n.y,j=n.x*n.z,M=n.x*n.w,z=n.y*n.y,h=n.y*n.z,T=n.y*n.w,E=n.z*n.z,N=n.z*n.w,L=n.w*n.w,C=R-z-E+L,P=2*(w-N),A=2*(j+T),Z=2*(w+N),U=-R+z-E+L,W=2*(h-M),_=2*(j-T),B=2*(h+M),d=-R-z+E+L;return c[0]=C*f,c[1]=Z*f,c[2]=_*f,c[3]=0,c[4]=P*b,c[5]=U*b,c[6]=B*b,c[7]=0,c[8]=A*p,c[9]=W*p,c[10]=d*p,c[11]=0,c[12]=o.x,c[13]=o.y,c[14]=o.z,c[15]=1,c};y.fromTranslationRotationScale=function(o,n){return O.typeOf.object("translationRotationScale",o),y.fromTranslationQuaternionRotationScale(o.translation,o.rotation,o.scale,n)};y.fromTranslation=function(o,n){return O.typeOf.object("translation",o),y.fromRotationTranslation(u.IDENTITY,o,n)};y.fromScale=function(o,n){return O.typeOf.object("scale",o),F(n)?(n[0]=o.x,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o.y,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=o.z,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new y(o.x,0,0,0,0,o.y,0,0,0,0,o.z,0,0,0,0,1)};y.fromUniformScale=function(o,n){return O.typeOf.number("scale",o),F(n)?(n[0]=o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new y(o,0,0,0,0,o,0,0,0,0,o,0,0,0,0,1)};var a=new q,g=new q,s=new q;y.fromCamera=function(o,n){O.typeOf.object("camera",o);var v=o.position,c=o.direction,f=o.up;O.typeOf.object("camera.position",v),O.typeOf.object("camera.direction",c),O.typeOf.object("camera.up",f),q.normalize(c,a),q.normalize(q.cross(a,f,g),g),q.normalize(q.cross(g,a,s),s);var b=g.x,p=g.y,R=g.z,w=a.x,j=a.y,M=a.z,z=s.x,h=s.y,T=s.z,E=v.x,N=v.y,L=v.z,C=b*-E+p*-N+R*-L,P=z*-E+h*-N+T*-L,A=w*E+j*N+M*L;return F(n)?(n[0]=b,n[1]=z,n[2]=-w,n[3]=0,n[4]=p,n[5]=h,n[6]=-j,n[7]=0,n[8]=R,n[9]=T,n[10]=-M,n[11]=0,n[12]=C,n[13]=P,n[14]=A,n[15]=1,n):new y(b,p,R,C,z,h,T,P,-w,-j,-M,A,0,0,0,1)};y.computePerspectiveFieldOfView=function(o,n,v,c,f){O.typeOf.number.greaterThan("fovY",o,0),O.typeOf.number.lessThan("fovY",o,Math.PI),O.typeOf.number.greaterThan("near",v,0),O.typeOf.number.greaterThan("far",c,0),O.typeOf.object("result",f);var b=Math.tan(o*.5),p=1/b,R=p/n,w=(c+v)/(v-c),j=2*c*v/(v-c);return f[0]=R,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=p,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=w,f[11]=-1,f[12]=0,f[13]=0,f[14]=j,f[15]=0,f};y.computeOrthographicOffCenter=function(o,n,v,c,f,b,p){O.typeOf.number("left",o),O.typeOf.number("right",n),O.typeOf.number("bottom",v),O.typeOf.number("top",c),O.typeOf.number("near",f),O.typeOf.number("far",b),O.typeOf.object("result",p);var R=1/(n-o),w=1/(c-v),j=1/(b-f),M=-(n+o)*R,z=-(c+v)*w,h=-(b+f)*j;return R*=2,w*=2,j*=-2,p[0]=R,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=w,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=j,p[11]=0,p[12]=M,p[13]=z,p[14]=h,p[15]=1,y.halfZRange&&y.multiply(y.ConvertNDCToHalfZRange,p,p),p};y.computePerspectiveOffCenter=function(o,n,v,c,f,b,p){O.typeOf.number("left",o),O.typeOf.number("right",n),O.typeOf.number("bottom",v),O.typeOf.number("top",c),O.typeOf.number("near",f),O.typeOf.number("far",b),O.typeOf.object("result",p);var R=2*f/(n-o),w=2*f/(c-v),j=(n+o)/(n-o),M=(c+v)/(c-v),z=-(b+f)/(b-f),h=-1,T=-2*b*f/(b-f);return p[0]=R,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=w,p[6]=0,p[7]=0,p[8]=j,p[9]=M,p[10]=z,p[11]=h,p[12]=0,p[13]=0,p[14]=T,p[15]=0,y.halfZRange&&y.multiply(y.ConvertNDCToHalfZRange,p,p),p};y.computeInfinitePerspectiveOffCenter=function(o,n,v,c,f,b){O.typeOf.number("left",o),O.typeOf.number("right",n),O.typeOf.number("bottom",v),O.typeOf.number("top",c),O.typeOf.number("near",f),O.typeOf.object("result",b);var p=2*f/(n-o),R=2*f/(c-v),w=(n+o)/(n-o),j=(c+v)/(c-v),M=-1,z=-1,h=-2*f;return b[0]=p,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=R,b[6]=0,b[7]=0,b[8]=w,b[9]=j,b[10]=M,b[11]=z,b[12]=0,b[13]=0,b[14]=h,b[15]=0,y.halfZRange&&y.multiply(y.ConvertNDCToHalfZRange,b,b),b};y.computeViewportTransformation=function(o,n,v,c){O.typeOf.object("result",c),o=S(o,S.EMPTY_OBJECT);var f=S(o.x,0),b=S(o.y,0),p=S(o.width,0),R=S(o.height,0);n=S(n,0),v=S(v,1);var w=p*.5,j=R*.5,M=(v-n)*.5,z=w,h=j,T=M,E=f+w,N=b+j,L=n+M,C=1;return c[0]=z,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=h,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=T,c[11]=0,c[12]=E,c[13]=N,c[14]=L,c[15]=C,c};y.computeView=function(o,n,v,c,f){return O.typeOf.object("position",o),O.typeOf.object("direction",n),O.typeOf.object("up",v),O.typeOf.object("right",c),O.typeOf.object("result",f),f[0]=c.x,f[1]=v.x,f[2]=-n.x,f[3]=0,f[4]=c.y,f[5]=v.y,f[6]=-n.y,f[7]=0,f[8]=c.z,f[9]=v.z,f[10]=-n.z,f[11]=0,f[12]=-q.dot(c,o),f[13]=-q.dot(v,o),f[14]=q.dot(n,o),f[15]=1,f};y.toArray=function(o,n){return O.typeOf.object("matrix",o),F(n)?(n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n):[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]]};y.getElementIndex=function(o,n){return O.typeOf.number.greaterThanOrEquals("row",n,0),O.typeOf.number.lessThanOrEquals("row",n,3),O.typeOf.number.greaterThanOrEquals("column",o,0),O.typeOf.number.lessThanOrEquals("column",o,3),o*4+n};y.getColumn=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.number.greaterThanOrEquals("index",n,0),O.typeOf.number.lessThanOrEquals("index",n,3),O.typeOf.object("result",v);var c=n*4,f=o[c],b=o[c+1],p=o[c+2],R=o[c+3];return v.x=f,v.y=b,v.z=p,v.w=R,v};y.setColumn=function(o,n,v,c){O.typeOf.object("matrix",o),O.typeOf.number.greaterThanOrEquals("index",n,0),O.typeOf.number.lessThanOrEquals("index",n,3),O.typeOf.object("cartesian",v),O.typeOf.object("result",c),c=y.clone(o,c);var f=n*4;return c[f]=v.x,c[f+1]=v.y,c[f+2]=v.z,c[f+3]=v.w,c};y.setTranslation=function(o,n,v){return O.typeOf.object("matrix",o),O.typeOf.object("translation",n),O.typeOf.object("result",v),v[0]=o[0],v[1]=o[1],v[2]=o[2],v[3]=o[3],v[4]=o[4],v[5]=o[5],v[6]=o[6],v[7]=o[7],v[8]=o[8],v[9]=o[9],v[10]=o[10],v[11]=o[11],v[12]=n.x,v[13]=n.y,v[14]=n.z,v[15]=o[15],v};var R0=new q;y.setScale=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("scale",n),O.typeOf.object("result",v);var c=y.getScale(o,R0),f=q.divideComponents(n,c,R0);return y.multiplyByScale(o,f,v)};y.getRow=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.number.greaterThanOrEquals("index",n,0),O.typeOf.number.lessThanOrEquals("index",n,3),O.typeOf.object("result",v);var c=o[n],f=o[n+4],b=o[n+8],p=o[n+12];return v.x=c,v.y=f,v.z=b,v.w=p,v};y.setRow=function(o,n,v,c){return O.typeOf.object("matrix",o),O.typeOf.number.greaterThanOrEquals("index",n,0),O.typeOf.number.lessThanOrEquals("index",n,3),O.typeOf.object("cartesian",v),O.typeOf.object("result",c),c=y.clone(o,c),c[n]=v.x,c[n+4]=v.y,c[n+8]=v.z,c[n+12]=v.w,c};var b0=new q;y.getScale=function(o,n){return O.typeOf.object("matrix",o),O.typeOf.object("result",n),n.x=q.magnitude(q.fromElements(o[0],o[1],o[2],b0)),n.y=q.magnitude(q.fromElements(o[4],o[5],o[6],b0)),n.z=q.magnitude(q.fromElements(o[8],o[9],o[10],b0)),n};var w0=new q;y.getMaximumScale=function(o){return y.getScale(o,w0),q.maximumComponent(w0)};y.multiply=function(o,n,v){O.typeOf.object("left",o),O.typeOf.object("right",n),O.typeOf.object("result",v);var c=o[0],f=o[1],b=o[2],p=o[3],R=o[4],w=o[5],j=o[6],M=o[7],z=o[8],h=o[9],T=o[10],E=o[11],N=o[12],L=o[13],C=o[14],P=o[15],A=n[0],Z=n[1],U=n[2],W=n[3],_=n[4],B=n[5],d=n[6],I=n[7],Y=n[8],X=n[9],k=n[10],H=n[11],D=n[12],Q=n[13],J=n[14],K=n[15],m=c*A+R*Z+z*U+N*W,e=f*A+w*Z+h*U+L*W,i=b*A+j*Z+T*U+C*W,x=p*A+M*Z+E*U+P*W,t=c*_+R*B+z*d+N*I,o0=f*_+w*B+h*d+L*I,n0=b*_+j*B+T*d+C*I,v0=p*_+M*B+E*d+P*I,c0=c*Y+R*X+z*k+N*H,O0=f*Y+w*X+h*k+L*H,f0=b*Y+j*X+T*k+C*H,G=p*Y+M*X+E*k+P*H,j0=c*D+R*Q+z*J+N*K,M0=f*D+w*Q+h*J+L*K,z0=b*D+j*Q+T*J+C*K,h0=p*D+M*Q+E*J+P*K;return v[0]=m,v[1]=e,v[2]=i,v[3]=x,v[4]=t,v[5]=o0,v[6]=n0,v[7]=v0,v[8]=c0,v[9]=O0,v[10]=f0,v[11]=G,v[12]=j0,v[13]=M0,v[14]=z0,v[15]=h0,v};y.add=function(o,n,v){return O.typeOf.object("left",o),O.typeOf.object("right",n),O.typeOf.object("result",v),v[0]=o[0]+n[0],v[1]=o[1]+n[1],v[2]=o[2]+n[2],v[3]=o[3]+n[3],v[4]=o[4]+n[4],v[5]=o[5]+n[5],v[6]=o[6]+n[6],v[7]=o[7]+n[7],v[8]=o[8]+n[8],v[9]=o[9]+n[9],v[10]=o[10]+n[10],v[11]=o[11]+n[11],v[12]=o[12]+n[12],v[13]=o[13]+n[13],v[14]=o[14]+n[14],v[15]=o[15]+n[15],v};y.subtract=function(o,n,v){return O.typeOf.object("left",o),O.typeOf.object("right",n),O.typeOf.object("result",v),v[0]=o[0]-n[0],v[1]=o[1]-n[1],v[2]=o[2]-n[2],v[3]=o[3]-n[3],v[4]=o[4]-n[4],v[5]=o[5]-n[5],v[6]=o[6]-n[6],v[7]=o[7]-n[7],v[8]=o[8]-n[8],v[9]=o[9]-n[9],v[10]=o[10]-n[10],v[11]=o[11]-n[11],v[12]=o[12]-n[12],v[13]=o[13]-n[13],v[14]=o[14]-n[14],v[15]=o[15]-n[15],v};y.multiplyTransformation=function(o,n,v){O.typeOf.object("left",o),O.typeOf.object("right",n),O.typeOf.object("result",v);var c=o[0],f=o[1],b=o[2],p=o[4],R=o[5],w=o[6],j=o[8],M=o[9],z=o[10],h=o[12],T=o[13],E=o[14],N=n[0],L=n[1],C=n[2],P=n[4],A=n[5],Z=n[6],U=n[8],W=n[9],_=n[10],B=n[12],d=n[13],I=n[14],Y=c*N+p*L+j*C,X=f*N+R*L+M*C,k=b*N+w*L+z*C,H=c*P+p*A+j*Z,D=f*P+R*A+M*Z,Q=b*P+w*A+z*Z,J=c*U+p*W+j*_,K=f*U+R*W+M*_,m=b*U+w*W+z*_,e=c*B+p*d+j*I+h,i=f*B+R*d+M*I+T,x=b*B+w*d+z*I+E;return v[0]=Y,v[1]=X,v[2]=k,v[3]=0,v[4]=H,v[5]=D,v[6]=Q,v[7]=0,v[8]=J,v[9]=K,v[10]=m,v[11]=0,v[12]=e,v[13]=i,v[14]=x,v[15]=1,v};y.multiplyByMatrix3=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("rotation",n),O.typeOf.object("result",v);var c=o[0],f=o[1],b=o[2],p=o[4],R=o[5],w=o[6],j=o[8],M=o[9],z=o[10],h=n[0],T=n[1],E=n[2],N=n[3],L=n[4],C=n[5],P=n[6],A=n[7],Z=n[8],U=c*h+p*T+j*E,W=f*h+R*T+M*E,_=b*h+w*T+z*E,B=c*N+p*L+j*C,d=f*N+R*L+M*C,I=b*N+w*L+z*C,Y=c*P+p*A+j*Z,X=f*P+R*A+M*Z,k=b*P+w*A+z*Z;return v[0]=U,v[1]=W,v[2]=_,v[3]=0,v[4]=B,v[5]=d,v[6]=I,v[7]=0,v[8]=Y,v[9]=X,v[10]=k,v[11]=0,v[12]=o[12],v[13]=o[13],v[14]=o[14],v[15]=o[15],v};y.multiplyByTranslation=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("translation",n),O.typeOf.object("result",v);var c=n.x,f=n.y,b=n.z,p=c*o[0]+f*o[4]+b*o[8]+o[12],R=c*o[1]+f*o[5]+b*o[9]+o[13],w=c*o[2]+f*o[6]+b*o[10]+o[14];return v[0]=o[0],v[1]=o[1],v[2]=o[2],v[3]=o[3],v[4]=o[4],v[5]=o[5],v[6]=o[6],v[7]=o[7],v[8]=o[8],v[9]=o[9],v[10]=o[10],v[11]=o[11],v[12]=p,v[13]=R,v[14]=w,v[15]=o[15],v};var l=new q;y.multiplyByUniformScale=function(o,n,v){return O.typeOf.object("matrix",o),O.typeOf.number("scale",n),O.typeOf.object("result",v),l.x=n,l.y=n,l.z=n,y.multiplyByScale(o,l,v)};y.multiplyByScale=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("scale",n),O.typeOf.object("result",v);var c=n.x,f=n.y,b=n.z;return c===1&&f===1&&b===1?y.clone(o,v):(v[0]=c*o[0],v[1]=c*o[1],v[2]=c*o[2],v[3]=0,v[4]=f*o[4],v[5]=f*o[5],v[6]=f*o[6],v[7]=0,v[8]=b*o[8],v[9]=b*o[9],v[10]=b*o[10],v[11]=0,v[12]=o[12],v[13]=o[13],v[14]=o[14],v[15]=1,v)};y.multiplyByVector=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("cartesian",n),O.typeOf.object("result",v);var c=n.x,f=n.y,b=n.z,p=n.w,R=o[0]*c+o[4]*f+o[8]*b+o[12]*p,w=o[1]*c+o[5]*f+o[9]*b+o[13]*p,j=o[2]*c+o[6]*f+o[10]*b+o[14]*p,M=o[3]*c+o[7]*f+o[11]*b+o[15]*p;return v.x=R,v.y=w,v.z=j,v.w=M,v};y.multiplyByPointAsVector=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("cartesian",n),O.typeOf.object("result",v);var c=n.x,f=n.y,b=n.z,p=o[0]*c+o[4]*f+o[8]*b,R=o[1]*c+o[5]*f+o[9]*b,w=o[2]*c+o[6]*f+o[10]*b;return v.x=p,v.y=R,v.z=w,v};y.multiplyByPoint=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("cartesian",n),O.typeOf.object("result",v);var c=n.x,f=n.y,b=n.z,p=o[0]*c+o[4]*f+o[8]*b+o[12],R=o[1]*c+o[5]*f+o[9]*b+o[13],w=o[2]*c+o[6]*f+o[10]*b+o[14];return v.x=p,v.y=R,v.z=w,v};y.multiplyByDirection=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("cartesian",n),O.typeOf.object("result",v);var c=n.x,f=n.y,b=n.z;return v.x=c*o[0]+f*o[4]+b*o[8],v.y=c*o[1]+f*o[5]+b*o[9],v.z=c*o[2]+f*o[6]+b*o[10],v};y.multiplyByScalar=function(o,n,v){return O.typeOf.object("matrix",o),O.typeOf.number("scalar",n),O.typeOf.object("result",v),v[0]=o[0]*n,v[1]=o[1]*n,v[2]=o[2]*n,v[3]=o[3]*n,v[4]=o[4]*n,v[5]=o[5]*n,v[6]=o[6]*n,v[7]=o[7]*n,v[8]=o[8]*n,v[9]=o[9]*n,v[10]=o[10]*n,v[11]=o[11]*n,v[12]=o[12]*n,v[13]=o[13]*n,v[14]=o[14]*n,v[15]=o[15]*n,v};y.multiplyByPlane=function(o,n,v){O.typeOf.object("matrix",o),O.typeOf.object("plane",n),O.typeOf.object("result",v);var c=new y,f=new y;y.inverse(o,c),y.transpose(c,f);var b=new r(n.normal.x,n.normal.y,n.normal.z,n.distance);y.multiplyByVector(f,b,b),v.normal.x=b.x,v.normal.y=b.y,v.normal.z=b.z;var p=q.magnitude(v.normal);return q.normalize(v.normal,v.normal),v.distance=b.w/p,v};y.negate=function(o,n){return O.typeOf.object("matrix",o),O.typeOf.object("result",n),n[0]=-o[0],n[1]=-o[1],n[2]=-o[2],n[3]=-o[3],n[4]=-o[4],n[5]=-o[5],n[6]=-o[6],n[7]=-o[7],n[8]=-o[8],n[9]=-o[9],n[10]=-o[10],n[11]=-o[11],n[12]=-o[12],n[13]=-o[13],n[14]=-o[14],n[15]=-o[15],n};y.transpose=function(o,n){O.typeOf.object("matrix",o),O.typeOf.object("result",n);var v=o[1],c=o[2],f=o[3],b=o[6],p=o[7],R=o[11];return n[0]=o[0],n[1]=o[4],n[2]=o[8],n[3]=o[12],n[4]=v,n[5]=o[5],n[6]=o[9],n[7]=o[13],n[8]=c,n[9]=b,n[10]=o[10],n[11]=o[14],n[12]=f,n[13]=p,n[14]=R,n[15]=o[15],n};y.abs=function(o,n){return O.typeOf.object("matrix",o),O.typeOf.object("result",n),n[0]=Math.abs(o[0]),n[1]=Math.abs(o[1]),n[2]=Math.abs(o[2]),n[3]=Math.abs(o[3]),n[4]=Math.abs(o[4]),n[5]=Math.abs(o[5]),n[6]=Math.abs(o[6]),n[7]=Math.abs(o[7]),n[8]=Math.abs(o[8]),n[9]=Math.abs(o[9]),n[10]=Math.abs(o[10]),n[11]=Math.abs(o[11]),n[12]=Math.abs(o[12]),n[13]=Math.abs(o[13]),n[14]=Math.abs(o[14]),n[15]=Math.abs(o[15]),n};y.equals=function(o,n){return o===n||F(o)&&F(n)&&o[12]===n[12]&&o[13]===n[13]&&o[14]===n[14]&&o[0]===n[0]&&o[1]===n[1]&&o[2]===n[2]&&o[4]===n[4]&&o[5]===n[5]&&o[6]===n[6]&&o[8]===n[8]&&o[9]===n[9]&&o[10]===n[10]&&o[3]===n[3]&&o[7]===n[7]&&o[11]===n[11]&&o[15]===n[15]};y.equalsEpsilon=function(o,n,v){return O.typeOf.number("epsilon",v),o===n||F(o)&&F(n)&&Math.abs(o[0]-n[0])<=v&&Math.abs(o[1]-n[1])<=v&&Math.abs(o[2]-n[2])<=v&&Math.abs(o[3]-n[3])<=v&&Math.abs(o[4]-n[4])<=v&&Math.abs(o[5]-n[5])<=v&&Math.abs(o[6]-n[6])<=v&&Math.abs(o[7]-n[7])<=v&&Math.abs(o[8]-n[8])<=v&&Math.abs(o[9]-n[9])<=v&&Math.abs(o[10]-n[10])<=v&&Math.abs(o[11]-n[11])<=v&&Math.abs(o[12]-n[12])<=v&&Math.abs(o[13]-n[13])<=v&&Math.abs(o[14]-n[14])<=v&&Math.abs(o[15]-n[15])<=v};y.getTranslation=function(o,n){return O.typeOf.object("matrix",o),O.typeOf.object("result",n),n.x=o[12],n.y=o[13],n.z=o[14],n};y.getMatrix3=function(o,n){return O.typeOf.object("matrix",o),O.typeOf.object("result",n),n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[4],n[4]=o[5],n[5]=o[6],n[6]=o[8],n[7]=o[9],n[8]=o[10],n};y.getRotation=function(o,n){return O.typeOf.object("matrix",o),O.typeOf.object("result",n),n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[4],n[4]=o[5],n[5]=o[6],n[6]=o[8],n[7]=o[9],n[8]=o[10],n};var T0=new u,N0=new u,E0=new r,L0=new r(0,0,0,1);y.inverse=function(o,n){O.typeOf.object("matrix",o),O.typeOf.object("result",n);var v=o[0],c=o[4],f=o[8],b=o[12],p=o[1],R=o[5],w=o[9],j=o[13],M=o[2],z=o[6],h=o[10],T=o[14],E=o[3],N=o[7],L=o[11],C=o[15],P=h*C,A=T*L,Z=z*C,U=T*N,W=z*L,_=h*N,B=M*C,d=T*E,I=M*L,Y=h*E,X=M*N,k=z*E,H=P*R+U*w+W*j-(A*R+Z*w+_*j),D=A*p+B*w+Y*j-(P*p+d*w+I*j),Q=Z*p+d*R+X*j-(U*p+B*R+k*j),J=_*p+I*R+k*w-(W*p+Y*R+X*w),K=A*c+Z*f+_*b-(P*c+U*f+W*b),m=P*v+d*f+I*b-(A*v+B*f+Y*b),e=U*v+B*c+k*b-(Z*v+d*c+X*b),i=W*v+Y*c+X*f-(_*v+I*c+k*f);P=f*j,A=b*w,Z=c*j,U=b*R,W=c*w,_=f*R,B=v*j,d=b*p,I=v*w,Y=f*p,X=v*R,k=c*p;var x=P*N+U*L+W*C-(A*N+Z*L+_*C),t=A*E+B*L+Y*C-(P*E+d*L+I*C),o0=Z*E+d*N+X*C-(U*E+B*N+k*C),n0=_*E+I*N+k*L-(W*E+Y*N+X*L),v0=Z*h+_*T+A*z-(W*T+P*z+U*h),c0=I*T+P*M+d*h-(B*h+Y*T+A*M),O0=B*z+k*T+U*M-(X*T+Z*M+d*z),f0=X*h+W*M+Y*z-(I*z+k*h+_*M),G=v*H+c*D+f*Q+b*J;if(Math.abs(G)<y0.EPSILON21){if(u.equalsEpsilon(y.getRotation(o,T0),N0,y0.EPSILON5)&&r.equals(y.getRow(o,3,E0),L0))return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=-o[12],n[13]=-o[13],n[14]=-o[14],n[15]=1,n;throw new p0("matrix is not invertible because its determinate is zero.")}return G=1/G,n[0]=H*G,n[1]=D*G,n[2]=Q*G,n[3]=J*G,n[4]=K*G,n[5]=m*G,n[6]=e*G,n[7]=i*G,n[8]=x*G,n[9]=t*G,n[10]=o0*G,n[11]=n0*G,n[12]=v0*G,n[13]=c0*G,n[14]=O0*G,n[15]=f0*G,n};y.inverseTransformation=function(o,n){O.typeOf.object("matrix",o),O.typeOf.object("result",n);var v=o[0],c=o[1],f=o[2],b=o[4],p=o[5],R=o[6],w=o[8],j=o[9],M=o[10],z=o[12],h=o[13],T=o[14],E=-v*z-c*h-f*T,N=-b*z-p*h-R*T,L=-w*z-j*h-M*T;return n[0]=v,n[1]=b,n[2]=w,n[3]=0,n[4]=c,n[5]=p,n[6]=j,n[7]=0,n[8]=f,n[9]=R,n[10]=M,n[11]=0,n[12]=E,n[13]=N,n[14]=L,n[15]=1,n};var C0=new y;y.inverseTranspose=function(o,n){return O.typeOf.object("matrix",o),O.typeOf.object("result",n),y.inverse(y.transpose(o,C0),n)};y.IDENTITY=Object.freeze(new y(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1));y.ZERO=Object.freeze(new y(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0));y.ConvertNDCToHalfZRange=Object.freeze(new y(1,0,0,0,0,1,0,0,0,0,.5,.5,0,0,0,1));y.COLUMN0ROW0=0;y.COLUMN0ROW1=1;y.COLUMN0ROW2=2;y.COLUMN0ROW3=3;y.COLUMN1ROW0=4;y.COLUMN1ROW1=5;y.COLUMN1ROW2=6;y.COLUMN1ROW3=7;y.COLUMN2ROW0=8;y.COLUMN2ROW1=9;y.COLUMN2ROW2=10;y.COLUMN2ROW3=11;y.COLUMN3ROW0=12;y.COLUMN3ROW1=13;y.COLUMN3ROW2=14;y.COLUMN3ROW3=15;y.halfZRange=!1;Object.defineProperties(y.prototype,{length:{get:function(){return y.packedLength}}});y.prototype.clone=function(o){return y.clone(this,o)};y.prototype.equals=function(o){return y.equals(this,o)};y.equalsArray=function(o,n,v){return o[0]===n[v]&&o[1]===n[v+1]&&o[2]===n[v+2]&&o[3]===n[v+3]&&o[4]===n[v+4]&&o[5]===n[v+5]&&o[6]===n[v+6]&&o[7]===n[v+7]&&o[8]===n[v+8]&&o[9]===n[v+9]&&o[10]===n[v+10]&&o[11]===n[v+11]&&o[12]===n[v+12]&&o[13]===n[v+13]&&o[14]===n[v+14]&&o[15]===n[v+15]};y.prototype.equalsEpsilon=function(o,n){return y.equalsEpsilon(this,o,n)};y.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+`)
(`+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+`)
(`+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+`)
(`+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};y.prototype.toArray=function(o,n){y.pack(this,o,n)};var B0=y;var V={POINTS:$.POINTS,LINES:$.LINES,LINE_LOOP:$.LINE_LOOP,LINE_STRIP:$.LINE_STRIP,TRIANGLES:$.TRIANGLES,TRIANGLE_STRIP:$.TRIANGLE_STRIP,TRIANGLE_FAN:$.TRIANGLE_FAN};V.isLines=function(o){return o===V.LINES||o===V.LINE_LOOP||o===V.LINE_STRIP};V.isTriangles=function(o){return o===V.TRIANGLES||o===V.TRIANGLE_STRIP||o===V.TRIANGLE_FAN};V.validate=function(o){return o===V.POINTS||o===V.LINES||o===V.LINE_LOOP||o===V.LINE_STRIP||o===V.TRIANGLES||o===V.TRIANGLE_STRIP||o===V.TRIANGLE_FAN};var I0=Object.freeze(V);export{B0 as a,I0 as b};
