define(["./buildModuleUrl-85cd08bf","./Cartesian2-b72655a5","./Cartesian3-3a8bdb0b","./Cartographic-a2c313d7","./Check-52a7d806","./when-92c6cf3c","./Math-ecf82623","./ArcType-31298545","./arrayRemoveDuplicates-a6924649","./ComponentDatatype-98414d16","./EllipsoidGeodesic-03c935a0","./EllipsoidRhumbLine-b1a766ae","./EncodedCartesian3-4f120b1b","./GeometryAttribute-ba5053ae","./IntersectionTests-37c278d3","./FeatureDetection-6dd694bf","./Plane-70a63ea4","./WebMercatorProjection-ee891935","./Event-3390cd7d","./RuntimeError-c6a62a80","./WebGLConstants-42651efd","./Cartesian4-72b88c9e"],(function(e,t,o,i,n,r,a,s,l,u,c,h,p,d,g,f,w,v,m,_,y,T){"use strict";function E(o){o=r.u(o,{}),this._ellipsoid=r.u(o.ellipsoid,t.t.WGS84),this._rectangle=r.u(o.rectangle,t.h.MAX_VALUE),this._projection=new e.n(this._ellipsoid),this._numberOfLevelZeroTilesX=r.u(o.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=r.u(o.numberOfLevelZeroTilesY,1),this._customDPI=o.customDPI,this._scaleDenominators=o.scaleDenominators,this._tileWidth=r.u(o.tileWidth,256),this._tileHeight=r.u(o.tileHeight,256),this._beginLevel=r.u(o.beginLevel,0),this._orgin=r.u(o.orgin,void 0)}Object.defineProperties(E.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}},beginLevel:{get:function(){return this._beginLevel}},orgin:{get:function(){return this._orgin}}}),E.prototype.getNumberOfXTilesAtLevel=function(e){if(r.e(this._customDPI)&&r.e(this._scaleDenominators)){var t=this.calculateResolution(e),o=this._tileWidth*t.x;return Math.ceil(this._rectangle.width/o)}return this._numberOfLevelZeroTilesX<<e-this._beginLevel},E.prototype.getNumberOfYTilesAtLevel=function(e){if(r.e(this._customDPI)&&r.e(this._scaleDenominators)){var t=this.calculateResolution(e),o=this._tileHeight*t.y;return Math.ceil(this._rectangle.height/o)}return this._numberOfLevelZeroTilesY<<e-this._beginLevel},E.prototype.rectangleToNativeRectangle=function(e,o){n.o.defined("rectangle",e);var i=a.e.toDegrees(e.west),s=a.e.toDegrees(e.south),l=a.e.toDegrees(e.east),u=a.e.toDegrees(e.north);return r.e(o)?(o.west=i,o.south=s,o.east=l,o.north=u,o):new t.h(i,s,l,u)},E.prototype.tileXYToNativeRectangle=function(e,t,o,i){var n=this.tileXYToRectangle(e,t,o,i);return n.west=a.e.toDegrees(n.west),n.south=a.e.toDegrees(n.south),n.east=a.e.toDegrees(n.east),n.north=a.e.toDegrees(n.north),n},E.prototype.tileXYToRectangle=function(e,o,i,n){var a=this._rectangle,s=r.e(this._orgin)?this._orgin.longitude:a.west,l=r.e(this._orgin)?this._orgin.latitude:a.north;if(r.e(this._customDPI)&&r.e(this._scaleDenominators)){var u=this.calculateResolution(i),c=s+e*this._tileWidth*u.x,h=s+(e+1)*this._tileWidth*u.x,p=l-o*this._tileHeight*u.y,d=l-(o+1)*this._tileHeight*u.y;return r.e(n)?(n.west=c,n.south=d,n.east=h,n.north=p,n):new t.h(c,d,h,p)}var g=this.getNumberOfXTilesAtLevel(i),f=this.getNumberOfYTilesAtLevel(i),w=a.width/g,v=(c=e*w+a.west,h=(e+1)*w+a.west,a.height/f);p=a.north-o*v,d=a.north-(o+1)*v;return r.e(n)||(n=new t.h(c,d,h,p)),n.west=c,n.south=d,n.east=h,n.north=p,n},E.prototype.positionToTileXY=function(e,o,i){var n=this._rectangle;if(t.h.contains(n,e)){var s=this.getNumberOfXTilesAtLevel(o),l=this.getNumberOfYTilesAtLevel(o),u=r.e(this._orgin)?this._orgin.longitude:n.west,c=r.e(this._orgin)?this._orgin.latitude:n.north,h=n.width/s,p=n.height/l;if(r.e(this._customDPI)&&r.e(this._scaleDenominators)){var d=this.calculateResolution(o);h=this._tileWidth*d.x,p=this._tileHeight*d.y}var g=e.longitude;n.east<n.west&&(g+=a.e.TWO_PI),r.e(this._orgin)&&(s+=this._orgin.longitude!=n.west?Math.ceil((e.longitude-this._orgin.longitude)/h):0,l+=this._orgin.latitude!=n.north?Math.ceil((this._orgin.latitude-e.latitude)/p):0);var f=(g-u)/h|0;f>=s&&(f=s-1);var w=(c-e.latitude)/p|0;return w>=l&&(w=l-1),r.e(i)?(i.x=f,i.y=w,i):new t.o(f,w)}},E.prototype.calculateResolution=function(e){var o=.0254*this._scaleDenominators[e-this._beginLevel]/this._customDPI.x,i=.0254*this._scaleDenominators[e-this._beginLevel]/this._customDPI.y,n=t.t.WGS84.maximumRadius;return new t.o(o/n,i/n)};var b=new o.o,O=new o.o,L=new i.a,I=new o.o,P=new o.o,D=new e.i,k=new E,x=[new i.a,new i.a,new i.a,new i.a],A=new t.o,N={};function S(e){i.a.fromRadians(e.east,e.north,0,x[0]),i.a.fromRadians(e.west,e.north,0,x[1]),i.a.fromRadians(e.east,e.south,0,x[2]),i.a.fromRadians(e.west,e.south,0,x[3]);var t,o=0,n=0,r=0,a=0,s=N._terrainHeightsMaxLevel;for(t=0;t<=s;++t){for(var l=!1,u=0;u<4;++u){var c=x[u];if(k.positionToTileXY(c,t,A),0===u)r=A.x,a=A.y;else if(r!==A.x||a!==A.y){l=!0;break}}if(l)break;o=r,n=a}if(0!==t)return{x:o,y:n,level:t>s?s:t-1}}N.initialize=function(){var t=N._initPromise;return r.e(t)||(t=e.t.fetchJson(e.n$1("Assets/approximateTerrainHeights.json")).then((function(e){N._terrainHeights=e})),N._initPromise=t),t},N.getMinimumMaximumHeights=function(e,i){if(n.o.defined("rectangle",e),!r.e(N._terrainHeights))throw new n.t("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");i=r.u(i,t.t.WGS84);var a=S(e),s=N._defaultMinTerrainHeight,l=N._defaultMaxTerrainHeight;if(r.e(a)){var u=a.level+"-"+a.x+"-"+a.y,c=N._terrainHeights[u];r.e(c)&&(s=c[0],l=c[1]),i.cartographicToCartesian(t.h.northeast(e,L),b),i.cartographicToCartesian(t.h.southwest(e,L),O),o.o.midpoint(O,b,I);var h=i.scaleToGeodeticSurface(I,P);if(r.e(h)){var p=o.o.distance(I,h);s=Math.min(s,-p)}else s=N._defaultMinTerrainHeight}return{minimumTerrainHeight:s=Math.max(N._defaultMinTerrainHeight,s),maximumTerrainHeight:l}},N.getBoundingSphere=function(o,i){if(n.o.defined("rectangle",o),!r.e(N._terrainHeights))throw new n.t("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");i=r.u(i,t.t.WGS84);var a=S(o),s=N._defaultMaxTerrainHeight;if(r.e(a)){var l=a.level+"-"+a.x+"-"+a.y,u=N._terrainHeights[l];r.e(u)&&(s=u[1])}var c=e.i.fromRectangle3D(o,i,0);return e.i.fromRectangle3D(o,i,s,D),e.i.union(c,D,c)},N._terrainHeightsMaxLevel=6,N._defaultMaxTerrainHeight=9e3,N._defaultMinTerrainHeight=-1e5,N._terrainHeights=void 0,N._initPromise=void 0,Object.defineProperties(N,{initialized:{get:function(){return r.e(N._terrainHeights)}}});var C=[e.n,v.t],H=C.length,M=Math.cos(a.e.toRadians(30)),R=Math.cos(a.e.toRadians(150));function z(e){var o=(e=r.u(e,r.u.EMPTY_OBJECT)).positions;if(!r.e(o)||o.length<2)throw new n.t("At least two positions are required.");if(r.e(e.arcType)&&e.arcType!==s.L.GEODESIC&&e.arcType!==s.L.RHUMB)throw new n.t("Valid options for arcType are ArcType.GEODESIC and ArcType.RHUMB.");this.width=r.u(e.width,1),this._positions=o,this.granularity=r.u(e.granularity,9999),this.loop=r.u(e.loop,!1),this.arcType=r.u(e.arcType,s.L.GEODESIC),this._ellipsoid=r.u(e.ellipsoid,t.t.WGS84),this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(z.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+t.t.packedLength+1+1}}}),z.setProjectionAndEllipsoid=function(e,t){for(var o=0,i=0;i<H;i++)if(t instanceof C[i]){o=i;break}e._projectionIndex=o,e._ellipsoid=t.ellipsoid};var j=new o.o,Y=new o.o,G=new o.o;function W(e,t,i,n,r){var a=Z(n,e,0,j),s=Z(n,e,i,Y),l=Z(n,t,0,G),u=$(s,a,Y),c=$(l,a,G);return o.o.cross(c,u,r),o.o.normalize(r,r)}var F=new i.a,B=new o.o,q=new o.o,X=new o.o;function U(e,t,i,n,r,a,l,u,p,d,g){if(0!==r){var f;a===s.L.GEODESIC?f=new c.E(e,t,l):a===s.L.RHUMB&&(f=new h.P(e,t,l));var w=f.surfaceDistance;if(!(w<r))for(var v=W(e,t,n,l,X),m=Math.ceil(w/r),_=w/m,y=_,T=m-1,E=u.length,b=0;b<T;b++){var O=f.interpolateUsingSurfaceDistance(y,F),L=Z(l,O,i,B),I=Z(l,O,n,q);o.o.pack(v,u,E),o.o.pack(L,p,E),o.o.pack(I,d,E),g.push(O.latitude),g.push(O.longitude),E+=3,y+=_}}}var V=new i.a;function Z(e,t,o,n){return i.a.clone(t,V),V.height=o,i.a.toCartesian(V,e,n)}function $(e,t,i){return o.o.subtract(e,t,i),o.o.normalize(i,i),i}function J(e,t,i,n){return n=$(e,t,n),n=o.o.cross(n,i,n),n=o.o.normalize(n,n),n=o.o.cross(i,n,n)}z.pack=function(e,i,a){n.o.typeOf.object("value",e),n.o.defined("array",i);var s=r.u(a,0),l=e._positions,u=l.length;i[s++]=u;for(var c=0;c<u;++c){var h=l[c];o.o.pack(h,i,s),s+=3}return i[s++]=e.granularity,i[s++]=e.loop?1:0,i[s++]=e.arcType,t.t.pack(e._ellipsoid,i,s),s+=t.t.packedLength,i[s++]=e._projectionIndex,i[s++]=e._scene3DOnly?1:0,i},z.unpack=function(e,i,a){n.o.defined("array",e);for(var s=r.u(i,0),l=e[s++],u=new Array(l),c=0;c<l;c++)u[c]=o.o.unpack(e,s),s+=3;var h=e[s++],p=1===e[s++],d=e[s++],g=t.t.unpack(e,s);s+=t.t.packedLength;var f=e[s++],w=1===e[s++];if(!r.e(a)){var v=new z({positions:u,granularity:h,loop:p,arcType:d,ellipsoid:g});return v._projectionIndex=f,v._scene3DOnly=w,v}return a._positions=u,a.granularity=h,a.loop=p,a.arcType=d,a._ellipsoid=g,a._projectionIndex=f,a._scene3DOnly=w,a};var Q=new o.o,K=new o.o,ee=new o.o,te=new o.o;function oe(e,t,i,n,r){var s=$(i,t,te),l=J(e,t,s,Q),u=J(n,t,s,K);if(a.e.equalsEpsilon(o.o.dot(l,u),-1,a.e.EPSILON5))return r=o.o.cross(s,l,r),r=o.o.normalize(r,r);r=o.o.add(u,l,r),r=o.o.normalize(r,r);var c=o.o.cross(s,r,ee);return o.o.dot(u,c)<0&&(r=o.o.negate(r,r)),r}var ie=w.o.fromPointNormal(o.o.ZERO,o.o.UNIT_Y),ne=new o.o,re=new o.o,ae=new o.o,se=new o.o,le=new o.o,ue=new o.o,ce=new i.a,he=new i.a,pe=new i.a;z.createGeometry=function(e){var t,n,u=!e._scene3DOnly,c=e.loop,p=e._ellipsoid,d=e.granularity,f=e.arcType,w=new C[e._projectionIndex](p),v=1e3,m=e._positions,_=m.length;2===_&&(c=!1);var y,T,E,b,O,L,I,P=new h.P(void 0,void 0,p),D=[m[0]];for(n=0;n<_-1;n++)y=m[n],T=m[n+1],O=g.g.lineSegmentPlane(y,T,ie,ue),r.e(O)&&!o.o.equalsEpsilon(O,y,a.e.EPSILON7)&&!o.o.equalsEpsilon(O,T,a.e.EPSILON7)&&(e.arcType===s.L.GEODESIC?D.push(o.o.clone(O)):e.arcType===s.L.RHUMB&&(I=p.cartesianToCartographic(O,ce).longitude,E=p.cartesianToCartographic(y,ce),b=p.cartesianToCartographic(T,he),P.setEndPoints(E,b),L=P.findIntersectionWithLongitude(I,pe),O=p.cartographicToCartesian(L,ue),r.e(O)&&!o.o.equalsEpsilon(O,y,a.e.EPSILON7)&&!o.o.equalsEpsilon(O,T,a.e.EPSILON7)&&D.push(o.o.clone(O)))),D.push(T);c&&(y=m[_-1],T=m[0],O=g.g.lineSegmentPlane(y,T,ie,ue),r.e(O)&&!o.o.equalsEpsilon(O,y,a.e.EPSILON7)&&!o.o.equalsEpsilon(O,T,a.e.EPSILON7)&&(e.arcType===s.L.GEODESIC?D.push(o.o.clone(O)):e.arcType===s.L.RHUMB&&(I=p.cartesianToCartographic(O,ce).longitude,E=p.cartesianToCartographic(y,ce),b=p.cartesianToCartographic(T,he),P.setEndPoints(E,b),L=P.findIntersectionWithLongitude(I,pe),O=p.cartographicToCartesian(L,ue),r.e(O)&&!o.o.equalsEpsilon(O,y,a.e.EPSILON7)&&!o.o.equalsEpsilon(O,T,a.e.EPSILON7)&&D.push(o.o.clone(O)))));var k=D.length,x=new Array(k);for(n=0;n<k;n++){var A=i.a.fromCartesian(D[n],p);A.height=0,x[n]=A}if(!((k=(x=l.D(x,i.a.equalsEpsilon)).length)<2)){var N=[],S=[],H=[],M=[],R=ne,z=re,j=ae,Y=se,G=le,F=x[0],B=x[1];for(R=Z(p,x[k-1],0,R),Y=Z(p,B,0,Y),z=Z(p,F,0,z),j=Z(p,F,v,j),G=c?oe(R,z,j,Y,G):W(F,B,v,p,G),o.o.pack(G,S,0),o.o.pack(z,H,0),o.o.pack(j,M,0),N.push(F.latitude),N.push(F.longitude),U(F,B,0,v,d,f,p,S,H,M,N),n=1;n<k-1;++n){R=o.o.clone(z,R),z=o.o.clone(Y,z);var q=x[n];Z(p,q,v,j),Z(p,x[n+1],0,Y),oe(R,z,j,Y,G),t=S.length,o.o.pack(G,S,t),o.o.pack(z,H,t),o.o.pack(j,M,t),N.push(q.latitude),N.push(q.longitude),U(x[n],x[n+1],0,v,d,f,p,S,H,M,N)}var X=x[k-1],V=x[k-2];if(z=Z(p,X,0,z),j=Z(p,X,v,j),c){var $=x[0];G=oe(R=Z(p,V,0,R),z,j,Y=Z(p,$,0,Y),G)}else G=W(V,X,v,p,G);if(t=S.length,o.o.pack(G,S,t),o.o.pack(z,H,t),o.o.pack(j,M,t),N.push(X.latitude),N.push(X.longitude),c){for(U(X,F,0,v,d,f,p,S,H,M,N),t=S.length,n=0;n<3;++n)S[t+n]=S[n],H[t+n]=H[n],M[t+n]=M[n];N.push(F.latitude),N.push(F.longitude)}return rt(c,w,H,M,S,N,u)}};var de=new o.o,ge=new f.p$1,fe=new d.n;function we(e,t,i,n){var r=$(i,t,de),s=o.o.dot(r,e);if(s>M||s<R){var l=$(n,i,te),u=s<R?a.e.PI_OVER_TWO:-a.e.PI_OVER_TWO,c=d.n.fromAxisAngle(l,u,fe),h=f.p$1.fromQuaternion(c,ge);return f.p$1.multiplyByVector(h,e,e),!0}return!1}var ve=new i.a,me=new o.o,_e=new o.o;function ye(e,t,n,r,s){var l=i.a.toCartesian(t,e._ellipsoid,me),u=o.o.add(l,n,_e),c=!1,h=e._ellipsoid,p=h.cartesianToCartographic(u,ve);Math.abs(t.longitude-p.longitude)>a.e.PI_OVER_TWO&&(c=!0,u=o.o.subtract(l,n,_e),p=h.cartesianToCartographic(u,ve)),p.height=0;var d=e.project(p,s);return(s=o.o.subtract(d,r,s)).z=0,s=o.o.normalize(s,s),c&&o.o.negate(s,s),s}var Te=new o.o,Ee=new o.o;function be(e,t,i,n,r,a){var s=o.o.subtract(t,e,Te);o.o.normalize(s,s);var l=i-0,u=o.o.multiplyByScalar(s,l,Ee);o.o.add(e,u,r);var c=n-1e3;u=o.o.multiplyByScalar(s,c,Ee),o.o.add(t,u,a)}var Oe=new o.o;function Le(e,t){var i=w.o.getPointDistance(ie,e),n=w.o.getPointDistance(ie,t),r=Oe;a.e.equalsEpsilon(i,0,a.e.EPSILON2)?(r=$(t,e,r),o.o.multiplyByScalar(r,a.e.EPSILON2,r),o.o.add(e,r,e)):a.e.equalsEpsilon(n,0,a.e.EPSILON2)&&(r=$(e,t,r),o.o.multiplyByScalar(r,a.e.EPSILON2,r),o.o.add(t,r,t))}function Ie(e,t){var o=Math.abs(e.longitude),i=Math.abs(t.longitude);if(a.e.equalsEpsilon(o,a.e.PI,a.e.EPSILON11)){var n=a.e.sign(t.longitude);return e.longitude=n*(o-a.e.EPSILON11),1}if(a.e.equalsEpsilon(i,a.e.PI,a.e.EPSILON11)){var r=a.e.sign(e.longitude);return t.longitude=r*(i-a.e.EPSILON11),2}return 0}var Pe=new i.a,De=new i.a,ke=new o.o,xe=new o.o,Ae=new o.o,Ne=new o.o,Se=new o.o,Ce=new o.o,He=[Pe,De],Me=new t.h,Re=new o.o,ze=new o.o,je=new o.o,Ye=new o.o,Ge=new o.o,We=new o.o,Fe=new o.o,Be=new o.o,qe=new o.o,Xe=new o.o,Ue=new o.o,Ve=new o.o,Ze=new o.o,$e=new o.o,Je=new p.i,Qe=new p.i,Ke=new o.o,et=new o.o,tt=new o.o,ot=[new e.i,new e.i],it=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],nt=it.length;function rt(i,n,r,s,l,c,h){var g,f,w,v,m,_,y=n._ellipsoid,T=r.length/3-1,E=8*T,b=4*E,O=36*T,L=E>65535?new Uint32Array(O):new Uint16Array(O),I=new Float64Array(3*E),P=new Float32Array(b),D=new Float32Array(b),k=new Float32Array(b),x=new Float32Array(b),A=new Float32Array(b);h&&(w=new Float32Array(b),v=new Float32Array(b),m=new Float32Array(b),_=new Float32Array(2*E));var S=c.length/2,C=0,H=Pe;H.height=0;var R=De;R.height=0;var z=ke,j=xe;if(h)for(f=0,g=1;g<S;g++)H.latitude=c[f],H.longitude=c[f+1],R.latitude=c[f+2],R.longitude=c[f+3],z=n.project(H,z),j=n.project(R,j),C+=o.o.distance(z,j),f+=2;var Y=s.length/3;j=o.o.unpack(s,0,j);var G,W=0;for(f=3,g=1;g<Y;g++)z=o.o.clone(j,z),j=o.o.unpack(s,f,j),W+=o.o.distance(z,j),f+=3;f=3;var F=0,B=0,q=0,X=0,U=!1,V=o.o.unpack(r,0,Ne),Z=o.o.unpack(s,0,xe),J=o.o.unpack(l,0,Ce);i&&(we(J,o.o.unpack(r,r.length-6,Ae),V,Z)&&(J=o.o.negate(J,J)));var Q=0,K=0,ee=0;for(g=0;g<T;g++){var te,oe,ie,ne,re=o.o.clone(V,Ae),ae=o.o.clone(Z,ke),se=o.o.clone(J,Se);if(U&&(se=o.o.negate(se,se)),V=o.o.unpack(r,f,Ne),Z=o.o.unpack(s,f,xe),U=we(J=o.o.unpack(l,f,Ce),re,V,Z),H.latitude=c[F],H.longitude=c[F+1],R.latitude=c[F+2],R.longitude=c[F+3],h){var le=Ie(H,R);te=n.project(H,Ge);var ue=$(oe=n.project(R,We),te,Ke);ue.y=Math.abs(ue.y),ie=Fe,ne=Be,0===le||o.o.dot(ue,o.o.UNIT_Y)>M?(ie=ye(n,H,se,te,Fe),ne=ye(n,R,J,oe,Be)):1===le?(ne=ye(n,R,J,oe,Be),ie.x=0,ie.y=a.e.sign(H.longitude-Math.abs(R.longitude)),ie.z=0):(ie=ye(n,H,se,te,Fe),ne.x=0,ne.y=a.e.sign(H.longitude-R.longitude),ne.z=0)}var ce=o.o.distance(ae,Z),he=p.i.fromCartesian(re,Je),pe=o.o.subtract(V,re,qe),de=o.o.normalize(pe,Ve),ge=o.o.subtract(ae,re,Xe);ge=o.o.normalize(ge,ge);var fe=o.o.cross(de,ge,Ve);fe=o.o.normalize(fe,fe);var ve=o.o.cross(ge,se,Ze);ve=o.o.normalize(ve,ve);var me=o.o.subtract(Z,V,Ue);me=o.o.normalize(me,me);var _e=o.o.cross(J,me,$e);_e=o.o.normalize(_e,_e);var Te,Ee,Oe,rt=ce/W,st=Q/W,lt=0,ut=0,ct=0;if(h){lt=o.o.distance(te,oe),Te=p.i.fromCartesian(te,Qe),Ee=o.o.subtract(oe,te,Ke);var ht=(Oe=o.o.normalize(Ee,et)).x;Oe.x=Oe.y,Oe.y=-ht,ut=lt/C,ct=K/C}for(G=0;G<8;G++){var pt=X+4*G,dt=B+2*G,gt=pt+3,ft=G<4?1:-1,wt=2===G||3===G||6===G||7===G?1:-1;o.o.pack(he.high,P,pt),P[gt]=pe.x,o.o.pack(he.low,D,pt),D[gt]=pe.y,o.o.pack(ve,k,pt),k[gt]=pe.z,o.o.pack(_e,x,pt),x[gt]=rt*ft,o.o.pack(fe,A,pt);var vt=st*wt;0===vt&&wt<0&&(vt=Number.POSITIVE_INFINITY),A[gt]=vt,h&&(w[pt]=Te.high.x,w[pt+1]=Te.high.y,w[pt+2]=Te.low.x,w[pt+3]=Te.low.y,m[pt]=-ie.y,m[pt+1]=ie.x,m[pt+2]=ne.y,m[pt+3]=-ne.x,v[pt]=Ee.x,v[pt+1]=Ee.y,v[pt+2]=Oe.x,v[pt+3]=Oe.y,_[dt]=ut*ft,0===(vt=ct*wt)&&wt<0&&(vt=Number.POSITIVE_INFINITY),_[dt+1]=vt)}var mt=je,_t=Ye,yt=Re,Tt=ze,Et=t.h.fromCartographicArray(He,Me),bt=N.getMinimumMaximumHeights(Et,y),Ot=bt.minimumTerrainHeight,Lt=bt.maximumTerrainHeight;ee+=Ot,ee+=Lt,be(re,ae,Ot,Lt,mt,yt),be(V,Z,Ot,Lt,_t,Tt);var It=o.o.multiplyByScalar(fe,a.e.EPSILON5,tt);o.o.add(mt,It,mt),o.o.add(_t,It,_t),o.o.add(yt,It,yt),o.o.add(Tt,It,Tt),Le(mt,_t),Le(yt,Tt),o.o.pack(mt,I,q),o.o.pack(_t,I,q+3),o.o.pack(Tt,I,q+6),o.o.pack(yt,I,q+9),It=o.o.multiplyByScalar(fe,-2*a.e.EPSILON5,tt),o.o.add(mt,It,mt),o.o.add(_t,It,_t),o.o.add(yt,It,yt),o.o.add(Tt,It,Tt),Le(mt,_t),Le(yt,Tt),o.o.pack(mt,I,q+12),o.o.pack(_t,I,q+15),o.o.pack(Tt,I,q+18),o.o.pack(yt,I,q+21),F+=2,f+=3,B+=16,q+=24,X+=32,Q+=ce,K+=lt}f=0;var Pt=0;for(g=0;g<T;g++){for(G=0;G<nt;G++)L[f+G]=it[G]+Pt;Pt+=8,f+=nt}var Dt=ot;e.i.fromVertices(r,o.o.ZERO,3,Dt[0]),e.i.fromVertices(s,o.o.ZERO,3,Dt[1]);var kt=e.i.fromBoundingSpheres(Dt);kt.radius+=ee/(2*T);var xt={position:new d.o({componentDatatype:u.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:I}),startHiAndForwardOffsetX:at(P),startLoAndForwardOffsetY:at(D),startNormalAndForwardOffsetZ:at(k),endNormalAndTextureCoordinateNormalizationX:at(x),rightNormalAndTextureCoordinateNormalizationY:at(A)};return h&&(xt.startHiLo2D=at(w),xt.offsetAndRight2D=at(v),xt.startEndNormals2D=at(m),xt.texcoordNormalization2D=new d.o({componentDatatype:u.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:_})),new d.I({attributes:xt,indices:L,boundingSphere:kt})}function at(e){return new d.o({componentDatatype:u.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return z._projectNormal=ye,function(e,t){return N.initialize().then((function(){return r.e(t)&&(e=z.unpack(e,t)),z.createGeometry(e)}))}}));
