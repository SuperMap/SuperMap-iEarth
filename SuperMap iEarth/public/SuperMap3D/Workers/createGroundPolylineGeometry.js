import{a as Ie}from"./chunk-XYWAVEQ2.js";import{a as xe}from"./chunk-VZ2V43FJ.js";import{a as J}from"./chunk-SP6GVFX5.js";import{a as ke}from"./chunk-D45ASFTR.js";import{a as re}from"./chunk-6X6ULKRC.js";import{a as Or}from"./chunk-KW5QJXXE.js";import{b as jr}from"./chunk-REXJO6A6.js";import{a as zr}from"./chunk-EUSYH4JF.js";import{a as Dr,d as Z,g as $r,h as Le,i as Ce,k as Oe,l as Wr}from"./chunk-CJHFPVIB.js";import"./chunk-NPAFDOYL.js";import"./chunk-SSYG2MIY.js";import{a as Hr}from"./chunk-SRPTWKHW.js";import"./chunk-6S43R6PL.js";import{a as Nr}from"./chunk-Z4SOZDEW.js";import"./chunk-MX7ZM7WW.js";import"./chunk-EHDXVZQM.js";import{a as F}from"./chunk-NLYLRNUA.js";import{a as Cr,b as z}from"./chunk-7TOCOFC3.js";import"./chunk-ZVKIUA3Y.js";import{b as _}from"./chunk-3HZNWEV7.js";import{a as r}from"./chunk-LBR6REQR.js";import{a as f}from"./chunk-GXFCHGTA.js";import{a as C}from"./chunk-UBHQMGET.js";import{a as ar}from"./chunk-EDZQSM3T.js";import{a as wr}from"./chunk-PJGSCWXZ.js";import{a as p}from"./chunk-NUC3LT2W.js";import"./chunk-SFC4FDPW.js";function ir(e){e=C(e,{}),this._ellipsoid=C(e.ellipsoid,z.WGS84),this._rectangle=C(e.rectangle,F.MAX_VALUE),this._projection=new Dr(this._ellipsoid),this._numberOfLevelZeroTilesX=C(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=C(e.numberOfLevelZeroTilesY,1),this._customDPI=e.customDPI,this._scaleDenominators=e.scaleDenominators,this._tileWidth=C(e.tileWidth,256),this._tileHeight=C(e.tileHeight,256),this._beginLevel=C(e.beginLevel,0),this._origin=C(e.origin,void 0)}Object.defineProperties(ir.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}},beginLevel:{get:function(){return this._beginLevel}},origin:{get:function(){return this._origin}}});ir.prototype.getNumberOfXTilesAtLevel=function(e){if(p(this._customDPI)&&p(this._scaleDenominators)){var i=this.calculateResolution(e),n=this._tileWidth*i.x;return Math.ceil(this._rectangle.width/n)}return this._numberOfLevelZeroTilesX<<e-this._beginLevel};ir.prototype.getNumberOfYTilesAtLevel=function(e){if(p(this._customDPI)&&p(this._scaleDenominators)){var i=this.calculateResolution(e),n=this._tileHeight*i.y;return Math.ceil(this._rectangle.height/n)}return this._numberOfLevelZeroTilesY<<e-this._beginLevel};ir.prototype.rectangleToNativeRectangle=function(e,i){ar.defined("rectangle",e);var n=f.toDegrees(e.west),a=f.toDegrees(e.south),t=f.toDegrees(e.east),o=f.toDegrees(e.north);return p(i)?(i.west=n,i.south=a,i.east=t,i.north=o,i):new F(n,a,t,o)};ir.prototype.tileXYToNativeRectangle=function(e,i,n,a){var t=this.tileXYToRectangle(e,i,n,a);return t.west=f.toDegrees(t.west),t.south=f.toDegrees(t.south),t.east=f.toDegrees(t.east),t.north=f.toDegrees(t.north),t};ir.prototype.tileXYToRectangle=function(e,i,n,a){var t=this._rectangle,o=p(this._origin)?this._origin.longitude:t.west,c=p(this._origin)?this._origin.latitude:t.north;if(p(this._customDPI)&&p(this._scaleDenominators)){var s=this.calculateResolution(n),m=o+e*this._tileWidth*s.x,g=o+(e+1)*this._tileWidth*s.x,S=c-i*this._tileHeight*s.y,E=c-(i+1)*this._tileHeight*s.y;return p(a)?(a.west=m,a.south=E,a.east=g,a.north=S,a):new F(m,E,g,S)}var v=this.getNumberOfXTilesAtLevel(n),l=this.getNumberOfYTilesAtLevel(n),h=t.width/v,m=e*h+t.west,g=(e+1)*h+t.west,w=t.height/l,S=t.north-i*w,E=t.north-(i+1)*w;return p(a)||(a=new F(m,E,g,S)),a.west=m,a.south=E,a.east=g,a.north=S,a};ir.prototype.positionToTileXY=function(e,i,n){var a=this._rectangle;if(!!F.contains(a,e)){var t=this.getNumberOfXTilesAtLevel(i),o=this.getNumberOfYTilesAtLevel(i),c=p(this._origin)?this._origin.longitude:a.west,s=p(this._origin)?this._origin.latitude:a.north,v=a.width/t,l=a.height/o;if(p(this._customDPI)&&p(this._scaleDenominators)){var h=this.calculateResolution(i);v=this._tileWidth*h.x,l=this._tileHeight*h.y}var m=e.longitude;a.east<a.west&&(m+=f.TWO_PI),p(this._origin)&&(t+=this._origin.longitude!=a.west?Math.ceil((e.longitude-this._origin.longitude)/v):0,o+=this._origin.latitude!=a.north?Math.ceil((this._origin.latitude-e.latitude)/l):0);var g=(m-c)/v|0;g>=t&&(g=t-1);var w=(s-e.latitude)/l|0;return w>=o&&(w=o-1),p(n)?(n.x=g,n.y=w,n):new Cr(g,w)}};ir.prototype.calculateResolution=function(e){var i=Math.min(e-this._beginLevel,this._scaleDenominators.length-1),n=this._scaleDenominators[i]*.0254/this._customDPI.x,a=this._scaleDenominators[i]*.0254/this._customDPI.y,t=z.WGS84.maximumRadius;return new Cr(n/t,a/t)};var Re=ir;var be=new r,Ae=new r,Me=new _,ee=new r,pa=new r,Pe=new Z,ua=new Re,xr=[new _,new _,new _,new _],kr=new Cr,T={};T.initialize=function(){var e=T._initPromise;return p(e)||(e=Le.fetchJson(Ce("Assets/approximateTerrainHeights.json")).then(function(i){T._terrainHeights=i}),T._initPromise=e),e};T.getMinimumMaximumHeights=function(e,i){if(ar.defined("rectangle",e),!p(T._terrainHeights))throw new wr("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");i=C(i,z.WGS84);var n=ye(e),a=T._defaultMinTerrainHeight,t=T._defaultMaxTerrainHeight;if(p(n)){var o=n.level+"-"+n.x+"-"+n.y,c=T._terrainHeights[o];p(c)&&(a=c[0],t=c[1]),i.cartographicToCartesian(F.northeast(e,Me),be),i.cartographicToCartesian(F.southwest(e,Me),Ae),r.midpoint(Ae,be,ee);var s=i.scaleToGeodeticSurface(ee,pa);if(p(s)){var v=r.distance(ee,s);a=Math.min(a,-v)}else a=T._defaultMinTerrainHeight}return a=Math.max(T._defaultMinTerrainHeight,a),{minimumTerrainHeight:a,maximumTerrainHeight:t}};T.getBoundingSphere=function(e,i){if(ar.defined("rectangle",e),!p(T._terrainHeights))throw new wr("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");i=C(i,z.WGS84);var n=ye(e),a=T._defaultMaxTerrainHeight;if(p(n)){var t=n.level+"-"+n.x+"-"+n.y,o=T._terrainHeights[t];p(o)&&(a=o[1])}var c=Z.fromRectangle3D(e,i,0);return Z.fromRectangle3D(e,i,a,Pe),Z.union(c,Pe,c)};function ye(e){_.fromRadians(e.east,e.north,0,xr[0]),_.fromRadians(e.west,e.north,0,xr[1]),_.fromRadians(e.east,e.south,0,xr[2]),_.fromRadians(e.west,e.south,0,xr[3]);var i=0,n=0,a=0,t=0,o=T._terrainHeightsMaxLevel,c;for(c=0;c<=o;++c){for(var s=!1,v=0;v<4;++v){var l=xr[v];if(ua.positionToTileXY(l,c,kr),v===0)a=kr.x,t=kr.y;else if(a!==kr.x||t!==kr.y){s=!0;break}}if(s)break;i=a,n=t}if(c!==0)return{x:i,y:n,level:c>o?o:c-1}}T._terrainHeightsMaxLevel=6;T._defaultMaxTerrainHeight=9e3;T._defaultMinTerrainHeight=-1e5;T._terrainHeights=void 0;T._initPromise=void 0;Object.defineProperties(T,{initialized:{get:function(){return p(T._terrainHeights)}}});var Fr=T;var ve=[Dr,xe],ga=ve.length,ra=Math.cos(f.toRadians(30)),De=Math.cos(f.toRadians(150)),ea=0,aa=1e3;function sr(e){e=C(e,C.EMPTY_OBJECT);var i=e.positions;if(!p(i)||i.length<2)throw new wr("At least two positions are required.");if(p(e.arcType)&&e.arcType!==J.GEODESIC&&e.arcType!==J.RHUMB)throw new wr("Valid options for arcType are ArcType.GEODESIC and ArcType.RHUMB.");this.width=C(e.width,1),this._positions=i,this.granularity=C(e.granularity,9999),this.loop=C(e.loop,!1),this.arcType=C(e.arcType,J.GEODESIC),this._ellipsoid=C(e.ellipsoid,z.WGS84),this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(sr.prototype,{packedLength:{get:function(){return 1+this._positions.length*3+1+1+1+z.packedLength+1+1}}});sr.setProjectionAndEllipsoid=function(e,i){for(var n=0,a=0;a<ga;a++)if(i instanceof ve[a]){n=a;break}e._projectionIndex=n,e._ellipsoid=i.ellipsoid};var ma=new r,Ne=new r,He=new r;function se(e,i,n,a,t){var o=y(a,e,0,ma),c=y(a,e,n,Ne),s=y(a,i,0,He),v=tr(c,o,Ne),l=tr(s,o,He);return r.cross(l,v,t),r.normalize(t,t)}var da=new _,wa=new r,_a=new r,Ta=new r;function ae(e,i,n,a,t,o,c,s,v,l,h){if(t!==0){var m;o===J.GEODESIC?m=new Ie(e,i,c):o===J.RHUMB&&(m=new re(e,i,c));var g=m.surfaceDistance;if(!(g<t))for(var w=se(e,i,a,c,Ta),S=Math.ceil(g/t),E=g/S,X=E,V=S-1,u=s.length,Y=0;Y<V;Y++){var N=m.interpolateUsingSurfaceDistance(X,da),b=y(c,N,n,wa),R=y(c,N,a,_a);r.pack(w,s,u),r.pack(b,v,u),r.pack(R,l,u),h.push(N.latitude),h.push(N.longitude),u+=3,X+=E}}}var ie=new _;function y(e,i,n,a){return _.clone(i,ie),ie.height=n,_.toCartesian(ie,e,a)}sr.pack=function(e,i,n){ar.typeOf.object("value",e),ar.defined("array",i);var a=C(n,0),t=e._positions,o=t.length;i[a++]=o;for(var c=0;c<o;++c){var s=t[c];r.pack(s,i,a),a+=3}return i[a++]=e.granularity,i[a++]=e.loop?1:0,i[a++]=e.arcType,z.pack(e._ellipsoid,i,a),a+=z.packedLength,i[a++]=e._projectionIndex,i[a++]=e._scene3DOnly?1:0,i};sr.unpack=function(e,i,n){ar.defined("array",e);for(var a=C(i,0),t=e[a++],o=new Array(t),c=0;c<t;c++)o[c]=r.unpack(e,a),a+=3;var s=e[a++],v=e[a++]===1,l=e[a++],h=z.unpack(e,a);a+=z.packedLength;var m=e[a++],g=e[a++]===1;if(!p(n)){var w=new sr({positions:o,granularity:s,loop:v,arcType:l,ellipsoid:h});return w._projectionIndex=m,w._scene3DOnly=g,w}return n._positions=o,n.granularity=s,n.loop=v,n.arcType=l,n._ellipsoid=h,n._projectionIndex=m,n._scene3DOnly=g,n};function tr(e,i,n){return r.subtract(e,i,n),r.normalize(n,n),n}function We(e,i,n,a){return a=tr(e,i,a),a=r.cross(a,n,a),a=r.normalize(a,a),a=r.cross(n,a,a),a}var Sa=new r,Ea=new r,La=new r,ia=new r,Ca=0,Oa=-1;function te(e,i,n,a,t){var o=tr(n,i,ia),c=We(e,i,o,Sa),s=We(a,i,o,Ea);if(f.equalsEpsilon(r.dot(c,s),Oa,f.EPSILON5))return t=r.cross(o,c,t),t=r.normalize(t,t),t;t=r.add(s,c,t),t=r.normalize(t,t);var v=r.cross(o,t,La);return r.dot(s,v)<Ca&&(t=r.negate(t,t)),t}var Zr=zr.fromPointNormal(r.ZERO,r.UNIT_Y),xa=new r,ka=new r,Ia=new r,Ra=new r,ba=new r,Xr=new r,Yr=new _,ze=new _,Fe=new _;sr.createGeometry=function(e){var i=!e._scene3DOnly,n=e.loop,a=e._ellipsoid,t=e.granularity,o=e.arcType,c=new ve[e._projectionIndex](a),s=ea,v=aa,l,h,m=e._positions,g=m.length;g===2&&(n=!1);var w,S,E,X,V=new re(void 0,void 0,a),u,Y,N,b=[m[0]];for(h=0;h<g-1;h++)w=m[h],S=m[h+1],u=jr.lineSegmentPlane(w,S,Zr,Xr),p(u)&&!r.equalsEpsilon(u,w,f.EPSILON7)&&!r.equalsEpsilon(u,S,f.EPSILON7)&&(e.arcType===J.GEODESIC?b.push(r.clone(u)):e.arcType===J.RHUMB&&(N=a.cartesianToCartographic(u,Yr).longitude,E=a.cartesianToCartographic(w,Yr),X=a.cartesianToCartographic(S,ze),V.setEndPoints(E,X),Y=V.findIntersectionWithLongitude(N,Fe),u=a.cartographicToCartesian(Y,Xr),p(u)&&!r.equalsEpsilon(u,w,f.EPSILON7)&&!r.equalsEpsilon(u,S,f.EPSILON7)&&b.push(r.clone(u)))),b.push(S);n&&(w=m[g-1],S=m[0],u=jr.lineSegmentPlane(w,S,Zr,Xr),p(u)&&!r.equalsEpsilon(u,w,f.EPSILON7)&&!r.equalsEpsilon(u,S,f.EPSILON7)&&(e.arcType===J.GEODESIC?b.push(r.clone(u)):e.arcType===J.RHUMB&&(N=a.cartesianToCartographic(u,Yr).longitude,E=a.cartesianToCartographic(w,Yr),X=a.cartesianToCartographic(S,ze),V.setEndPoints(E,X),Y=V.findIntersectionWithLongitude(N,Fe),u=a.cartographicToCartesian(Y,Xr),p(u)&&!r.equalsEpsilon(u,w,f.EPSILON7)&&!r.equalsEpsilon(u,S,f.EPSILON7)&&b.push(r.clone(u)))));var R=b.length,k=new Array(R);for(h=0;h<R;h++){var vr=_.fromCartesian(b[h],a);vr.height=0,k[h]=vr}if(k=ke(k,_.equalsEpsilon),R=k.length,!(R<2)){var D=[],A=[],O=[],x=[],M=xa,L=ka,H=Ia,W=Ra,d=ba,P=k[0],pr=k[1],q=k[R-1];for(M=y(a,q,s,M),W=y(a,pr,s,W),L=y(a,P,s,L),H=y(a,P,v,H),n?d=te(M,L,H,W,d):d=se(P,pr,v,a,d),r.pack(d,A,0),r.pack(L,O,0),r.pack(H,x,0),D.push(P.latitude),D.push(P.longitude),ae(P,pr,s,v,t,o,a,A,O,x,D),h=1;h<R-1;++h){M=r.clone(L,M),L=r.clone(W,L);var ur=k[h];y(a,ur,v,H),y(a,k[h+1],s,W),te(M,L,H,W,d),l=A.length,r.pack(d,A,l),r.pack(L,O,l),r.pack(H,x,l),D.push(ur.latitude),D.push(ur.longitude),ae(k[h],k[h+1],s,v,t,o,a,A,O,x,D)}var G=k[R-1],B=k[R-2];if(L=y(a,G,s,L),H=y(a,G,v,H),n){var K=k[0];M=y(a,B,s,M),W=y(a,K,s,W),d=te(M,L,H,W,d)}else d=se(B,G,v,a,d);if(l=A.length,r.pack(d,A,l),r.pack(L,O,l),r.pack(H,x,l),D.push(G.latitude),D.push(G.longitude),n){for(ae(G,P,s,v,t,o,a,A,O,x,D),l=A.length,h=0;h<3;++h)A[l+h]=A[h],O[l+h]=O[h],x[l+h]=x[h];D.push(P.latitude),D.push(P.longitude)}return ai(n,c,O,x,A,D,i)}};var Aa=new r,Ma=new Nr,Pa=new $r;function Xe(e,i,n,a){var t=tr(n,i,Aa),o=r.dot(t,e);if(o>ra||o<De){var c=tr(a,n,ia),s=o<De?f.PI_OVER_TWO:-f.PI_OVER_TWO,v=$r.fromAxisAngle(c,s,Pa),l=Nr.fromQuaternion(v,Ma);return Nr.multiplyByVector(l,e,e),!0}return!1}var Ye=new _,ya=new r,qe=new r;function Ir(e,i,n,a,t){var o=_.toCartesian(i,e._ellipsoid,ya),c=r.add(o,n,qe),s=!1,v=e._ellipsoid,l=v.cartesianToCartographic(c,Ye);Math.abs(i.longitude-l.longitude)>f.PI_OVER_TWO&&(s=!0,c=r.subtract(o,n,qe),l=v.cartesianToCartographic(c,Ye)),l.height=0;var h=e.project(l,t);return t=r.subtract(h,a,t),t.z=0,t=r.normalize(t,t),s&&r.negate(t,t),t}var Da=new r,Ze=new r;function Ve(e,i,n,a,t,o){var c=r.subtract(i,e,Da);r.normalize(c,c);var s=n-ea,v=r.multiplyByScalar(c,s,Ze);r.add(e,v,t);var l=a-aa;v=r.multiplyByScalar(c,l,Ze),r.add(i,v,o)}var Na=new r;function qr(e,i){var n=zr.getPointDistance(Zr,e),a=zr.getPointDistance(Zr,i),t=Na;f.equalsEpsilon(n,0,f.EPSILON2)?(t=tr(i,e,t),r.multiplyByScalar(t,f.EPSILON2,t),r.add(e,t,e)):f.equalsEpsilon(a,0,f.EPSILON2)&&(t=tr(e,i,t),r.multiplyByScalar(t,f.EPSILON2,t),r.add(i,t,i))}function Ha(e,i){var n=Math.abs(e.longitude),a=Math.abs(i.longitude);if(f.equalsEpsilon(n,f.PI,f.EPSILON11)){var t=f.sign(i.longitude);return e.longitude=t*(n-f.EPSILON11),1}else if(f.equalsEpsilon(a,f.PI,f.EPSILON11)){var o=f.sign(e.longitude);return i.longitude=o*(a-f.EPSILON11),2}return 0}var ta=new _,na=new _,Be=new r,ne=new r,Ue=new r,Je=new r,Wa=new r,Ge=new r,za=[ta,na],Fa=new F,Xa=new r,Ya=new r,qa=new r,Za=new r,Va=new r,Ba=new r,oe=new r,ce=new r,Ua=new r,Ja=new r,Ga=new r,Ke=new r,Ka=new r,Qa=new r,$a=new Or,ja=new Or,Qe=new r,ri=new r,$e=new r,ei=[new Z,new Z],oa=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],je=oa.length;function ai(e,i,n,a,t,o,c){var s,v,l=i._ellipsoid,h=n.length/3-1,m=h*8,g=m*4,w=h*36,S=m>65535?new Uint32Array(w):new Uint16Array(w),E=new Float64Array(m*3),X=new Float32Array(g),V=new Float32Array(g),u=new Float32Array(g),Y=new Float32Array(g),N=new Float32Array(g),b,R,k,vr;c&&(b=new Float32Array(g),R=new Float32Array(g),k=new Float32Array(g),vr=new Float32Array(m*2));var D=o.length/2,A=0,O=ta;O.height=0;var x=na;x.height=0;var M=Be,L=ne;if(c)for(v=0,s=1;s<D;s++)O.latitude=o[v],O.longitude=o[v+1],x.latitude=o[v+2],x.longitude=o[v+3],M=i.project(O,M),L=i.project(x,L),A+=r.distance(M,L),v+=2;var H=a.length/3;L=r.unpack(a,0,L);var W=0;for(v=3,s=1;s<H;s++)M=r.clone(L,M),L=r.unpack(a,v,L),W+=r.distance(M,L),v+=3;var d;v=3;var P=0,pr=0,q=0,ur=0,G=!1,B=r.unpack(n,0,Je),K=r.unpack(a,0,ne),U=r.unpack(t,0,Ge);if(e){var ca=r.unpack(n,n.length-6,Ue);Xe(U,ca,B,K)&&(U=r.negate(U,U))}var fe=0,le=0,Vr=0;for(s=0;s<h;s++){var _r=r.clone(B,Ue),Br=r.clone(K,Be),gr=r.clone(U,Wa);G&&(gr=r.negate(gr,gr)),B=r.unpack(n,v,Je),K=r.unpack(a,v,ne),U=r.unpack(t,v,Ge),G=Xe(U,_r,B,K),O.latitude=o[P],O.longitude=o[P+1],x.latitude=o[P+2],x.longitude=o[P+3];var hr,mr,nr,or;if(c){var pe=Ha(O,x);hr=i.project(O,Va),mr=i.project(x,Ba);var Ur=tr(mr,hr,Qe);Ur.y=Math.abs(Ur.y),nr=oe,or=ce,pe===0||r.dot(Ur,r.UNIT_Y)>ra?(nr=Ir(i,O,gr,hr,oe),or=Ir(i,x,U,mr,ce)):pe===1?(or=Ir(i,x,U,mr,ce),nr.x=0,nr.y=f.sign(O.longitude-Math.abs(x.longitude)),nr.z=0):(nr=Ir(i,O,gr,hr,oe),or.x=0,or.y=f.sign(O.longitude-x.longitude),or.z=0)}var ue=r.distance(Br,K),ge=Or.fromCartesian(_r,$a),Rr=r.subtract(B,_r,Ua),sa=r.normalize(Rr,Ke),Tr=r.subtract(Br,_r,Ja);Tr=r.normalize(Tr,Tr);var dr=r.cross(sa,Tr,Ke);dr=r.normalize(dr,dr);var br=r.cross(Tr,gr,Ka);br=r.normalize(br,br);var Ar=r.subtract(K,B,Ga);Ar=r.normalize(Ar,Ar);var Mr=r.cross(U,Ar,Qa);Mr=r.normalize(Mr,Mr);var va=ue/W,ha=fe/W,Jr=0,Sr,Pr,fr,me=0,de=0;if(c){Jr=r.distance(hr,mr),Sr=Or.fromCartesian(hr,ja),Pr=r.subtract(mr,hr,Qe),fr=r.normalize(Pr,ri);var fa=fr.x;fr.x=fr.y,fr.y=-fa,me=Jr/A,de=le/A}for(d=0;d<8;d++){var I=ur+d*4,we=pr+d*2,Er=I+3,_e=d<4?1:-1,yr=d===2||d===3||d===6||d===7?1:-1;r.pack(ge.high,X,I),X[Er]=Rr.x,r.pack(ge.low,V,I),V[Er]=Rr.y,r.pack(br,u,I),u[Er]=Rr.z,r.pack(Mr,Y,I),Y[Er]=va*_e,r.pack(dr,N,I);var lr=ha*yr;lr===0&&yr<0&&(lr=9),N[Er]=lr,c&&(b[I]=Sr.high.x,b[I+1]=Sr.high.y,b[I+2]=Sr.low.x,b[I+3]=Sr.low.y,k[I]=-nr.y,k[I+1]=nr.x,k[I+2]=or.y,k[I+3]=-or.x,R[I]=Pr.x,R[I+1]=Pr.y,R[I+2]=fr.x,R[I+3]=fr.y,vr[we]=me*_e,lr=de*yr,lr===0&&yr<0&&(lr=9),vr[we+1]=lr)}var Q=qa,$=Za,j=Xa,rr=Ya,la=F.fromCartographicArray(za,Fa),Te=Fr.getMinimumMaximumHeights(la,l),Gr=Te.minimumTerrainHeight,Kr=Te.maximumTerrainHeight;Vr+=Gr,Vr+=Kr,Ve(_r,Br,Gr,Kr,Q,j),Ve(B,K,Gr,Kr,$,rr);var er=r.multiplyByScalar(dr,f.EPSILON5,$e);r.add(Q,er,Q),r.add($,er,$),r.add(j,er,j),r.add(rr,er,rr),qr(Q,$),qr(j,rr),r.pack(Q,E,q),r.pack($,E,q+3),r.pack(rr,E,q+6),r.pack(j,E,q+9),er=r.multiplyByScalar(dr,-2*f.EPSILON5,$e),r.add(Q,er,Q),r.add($,er,$),r.add(j,er,j),r.add(rr,er,rr),qr(Q,$),qr(j,rr),r.pack(Q,E,q+12),r.pack($,E,q+15),r.pack(rr,E,q+18),r.pack(j,E,q+21),P+=2,v+=3,pr+=16,q+=24,ur+=32,fe+=ue,le+=Jr}v=0;var Se=0;for(s=0;s<h;s++){for(d=0;d<je;d++)S[v+d]=oa[d]+Se;Se+=8,v+=je}var Qr=ei;Z.fromVertices(n,r.ZERO,3,Qr[0]),Z.fromVertices(a,r.ZERO,3,Qr[1]);var Ee=Z.fromBoundingSpheres(Qr);Ee.radius+=Vr/(h*2);var Lr={position:new Wr({componentDatatype:Hr.DOUBLE,componentsPerAttribute:3,normalize:!1,values:E}),startHiAndForwardOffsetX:cr(X),startLoAndForwardOffsetY:cr(V),startNormalAndForwardOffsetZ:cr(u),endNormalAndTextureCoordinateNormalizationX:cr(Y),rightNormalAndTextureCoordinateNormalizationY:cr(N)};return c&&(Lr.startHiLo2D=cr(b),Lr.offsetAndRight2D=cr(R),Lr.startEndNormals2D=cr(k),Lr.texcoordNormalization2D=new Wr({componentDatatype:Hr.FLOAT,componentsPerAttribute:2,normalize:!1,values:vr})),new Oe({attributes:Lr,indices:S,boundingSphere:Ee})}function cr(e){return new Wr({componentDatatype:Hr.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}sr._projectNormal=Ir;var he=sr;function ii(e,i){return Fr.initialize().then(function(){return p(i)&&(e=he.unpack(e,i)),he.createGeometry(e)})}var at=ii;export{at as default};
