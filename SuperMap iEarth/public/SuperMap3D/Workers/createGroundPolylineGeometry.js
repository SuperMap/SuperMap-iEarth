define(["./buildModuleUrl-1b968a9d","./Cartesian2-59a54ee7","./Cartographic-81e9e8b2","./Check-ff445961","./when-39df26e1","./Math-5e067eb3","./ArcType-31298545","./arrayRemoveDuplicates-3deab545","./ComponentDatatype-7d28dd1c","./EllipsoidGeodesic-840abdf5","./EllipsoidRhumbLine-61b02483","./EncodedCartesian3-003b996c","./GeometryAttribute-9b3921a3","./IntersectionTests-036daea1","./FeatureDetection-2d4141ff","./Plane-775a5120","./WebMercatorProjection-9bf14d38","./Event-e109b23e","./RuntimeError-251a1d8d","./WebGLConstants-42651efd","./Cartesian4-a56bd360"],(function(e,t,o,i,n,r,a,s,l,u,c,h,p,d,g,f,w,m,v,_,y){"use strict";function O(o){o=n.u(o,{}),this._ellipsoid=n.u(o.ellipsoid,t.t.WGS84),this._rectangle=n.u(o.rectangle,t.h.MAX_VALUE),this._projection=new e.n(this._ellipsoid),this._numberOfLevelZeroTilesX=n.u(o.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=n.u(o.numberOfLevelZeroTilesY,1),this._customDPI=o.customDPI,this._scaleDenominators=o.scaleDenominators,this._tileWidth=n.u(o.tileWidth,256),this._tileHeight=n.u(o.tileHeight,256),this._beginLevel=n.u(o.beginLevel,0),this._wmtsOrgin=n.u(o.wmtsOrgin,void 0)}Object.defineProperties(O.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}},beginLevel:{get:function(){return this._beginLevel}},wmtsOrgin:{get:function(){return this._wmtsOrgin}}}),O.prototype.getNumberOfXTilesAtLevel=function(e){if(n.e(this._customDPI)&&n.e(this._scaleDenominators)){var t=this.calculateResolution(e),o=this._tileWidth*t.x;return Math.ceil(this._rectangle.width/o)}return this._numberOfLevelZeroTilesX<<e-this._beginLevel},O.prototype.getNumberOfYTilesAtLevel=function(e){if(n.e(this._customDPI)&&n.e(this._scaleDenominators)){var t=this.calculateResolution(e),o=this._tileHeight*t.y;return Math.ceil(this._rectangle.height/o)}return this._numberOfLevelZeroTilesY<<e-this._beginLevel},O.prototype.rectangleToNativeRectangle=function(e,o){i.o.defined("rectangle",e);var a=r.e.toDegrees(e.west),s=r.e.toDegrees(e.south),l=r.e.toDegrees(e.east),u=r.e.toDegrees(e.north);return n.e(o)?(o.west=a,o.south=s,o.east=l,o.north=u,o):new t.h(a,s,l,u)},O.prototype.tileXYToNativeRectangle=function(e,t,o,i){var n=this.tileXYToRectangle(e,t,o,i);return n.west=r.e.toDegrees(n.west),n.south=r.e.toDegrees(n.south),n.east=r.e.toDegrees(n.east),n.north=r.e.toDegrees(n.north),n},O.prototype.tileXYToRectangle=function(e,o,i,r){var a=this._rectangle,s=n.e(this._wmtsOrgin)?this._wmtsOrgin.longitude:a.west,l=n.e(this._wmtsOrgin)?this._wmtsOrgin.latitude:a.north;if(n.e(this._customDPI)&&n.e(this._scaleDenominators)){var u=this.calculateResolution(i),c=s+e*this._tileWidth*u.x,h=s+(e+1)*this._tileWidth*u.x,p=l-o*this._tileHeight*u.y,d=l-(o+1)*this._tileHeight*u.y;return n.e(r)?(r.west=c,r.south=d,r.east=h,r.north=p,r):new t.h(c,d,h,p)}var g=this.getNumberOfXTilesAtLevel(i),f=this.getNumberOfYTilesAtLevel(i),w=a.width/g,m=(c=e*w+a.west,h=(e+1)*w+a.west,a.height/f);p=a.north-o*m,d=a.north-(o+1)*m;return n.e(r)||(r=new t.h(c,d,h,p)),r.west=c,r.south=d,r.east=h,r.north=p,r},O.prototype.positionToTileXY=function(e,o,i){var a=this._rectangle;if(t.h.contains(a,e)){var s=this.getNumberOfXTilesAtLevel(o),l=this.getNumberOfYTilesAtLevel(o),u=n.e(this._wmtsOrgin)?this._wmtsOrgin.longitude:a.west,c=n.e(this._wmtsOrgin)?this._wmtsOrgin.latitude:a.north,h=a.width/s,p=a.height/l;if(n.e(this._customDPI)&&n.e(this._scaleDenominators)){var d=this.calculateResolution(o);h=this._tileWidth*d.x,p=this._tileHeight*d.y}var g=e.longitude;a.east<a.west&&(g+=r.e.TWO_PI),n.e(this._wmtsOrgin)&&(s+=this._wmtsOrgin.longitude!=a.west?Math.ceil((e.longitude-this._wmtsOrgin.longitude)/h):0,l+=this._wmtsOrgin.latitude!=a.north?Math.ceil((this._wmtsOrgin.latitude-e.latitude)/p):0);var f=(g-u)/h|0;f>=s&&(f=s-1);var w=(c-e.latitude)/p|0;return w>=l&&(w=l-1),n.e(i)?(i.x=f,i.y=w,i):new t.o(f,w)}},O.prototype.calculateResolution=function(e){var o=.0254*this._scaleDenominators[e-this._beginLevel]/this._customDPI.x,i=.0254*this._scaleDenominators[e-this._beginLevel]/this._customDPI.y,n=t.t.WGS84.maximumRadius;return new t.o(o/n,i/n)};var T=new o.o,E=new o.o,b=new o.a,L=new o.o,I=new o.o,P=new e.i,D=new O,k=[new o.a,new o.a,new o.a,new o.a],N=new t.o,x={};function A(e){o.a.fromRadians(e.east,e.north,0,k[0]),o.a.fromRadians(e.west,e.north,0,k[1]),o.a.fromRadians(e.east,e.south,0,k[2]),o.a.fromRadians(e.west,e.south,0,k[3]);var t,i=0,n=0,r=0,a=0,s=x._terrainHeightsMaxLevel;for(t=0;t<=s;++t){for(var l=!1,u=0;u<4;++u){var c=k[u];if(D.positionToTileXY(c,t,N),0===u)r=N.x,a=N.y;else if(r!==N.x||a!==N.y){l=!0;break}}if(l)break;i=r,n=a}if(0!==t)return{x:i,y:n,level:t>s?s:t-1}}x.initialize=function(){var t=x._initPromise;return n.e(t)||(t=e.t.fetchJson(e.n$1("Assets/approximateTerrainHeights.json")).then((function(e){x._terrainHeights=e})),x._initPromise=t),t},x.getMinimumMaximumHeights=function(e,r){if(i.o.defined("rectangle",e),!n.e(x._terrainHeights))throw new i.t("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");r=n.u(r,t.t.WGS84);var a=A(e),s=x._defaultMinTerrainHeight,l=x._defaultMaxTerrainHeight;if(n.e(a)){var u=a.level+"-"+a.x+"-"+a.y,c=x._terrainHeights[u];n.e(c)&&(s=c[0],l=c[1]),r.cartographicToCartesian(t.h.northeast(e,b),T),r.cartographicToCartesian(t.h.southwest(e,b),E),o.o.midpoint(E,T,L);var h=r.scaleToGeodeticSurface(L,I);if(n.e(h)){var p=o.o.distance(L,h);s=Math.min(s,-p)}else s=x._defaultMinTerrainHeight}return{minimumTerrainHeight:s=Math.max(x._defaultMinTerrainHeight,s),maximumTerrainHeight:l}},x.getBoundingSphere=function(o,r){if(i.o.defined("rectangle",o),!n.e(x._terrainHeights))throw new i.t("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");r=n.u(r,t.t.WGS84);var a=A(o),s=x._defaultMaxTerrainHeight;if(n.e(a)){var l=a.level+"-"+a.x+"-"+a.y,u=x._terrainHeights[l];n.e(u)&&(s=u[1])}var c=e.i.fromRectangle3D(o,r,0);return e.i.fromRectangle3D(o,r,s,P),e.i.union(c,P,c)},x._terrainHeightsMaxLevel=6,x._defaultMaxTerrainHeight=9e3,x._defaultMinTerrainHeight=-1e5,x._terrainHeights=void 0,x._initPromise=void 0,Object.defineProperties(x,{initialized:{get:function(){return n.e(x._terrainHeights)}}});var S=[e.n,w.t],H=S.length,C=Math.cos(r.e.toRadians(30)),M=Math.cos(r.e.toRadians(150));function R(e){var o=(e=n.u(e,n.u.EMPTY_OBJECT)).positions;if(!n.e(o)||o.length<2)throw new i.t("At least two positions are required.");if(n.e(e.arcType)&&e.arcType!==a.L.GEODESIC&&e.arcType!==a.L.RHUMB)throw new i.t("Valid options for arcType are ArcType.GEODESIC and ArcType.RHUMB.");this.width=n.u(e.width,1),this._positions=o,this.granularity=n.u(e.granularity,9999),this.loop=n.u(e.loop,!1),this.arcType=n.u(e.arcType,a.L.GEODESIC),this._ellipsoid=n.u(e.ellipsoid,t.t.WGS84),this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(R.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+t.t.packedLength+1+1}}}),R.setProjectionAndEllipsoid=function(e,t){for(var o=0,i=0;i<H;i++)if(t instanceof S[i]){o=i;break}e._projectionIndex=o,e._ellipsoid=t.ellipsoid};var z=new o.o,j=new o.o,Y=new o.o;function G(e,t,i,n,r){var a=V(n,e,0,z),s=V(n,e,i,j),l=V(n,t,0,Y),u=Z(s,a,j),c=Z(l,a,Y);return o.o.cross(c,u,r),o.o.normalize(r,r)}var W=new o.a,F=new o.o,B=new o.o,q=new o.o;function X(e,t,i,n,r,s,l,h,p,d,g){if(0!==r){var f;s===a.L.GEODESIC?f=new u.E(e,t,l):s===a.L.RHUMB&&(f=new c.P(e,t,l));var w=f.surfaceDistance;if(!(w<r))for(var m=G(e,t,n,l,q),v=Math.ceil(w/r),_=w/v,y=_,O=v-1,T=h.length,E=0;E<O;E++){var b=f.interpolateUsingSurfaceDistance(y,W),L=V(l,b,i,F),I=V(l,b,n,B);o.o.pack(m,h,T),o.o.pack(L,p,T),o.o.pack(I,d,T),g.push(b.latitude),g.push(b.longitude),T+=3,y+=_}}}var U=new o.a;function V(e,t,i,n){return o.a.clone(t,U),U.height=i,o.a.toCartesian(U,e,n)}function Z(e,t,i){return o.o.subtract(e,t,i),o.o.normalize(i,i),i}R.pack=function(e,r,a){i.o.typeOf.object("value",e),i.o.defined("array",r);var s=n.u(a,0),l=e._positions,u=l.length;r[s++]=u;for(var c=0;c<u;++c){var h=l[c];o.o.pack(h,r,s),s+=3}return r[s++]=e.granularity,r[s++]=e.loop?1:0,r[s++]=e.arcType,t.t.pack(e._ellipsoid,r,s),s+=t.t.packedLength,r[s++]=e._projectionIndex,r[s++]=e._scene3DOnly?1:0,r},R.unpack=function(e,r,a){i.o.defined("array",e);for(var s=n.u(r,0),l=e[s++],u=new Array(l),c=0;c<l;c++)u[c]=o.o.unpack(e,s),s+=3;var h=e[s++],p=1===e[s++],d=e[s++],g=t.t.unpack(e,s);s+=t.t.packedLength;var f=e[s++],w=1===e[s++];if(!n.e(a)){var m=new R({positions:u,granularity:h,loop:p,arcType:d,ellipsoid:g});return m._projectionIndex=f,m._scene3DOnly=w,m}return a._positions=u,a.granularity=h,a.loop=p,a.arcType=d,a._ellipsoid=g,a._projectionIndex=f,a._scene3DOnly=w,a};var $=new o.o,J=new o.o,Q=new o.o,K=new o.o,ee=new f.o(o.o.UNIT_X,0),te=new o.o;function oe(e,t,i,n,a){var s=Z(i,t,te),l=Z(e,t,$),u=Z(n,t,J),c=o.o.cross(s,l,K);c=o.o.normalize(c,c);var h=f.o.fromPointNormal(t,c,ee),p=f.o.getPointDistance(h,n);if(r.e.equalsEpsilon(p,0,r.e.EPSILON7))return o.o.clone(c,a),a;a=o.o.add(u,l,a),a=o.o.normalize(a,a);var d=o.o.cross(s,a,Q);return o.o.normalize(d,d),o.o.cross(d,s,a),o.o.normalize(a,a),o.o.dot(u,d)<0&&(a=o.o.negate(a,a)),a}var ie=f.o.fromPointNormal(o.o.ZERO,o.o.UNIT_Y),ne=new o.o,re=new o.o,ae=new o.o,se=new o.o,le=new o.o,ue=new o.o,ce=new o.a,he=new o.a,pe=new o.a;R.createGeometry=function(e){var t,i,l=!e._scene3DOnly,u=e.loop,h=e._ellipsoid,p=e.granularity,g=e.arcType,f=new S[e._projectionIndex](h),w=1e3,m=e._positions,v=m.length;2===v&&(u=!1);var _,y,O,T,E,b,L,I=new c.P(void 0,void 0,h),P=[m[0]];for(i=0;i<v-1;i++)_=m[i],y=m[i+1],E=d.g.lineSegmentPlane(_,y,ie,ue),n.e(E)&&!o.o.equalsEpsilon(E,_,r.e.EPSILON7)&&!o.o.equalsEpsilon(E,y,r.e.EPSILON7)&&(e.arcType===a.L.GEODESIC?P.push(o.o.clone(E)):e.arcType===a.L.RHUMB&&(L=h.cartesianToCartographic(E,ce).longitude,O=h.cartesianToCartographic(_,ce),T=h.cartesianToCartographic(y,he),I.setEndPoints(O,T),b=I.findIntersectionWithLongitude(L,pe),E=h.cartographicToCartesian(b,ue),n.e(E)&&!o.o.equalsEpsilon(E,_,r.e.EPSILON7)&&!o.o.equalsEpsilon(E,y,r.e.EPSILON7)&&P.push(o.o.clone(E)))),P.push(y);u&&(_=m[v-1],y=m[0],E=d.g.lineSegmentPlane(_,y,ie,ue),n.e(E)&&!o.o.equalsEpsilon(E,_,r.e.EPSILON7)&&!o.o.equalsEpsilon(E,y,r.e.EPSILON7)&&(e.arcType===a.L.GEODESIC?P.push(o.o.clone(E)):e.arcType===a.L.RHUMB&&(L=h.cartesianToCartographic(E,ce).longitude,O=h.cartesianToCartographic(_,ce),T=h.cartesianToCartographic(y,he),I.setEndPoints(O,T),b=I.findIntersectionWithLongitude(L,pe),E=h.cartographicToCartesian(b,ue),n.e(E)&&!o.o.equalsEpsilon(E,_,r.e.EPSILON7)&&!o.o.equalsEpsilon(E,y,r.e.EPSILON7)&&P.push(o.o.clone(E)))));var D=P.length,k=new Array(D);for(i=0;i<D;i++){var N=o.a.fromCartesian(P[i],h);N.height=0,k[i]=N}if(!((D=(k=s.D(k,o.a.equalsEpsilon)).length)<2)){var x=[],A=[],H=[],C=[],M=ne,R=re,z=ae,j=se,Y=le,W=k[0],F=k[1];for(M=V(h,k[D-1],0,M),j=V(h,F,0,j),R=V(h,W,0,R),z=V(h,W,w,z),Y=u?oe(M,R,z,j,Y):G(W,F,w,h,Y),o.o.pack(Y,A,0),o.o.pack(R,H,0),o.o.pack(z,C,0),x.push(W.latitude),x.push(W.longitude),X(W,F,0,w,p,g,h,A,H,C,x),i=1;i<D-1;++i){M=o.o.clone(R,M),R=o.o.clone(j,R);var B=k[i];V(h,B,w,z),V(h,k[i+1],0,j),oe(M,R,z,j,Y),t=A.length,o.o.pack(Y,A,t),o.o.pack(R,H,t),o.o.pack(z,C,t),x.push(B.latitude),x.push(B.longitude),X(k[i],k[i+1],0,w,p,g,h,A,H,C,x)}var q=k[D-1],U=k[D-2];if(R=V(h,q,0,R),z=V(h,q,w,z),u){var Z=k[0];Y=oe(M=V(h,U,0,M),R,z,j=V(h,Z,0,j),Y)}else Y=G(U,q,w,h,Y);if(t=A.length,o.o.pack(Y,A,t),o.o.pack(R,H,t),o.o.pack(z,C,t),x.push(q.latitude),x.push(q.longitude),u){for(X(q,W,0,w,p,g,h,A,H,C,x),t=A.length,i=0;i<3;++i)A[t+i]=A[i],H[t+i]=H[i],C[t+i]=C[i];x.push(W.latitude),x.push(W.longitude)}return rt(u,f,H,C,A,x,l)}};var de=new o.o,ge=new g.p$1,fe=new p.n;function we(e,t,i,n){var a=Z(i,t,de),s=o.o.dot(a,e);if(s>C||s<M){var l=Z(n,i,te),u=s<M?r.e.PI_OVER_TWO:-r.e.PI_OVER_TWO,c=p.n.fromAxisAngle(l,u,fe),h=g.p$1.fromQuaternion(c,ge);return g.p$1.multiplyByVector(h,e,e),!0}return!1}var me=new o.a,ve=new o.o,_e=new o.o;function ye(e,t,i,n,a){var s=o.a.toCartesian(t,e._ellipsoid,ve),l=o.o.add(s,i,_e),u=!1,c=e._ellipsoid,h=c.cartesianToCartographic(l,me);Math.abs(t.longitude-h.longitude)>r.e.PI_OVER_TWO&&(u=!0,l=o.o.subtract(s,i,_e),h=c.cartesianToCartographic(l,me)),h.height=0;var p=e.project(h,a);return(a=o.o.subtract(p,n,a)).z=0,a=o.o.normalize(a,a),u&&o.o.negate(a,a),a}var Oe=new o.o,Te=new o.o;function Ee(e,t,i,n,r,a){var s=o.o.subtract(t,e,Oe);o.o.normalize(s,s);var l=i-0,u=o.o.multiplyByScalar(s,l,Te);o.o.add(e,u,r);var c=n-1e3;u=o.o.multiplyByScalar(s,c,Te),o.o.add(t,u,a)}var be=new o.o;function Le(e,t){var i=f.o.getPointDistance(ie,e),n=f.o.getPointDistance(ie,t),a=be;r.e.equalsEpsilon(i,0,r.e.EPSILON2)?(a=Z(t,e,a),o.o.multiplyByScalar(a,r.e.EPSILON2,a),o.o.add(e,a,e)):r.e.equalsEpsilon(n,0,r.e.EPSILON2)&&(a=Z(e,t,a),o.o.multiplyByScalar(a,r.e.EPSILON2,a),o.o.add(t,a,t))}function Ie(e,t){var o=Math.abs(e.longitude),i=Math.abs(t.longitude);if(r.e.equalsEpsilon(o,r.e.PI,r.e.EPSILON11)){var n=r.e.sign(t.longitude);return e.longitude=n*(o-r.e.EPSILON11),1}if(r.e.equalsEpsilon(i,r.e.PI,r.e.EPSILON11)){var a=r.e.sign(e.longitude);return t.longitude=a*(i-r.e.EPSILON11),2}return 0}var Pe=new o.a,De=new o.a,ke=new o.o,Ne=new o.o,xe=new o.o,Ae=new o.o,Se=new o.o,He=new o.o,Ce=[Pe,De],Me=new t.h,Re=new o.o,ze=new o.o,je=new o.o,Ye=new o.o,Ge=new o.o,We=new o.o,Fe=new o.o,Be=new o.o,qe=new o.o,Xe=new o.o,Ue=new o.o,Ve=new o.o,Ze=new o.o,$e=new o.o,Je=new h.i,Qe=new h.i,Ke=new o.o,et=new o.o,tt=new o.o,ot=[new e.i,new e.i],it=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],nt=it.length;function rt(i,n,a,s,u,c,d){var g,f,w,m,v,_,y=n._ellipsoid,O=a.length/3-1,T=8*O,E=4*T,b=36*O,L=T>65535?new Uint32Array(b):new Uint16Array(b),I=new Float64Array(3*T),P=new Float32Array(E),D=new Float32Array(E),k=new Float32Array(E),N=new Float32Array(E),A=new Float32Array(E);d&&(w=new Float32Array(E),m=new Float32Array(E),v=new Float32Array(E),_=new Float32Array(2*T));var S=c.length/2,H=0,M=Pe;M.height=0;var R=De;R.height=0;var z=ke,j=Ne;if(d)for(f=0,g=1;g<S;g++)M.latitude=c[f],M.longitude=c[f+1],R.latitude=c[f+2],R.longitude=c[f+3],z=n.project(M,z),j=n.project(R,j),H+=o.o.distance(z,j),f+=2;var Y=s.length/3;j=o.o.unpack(s,0,j);var G,W=0;for(f=3,g=1;g<Y;g++)z=o.o.clone(j,z),j=o.o.unpack(s,f,j),W+=o.o.distance(z,j),f+=3;f=3;var F=0,B=0,q=0,X=0,U=!1,V=o.o.unpack(a,0,Ae),$=o.o.unpack(s,0,Ne),J=o.o.unpack(u,0,He);i&&(we(J,o.o.unpack(a,a.length-6,xe),V,$)&&(J=o.o.negate(J,J)));var Q=0,K=0,ee=0;for(g=0;g<O;g++){var te,oe,ie,ne,re=o.o.clone(V,xe),ae=o.o.clone($,ke),se=o.o.clone(J,Se);if(U&&(se=o.o.negate(se,se)),V=o.o.unpack(a,f,Ae),$=o.o.unpack(s,f,Ne),U=we(J=o.o.unpack(u,f,He),re,V,$),M.latitude=c[F],M.longitude=c[F+1],R.latitude=c[F+2],R.longitude=c[F+3],d){var le=Ie(M,R);te=n.project(M,Ge);var ue=Z(oe=n.project(R,We),te,Ke);ue.y=Math.abs(ue.y),ie=Fe,ne=Be,0===le||o.o.dot(ue,o.o.UNIT_Y)>C?(ie=ye(n,M,se,te,Fe),ne=ye(n,R,J,oe,Be)):1===le?(ne=ye(n,R,J,oe,Be),ie.x=0,ie.y=r.e.sign(M.longitude-Math.abs(R.longitude)),ie.z=0):(ie=ye(n,M,se,te,Fe),ne.x=0,ne.y=r.e.sign(M.longitude-R.longitude),ne.z=0)}var ce=o.o.distance(ae,$),he=h.i.fromCartesian(re,Je),pe=o.o.subtract(V,re,qe),de=o.o.normalize(pe,Ve),ge=o.o.subtract(ae,re,Xe);ge=o.o.normalize(ge,ge);var fe=o.o.cross(de,ge,Ve);fe=o.o.normalize(fe,fe);var me=o.o.cross(ge,se,Ze);me=o.o.normalize(me,me);var ve=o.o.subtract($,V,Ue);ve=o.o.normalize(ve,ve);var _e=o.o.cross(J,ve,$e);_e=o.o.normalize(_e,_e);var Oe,Te,be,rt=ce/W,st=Q/W,lt=0,ut=0,ct=0;if(d){lt=o.o.distance(te,oe),Oe=h.i.fromCartesian(te,Qe),Te=o.o.subtract(oe,te,Ke);var ht=(be=o.o.normalize(Te,et)).x;be.x=be.y,be.y=-ht,ut=lt/H,ct=K/H}for(G=0;G<8;G++){var pt=X+4*G,dt=B+2*G,gt=pt+3,ft=G<4?1:-1,wt=2===G||3===G||6===G||7===G?1:-1;o.o.pack(he.high,P,pt),P[gt]=pe.x,o.o.pack(he.low,D,pt),D[gt]=pe.y,o.o.pack(me,k,pt),k[gt]=pe.z,o.o.pack(_e,N,pt),N[gt]=rt*ft,o.o.pack(fe,A,pt);var mt=st*wt;0===mt&&wt<0&&(mt=Number.POSITIVE_INFINITY),A[gt]=mt,d&&(w[pt]=Oe.high.x,w[pt+1]=Oe.high.y,w[pt+2]=Oe.low.x,w[pt+3]=Oe.low.y,v[pt]=-ie.y,v[pt+1]=ie.x,v[pt+2]=ne.y,v[pt+3]=-ne.x,m[pt]=Te.x,m[pt+1]=Te.y,m[pt+2]=be.x,m[pt+3]=be.y,_[dt]=ut*ft,0===(mt=ct*wt)&&wt<0&&(mt=Number.POSITIVE_INFINITY),_[dt+1]=mt)}var vt=je,_t=Ye,yt=Re,Ot=ze,Tt=t.h.fromCartographicArray(Ce,Me),Et=x.getMinimumMaximumHeights(Tt,y),bt=Et.minimumTerrainHeight,Lt=Et.maximumTerrainHeight;ee+=bt,ee+=Lt,Ee(re,ae,bt,Lt,vt,yt),Ee(V,$,bt,Lt,_t,Ot);var It=o.o.multiplyByScalar(fe,r.e.EPSILON5,tt);o.o.add(vt,It,vt),o.o.add(_t,It,_t),o.o.add(yt,It,yt),o.o.add(Ot,It,Ot),Le(vt,_t),Le(yt,Ot),o.o.pack(vt,I,q),o.o.pack(_t,I,q+3),o.o.pack(Ot,I,q+6),o.o.pack(yt,I,q+9),It=o.o.multiplyByScalar(fe,-2*r.e.EPSILON5,tt),o.o.add(vt,It,vt),o.o.add(_t,It,_t),o.o.add(yt,It,yt),o.o.add(Ot,It,Ot),Le(vt,_t),Le(yt,Ot),o.o.pack(vt,I,q+12),o.o.pack(_t,I,q+15),o.o.pack(Ot,I,q+18),o.o.pack(yt,I,q+21),F+=2,f+=3,B+=16,q+=24,X+=32,Q+=ce,K+=lt}f=0;var Pt=0;for(g=0;g<O;g++){for(G=0;G<nt;G++)L[f+G]=it[G]+Pt;Pt+=8,f+=nt}var Dt=ot;e.i.fromVertices(a,o.o.ZERO,3,Dt[0]),e.i.fromVertices(s,o.o.ZERO,3,Dt[1]);var kt=e.i.fromBoundingSpheres(Dt);kt.radius+=ee/(2*O);var Nt={position:new p.o({componentDatatype:l.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:I}),startHiAndForwardOffsetX:at(P),startLoAndForwardOffsetY:at(D),startNormalAndForwardOffsetZ:at(k),endNormalAndTextureCoordinateNormalizationX:at(N),rightNormalAndTextureCoordinateNormalizationY:at(A)};return d&&(Nt.startHiLo2D=at(w),Nt.offsetAndRight2D=at(m),Nt.startEndNormals2D=at(v),Nt.texcoordNormalization2D=new p.o({componentDatatype:l.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:_})),new p.I({attributes:Nt,indices:L,boundingSphere:kt})}function at(e){return new p.o({componentDatatype:l.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return R._projectNormal=ye,function(e,t){return x.initialize().then((function(){return n.e(t)&&(e=R.unpack(e,t)),R.createGeometry(e)}))}}));
