define(["exports","./Cartesian3-3a8bdb0b","./Cartographic-a2c313d7","./when-92c6cf3c","./Check-52a7d806","./buildModuleUrl-cbcc8c56","./Math-ecf82623","./GeometryAttribute-65cf868d","./Cartesian2-b72655a5"],(function(t,n,a,r,e,o,s,i,h){"use strict";var c=Math.cos,g=Math.sin,u=Math.sqrt,l={computePosition:function(t,n,a,e,o,s,i){var h=n.radiiSquared,l=t.nwCorner,C=t.boundingRectangle,d=l.latitude-t.granYCos*e+o*t.granXSin,S=c(d),w=g(d),f=h.z*w,X=l.longitude+e*t.granYSin+o*t.granXCos,Y=S*c(X),O=S*g(X),v=h.x*Y,_=h.y*O,M=u(v*Y+_*O+f*w);if(s.x=v/M,s.y=_/M,s.z=f/M,a){var p=t.stNwCorner;r.e(p)?(d=p.latitude-t.stGranYCos*e+o*t.stGranXSin,X=p.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(X-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(X-C.west)*t.lonScalar,i.y=(d-C.south)*t.latScalar)}}},C=new i.f,d=new n.o,S=new a.a,w=new n.o,f=new o.n;function X(t,a,r,e,o,s,h){var c=Math.cos(a),g=e*c,u=r*c,l=Math.sin(a),S=e*l,X=r*l;d=f.project(t,d),d=n.o.subtract(d,w,d);var Y=i.f.fromRotation(a,C);d=i.f.multiplyByVector(Y,d,d),d=n.o.add(d,w,d),s-=1,h-=1;var O=(t=f.unproject(d,t)).latitude,v=O+s*X,_=O-g*h,M=O-g*h+s*X,p=Math.max(O,v,_,M),b=Math.min(O,v,_,M),R=t.longitude,W=R+s*u,m=R+h*S,G=R+h*S+s*u;return{north:p,south:b,east:Math.max(R,W,m,G),west:Math.min(R,W,m,G),granYCos:g,granYSin:S,granXCos:u,granXSin:X,nwCorner:t}}l.computeOptions=function(t,n,a,r,o,i,c){var g=t.east,u=t.west,l=t.north,C=t.south,d=!1,Y=!1;l===s.e.PI_OVER_TWO&&(d=!0),C===-s.e.PI_OVER_TWO&&(Y=!0);var O,v,_,M,p,b=l-C;_=(p=u>g?s.e.TWO_PI-u+g:g-u)/((O=Math.ceil(p/n)+1)-1),M=b/((v=Math.ceil(b/n)+1)-1);var R=h.h.northwest(t,i),W=h.h.center(t,S);(0!==a||0!==r)&&(W.longitude<R.longitude&&(W.longitude+=s.e.TWO_PI),w=f.project(W,w));var m=M,G=_,I=h.h.clone(t,o),P={granYCos:m,granYSin:0,granXCos:G,granXSin:0,nwCorner:R,boundingRectangle:I,width:O,height:v,northCap:d,southCap:Y};if(0!==a){var T=X(R,a,_,M,0,O,v);if(l=T.north,C=T.south,g=T.east,u=T.west,l<-s.e.PI_OVER_TWO||l>s.e.PI_OVER_TWO||C<-s.e.PI_OVER_TWO||C>s.e.PI_OVER_TWO)throw new e.t("Rotated rectangle is invalid.  It crosses over either the north or south pole.");P.granYCos=T.granYCos,P.granYSin=T.granYSin,P.granXCos=T.granXCos,P.granXSin=T.granXSin,I.north=l,I.south=C,I.east=g,I.west=u}if(0!==r){a-=r;var x=h.h.northwest(I,c),y=X(x,a,_,M,0,O,v);P.stGranYCos=y.granYCos,P.stGranXCos=y.granXCos,P.stGranYSin=y.granYSin,P.stGranXSin=y.granXSin,P.stNwCorner=x,P.stWest=y.west,P.stSouth=y.south}return P},t.j=l}));
