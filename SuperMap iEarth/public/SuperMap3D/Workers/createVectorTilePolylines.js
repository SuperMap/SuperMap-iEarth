define(["./AttributeCompression-4cf880dc","./Cartographic-81e9e8b2","./Cartesian2-59a54ee7","./IndexDatatype-be421fbf","./Math-5e067eb3","./createTaskProcessorWorker","./Check-ff445961","./when-39df26e1","./WebGLConstants-42651efd"],(function(a,e,r,n,t,o,f,u,c){"use strict";var s=32767,i=new e.a,p=new e.o;var b=new r.h,d=new r.t,w=new e.o,h={min:void 0,max:void 0};var y=new e.o,k=new e.o,v=new e.o,l=new e.o,A=new e.o;return o((function(o,f){var u=new Uint16Array(o.positions),c=new Uint16Array(o.widths),g=new Uint32Array(o.counts),x=new Uint16Array(o.batchIds);!function(a){a=new Float64Array(a);var n=0;h.min=a[n++],h.max=a[n++],r.h.unpack(a,n,b),n+=r.h.packedLength,r.t.unpack(a,n,d),n+=r.t.packedLength,e.o.unpack(a,n,w)}(o.packedBuffer);var D,I=d,m=w,E=function(r,n,o,f,u){var c=r.length/3,b=r.subarray(0,c),d=r.subarray(c,2*c),w=r.subarray(2*c,3*c);a.t.zigZagDeltaDecode(b,d,w);for(var h=new Float32Array(r.length),y=0;y<c;++y){var k=b[y],v=d[y],l=w[y],A=t.e.lerp(n.west,n.east,k/s),g=t.e.lerp(n.south,n.north,v/s),x=t.e.lerp(o,f,l/s),D=e.a.fromRadians(A,g,x,i),I=u.cartographicToCartesian(D,p);e.o.pack(I,h,3*y)}return h}(u,b,h.min,h.max,I),T=E.length/3,U=4*T-4,C=new Float32Array(3*U),F=new Float32Array(3*U),N=new Float32Array(3*U),P=new Float32Array(2*U),L=new Uint16Array(U),S=0,_=0,G=0,R=0,W=g.length;for(D=0;D<W;++D){for(var B=g[D],M=c[D],z=x[D],H=0;H<B;++H){var O;if(0===H){var Y=e.o.unpack(E,3*R,y),Z=e.o.unpack(E,3*(R+1),k);O=e.o.subtract(Y,Z,v),e.o.add(Y,O,O)}else O=e.o.unpack(E,3*(R+H-1),v);var j,q=e.o.unpack(E,3*(R+H),l);if(H===B-1){var J=e.o.unpack(E,3*(R+B-1),y),K=e.o.unpack(E,3*(R+B-2),k);j=e.o.subtract(J,K,A),e.o.add(J,j,j)}else j=e.o.unpack(E,3*(R+H+1),A);e.o.subtract(O,m,O),e.o.subtract(q,m,q),e.o.subtract(j,m,j);for(var Q=H===B-1?2:4,V=0===H?2:0;V<Q;++V){e.o.pack(q,C,S),e.o.pack(O,F,S),e.o.pack(j,N,S),S+=3;var X=V-2<0?-1:1;P[_++]=V%2*2-1,P[_++]=X*M,L[G++]=z}}R+=B}var $=n.IndexDatatype.createTypedArray(U,6*T-6),aa=0,ea=0;for(W=T-1,D=0;D<W;++D)$[ea++]=aa,$[ea++]=aa+2,$[ea++]=aa+1,$[ea++]=aa+1,$[ea++]=aa+2,$[ea++]=aa+3,aa+=4;return f.push(C.buffer,F.buffer,N.buffer),f.push(P.buffer,L.buffer,$.buffer),{indexDatatype:2===$.BYTES_PER_ELEMENT?n.IndexDatatype.UNSIGNED_SHORT:n.IndexDatatype.UNSIGNED_INT,currentPositions:C.buffer,previousPositions:F.buffer,nextPositions:N.buffer,expandAndWidth:P.buffer,batchIds:L.buffer,indices:$.buffer}}))}));
