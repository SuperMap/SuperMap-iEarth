define(["exports","./Cartographic-3309dd0d","./Cartesian4-3ca25aab","./Check-7b2a090c","./when-b60132fc","./Math-119be1a3","./RuntimeError-4a5c8994","./WebGLConstants-4ae0db90"],(function(t,n,e,a,r,i,u,o){"use strict";function s(t,n,e,a,i,u,o,s,l){this[0]=r.defaultValue(t,0),this[1]=r.defaultValue(a,0),this[2]=r.defaultValue(o,0),this[3]=r.defaultValue(n,0),this[4]=r.defaultValue(i,0),this[5]=r.defaultValue(s,0),this[6]=r.defaultValue(e,0),this[7]=r.defaultValue(u,0),this[8]=r.defaultValue(l,0)}s.packedLength=9,s.pack=function(t,n,e){return e=r.defaultValue(e,0),n[e++]=t[0],n[e++]=t[1],n[e++]=t[2],n[e++]=t[3],n[e++]=t[4],n[e++]=t[5],n[e++]=t[6],n[e++]=t[7],n[e++]=t[8],n},s.unpack=function(t,n,e){return n=r.defaultValue(n,0),r.defined(e)||(e=new s),e[0]=t[n++],e[1]=t[n++],e[2]=t[n++],e[3]=t[n++],e[4]=t[n++],e[5]=t[n++],e[6]=t[n++],e[7]=t[n++],e[8]=t[n++],e},s.clone=function(t,n){if(r.defined(t))return r.defined(n)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n):new s(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8])},s.fromArray=function(t,n,e){return n=r.defaultValue(n,0),r.defined(e)||(e=new s),e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],e[4]=t[n+4],e[5]=t[n+5],e[6]=t[n+6],e[7]=t[n+7],e[8]=t[n+8],e},s.fromColumnMajorArray=function(t,n){return s.clone(t,n)},s.fromRowMajorArray=function(t,n){return r.defined(n)?(n[0]=t[0],n[1]=t[3],n[2]=t[6],n[3]=t[1],n[4]=t[4],n[5]=t[7],n[6]=t[2],n[7]=t[5],n[8]=t[8],n):new s(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},s.fromQuaternion=function(t,n){var e=t.x*t.x,a=t.x*t.y,i=t.x*t.z,u=t.x*t.w,o=t.y*t.y,l=t.y*t.z,f=t.y*t.w,c=t.z*t.z,d=t.z*t.w,h=t.w*t.w,m=e-o-c+h,y=2*(a-d),M=2*(i+f),C=2*(a+d),p=-e+o-c+h,x=2*(l-u),b=2*(i-f),O=2*(l+u),v=-e-o+c+h;return r.defined(n)?(n[0]=m,n[1]=C,n[2]=b,n[3]=y,n[4]=p,n[5]=O,n[6]=M,n[7]=x,n[8]=v,n):new s(m,y,M,C,p,x,b,O,v)},s.fromHeadingPitchRoll=function(t,n){var e=Math.cos(-t.pitch),a=Math.cos(-t.heading),i=Math.cos(t.roll),u=Math.sin(-t.pitch),o=Math.sin(-t.heading),l=Math.sin(t.roll),f=e*a,c=-i*o+l*u*a,d=l*o+i*u*a,h=e*o,m=i*a+l*u*o,y=-l*a+i*u*o,M=-u,C=l*e,p=i*e;return r.defined(n)?(n[0]=f,n[1]=h,n[2]=M,n[3]=c,n[4]=m,n[5]=C,n[6]=d,n[7]=y,n[8]=p,n):new s(f,c,d,h,m,y,M,C,p)},s.fromScale=function(t,n){return r.defined(n)?(n[0]=t.x,n[1]=0,n[2]=0,n[3]=0,n[4]=t.y,n[5]=0,n[6]=0,n[7]=0,n[8]=t.z,n):new s(t.x,0,0,0,t.y,0,0,0,t.z)},s.fromUniformScale=function(t,n){return r.defined(n)?(n[0]=t,n[1]=0,n[2]=0,n[3]=0,n[4]=t,n[5]=0,n[6]=0,n[7]=0,n[8]=t,n):new s(t,0,0,0,t,0,0,0,t)},s.fromCrossProduct=function(t,n){return r.defined(n)?(n[0]=0,n[1]=t.z,n[2]=-t.y,n[3]=-t.z,n[4]=0,n[5]=t.x,n[6]=t.y,n[7]=-t.x,n[8]=0,n):new s(0,-t.z,t.y,t.z,0,-t.x,-t.y,t.x,0)},s.fromRotationX=function(t,n){var e=Math.cos(t),a=Math.sin(t);return r.defined(n)?(n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=e,n[5]=a,n[6]=0,n[7]=-a,n[8]=e,n):new s(1,0,0,0,e,-a,0,a,e)},s.fromRotationY=function(t,n){var e=Math.cos(t),a=Math.sin(t);return r.defined(n)?(n[0]=e,n[1]=0,n[2]=-a,n[3]=0,n[4]=1,n[5]=0,n[6]=a,n[7]=0,n[8]=e,n):new s(e,0,a,0,1,0,-a,0,e)},s.fromRotationZ=function(t,n){var e=Math.cos(t),a=Math.sin(t);return r.defined(n)?(n[0]=e,n[1]=a,n[2]=0,n[3]=-a,n[4]=e,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new s(e,-a,0,a,e,0,0,0,1)},s.toArray=function(t,n){return r.defined(n)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n):[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},s.getElementIndex=function(t,n){return 3*t+n},s.getColumn=function(t,n,e){var a=3*n,r=t[a],i=t[a+1],u=t[a+2];return e.x=r,e.y=i,e.z=u,e},s.setColumn=function(t,n,e,a){var r=3*n;return(a=s.clone(t,a))[r]=e.x,a[r+1]=e.y,a[r+2]=e.z,a},s.getRow=function(t,n,e){var a=t[n],r=t[n+3],i=t[n+6];return e.x=a,e.y=r,e.z=i,e},s.setRow=function(t,n,e,a){return(a=s.clone(t,a))[n]=e.x,a[n+3]=e.y,a[n+6]=e.z,a};var l=new n.Cartesian3;s.getScale=function(t,e){return e.x=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[0],t[1],t[2],l)),e.y=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[3],t[4],t[5],l)),e.z=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[6],t[7],t[8],l)),e};var f=new n.Cartesian3;s.getMaximumScale=function(t){return s.getScale(t,f),n.Cartesian3.maximumComponent(f)},s.multiply=function(t,n,e){var a=t[0]*n[0]+t[3]*n[1]+t[6]*n[2],r=t[1]*n[0]+t[4]*n[1]+t[7]*n[2],i=t[2]*n[0]+t[5]*n[1]+t[8]*n[2],u=t[0]*n[3]+t[3]*n[4]+t[6]*n[5],o=t[1]*n[3]+t[4]*n[4]+t[7]*n[5],s=t[2]*n[3]+t[5]*n[4]+t[8]*n[5],l=t[0]*n[6]+t[3]*n[7]+t[6]*n[8],f=t[1]*n[6]+t[4]*n[7]+t[7]*n[8],c=t[2]*n[6]+t[5]*n[7]+t[8]*n[8];return e[0]=a,e[1]=r,e[2]=i,e[3]=u,e[4]=o,e[5]=s,e[6]=l,e[7]=f,e[8]=c,e},s.add=function(t,n,e){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},s.subtract=function(t,n,e){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e},s.multiplyByVector=function(t,n,e){var a=n.x,r=n.y,i=n.z,u=t[0]*a+t[3]*r+t[6]*i,o=t[1]*a+t[4]*r+t[7]*i,s=t[2]*a+t[5]*r+t[8]*i;return e.x=u,e.y=o,e.z=s,e},s.multiplyByScalar=function(t,n,e){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},s.multiplyByScale=function(t,n,e){return e[0]=t[0]*n.x,e[1]=t[1]*n.x,e[2]=t[2]*n.x,e[3]=t[3]*n.y,e[4]=t[4]*n.y,e[5]=t[5]*n.y,e[6]=t[6]*n.z,e[7]=t[7]*n.z,e[8]=t[8]*n.z,e},s.negate=function(t,n){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=-t[3],n[4]=-t[4],n[5]=-t[5],n[6]=-t[6],n[7]=-t[7],n[8]=-t[8],n},s.transpose=function(t,n){var e=t[0],a=t[3],r=t[6],i=t[1],u=t[4],o=t[7],s=t[2],l=t[5],f=t[8];return n[0]=e,n[1]=a,n[2]=r,n[3]=i,n[4]=u,n[5]=o,n[6]=s,n[7]=l,n[8]=f,n};var c=new n.Cartesian3(1,1,1);s.getRotation=function(t,e){var a=n.Cartesian3.divideComponents(c,s.getScale(t,f),f);return e=s.multiplyByScale(t,a,e)};var d=[1,0,0],h=[2,2,1];function m(t){for(var n=0,e=0;e<3;++e){var a=t[s.getElementIndex(h[e],d[e])];n+=2*a*a}return Math.sqrt(n)}function y(t,n){for(var e=i.CesiumMath.EPSILON15,a=0,r=1,u=0;u<3;++u){var o=Math.abs(t[s.getElementIndex(h[u],d[u])]);o>a&&(r=u,a=o)}var l=1,f=0,c=d[r],m=h[r];if(Math.abs(t[s.getElementIndex(m,c)])>e){var y,M=(t[s.getElementIndex(m,m)]-t[s.getElementIndex(c,c)])/2/t[s.getElementIndex(m,c)];f=(y=M<0?-1/(-M+Math.sqrt(1+M*M)):1/(M+Math.sqrt(1+M*M)))*(l=1/Math.sqrt(1+y*y))}return(n=s.clone(s.IDENTITY,n))[s.getElementIndex(c,c)]=n[s.getElementIndex(m,m)]=l,n[s.getElementIndex(m,c)]=f,n[s.getElementIndex(c,m)]=-f,n}var M=new s,C=new s;function p(t,n,e,a,i,u,o,s,l,f,c,d,h,m,y,M){this[0]=r.defaultValue(t,0),this[1]=r.defaultValue(i,0),this[2]=r.defaultValue(l,0),this[3]=r.defaultValue(h,0),this[4]=r.defaultValue(n,0),this[5]=r.defaultValue(u,0),this[6]=r.defaultValue(f,0),this[7]=r.defaultValue(m,0),this[8]=r.defaultValue(e,0),this[9]=r.defaultValue(o,0),this[10]=r.defaultValue(c,0),this[11]=r.defaultValue(y,0),this[12]=r.defaultValue(a,0),this[13]=r.defaultValue(s,0),this[14]=r.defaultValue(d,0),this[15]=r.defaultValue(M,0)}s.computeEigenDecomposition=function(t,n){var e=i.CesiumMath.EPSILON20,a=0,u=0;r.defined(n)||(n={});for(var o=n.unitary=s.clone(s.IDENTITY,n.unitary),l=n.diagonal=s.clone(t,n.diagonal),f=e*function(t){for(var n=0,e=0;e<9;++e){var a=t[e];n+=a*a}return Math.sqrt(n)}(l);u<10&&m(l)>f;)y(l,M),s.transpose(M,C),s.multiply(l,M,l),s.multiply(C,l,l),s.multiply(o,M,o),++a>2&&(++u,a=0);return n},s.abs=function(t,n){return n[0]=Math.abs(t[0]),n[1]=Math.abs(t[1]),n[2]=Math.abs(t[2]),n[3]=Math.abs(t[3]),n[4]=Math.abs(t[4]),n[5]=Math.abs(t[5]),n[6]=Math.abs(t[6]),n[7]=Math.abs(t[7]),n[8]=Math.abs(t[8]),n},s.determinant=function(t){var n=t[0],e=t[3],a=t[6],r=t[1],i=t[4],u=t[7],o=t[2],s=t[5],l=t[8];return n*(i*l-s*u)+r*(s*a-e*l)+o*(e*u-i*a)},s.inverse=function(t,n){var e=t[0],a=t[1],r=t[2],i=t[3],u=t[4],o=t[5],l=t[6],f=t[7],c=t[8],d=s.determinant(t);n[0]=u*c-f*o,n[1]=f*r-a*c,n[2]=a*o-u*r,n[3]=l*o-i*c,n[4]=e*c-l*r,n[5]=i*r-e*o,n[6]=i*f-l*u,n[7]=l*a-e*f,n[8]=e*u-i*a;var h=1/d;return s.multiplyByScalar(n,h,n)},s.equals=function(t,n){return t===n||r.defined(t)&&r.defined(n)&&t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},s.equalsEpsilon=function(t,n,e){return t===n||r.defined(t)&&r.defined(n)&&Math.abs(t[0]-n[0])<=e&&Math.abs(t[1]-n[1])<=e&&Math.abs(t[2]-n[2])<=e&&Math.abs(t[3]-n[3])<=e&&Math.abs(t[4]-n[4])<=e&&Math.abs(t[5]-n[5])<=e&&Math.abs(t[6]-n[6])<=e&&Math.abs(t[7]-n[7])<=e&&Math.abs(t[8]-n[8])<=e},s.IDENTITY=Object.freeze(new s(1,0,0,0,1,0,0,0,1)),s.ZERO=Object.freeze(new s(0,0,0,0,0,0,0,0,0)),s.COLUMN0ROW0=0,s.COLUMN0ROW1=1,s.COLUMN0ROW2=2,s.COLUMN1ROW0=3,s.COLUMN1ROW1=4,s.COLUMN1ROW2=5,s.COLUMN2ROW0=6,s.COLUMN2ROW1=7,s.COLUMN2ROW2=8,Object.defineProperties(s.prototype,{length:{get:function(){return s.packedLength}}}),s.prototype.clone=function(t){return s.clone(this,t)},s.prototype.equals=function(t){return s.equals(this,t)},s.equalsArray=function(t,n,e){return t[0]===n[e]&&t[1]===n[e+1]&&t[2]===n[e+2]&&t[3]===n[e+3]&&t[4]===n[e+4]&&t[5]===n[e+5]&&t[6]===n[e+6]&&t[7]===n[e+7]&&t[8]===n[e+8]},s.prototype.equalsEpsilon=function(t,n){return s.equalsEpsilon(this,t,n)},s.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},p.packedLength=16,p.pack=function(t,n,e){return e=r.defaultValue(e,0),n[e++]=t[0],n[e++]=t[1],n[e++]=t[2],n[e++]=t[3],n[e++]=t[4],n[e++]=t[5],n[e++]=t[6],n[e++]=t[7],n[e++]=t[8],n[e++]=t[9],n[e++]=t[10],n[e++]=t[11],n[e++]=t[12],n[e++]=t[13],n[e++]=t[14],n[e]=t[15],n},p.unpack=function(t,n,e){return n=r.defaultValue(n,0),r.defined(e)||(e=new p),e[0]=t[n++],e[1]=t[n++],e[2]=t[n++],e[3]=t[n++],e[4]=t[n++],e[5]=t[n++],e[6]=t[n++],e[7]=t[n++],e[8]=t[n++],e[9]=t[n++],e[10]=t[n++],e[11]=t[n++],e[12]=t[n++],e[13]=t[n++],e[14]=t[n++],e[15]=t[n],e},p.clone=function(t,n){if(r.defined(t))return r.defined(n)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n):new p(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15])},p.fromArray=p.unpack,p.fromColumnMajorArray=function(t,n){return p.clone(t,n)},p.fromRowMajorArray=function(t,n){return r.defined(n)?(n[0]=t[0],n[1]=t[4],n[2]=t[8],n[3]=t[12],n[4]=t[1],n[5]=t[5],n[6]=t[9],n[7]=t[13],n[8]=t[2],n[9]=t[6],n[10]=t[10],n[11]=t[14],n[12]=t[3],n[13]=t[7],n[14]=t[11],n[15]=t[15],n):new p(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},p.fromRotationTranslation=function(t,e,a){return e=r.defaultValue(e,n.Cartesian3.ZERO),r.defined(a)?(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=0,a[4]=t[3],a[5]=t[4],a[6]=t[5],a[7]=0,a[8]=t[6],a[9]=t[7],a[10]=t[8],a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,a):new p(t[0],t[3],t[6],e.x,t[1],t[4],t[7],e.y,t[2],t[5],t[8],e.z,0,0,0,1)},p.fromTranslationQuaternionRotationScale=function(t,n,e,a){r.defined(a)||(a=new p);var i=e.x,u=e.y,o=e.z,s=n.x*n.x,l=n.x*n.y,f=n.x*n.z,c=n.x*n.w,d=n.y*n.y,h=n.y*n.z,m=n.y*n.w,y=n.z*n.z,M=n.z*n.w,C=n.w*n.w,x=s-d-y+C,b=2*(l-M),O=2*(f+m),v=2*(l+M),w=-s+d-y+C,z=2*(h-c),R=2*(f-m),L=2*(h+c),E=-s-d+y+C;return a[0]=x*i,a[1]=v*i,a[2]=R*i,a[3]=0,a[4]=b*u,a[5]=w*u,a[6]=L*u,a[7]=0,a[8]=O*o,a[9]=z*o,a[10]=E*o,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,a},p.fromTranslationRotationScale=function(t,n){return p.fromTranslationQuaternionRotationScale(t.translation,t.rotation,t.scale,n)},p.fromTranslation=function(t,n){return p.fromRotationTranslation(s.IDENTITY,t,n)},p.fromScale=function(t,n){return r.defined(n)?(n[0]=t.x,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=t.y,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=t.z,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new p(t.x,0,0,0,0,t.y,0,0,0,0,t.z,0,0,0,0,1)},p.fromUniformScale=function(t,n){return r.defined(n)?(n[0]=t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=t,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=t,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new p(t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1)};var x=new n.Cartesian3,b=new n.Cartesian3,O=new n.Cartesian3;p.fromCamera=function(t,e){var a=t.position,i=t.direction,u=t.up;n.Cartesian3.normalize(i,x),n.Cartesian3.normalize(n.Cartesian3.cross(x,u,b),b),n.Cartesian3.normalize(n.Cartesian3.cross(b,x,O),O);var o=b.x,s=b.y,l=b.z,f=x.x,c=x.y,d=x.z,h=O.x,m=O.y,y=O.z,M=a.x,C=a.y,v=a.z,w=o*-M+s*-C+l*-v,z=h*-M+m*-C+y*-v,R=f*M+c*C+d*v;return r.defined(e)?(e[0]=o,e[1]=h,e[2]=-f,e[3]=0,e[4]=s,e[5]=m,e[6]=-c,e[7]=0,e[8]=l,e[9]=y,e[10]=-d,e[11]=0,e[12]=w,e[13]=z,e[14]=R,e[15]=1,e):new p(o,s,l,w,h,m,y,z,-f,-c,-d,R,0,0,0,1)},p.computePerspectiveFieldOfView=function(t,n,e,a,r){var i=1/Math.tan(.5*t),u=i/n,o=(a+e)/(e-a),s=2*a*e/(e-a);return r[0]=u,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=o,r[11]=-1,r[12]=0,r[13]=0,r[14]=s,r[15]=0,r},p.computeOrthographicOffCenter=function(t,n,e,a,r,i,u){var o=1/(n-t),s=1/(a-e),l=1/(i-r),f=-(n+t)*o,c=-(a+e)*s,d=-(i+r)*l;return o*=2,s*=2,l*=-2,u[0]=o,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l,u[11]=0,u[12]=f,u[13]=c,u[14]=d,u[15]=1,u},p.computePerspectiveOffCenter=function(t,n,e,a,r,i,u){var o=2*r/(n-t),s=2*r/(a-e),l=(n+t)/(n-t),f=(a+e)/(a-e),c=-(i+r)/(i-r),d=-2*i*r/(i-r);return u[0]=o,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s,u[6]=0,u[7]=0,u[8]=l,u[9]=f,u[10]=c,u[11]=-1,u[12]=0,u[13]=0,u[14]=d,u[15]=0,u},p.computeInfinitePerspectiveOffCenter=function(t,n,e,a,r,i){var u=2*r/(n-t),o=2*r/(a-e),s=(n+t)/(n-t),l=(a+e)/(a-e),f=-2*r;return i[0]=u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=o,i[6]=0,i[7]=0,i[8]=s,i[9]=l,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=f,i[15]=0,i},p.computeViewportTransformation=function(t,n,e,a){t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT);var i=r.defaultValue(t.x,0),u=r.defaultValue(t.y,0),o=r.defaultValue(t.width,0),s=r.defaultValue(t.height,0);n=r.defaultValue(n,0);var l=.5*o,f=.5*s,c=.5*((e=r.defaultValue(e,1))-n),d=l,h=f,m=c,y=i+l,M=u+f,C=n+c;return a[0]=d,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=h,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=m,a[11]=0,a[12]=y,a[13]=M,a[14]=C,a[15]=1,a},p.computeView=function(t,e,a,r,i){return i[0]=r.x,i[1]=a.x,i[2]=-e.x,i[3]=0,i[4]=r.y,i[5]=a.y,i[6]=-e.y,i[7]=0,i[8]=r.z,i[9]=a.z,i[10]=-e.z,i[11]=0,i[12]=-n.Cartesian3.dot(r,t),i[13]=-n.Cartesian3.dot(a,t),i[14]=n.Cartesian3.dot(e,t),i[15]=1,i},p.toArray=function(t,n){return r.defined(n)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n):[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},p.getElementIndex=function(t,n){return 4*t+n},p.getColumn=function(t,n,e){var a=4*n,r=t[a],i=t[a+1],u=t[a+2],o=t[a+3];return e.x=r,e.y=i,e.z=u,e.w=o,e},p.setColumn=function(t,n,e,a){var r=4*n;return(a=p.clone(t,a))[r]=e.x,a[r+1]=e.y,a[r+2]=e.z,a[r+3]=e.w,a},p.setTranslation=function(t,n,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=n.x,e[13]=n.y,e[14]=n.z,e[15]=t[15],e};var v=new n.Cartesian3;p.setScale=function(t,e,a){var r=p.getScale(t,v),i=n.Cartesian3.divideComponents(e,r,v);return p.multiplyByScale(t,i,a)},p.getRow=function(t,n,e){var a=t[n],r=t[n+4],i=t[n+8],u=t[n+12];return e.x=a,e.y=r,e.z=i,e.w=u,e},p.setRow=function(t,n,e,a){return(a=p.clone(t,a))[n]=e.x,a[n+4]=e.y,a[n+8]=e.z,a[n+12]=e.w,a};var w=new n.Cartesian3;p.getScale=function(t,e){return e.x=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[0],t[1],t[2],w)),e.y=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[4],t[5],t[6],w)),e.z=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[8],t[9],t[10],w)),e};var z=new n.Cartesian3;p.getMaximumScale=function(t){return p.getScale(t,z),n.Cartesian3.maximumComponent(z)},p.multiply=function(t,n,e){var a=t[0],r=t[1],i=t[2],u=t[3],o=t[4],s=t[5],l=t[6],f=t[7],c=t[8],d=t[9],h=t[10],m=t[11],y=t[12],M=t[13],C=t[14],p=t[15],x=n[0],b=n[1],O=n[2],v=n[3],w=n[4],z=n[5],R=n[6],L=n[7],E=n[8],g=n[9],N=n[10],I=n[11],S=n[12],V=n[13],T=n[14],W=n[15],P=a*x+o*b+c*O+y*v,U=r*x+s*b+d*O+M*v,A=i*x+l*b+h*O+C*v,q=u*x+f*b+m*O+p*v,B=a*w+o*z+c*R+y*L,G=r*w+s*z+d*R+M*L,_=i*w+l*z+h*R+C*L,j=u*w+f*z+m*R+p*L,k=a*E+o*g+c*N+y*I,Y=r*E+s*g+d*N+M*I,D=i*E+l*g+h*N+C*I,F=u*E+f*g+m*N+p*I,Z=a*S+o*V+c*T+y*W,Q=r*S+s*V+d*T+M*W,H=i*S+l*V+h*T+C*W,J=u*S+f*V+m*T+p*W;return e[0]=P,e[1]=U,e[2]=A,e[3]=q,e[4]=B,e[5]=G,e[6]=_,e[7]=j,e[8]=k,e[9]=Y,e[10]=D,e[11]=F,e[12]=Z,e[13]=Q,e[14]=H,e[15]=J,e},p.add=function(t,n,e){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},p.subtract=function(t,n,e){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e},p.multiplyTransformation=function(t,n,e){var a=t[0],r=t[1],i=t[2],u=t[4],o=t[5],s=t[6],l=t[8],f=t[9],c=t[10],d=t[12],h=t[13],m=t[14],y=n[0],M=n[1],C=n[2],p=n[4],x=n[5],b=n[6],O=n[8],v=n[9],w=n[10],z=n[12],R=n[13],L=n[14],E=a*y+u*M+l*C,g=r*y+o*M+f*C,N=i*y+s*M+c*C,I=a*p+u*x+l*b,S=r*p+o*x+f*b,V=i*p+s*x+c*b,T=a*O+u*v+l*w,W=r*O+o*v+f*w,P=i*O+s*v+c*w,U=a*z+u*R+l*L+d,A=r*z+o*R+f*L+h,q=i*z+s*R+c*L+m;return e[0]=E,e[1]=g,e[2]=N,e[3]=0,e[4]=I,e[5]=S,e[6]=V,e[7]=0,e[8]=T,e[9]=W,e[10]=P,e[11]=0,e[12]=U,e[13]=A,e[14]=q,e[15]=1,e},p.multiplyByMatrix3=function(t,n,e){var a=t[0],r=t[1],i=t[2],u=t[4],o=t[5],s=t[6],l=t[8],f=t[9],c=t[10],d=n[0],h=n[1],m=n[2],y=n[3],M=n[4],C=n[5],p=n[6],x=n[7],b=n[8],O=a*d+u*h+l*m,v=r*d+o*h+f*m,w=i*d+s*h+c*m,z=a*y+u*M+l*C,R=r*y+o*M+f*C,L=i*y+s*M+c*C,E=a*p+u*x+l*b,g=r*p+o*x+f*b,N=i*p+s*x+c*b;return e[0]=O,e[1]=v,e[2]=w,e[3]=0,e[4]=z,e[5]=R,e[6]=L,e[7]=0,e[8]=E,e[9]=g,e[10]=N,e[11]=0,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},p.multiplyByTranslation=function(t,n,e){var a=n.x,r=n.y,i=n.z,u=a*t[0]+r*t[4]+i*t[8]+t[12],o=a*t[1]+r*t[5]+i*t[9]+t[13],s=a*t[2]+r*t[6]+i*t[10]+t[14];return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=u,e[13]=o,e[14]=s,e[15]=t[15],e};var R=new n.Cartesian3;p.multiplyByUniformScale=function(t,n,e){return R.x=n,R.y=n,R.z=n,p.multiplyByScale(t,R,e)},p.multiplyByScale=function(t,n,e){var a=n.x,r=n.y,i=n.z;return 1===a&&1===r&&1===i?p.clone(t,e):(e[0]=a*t[0],e[1]=a*t[1],e[2]=a*t[2],e[3]=0,e[4]=r*t[4],e[5]=r*t[5],e[6]=r*t[6],e[7]=0,e[8]=i*t[8],e[9]=i*t[9],e[10]=i*t[10],e[11]=0,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=1,e)},p.multiplyByVector=function(t,n,e){var a=n.x,r=n.y,i=n.z,u=n.w,o=t[0]*a+t[4]*r+t[8]*i+t[12]*u,s=t[1]*a+t[5]*r+t[9]*i+t[13]*u,l=t[2]*a+t[6]*r+t[10]*i+t[14]*u,f=t[3]*a+t[7]*r+t[11]*i+t[15]*u;return e.x=o,e.y=s,e.z=l,e.w=f,e},p.multiplyByPointAsVector=function(t,n,e){var a=n.x,r=n.y,i=n.z,u=t[0]*a+t[4]*r+t[8]*i,o=t[1]*a+t[5]*r+t[9]*i,s=t[2]*a+t[6]*r+t[10]*i;return e.x=u,e.y=o,e.z=s,e},p.multiplyByPoint=function(t,n,e){var a=n.x,r=n.y,i=n.z,u=t[0]*a+t[4]*r+t[8]*i+t[12],o=t[1]*a+t[5]*r+t[9]*i+t[13],s=t[2]*a+t[6]*r+t[10]*i+t[14];return e.x=u,e.y=o,e.z=s,e},p.multiplyByScalar=function(t,n,e){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},p.multiplyByPlane=function(t,a,r){var i=new p,u=new p;p.inverse(t,i),p.transpose(i,u);var o=new e.Cartesian4(a.normal.x,a.normal.y,a.normal.z,a.distance);p.multiplyByVector(u,o,o),r.normal.x=o.x,r.normal.y=o.y,r.normal.z=o.z;var s=n.Cartesian3.magnitude(r.normal);return n.Cartesian3.normalize(r.normal,r.normal),r.distance=o.w/s,r},p.negate=function(t,n){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=-t[3],n[4]=-t[4],n[5]=-t[5],n[6]=-t[6],n[7]=-t[7],n[8]=-t[8],n[9]=-t[9],n[10]=-t[10],n[11]=-t[11],n[12]=-t[12],n[13]=-t[13],n[14]=-t[14],n[15]=-t[15],n},p.transpose=function(t,n){var e=t[1],a=t[2],r=t[3],i=t[6],u=t[7],o=t[11];return n[0]=t[0],n[1]=t[4],n[2]=t[8],n[3]=t[12],n[4]=e,n[5]=t[5],n[6]=t[9],n[7]=t[13],n[8]=a,n[9]=i,n[10]=t[10],n[11]=t[14],n[12]=r,n[13]=u,n[14]=o,n[15]=t[15],n},p.abs=function(t,n){return n[0]=Math.abs(t[0]),n[1]=Math.abs(t[1]),n[2]=Math.abs(t[2]),n[3]=Math.abs(t[3]),n[4]=Math.abs(t[4]),n[5]=Math.abs(t[5]),n[6]=Math.abs(t[6]),n[7]=Math.abs(t[7]),n[8]=Math.abs(t[8]),n[9]=Math.abs(t[9]),n[10]=Math.abs(t[10]),n[11]=Math.abs(t[11]),n[12]=Math.abs(t[12]),n[13]=Math.abs(t[13]),n[14]=Math.abs(t[14]),n[15]=Math.abs(t[15]),n},p.equals=function(t,n){return t===n||r.defined(t)&&r.defined(n)&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[3]===n[3]&&t[7]===n[7]&&t[11]===n[11]&&t[15]===n[15]},p.equalsEpsilon=function(t,n,e){return t===n||r.defined(t)&&r.defined(n)&&Math.abs(t[0]-n[0])<=e&&Math.abs(t[1]-n[1])<=e&&Math.abs(t[2]-n[2])<=e&&Math.abs(t[3]-n[3])<=e&&Math.abs(t[4]-n[4])<=e&&Math.abs(t[5]-n[5])<=e&&Math.abs(t[6]-n[6])<=e&&Math.abs(t[7]-n[7])<=e&&Math.abs(t[8]-n[8])<=e&&Math.abs(t[9]-n[9])<=e&&Math.abs(t[10]-n[10])<=e&&Math.abs(t[11]-n[11])<=e&&Math.abs(t[12]-n[12])<=e&&Math.abs(t[13]-n[13])<=e&&Math.abs(t[14]-n[14])<=e&&Math.abs(t[15]-n[15])<=e},p.getTranslation=function(t,n){return n.x=t[12],n.y=t[13],n.z=t[14],n},p.getMatrix3=function(t,n){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[4],n[4]=t[5],n[5]=t[6],n[6]=t[8],n[7]=t[9],n[8]=t[10],n},p.getRotation=function(t,n){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[4],n[4]=t[5],n[5]=t[6],n[6]=t[8],n[7]=t[9],n[8]=t[10],n};var L=new s,E=new s,g=new e.Cartesian4,N=new e.Cartesian4(0,0,0,1);p.inverse=function(t,n){var a=t[0],r=t[4],o=t[8],l=t[12],f=t[1],c=t[5],d=t[9],h=t[13],m=t[2],y=t[6],M=t[10],C=t[14],x=t[3],b=t[7],O=t[11],v=t[15],w=M*v,z=C*O,R=y*v,I=C*b,S=y*O,V=M*b,T=m*v,W=C*x,P=m*O,U=M*x,A=m*b,q=y*x,B=w*c+I*d+S*h-(z*c+R*d+V*h),G=z*f+T*d+U*h-(w*f+W*d+P*h),_=R*f+W*c+A*h-(I*f+T*c+q*h),j=V*f+P*c+q*d-(S*f+U*c+A*d),k=z*r+R*o+V*l-(w*r+I*o+S*l),Y=w*a+W*o+P*l-(z*a+T*o+U*l),D=I*a+T*r+q*l-(R*a+W*r+A*l),F=S*a+U*r+A*o-(V*a+P*r+q*o),Z=(w=o*h)*b+(I=l*c)*O+(S=r*d)*v-((z=l*d)*b+(R=r*h)*O+(V=o*c)*v),Q=z*x+(T=a*h)*O+(U=o*f)*v-(w*x+(W=l*f)*O+(P=a*d)*v),H=R*x+W*b+(A=a*c)*v-(I*x+T*b+(q=r*f)*v),J=V*x+P*b+q*O-(S*x+U*b+A*O),X=R*M+V*C+z*y-(S*C+w*y+I*M),K=P*C+w*m+W*M-(T*M+U*C+z*m),$=T*y+q*C+I*m-(A*C+R*m+W*y),tt=A*M+S*m+U*y-(P*y+q*M+V*m),nt=a*B+r*G+o*_+l*j;if(Math.abs(nt)<i.CesiumMath.EPSILON21){if(s.equalsEpsilon(p.getRotation(t,L),E,i.CesiumMath.EPSILON5)&&e.Cartesian4.equals(p.getRow(t,3,g),N))return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=-t[12],n[13]=-t[13],n[14]=-t[14],n[15]=1,n;throw new u.RuntimeError("matrix is not invertible because its determinate is zero.")}return nt=1/nt,n[0]=B*nt,n[1]=G*nt,n[2]=_*nt,n[3]=j*nt,n[4]=k*nt,n[5]=Y*nt,n[6]=D*nt,n[7]=F*nt,n[8]=Z*nt,n[9]=Q*nt,n[10]=H*nt,n[11]=J*nt,n[12]=X*nt,n[13]=K*nt,n[14]=$*nt,n[15]=tt*nt,n},p.inverseTransformation=function(t,n){var e=t[0],a=t[1],r=t[2],i=t[4],u=t[5],o=t[6],s=t[8],l=t[9],f=t[10],c=t[12],d=t[13],h=t[14],m=-e*c-a*d-r*h,y=-i*c-u*d-o*h,M=-s*c-l*d-f*h;return n[0]=e,n[1]=i,n[2]=s,n[3]=0,n[4]=a,n[5]=u,n[6]=l,n[7]=0,n[8]=r,n[9]=o,n[10]=f,n[11]=0,n[12]=m,n[13]=y,n[14]=M,n[15]=1,n},p.IDENTITY=Object.freeze(new p(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),p.ZERO=Object.freeze(new p(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),p.COLUMN0ROW0=0,p.COLUMN0ROW1=1,p.COLUMN0ROW2=2,p.COLUMN0ROW3=3,p.COLUMN1ROW0=4,p.COLUMN1ROW1=5,p.COLUMN1ROW2=6,p.COLUMN1ROW3=7,p.COLUMN2ROW0=8,p.COLUMN2ROW1=9,p.COLUMN2ROW2=10,p.COLUMN2ROW3=11,p.COLUMN3ROW0=12,p.COLUMN3ROW1=13,p.COLUMN3ROW2=14,p.COLUMN3ROW3=15,Object.defineProperties(p.prototype,{length:{get:function(){return p.packedLength}}}),p.prototype.clone=function(t){return p.clone(this,t)},p.prototype.equals=function(t){return p.equals(this,t)},p.equalsArray=function(t,n,e){return t[0]===n[e]&&t[1]===n[e+1]&&t[2]===n[e+2]&&t[3]===n[e+3]&&t[4]===n[e+4]&&t[5]===n[e+5]&&t[6]===n[e+6]&&t[7]===n[e+7]&&t[8]===n[e+8]&&t[9]===n[e+9]&&t[10]===n[e+10]&&t[11]===n[e+11]&&t[12]===n[e+12]&&t[13]===n[e+13]&&t[14]===n[e+14]&&t[15]===n[e+15]},p.prototype.equalsEpsilon=function(t,n){return p.equalsEpsilon(this,t,n)},p.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};var I={POINTS:o.WebGLConstants.POINTS,LINES:o.WebGLConstants.LINES,LINE_LOOP:o.WebGLConstants.LINE_LOOP,LINE_STRIP:o.WebGLConstants.LINE_STRIP,TRIANGLES:o.WebGLConstants.TRIANGLES,TRIANGLE_STRIP:o.WebGLConstants.TRIANGLE_STRIP,TRIANGLE_FAN:o.WebGLConstants.TRIANGLE_FAN,validate:function(t){return t===I.POINTS||t===I.LINES||t===I.LINE_LOOP||t===I.LINE_STRIP||t===I.TRIANGLES||t===I.TRIANGLE_STRIP||t===I.TRIANGLE_FAN}},S=Object.freeze(I);t.Matrix3=s,t.Matrix4=p,t.PrimitiveType=S}));
